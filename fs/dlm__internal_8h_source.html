<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: dlm/dlm_internal.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dlm__internal_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">dlm_internal.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="dlm__internal_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/******************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">*******************************************************************************</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">**  Copyright (C) Sistina Software, Inc.  1997-2003  All rights reserved.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">**  Copyright (C) 2004-2011 Red Hat, Inc.  All rights reserved.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">**  This copyrighted material is made available to anyone wishing to use,</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">**  modify, copy, or redistribute it subject to the terms and conditions</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">**  of the GNU General Public License v.2.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">*******************************************************************************</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">******************************************************************************/</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifndef __DLM_INTERNAL_DOT_H__</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#define __DLM_INTERNAL_DOT_H__</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * This is the main header file to be included in each DLM source file.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;linux/slab.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;linux/sched.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;linux/types.h&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;linux/ctype.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;linux/spinlock.h&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;linux/vmalloc.h&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;linux/list.h&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;linux/errno.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;linux/random.h&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;linux/delay.h&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;linux/socket.h&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;linux/kthread.h&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;linux/kobject.h&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;linux/kref.h&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;linux/kernel.h&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;linux/jhash.h&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;linux/miscdevice.h&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;linux/mutex.h&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;linux/idr.h&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;linux/ratelimit.h&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;linux/uaccess.h&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;linux/dlm.h&gt;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="config_8h.html">config.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/* Size of the temp buffer midcomms allocates on the stack.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">   We try to make this large enough so most messages fit.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">   FIXME: should sctp make this unnecessary? */</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a93d7f61f8285885eb6c9b8a792abe14b">   50</a></span>&#160;<span class="preprocessor">#define DLM_INBUF_LEN       148</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__ls.html">dlm_ls</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lkb.html">dlm_lkb</a>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__rsb.html">dlm_rsb</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__member.html">dlm_member</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__rsbtable.html">dlm_rsbtable</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__recover.html">dlm_recover</a>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__header.html">dlm_header</a>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__message.html">dlm_message</a>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__rcom.html">dlm_rcom</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">struct </span>dlm_mhandle;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#af91702764fa5ea8613336e779f98d22f">   63</a></span>&#160;<span class="preprocessor">#define log_print(fmt, args...) \</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">    printk(KERN_ERR &quot;dlm: &quot;fmt&quot;\n&quot; , ##args)</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a6c05e59b6fe06fc0a9840532764ca482">   65</a></span>&#160;<span class="preprocessor">#define log_error(ls, fmt, args...) \</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">    printk(KERN_ERR &quot;dlm: %s: &quot; fmt &quot;\n&quot;, (ls)-&gt;ls_name , ##args)</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a8b9eede3e61f6cf4baa67ba2ed1c57d3">   68</a></span>&#160;<span class="preprocessor">#define log_rinfo(ls, fmt, args...) \</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">do { \</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">    if (dlm_config.ci_log_info) \</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">        printk(KERN_INFO &quot;dlm: %s: &quot; fmt &quot;\n&quot;, \</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">            (ls)-&gt;ls_name, ##args); \</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">    else if (dlm_config.ci_log_debug) \</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">        printk(KERN_DEBUG &quot;dlm: %s: &quot; fmt &quot;\n&quot;, \</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">               (ls)-&gt;ls_name , ##args); \</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">} while (0)</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ab936dd650fb186f80591806a9f893d84">   78</a></span>&#160;<span class="preprocessor">#define log_debug(ls, fmt, args...) \</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">do { \</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">    if (dlm_config.ci_log_debug) \</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">        printk(KERN_DEBUG &quot;dlm: %s: &quot; fmt &quot;\n&quot;, \</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">               (ls)-&gt;ls_name , ##args); \</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">} while (0)</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a0451a3436ccb470c794ee3d6dce68edb">   85</a></span>&#160;<span class="preprocessor">#define log_limit(ls, fmt, args...) \</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">do { \</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">    if (dlm_config.ci_log_debug) \</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">        printk_ratelimited(KERN_DEBUG &quot;dlm: %s: &quot; fmt &quot;\n&quot;, \</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">            (ls)-&gt;ls_name , ##args); \</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">} while (0)</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a9b6868a3a28e226d1fdd9b47dd798004">   92</a></span>&#160;<span class="preprocessor">#define DLM_ASSERT(x, do) \</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">{ \</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">  if (!(x)) \</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">  { \</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">    printk(KERN_ERR &quot;\nDLM:  Assertion failed on line %d of file %s\n&quot; \</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">               &quot;DLM:  assertion:  \&quot;%s\&quot;\n&quot; \</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">               &quot;DLM:  time = %lu\n&quot;, \</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">               __LINE__, __FILE__, #x, jiffies); \</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">    {do} \</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">    printk(&quot;\n&quot;); \</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">    BUG(); \</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">    panic(&quot;DLM:  Record message above and reboot.\n&quot;); \</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">  } \</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a1e06cf804a601ba2e152e31c0a348d98">  108</a></span>&#160;<span class="preprocessor">#define DLM_RTF_SHRINK      0x00000001</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structdlm__rsbtable.html">  110</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__rsbtable.html">dlm_rsbtable</a> {</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structdlm__rsbtable.html#a2d6b57f44632bac385c8209803d06b8d">  111</a></span>&#160;    <span class="keyword">struct </span>rb_root      <a class="code" href="structdlm__rsbtable.html#a2d6b57f44632bac385c8209803d06b8d">keep</a>;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structdlm__rsbtable.html#a5f8cb75c0350600f90a559ec7affe722">  112</a></span>&#160;    <span class="keyword">struct </span>rb_root      <a class="code" href="structdlm__rsbtable.html#a5f8cb75c0350600f90a559ec7affe722">toss</a>;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structdlm__rsbtable.html#ac94107f8570b146dd343b8cc7cc10dc2">  113</a></span>&#160;    spinlock_t      <a class="code" href="structdlm__rsbtable.html#ac94107f8570b146dd343b8cc7cc10dc2">lock</a>;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structdlm__rsbtable.html#a1e6bd6ec44dde6317237efddc75a0e25">  114</a></span>&#160;    uint32_t        <a class="code" href="structdlm__rsbtable.html#a1e6bd6ec44dde6317237efddc75a0e25">flags</a>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;};</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"> * Lockspace member (per node in a ls)</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structdlm__member.html">  122</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__member.html">dlm_member</a> {</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structdlm__member.html#a012be3d9e31c501fd184973d92112acd">  123</a></span>&#160;    <span class="keyword">struct </span>list_head    <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structdlm__member.html#aa37ae17459352def82e5a2271377e36a">  124</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__member.html#aa37ae17459352def82e5a2271377e36a">nodeid</a>;</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structdlm__member.html#ac938bca2fb2915c57862a4a27e48a57d">  125</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__member.html#ac938bca2fb2915c57862a4a27e48a57d">weight</a>;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structdlm__member.html#a7e176cd29e569b5b337a10634c725933">  126</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__member.html#a7e176cd29e569b5b337a10634c725933">slot</a>;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="structdlm__member.html#aebdc5be59377ba7f65a6103faf03d6e7">  127</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__member.html#aebdc5be59377ba7f65a6103faf03d6e7">slot_prev</a>;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structdlm__member.html#a3f7e70da3138c1e68719c854c1a33eda">  128</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__member.html#a3f7e70da3138c1e68719c854c1a33eda">comm_seq</a>;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="structdlm__member.html#a710f524846bf0b4e27863f134114a6ba">  129</a></span>&#160;    uint32_t        <a class="code" href="structdlm__member.html#a710f524846bf0b4e27863f134114a6ba">generation</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;};</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"> * Save and manage recovery state for a lockspace.</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structdlm__recover.html">  136</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__recover.html">dlm_recover</a> {</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structdlm__recover.html#a90db3bd96b41e0a4f84f52f53b6eab21">  137</a></span>&#160;    <span class="keyword">struct </span>list_head    <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="structdlm__recover.html#a13286316c83d5e6389d5254d41069c8e">  138</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__config__node.html">dlm_config_node</a>  *<a class="code" href="structdlm__recover.html#a13286316c83d5e6389d5254d41069c8e">nodes</a>;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structdlm__recover.html#a2d55f88627ef577951080c3e8f17687c">  139</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__recover.html#a2d55f88627ef577951080c3e8f17687c">nodes_count</a>;</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structdlm__recover.html#a7db8e4458295e2c3c5562b3b368050bd">  140</a></span>&#160;    uint64_t        <a class="code" href="structdlm__recover.html#a7db8e4458295e2c3c5562b3b368050bd">seq</a>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;};</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"> * Pass input args to second stage locking function.</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structdlm__args.html">  147</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__args.html">dlm_args</a> {</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structdlm__args.html#a01f92432dad2da4bf31fd14f16f9b53f">  148</a></span>&#160;    uint32_t        <a class="code" href="structdlm__args.html#a01f92432dad2da4bf31fd14f16f9b53f">flags</a>;</div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structdlm__args.html#a90be3adc041b7e0f86c12fd8d52be7e5">  149</a></span>&#160;    void            (*astfn) (<span class="keywordtype">void</span> *astparam);</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structdlm__args.html#a59a5b4e5ae3c0126102c7f3725f5d052">  150</a></span>&#160;    <span class="keywordtype">void</span>            *<a class="code" href="structdlm__args.html#a59a5b4e5ae3c0126102c7f3725f5d052">astparam</a>;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structdlm__args.html#ae37a912b37621c2fa255c2abe9c97c22">  151</a></span>&#160;    void            (*bastfn) (<span class="keywordtype">void</span> *astparam, <span class="keywordtype">int</span> mode);</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structdlm__args.html#ac6297acfe6c599b6ce271f9e660ca1a6">  152</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__args.html#ac6297acfe6c599b6ce271f9e660ca1a6">mode</a>;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structdlm__args.html#a780acca0c57344053f3fab7f70a66cb7">  153</a></span>&#160;    <span class="keyword">struct </span>dlm_lksb     *<a class="code" href="structdlm__args.html#a780acca0c57344053f3fab7f70a66cb7">lksb</a>;</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="structdlm__args.html#aade775385b72a36df8ed408c81c29125">  154</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structdlm__args.html#aade775385b72a36df8ed408c81c29125">timeout</a>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;};</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"> * Lock block</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"> * A lock can be one of three types:</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"> * local copy      lock is mastered locally</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"> *                 (lkb_nodeid is zero and DLM_LKF_MSTCPY is not set)</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"> * process copy    lock is mastered on a remote node</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"> *                 (lkb_nodeid is non-zero and DLM_LKF_MSTCPY is not set)</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"> * master copy     master node&#39;s copy of a lock owned by remote node</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"> *                 (lkb_nodeid is non-zero and DLM_LKF_MSTCPY is set)</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"> * lkb_exflags: a copy of the most recent flags arg provided to dlm_lock or</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"> * dlm_unlock.  The dlm does not modify these or use any private flags in</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"> * this field; it only contains DLM_LKF_ flags from dlm.h.  These flags</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"> * are sent as-is to the remote master when the lock is remote.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"> * lkb_flags: internal dlm flags (DLM_IFL_ prefix) from dlm_internal.h.</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"> * Some internal flags are shared between the master and process nodes;</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"> * these shared flags are kept in the lower two bytes.  One of these</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"> * flags set on the master copy will be propagated to the process copy</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"> * and v.v.  Other internal flags are private to the master or process</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment"> * node (e.g. DLM_IFL_MSTCPY).  These are kept in the high two bytes.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"> * lkb_sbflags: status block flags.  These flags are copied directly into</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"> * the caller&#39;s lksb.sb_flags prior to the dlm_lock/dlm_unlock completion</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"> * ast.  All defined in dlm.h with DLM_SBF_ prefix.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"> * lkb_status: the lock status indicates which rsb queue the lock is</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"> * on, grant, convert, or wait.  DLM_LKSTS_ WAITING/GRANTED/CONVERT</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"> * lkb_wait_type: the dlm message type (DLM_MSG_ prefix) for which a</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> * reply is needed.  Only set when the lkb is on the lockspace waiters</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> * list awaiting a reply from a remote node.</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> * lkb_nodeid: when the lkb is a local copy, nodeid is 0; when the lkb</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"> * is a master copy, nodeid specifies the remote lock holder, when the</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"> * lkb is a process copy, the nodeid specifies the lock master.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/* lkb_status */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a59f0a692583dd63a3fe7d7bd4e56d747">  200</a></span>&#160;<span class="preprocessor">#define DLM_LKSTS_WAITING   1</span></div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a51e49e3d4c6cc7602ce766593cda237a">  201</a></span>&#160;<span class="preprocessor">#define DLM_LKSTS_GRANTED   2</span></div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a3e60c07e2e619c2616218d4cb4f7eb3a">  202</a></span>&#160;<span class="preprocessor">#define DLM_LKSTS_CONVERT   3</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/* lkb_flags */</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a869697add976e8ab1c11eb71ed271e06">  206</a></span>&#160;<span class="preprocessor">#define DLM_IFL_MSTCPY      0x00010000</span></div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aadc3c852940e6bcad9cf04b18a22ee92">  207</a></span>&#160;<span class="preprocessor">#define DLM_IFL_RESEND      0x00020000</span></div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a03f5108c8b0c081fa8f1e036374dfc11">  208</a></span>&#160;<span class="preprocessor">#define DLM_IFL_DEAD        0x00040000</span></div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a4ae77b9064c6a5b95d94d41c79d304b4">  209</a></span>&#160;<span class="preprocessor">#define DLM_IFL_OVERLAP_UNLOCK  0x00080000</span></div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a18d0d49de95a56253651cca031d4d743">  210</a></span>&#160;<span class="preprocessor">#define DLM_IFL_OVERLAP_CANCEL  0x00100000</span></div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a495d82eb654767015b9e4ac70d394458">  211</a></span>&#160;<span class="preprocessor">#define DLM_IFL_ENDOFLIFE   0x00200000</span></div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a635ef256545feac4b6c67aa7b06db544">  212</a></span>&#160;<span class="preprocessor">#define DLM_IFL_WATCH_TIMEWARN  0x00400000</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ace4720133e61f32fc11f1c0a9f6ed36a">  213</a></span>&#160;<span class="preprocessor">#define DLM_IFL_TIMEOUT_CANCEL  0x00800000</span></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a3df2a440c58bbb05e2eafe29af102698">  214</a></span>&#160;<span class="preprocessor">#define DLM_IFL_DEADLOCK_CANCEL 0x01000000</span></div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a0f830ac5efc2476d95fd33232e41bc03">  215</a></span>&#160;<span class="preprocessor">#define DLM_IFL_STUB_MS     0x02000000 </span><span class="comment">/* magic number for m_flags */</span><span class="preprocessor"></span></div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aa72ce5cc117e20c7b4f913d76aee297c">  216</a></span>&#160;<span class="preprocessor">#define DLM_IFL_USER        0x00000001</span></div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a37282180b53c7b66f0c486b4d1ec0afe">  217</a></span>&#160;<span class="preprocessor">#define DLM_IFL_ORPHAN      0x00000002</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a0436285f0c95b7b8282cfff47247aa4a">  219</a></span>&#160;<span class="preprocessor">#define DLM_CALLBACKS_SIZE  6</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ac75997e70d95ad136f1d2022abad3c48">  221</a></span>&#160;<span class="preprocessor">#define DLM_CB_CAST     0x00000001</span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a40e9ffa67f352634c3f1df1ddce3671d">  222</a></span>&#160;<span class="preprocessor">#define DLM_CB_BAST     0x00000002</span></div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#afbd930a99c535f3cc3c63ffcc05a0ec7">  223</a></span>&#160;<span class="preprocessor">#define DLM_CB_SKIP     0x00000004</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="structdlm__callback.html">  225</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__callback.html">dlm_callback</a> {</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="structdlm__callback.html#abc1bbd20f59287534adf4167ae065364">  226</a></span>&#160;    uint64_t        <a class="code" href="structdlm__callback.html#abc1bbd20f59287534adf4167ae065364">seq</a>;</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="structdlm__callback.html#a3b6dec0e62b7ab70f6f6a8259f2b3b7c">  227</a></span>&#160;    uint32_t        <a class="code" href="structdlm__callback.html#a3b6dec0e62b7ab70f6f6a8259f2b3b7c">flags</a>;      <span class="comment">/* DLM_CBF_ */</span></div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structdlm__callback.html#a7a2adebc6287db604d6ff4cfe38aadf8">  228</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__callback.html#a7a2adebc6287db604d6ff4cfe38aadf8">sb_status</a>;  <span class="comment">/* copy to lksb status */</span></div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="structdlm__callback.html#accac30274835f47e5c1e44b0621c9023">  229</a></span>&#160;    uint8_t         <a class="code" href="structdlm__callback.html#accac30274835f47e5c1e44b0621c9023">sb_flags</a>;   <span class="comment">/* copy to lksb flags */</span></div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structdlm__callback.html#a9fe5063f38645e55e73975bd3b4c03d4">  230</a></span>&#160;    int8_t          <a class="code" href="structdlm__callback.html#a9fe5063f38645e55e73975bd3b4c03d4">mode</a>; <span class="comment">/* rq mode of bast, gr mode of cast */</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;};</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="structdlm__lkb.html">  233</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lkb.html">dlm_lkb</a> {</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#ace655f57a22ca266744b85385080f8c7">  234</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__rsb.html">dlm_rsb</a>      *<a class="code" href="structdlm__lkb.html#ace655f57a22ca266744b85385080f8c7">lkb_resource</a>;  <span class="comment">/* the rsb */</span></div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a04cdc820f60c30f0d70cb3b9d9c6f9a8">  235</a></span>&#160;    <span class="keyword">struct </span>kref     lkb_ref;</div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a0c15c20ccc6453c6449d75172690d156">  236</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__lkb.html#a0c15c20ccc6453c6449d75172690d156">lkb_nodeid</a>; <span class="comment">/* copied from rsb */</span></div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#af17fcf8928dfe9e4f9d7414ef5c33f6d">  237</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__lkb.html#af17fcf8928dfe9e4f9d7414ef5c33f6d">lkb_ownpid</a>; <span class="comment">/* pid of lock owner */</span></div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#ae6e53ad9393a74e40aedce0b58717030">  238</a></span>&#160;    uint32_t        <a class="code" href="structdlm__lkb.html#ae6e53ad9393a74e40aedce0b58717030">lkb_id</a>;     <span class="comment">/* our lock ID */</span></div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a545f9f2ef58fcdc2855884ac8c5d7d98">  239</a></span>&#160;    uint32_t        <a class="code" href="structdlm__lkb.html#a545f9f2ef58fcdc2855884ac8c5d7d98">lkb_remid</a>;  <span class="comment">/* lock ID on remote partner */</span></div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#ab3e4672336a09e5f4f155842826e05f2">  240</a></span>&#160;    uint32_t        <a class="code" href="structdlm__lkb.html#ab3e4672336a09e5f4f155842826e05f2">lkb_exflags</a>;    <span class="comment">/* external flags from caller */</span></div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#ab58e58c74e4a991a77dcd35569fe9db2">  241</a></span>&#160;    uint32_t        <a class="code" href="structdlm__lkb.html#ab58e58c74e4a991a77dcd35569fe9db2">lkb_sbflags</a>;    <span class="comment">/* lksb flags */</span></div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#af7fbf905e31430eba6a76dfd118de66c">  242</a></span>&#160;    uint32_t        <a class="code" href="structdlm__lkb.html#af7fbf905e31430eba6a76dfd118de66c">lkb_flags</a>;  <span class="comment">/* internal flags */</span></div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a6c40a183c8f1002734af458843274517">  243</a></span>&#160;    uint32_t        <a class="code" href="structdlm__lkb.html#a6c40a183c8f1002734af458843274517">lkb_lvbseq</a>; <span class="comment">/* lvb sequence number */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#aea180120cef5044e495ba8f8d54217e5">  245</a></span>&#160;    int8_t          <a class="code" href="structdlm__lkb.html#aea180120cef5044e495ba8f8d54217e5">lkb_status</a>;     <span class="comment">/* granted, waiting, convert */</span></div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a7204e22095250cea77753dac313a6806">  246</a></span>&#160;    int8_t          <a class="code" href="structdlm__lkb.html#a7204e22095250cea77753dac313a6806">lkb_rqmode</a>; <span class="comment">/* requested lock mode */</span></div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#af8fb91f5f5eafd710ee62882fbd16ed8">  247</a></span>&#160;    int8_t          <a class="code" href="structdlm__lkb.html#af8fb91f5f5eafd710ee62882fbd16ed8">lkb_grmode</a>; <span class="comment">/* granted lock mode */</span></div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a4443b5eecc4d98d12b08294cc1c441e4">  248</a></span>&#160;    int8_t          <a class="code" href="structdlm__lkb.html#a4443b5eecc4d98d12b08294cc1c441e4">lkb_highbast</a>;   <span class="comment">/* highest mode bast sent for */</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#acd3f7113d7d8f502ee098f37599809de">  250</a></span>&#160;    int8_t          <a class="code" href="structdlm__lkb.html#acd3f7113d7d8f502ee098f37599809de">lkb_wait_type</a>;  <span class="comment">/* type of reply waiting for */</span></div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#ae316ed942a65a31420cbe58b75b1d9e5">  251</a></span>&#160;    int8_t          <a class="code" href="structdlm__lkb.html#ae316ed942a65a31420cbe58b75b1d9e5">lkb_wait_count</a>;</div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#aaf2fafba06b3411bcc0f6cfcaf4edcd6">  252</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__lkb.html#aaf2fafba06b3411bcc0f6cfcaf4edcd6">lkb_wait_nodeid</a>; <span class="comment">/* for debugging */</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a98c18dba2c4771324ac2989073914bc4">  254</a></span>&#160;    <span class="keyword">struct </span>list_head    lkb_statequeue; <span class="comment">/* rsb g/c/w list */</span></div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a3583269a68963bbb83e7d97b0f42d7e1">  255</a></span>&#160;    <span class="keyword">struct </span>list_head    lkb_rsb_lookup; <span class="comment">/* waiting for rsb lookup */</span></div><div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#ab1a904017d230e20a3f0b3c770ce422e">  256</a></span>&#160;    <span class="keyword">struct </span>list_head    lkb_wait_reply; <span class="comment">/* waiting for remote reply */</span></div><div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#ac8399b03c3bb8a9603fb4839835e31ed">  257</a></span>&#160;    <span class="keyword">struct </span>list_head    lkb_ownqueue;   <span class="comment">/* list of locks for a process */</span></div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a06b2eb85a7a485e1d828412e2d46afd7">  258</a></span>&#160;    <span class="keyword">struct </span>list_head    lkb_time_list;</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#acbf48f74746b9ed45f082312298b3566">  259</a></span>&#160;    ktime_t         <a class="code" href="structdlm__lkb.html#acbf48f74746b9ed45f082312298b3566">lkb_timestamp</a>;</div><div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a24563e6fca6d7d751c68bb6d890b2f51">  260</a></span>&#160;    ktime_t         <a class="code" href="structdlm__lkb.html#a24563e6fca6d7d751c68bb6d890b2f51">lkb_wait_time</a>;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#ac78ec893b6ba7b32ede798d4e4783068">  261</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structdlm__lkb.html#ac78ec893b6ba7b32ede798d4e4783068">lkb_timeout_cs</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a420f4073d6d944505de781732ede085d">  263</a></span>&#160;    <span class="keyword">struct </span>mutex        lkb_cb_mutex;</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#ac9c07f7f6a88f54f50c5b76f8f81d7a3">  264</a></span>&#160;    <span class="keyword">struct </span>work_struct  lkb_cb_work;</div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a1112426d872100177868729391c88de3">  265</a></span>&#160;    <span class="keyword">struct </span>list_head    lkb_cb_list; <span class="comment">/* for ls_cb_delay or proc-&gt;asts */</span></div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a88b0a566494ac47521410992a9053b0e">  266</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__callback.html">dlm_callback</a> lkb_callbacks[<a class="code" href="dlm__internal_8h.html#a0436285f0c95b7b8282cfff47247aa4a">DLM_CALLBACKS_SIZE</a>];</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a806fb9707b9faaa6876afda10755a4f8">  267</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__callback.html">dlm_callback</a> lkb_last_cast;</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a23ad4edf9a8af1d11734e4a93cf41b69">  268</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__callback.html">dlm_callback</a> lkb_last_bast;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a4809a74d62fbb558988fc444c687045c">  269</a></span>&#160;    ktime_t         <a class="code" href="structdlm__lkb.html#a4809a74d62fbb558988fc444c687045c">lkb_last_cast_time</a>; <span class="comment">/* for debugging */</span></div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a03da7088280ee8c2df13a0934b9f21ed">  270</a></span>&#160;    ktime_t         <a class="code" href="structdlm__lkb.html#a03da7088280ee8c2df13a0934b9f21ed">lkb_last_bast_time</a>; <span class="comment">/* for debugging */</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a7241130fe60c0112f45a96a7f1db7bf1">  272</a></span>&#160;    uint64_t        <a class="code" href="structdlm__lkb.html#a7241130fe60c0112f45a96a7f1db7bf1">lkb_recover_seq</a>; <span class="comment">/* from ls_recover_seq */</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a879c88a7db55e5bf37bf4f9755d0aafb">  274</a></span>&#160;    <span class="keywordtype">char</span>            *<a class="code" href="structdlm__lkb.html#a879c88a7db55e5bf37bf4f9755d0aafb">lkb_lvbptr</a>;</div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#abe3d2be497dc0651479cd19cacbc95b0">  275</a></span>&#160;    <span class="keyword">struct </span>dlm_lksb     *<a class="code" href="structdlm__lkb.html#abe3d2be497dc0651479cd19cacbc95b0">lkb_lksb</a>;      <span class="comment">/* caller&#39;s status block */</span></div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a041eb33c55c31b4860af960fafac38a4">  276</a></span>&#160;    void            (*lkb_astfn) (<span class="keywordtype">void</span> *astparam);</div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#af3c255b766b6a66e895946b896c22899">  277</a></span>&#160;    void            (*lkb_bastfn) (<span class="keywordtype">void</span> *astparam, <span class="keywordtype">int</span> mode);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#ac6aaebc43abbeeafca60127cdb472f7b">  279</a></span>&#160;        <span class="keywordtype">void</span>            *<a class="code" href="structdlm__lkb.html#ac6aaebc43abbeeafca60127cdb472f7b">lkb_astparam</a>;  <span class="comment">/* caller&#39;s ast arg */</span></div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="structdlm__lkb.html#a4198f67e4ee2d9d3a85dcecdfda676dd">  280</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structdlm__user__args.html">dlm_user_args</a>    *<a class="code" href="structdlm__lkb.html#a4198f67e4ee2d9d3a85dcecdfda676dd">lkb_ua</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    };</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;};</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"> * res_master_nodeid is &quot;normal&quot;: 0 is unset/invalid, non-zero is the real</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"> * nodeid, even when nodeid is our_nodeid.</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"> * res_nodeid is &quot;odd&quot;: -1 is unset/invalid, zero means our_nodeid,</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"> * greater than zero when another nodeid.</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment"> * (TODO: remove res_nodeid and only use res_master_nodeid)</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="structdlm__rsb.html">  294</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__rsb.html">dlm_rsb</a> {</div><div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#a6557560ad873acf480de5f53508f33bc">  295</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__ls.html">dlm_ls</a>       *<a class="code" href="structdlm__rsb.html#a6557560ad873acf480de5f53508f33bc">res_ls</a>;    <span class="comment">/* the lockspace */</span></div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#afa92af14943f332025ca39fe5bad321d">  296</a></span>&#160;    <span class="keyword">struct </span>kref     res_ref;</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#aa42ac357bd3b8c25fc93c5b00009192b">  297</a></span>&#160;    <span class="keyword">struct </span>mutex        res_mutex;</div><div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#af1786edecd02734a862a1a18001709e2">  298</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structdlm__rsb.html#af1786edecd02734a862a1a18001709e2">res_flags</a>;</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#a7f86e4313e8c84fb03f58b1c3519aad3">  299</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__rsb.html#a7f86e4313e8c84fb03f58b1c3519aad3">res_length</a>; <span class="comment">/* length of rsb name */</span></div><div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#ad6d4e343eba4d1ea0ff251c64e07890d">  300</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__rsb.html#ad6d4e343eba4d1ea0ff251c64e07890d">res_nodeid</a>;</div><div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#a443768a22e7b78ed9f7dda4fe611bdff">  301</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__rsb.html#a443768a22e7b78ed9f7dda4fe611bdff">res_master_nodeid</a>;</div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#aaa8f57a41fb68de885b56d6adb400b33">  302</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__rsb.html#aaa8f57a41fb68de885b56d6adb400b33">res_dir_nodeid</a>;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#abd8c444ff5bec1d8ece2e2773df0b314">  303</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__rsb.html#abd8c444ff5bec1d8ece2e2773df0b314">res_id</a>;     <span class="comment">/* for ls_recover_idr */</span></div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#abed1786b401030826678cb573b93071d">  304</a></span>&#160;    uint32_t                <a class="code" href="structdlm__rsb.html#abed1786b401030826678cb573b93071d">res_lvbseq</a>;</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#a10f390d5617c00a8b043da3f79f67376">  305</a></span>&#160;    uint32_t        <a class="code" href="structdlm__rsb.html#a10f390d5617c00a8b043da3f79f67376">res_hash</a>;</div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#a5f6dcf82481f9d8080d09baf2fe86fbb">  306</a></span>&#160;    uint32_t        <a class="code" href="structdlm__rsb.html#a5f6dcf82481f9d8080d09baf2fe86fbb">res_bucket</a>; <span class="comment">/* rsbtbl */</span></div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#a7bb09fe258221577aab57e9657b4c54a">  307</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structdlm__rsb.html#a7bb09fe258221577aab57e9657b4c54a">res_toss_time</a>;</div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#a6946f11c899d9ecd76a122b1cc0d2688">  308</a></span>&#160;    uint32_t        <a class="code" href="structdlm__rsb.html#a6946f11c899d9ecd76a122b1cc0d2688">res_first_lkid</a>;</div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#a505b5f658e4298668a49fd638afc1045">  309</a></span>&#160;    <span class="keyword">struct </span>list_head    res_lookup; <span class="comment">/* lkbs waiting on first */</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#ad5f313a84c86e038d5be9fe4c9a29606">  311</a></span>&#160;        <span class="keyword">struct </span>list_head    res_hashchain;</div><div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#aba4b9c2508f33cb548116fefe5dc0a60">  312</a></span>&#160;        <span class="keyword">struct </span>rb_node      res_hashnode;   <span class="comment">/* rsbtbl */</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    };</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#aed71dbf3e8dbe93224c0eeb4da7c6d9e">  314</a></span>&#160;    <span class="keyword">struct </span>list_head    res_grantqueue;</div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#a44f1aac340aadcb0d886690f7000eba8">  315</a></span>&#160;    <span class="keyword">struct </span>list_head    res_convertqueue;</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#adaed3670bbc88fbb0bee906be8c611e1">  316</a></span>&#160;    <span class="keyword">struct </span>list_head    res_waitqueue;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#a8c68703da70f3f218d6d518dab8c351d">  318</a></span>&#160;    <span class="keyword">struct </span>list_head    res_root_list;      <span class="comment">/* used for recovery */</span></div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#acc978d15e69c616ccf7e68b2a8ac251a">  319</a></span>&#160;    <span class="keyword">struct </span>list_head    res_recover_list;   <span class="comment">/* used for recovery */</span></div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#aae1a3c405cfa4b48fc2f638cf48fa968">  320</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__rsb.html#aae1a3c405cfa4b48fc2f638cf48fa968">res_recover_locks_count</a>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#aa4c682896dc860a695e8ac6dea34fbdd">  322</a></span>&#160;    <span class="keywordtype">char</span>            *<a class="code" href="structdlm__rsb.html#aa4c682896dc860a695e8ac6dea34fbdd">res_lvbptr</a>;</div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="structdlm__rsb.html#ae64b62be09d0d83335af74c228986161">  323</a></span>&#160;    <span class="keywordtype">char</span>            res_name[DLM_RESNAME_MAXLEN+1];</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;};</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">/* dlm_master_lookup() flags */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a637abcc99ad2a8593f61c522a6d34eb5">  328</a></span>&#160;<span class="preprocessor">#define DLM_LU_RECOVER_DIR  1</span></div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a78653f267fbecc607e3c38385e886a6d">  329</a></span>&#160;<span class="preprocessor">#define DLM_LU_RECOVER_MASTER   2</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">/* dlm_master_lookup() results */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a347ecb1edac88b31607a5013a27a7e56">  333</a></span>&#160;<span class="preprocessor">#define DLM_LU_MATCH        1</span></div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aeba0d9f86db62596a5409f11a44c359b">  334</a></span>&#160;<span class="preprocessor">#define DLM_LU_ADD      2</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">/* find_rsb() flags */</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ab5de6e7bc8adcc73aebf968ae536b89b">  338</a></span>&#160;<span class="preprocessor">#define R_REQUEST       0x00000001</span></div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#af36b9496fefa73cbd1e439ed338a8573">  339</a></span>&#160;<span class="preprocessor">#define R_RECEIVE_REQUEST   0x00000002</span></div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a170b3cc48527cf8f1b5bda9f353962d6">  340</a></span>&#160;<span class="preprocessor">#define R_RECEIVE_RECOVER   0x00000004</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">/* rsb_flags */</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1">  344</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1">rsb_flags</a> {</div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1ac7b87aecc77f6ab3ec638e296492b4b2">  345</a></span>&#160;    <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1ac7b87aecc77f6ab3ec638e296492b4b2">RSB_MASTER_UNCERTAIN</a>,</div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1acfcd4d29441929c35c59c20fe0f2bb29">  346</a></span>&#160;    <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1acfcd4d29441929c35c59c20fe0f2bb29">RSB_VALNOTVALID</a>,</div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1acf4e840ba882dafc9c63be685956dd97">  347</a></span>&#160;    <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1acf4e840ba882dafc9c63be685956dd97">RSB_VALNOTVALID_PREV</a>,</div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a3685fcd345c64307e50387411f4ad45b">  348</a></span>&#160;    <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a3685fcd345c64307e50387411f4ad45b">RSB_NEW_MASTER</a>,</div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a5bce07eef7e21bc391e5ceb428434f14">  349</a></span>&#160;    <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a5bce07eef7e21bc391e5ceb428434f14">RSB_NEW_MASTER2</a>,</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a3dedc575bf4fe1ed6f1c4279c1c1a0c0">  350</a></span>&#160;    <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a3dedc575bf4fe1ed6f1c4279c1c1a0c0">RSB_RECOVER_CONVERT</a>,</div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a495f7e8d7cedeccd402c5453a63dd17d">  351</a></span>&#160;    <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a495f7e8d7cedeccd402c5453a63dd17d">RSB_RECOVER_GRANT</a>,</div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a67ab3b62fe6fa5f7affe9760c00c29a2">  352</a></span>&#160;    <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a67ab3b62fe6fa5f7affe9760c00c29a2">RSB_RECOVER_LVB_INVAL</a>,</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;};</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aad41ab348123acdbb2f6f4941dc46149">  355</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlm__internal_8h.html#aad41ab348123acdbb2f6f4941dc46149">rsb_set_flag</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__rsb.html">dlm_rsb</a> *r, <span class="keyword">enum</span> <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1">rsb_flags</a> flag)</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    __set_bit(flag, &amp;r-&gt;<a class="code" href="structdlm__rsb.html#af1786edecd02734a862a1a18001709e2">res_flags</a>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a17061e1356a0f7ed07e5ac7e203b0b51">  360</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlm__internal_8h.html#a17061e1356a0f7ed07e5ac7e203b0b51">rsb_clear_flag</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__rsb.html">dlm_rsb</a> *r, <span class="keyword">enum</span> <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1">rsb_flags</a> flag)</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;{</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    __clear_bit(flag, &amp;r-&gt;<a class="code" href="structdlm__rsb.html#af1786edecd02734a862a1a18001709e2">res_flags</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#afacec5b5c3497f50a355359358955015">  365</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlm__internal_8h.html#afacec5b5c3497f50a355359358955015">rsb_flag</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__rsb.html">dlm_rsb</a> *r, <span class="keyword">enum</span> <a class="code" href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1">rsb_flags</a> flag)</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">return</span> test_bit(flag, &amp;r-&gt;<a class="code" href="structdlm__rsb.html#af1786edecd02734a862a1a18001709e2">res_flags</a>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">/* dlm_header is first element of all structs sent between nodes */</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ab552e49e37b42acce6dd3195ac220676">  373</a></span>&#160;<span class="preprocessor">#define DLM_HEADER_MAJOR    0x00030000</span></div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a34c07826d227edeb4c8168a94f3bbf08">  374</a></span>&#160;<span class="preprocessor">#define DLM_HEADER_MINOR    0x00000001</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a5b52da4913ea3d42854ac8bef56f8643">  376</a></span>&#160;<span class="preprocessor">#define DLM_HEADER_SLOTS    0x00000001</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a03427dfa724e64c8dfa572fafd8569e1">  378</a></span>&#160;<span class="preprocessor">#define DLM_MSG         1</span></div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ae5fe00f09ba5bb7d04f30001c47300b8">  379</a></span>&#160;<span class="preprocessor">#define DLM_RCOM        2</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="structdlm__header.html">  381</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__header.html">dlm_header</a> {</div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="structdlm__header.html#a4cc7f5f5471ab81b6d1780bae259d4bc">  382</a></span>&#160;    uint32_t        <a class="code" href="structdlm__header.html#a4cc7f5f5471ab81b6d1780bae259d4bc">h_version</a>;</div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="structdlm__header.html#a75584288c72be2b76c35fbedcabc0f32">  383</a></span>&#160;    uint32_t        <a class="code" href="structdlm__header.html#a75584288c72be2b76c35fbedcabc0f32">h_lockspace</a>;</div><div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="structdlm__header.html#a9fce15422d0141ff1aae004510239e42">  384</a></span>&#160;    uint32_t        <a class="code" href="structdlm__header.html#a9fce15422d0141ff1aae004510239e42">h_nodeid</a>;   <span class="comment">/* nodeid of sender */</span></div><div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="structdlm__header.html#a69012de41283a3d0739185ccd6df3186">  385</a></span>&#160;    uint16_t        <a class="code" href="structdlm__header.html#a69012de41283a3d0739185ccd6df3186">h_length</a>;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="structdlm__header.html#ac9b83dc05e3463c8fd393ad24a923f55">  386</a></span>&#160;    uint8_t         <a class="code" href="structdlm__header.html#ac9b83dc05e3463c8fd393ad24a923f55">h_cmd</a>;      <span class="comment">/* DLM_MSG, DLM_RCOM */</span></div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="structdlm__header.html#ac7706624a301b7558edd081f51823f8a">  387</a></span>&#160;    uint8_t         <a class="code" href="structdlm__header.html#ac7706624a301b7558edd081f51823f8a">h_pad</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;};</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a607358acd45ffc7f6c1011902460c340">  391</a></span>&#160;<span class="preprocessor">#define DLM_MSG_REQUEST     1</span></div><div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a140e2f7eeb44af0fc79558a42768872e">  392</a></span>&#160;<span class="preprocessor">#define DLM_MSG_CONVERT     2</span></div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aea6efff53c76b760726d7daaaa048d23">  393</a></span>&#160;<span class="preprocessor">#define DLM_MSG_UNLOCK      3</span></div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a2b447aff569ff85414527c2246b58c2e">  394</a></span>&#160;<span class="preprocessor">#define DLM_MSG_CANCEL      4</span></div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a4abfc4660cd16cec7e9c1ca81d43e1d7">  395</a></span>&#160;<span class="preprocessor">#define DLM_MSG_REQUEST_REPLY   5</span></div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ab1e4b3d9b4bbc7d0da618e58be1344ef">  396</a></span>&#160;<span class="preprocessor">#define DLM_MSG_CONVERT_REPLY   6</span></div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aee05f7d5a434748fa5ceffb8217490b4">  397</a></span>&#160;<span class="preprocessor">#define DLM_MSG_UNLOCK_REPLY    7</span></div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a52bbdeae2e6e7cc634d3fbfe472d024d">  398</a></span>&#160;<span class="preprocessor">#define DLM_MSG_CANCEL_REPLY    8</span></div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a99a39aa34081f2d0b8e69f4a4d16f53d">  399</a></span>&#160;<span class="preprocessor">#define DLM_MSG_GRANT       9</span></div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ace83a7d30e004ad96aa2a54c6afb00de">  400</a></span>&#160;<span class="preprocessor">#define DLM_MSG_BAST        10</span></div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aebb72c6d261ffa7331dfaf93acc3a156">  401</a></span>&#160;<span class="preprocessor">#define DLM_MSG_LOOKUP      11</span></div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a3ac975a0152ceb6017e3c9e530b12c31">  402</a></span>&#160;<span class="preprocessor">#define DLM_MSG_REMOVE      12</span></div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a79c29fd2a9713f66667b3190b0b343d2">  403</a></span>&#160;<span class="preprocessor">#define DLM_MSG_LOOKUP_REPLY    13</span></div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a978ed56a9de18575ce51e17c7f3f1b4c">  404</a></span>&#160;<span class="preprocessor">#define DLM_MSG_PURGE       14</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="structdlm__message.html">  406</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__message.html">dlm_message</a> {</div><div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="structdlm__message.html#a710654e68de29146a27e3063f43bd583">  407</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__header.html">dlm_header</a>   m_header;</div><div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="structdlm__message.html#a8d72d22a9ffa1404206ae0f47c0cd14b">  408</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#a8d72d22a9ffa1404206ae0f47c0cd14b">m_type</a>;     <span class="comment">/* DLM_MSG_ */</span></div><div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="structdlm__message.html#a82dd5ebf8c1eee66650ba52ef19944b2">  409</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#a82dd5ebf8c1eee66650ba52ef19944b2">m_nodeid</a>;</div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="structdlm__message.html#a57b2edc0b874b81dbf9e0350abb09806">  410</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#a57b2edc0b874b81dbf9e0350abb09806">m_pid</a>;</div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="structdlm__message.html#a49f41253b0059203ffc4327363197b58">  411</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#a49f41253b0059203ffc4327363197b58">m_lkid</a>;     <span class="comment">/* lkid on sender */</span></div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="structdlm__message.html#a94abf32cfb38ef88873a7f30787729af">  412</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#a94abf32cfb38ef88873a7f30787729af">m_remid</a>;    <span class="comment">/* lkid on receiver */</span></div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="structdlm__message.html#a455ac74a2c01afcee8d5a5fa77b49ca7">  413</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#a455ac74a2c01afcee8d5a5fa77b49ca7">m_parent_lkid</a>;</div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="structdlm__message.html#a4ca3d9290752d6b38e581cc0a5263dc8">  414</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#a4ca3d9290752d6b38e581cc0a5263dc8">m_parent_remid</a>;</div><div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="structdlm__message.html#ad3e384b5d5779feaa11d77d9f416e72c">  415</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#ad3e384b5d5779feaa11d77d9f416e72c">m_exflags</a>;</div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="structdlm__message.html#ad991ec585a99852ef863083b9c8b88f6">  416</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#ad991ec585a99852ef863083b9c8b88f6">m_sbflags</a>;</div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="structdlm__message.html#ab17307394eddd9836f12c4a06e4ac06f">  417</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#ab17307394eddd9836f12c4a06e4ac06f">m_flags</a>;</div><div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="structdlm__message.html#ac836de762fef7f5f238daa8283c04340">  418</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#ac836de762fef7f5f238daa8283c04340">m_lvbseq</a>;</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="structdlm__message.html#a6ac3087143de135c328e59757a1d0842">  419</a></span>&#160;    uint32_t        <a class="code" href="structdlm__message.html#a6ac3087143de135c328e59757a1d0842">m_hash</a>;</div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="structdlm__message.html#a9b1837cafea1ae0c05d9131ebd71a53f">  420</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__message.html#a9b1837cafea1ae0c05d9131ebd71a53f">m_status</a>;</div><div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="structdlm__message.html#affac4c681609dd515721269ee61b5494">  421</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__message.html#affac4c681609dd515721269ee61b5494">m_grmode</a>;</div><div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="structdlm__message.html#a0afe038f2a1f86ae22886c76c25edc0f">  422</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__message.html#a0afe038f2a1f86ae22886c76c25edc0f">m_rqmode</a>;</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="structdlm__message.html#a2ed86c6191045630ed15bddc42a1015e">  423</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__message.html#a2ed86c6191045630ed15bddc42a1015e">m_bastmode</a>;</div><div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="structdlm__message.html#a9920d4bf58af28c28217bba7825c2220">  424</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__message.html#a9920d4bf58af28c28217bba7825c2220">m_asts</a>;</div><div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="structdlm__message.html#a243d917a01665342dc6a50fc6f1c8a45">  425</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__message.html#a243d917a01665342dc6a50fc6f1c8a45">m_result</a>;   <span class="comment">/* 0 or -EXXX */</span></div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="structdlm__message.html#ad25861f37725087cbc05292563f4f0be">  426</a></span>&#160;    <span class="keywordtype">char</span>            m_extra[0]; <span class="comment">/* name or lvb */</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;};</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#add2d2924e0e07fee29558058a62d0d4a">  430</a></span>&#160;<span class="preprocessor">#define DLM_RS_NODES        0x00000001</span></div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a676c7ec672ec90798cda69b1430c8b14">  431</a></span>&#160;<span class="preprocessor">#define DLM_RS_NODES_ALL    0x00000002</span></div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a00da631332a36e776a162bd921e9551a">  432</a></span>&#160;<span class="preprocessor">#define DLM_RS_DIR      0x00000004</span></div><div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aac67a53dee0e2c0b2ac32e050c9effe7">  433</a></span>&#160;<span class="preprocessor">#define DLM_RS_DIR_ALL      0x00000008</span></div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a7eee34794020acadb71c3c90afb66071">  434</a></span>&#160;<span class="preprocessor">#define DLM_RS_LOCKS        0x00000010</span></div><div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#acef12893ee21cb2f83305053537be5fb">  435</a></span>&#160;<span class="preprocessor">#define DLM_RS_LOCKS_ALL    0x00000020</span></div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a67da4122a21ff40baa764dd0a9b80204">  436</a></span>&#160;<span class="preprocessor">#define DLM_RS_DONE     0x00000040</span></div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#af5195d747dd7e9c00bd254eb9fed91b9">  437</a></span>&#160;<span class="preprocessor">#define DLM_RS_DONE_ALL     0x00000080</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#acf14f42b7363e752518ed7e5afd2d41f">  439</a></span>&#160;<span class="preprocessor">#define DLM_RCOM_STATUS     1</span></div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a015549b8924a000d777561824471984a">  440</a></span>&#160;<span class="preprocessor">#define DLM_RCOM_NAMES      2</span></div><div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ab5325ab19889cdcae5120c8336e41fd8">  441</a></span>&#160;<span class="preprocessor">#define DLM_RCOM_LOOKUP     3</span></div><div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a2142dece13a1c2c4fc626a0cb7498f14">  442</a></span>&#160;<span class="preprocessor">#define DLM_RCOM_LOCK       4</span></div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#af238f41272233028de23c71cf7770a25">  443</a></span>&#160;<span class="preprocessor">#define DLM_RCOM_STATUS_REPLY   5</span></div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a2ac564b052829529b402764d05dfd0d7">  444</a></span>&#160;<span class="preprocessor">#define DLM_RCOM_NAMES_REPLY    6</span></div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a34366b971a6195e052532a1be7b88b88">  445</a></span>&#160;<span class="preprocessor">#define DLM_RCOM_LOOKUP_REPLY   7</span></div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aacc5b453bbe1da6e7e5e933a8398d10a">  446</a></span>&#160;<span class="preprocessor">#define DLM_RCOM_LOCK_REPLY 8</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="structdlm__rcom.html">  448</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__rcom.html">dlm_rcom</a> {</div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="structdlm__rcom.html#a80ca8b1f4f8d5c90f32b72bfae611405">  449</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__header.html">dlm_header</a>   rc_header;</div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="structdlm__rcom.html#a05aec56d644b511c3a089dfd3f81c675">  450</a></span>&#160;    uint32_t        <a class="code" href="structdlm__rcom.html#a05aec56d644b511c3a089dfd3f81c675">rc_type</a>;    <span class="comment">/* DLM_RCOM_ */</span></div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="structdlm__rcom.html#ac54d07d02ec74987dd8495fb10a931a8">  451</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__rcom.html#ac54d07d02ec74987dd8495fb10a931a8">rc_result</a>;  <span class="comment">/* multi-purpose */</span></div><div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="structdlm__rcom.html#af6267bf578a8a8038359690f03de059c">  452</a></span>&#160;    uint64_t        <a class="code" href="structdlm__rcom.html#af6267bf578a8a8038359690f03de059c">rc_id</a>;      <span class="comment">/* match reply with request */</span></div><div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="structdlm__rcom.html#ace086316bc993c94e212533c32f220a3">  453</a></span>&#160;    uint64_t        <a class="code" href="structdlm__rcom.html#ace086316bc993c94e212533c32f220a3">rc_seq</a>;     <span class="comment">/* sender&#39;s ls_recover_seq */</span></div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="structdlm__rcom.html#abda8585ac0087d614d146314dfe20467">  454</a></span>&#160;    uint64_t        <a class="code" href="structdlm__rcom.html#abda8585ac0087d614d146314dfe20467">rc_seq_reply</a>;   <span class="comment">/* remote ls_recover_seq */</span></div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="structdlm__rcom.html#a5a4915932214f50311bf45243b9575f4">  455</a></span>&#160;    <span class="keywordtype">char</span>            rc_buf[0];</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;};</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="uniondlm__packet.html">  458</a></span>&#160;<span class="keyword">union </span><a class="code" href="uniondlm__packet.html">dlm_packet</a> {</div><div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="uniondlm__packet.html#a2a3fe99e3684fa73bf42fd7ae2a1214d">  459</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__header.html">dlm_header</a>   <a class="code" href="ctree_8h.html#a6fc963e53e6657b68d0a4561eb0e8261">header</a>;     <span class="comment">/* common to other two */</span></div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="uniondlm__packet.html#aa27cfa912c3f9553f9102fd190741fd8">  460</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__message.html">dlm_message</a>  message;</div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="uniondlm__packet.html#adfede229623ef828572d374371fdef3b">  461</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__rcom.html">dlm_rcom</a>     rcom;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;};</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a9ae45a8cb8ac1a3e849dfcf2dcc3eb00">  464</a></span>&#160;<span class="preprocessor">#define DLM_RSF_NEED_SLOTS  0x00000001</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">/* RCOM_STATUS data */</span></div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="structrcom__status.html">  467</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrcom__status.html">rcom_status</a> {</div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="structrcom__status.html#aa2b690ffdc6d95352ffa390619b04822">  468</a></span>&#160;    __le32          <a class="code" href="structrcom__status.html#aa2b690ffdc6d95352ffa390619b04822">rs_flags</a>;</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="structrcom__status.html#aa3f700168c88fad0d12d176487b62532">  469</a></span>&#160;    __le32          <a class="code" href="structrcom__status.html#aa3f700168c88fad0d12d176487b62532">rs_unused1</a>;</div><div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="structrcom__status.html#a8936a623295e5840214b7623c822d2eb">  470</a></span>&#160;    __le64          <a class="code" href="structrcom__status.html#a8936a623295e5840214b7623c822d2eb">rs_unused2</a>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;};</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">/* RCOM_STATUS_REPLY data */</span></div><div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="structrcom__config.html">  474</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrcom__config.html">rcom_config</a> {</div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="structrcom__config.html#acbcd9d6d9ca93a44aeb330457d9e4ed6">  475</a></span>&#160;    __le32          <a class="code" href="structrcom__config.html#acbcd9d6d9ca93a44aeb330457d9e4ed6">rf_lvblen</a>;</div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="structrcom__config.html#a5b35d0836e6b3ba8f503c6a97b6d6248">  476</a></span>&#160;    __le32          <a class="code" href="structrcom__config.html#a5b35d0836e6b3ba8f503c6a97b6d6248">rf_lsflags</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">/* DLM_HEADER_SLOTS adds: */</span></div><div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="structrcom__config.html#ac2bf2101ae2b27ad6865f052236b8f24">  479</a></span>&#160;    __le32          <a class="code" href="structrcom__config.html#ac2bf2101ae2b27ad6865f052236b8f24">rf_flags</a>;</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="structrcom__config.html#ae012e0b2e2d942de63b297fb26f66040">  480</a></span>&#160;    __le16          <a class="code" href="structrcom__config.html#ae012e0b2e2d942de63b297fb26f66040">rf_our_slot</a>;</div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="structrcom__config.html#a754f572bbee9e881f774c1ec0cd9074a">  481</a></span>&#160;    __le16          <a class="code" href="structrcom__config.html#a754f572bbee9e881f774c1ec0cd9074a">rf_num_slots</a>;</div><div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="structrcom__config.html#a633dd3d9f442ba4a936aec3027dfe07b">  482</a></span>&#160;    __le32          <a class="code" href="structrcom__config.html#a633dd3d9f442ba4a936aec3027dfe07b">rf_generation</a>;</div><div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="structrcom__config.html#a7e46f22118ed00b1216b1aec8d12f4c1">  483</a></span>&#160;    __le32          <a class="code" href="structrcom__config.html#a7e46f22118ed00b1216b1aec8d12f4c1">rf_unused1</a>;</div><div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="structrcom__config.html#a058aa0f5779738c762a6f1de23d466ed">  484</a></span>&#160;    __le64          <a class="code" href="structrcom__config.html#a058aa0f5779738c762a6f1de23d466ed">rf_unused2</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;};</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="structrcom__slot.html">  487</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrcom__slot.html">rcom_slot</a> {</div><div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="structrcom__slot.html#a41923a37cde4cb7432a439b756df14cf">  488</a></span>&#160;    __le32          <a class="code" href="structrcom__slot.html#a41923a37cde4cb7432a439b756df14cf">ro_nodeid</a>;</div><div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="structrcom__slot.html#a6eea4f4a7568f0b03756d3523ad57c6e">  489</a></span>&#160;    __le16          <a class="code" href="structrcom__slot.html#a6eea4f4a7568f0b03756d3523ad57c6e">ro_slot</a>;</div><div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="structrcom__slot.html#ad3d573f8c9dbd0aae95d968dc9f6b64e">  490</a></span>&#160;    __le16          <a class="code" href="structrcom__slot.html#ad3d573f8c9dbd0aae95d968dc9f6b64e">ro_unused1</a>;</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="structrcom__slot.html#a5b14475726e34261026a9d7b8c1bbb72">  491</a></span>&#160;    __le64          <a class="code" href="structrcom__slot.html#a5b14475726e34261026a9d7b8c1bbb72">ro_unused2</a>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;};</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="structrcom__lock.html">  494</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrcom__lock.html">rcom_lock</a> {</div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="structrcom__lock.html#a74db57973618ce434e90f702fc5ba002">  495</a></span>&#160;    __le32          <a class="code" href="structrcom__lock.html#a74db57973618ce434e90f702fc5ba002">rl_ownpid</a>;</div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="structrcom__lock.html#ae1d864650d2e754ac3814ddc693578ff">  496</a></span>&#160;    __le32          <a class="code" href="structrcom__lock.html#ae1d864650d2e754ac3814ddc693578ff">rl_lkid</a>;</div><div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="structrcom__lock.html#a807a264bf68d99868bd5a0e9e6cbb1df">  497</a></span>&#160;    __le32          <a class="code" href="structrcom__lock.html#a807a264bf68d99868bd5a0e9e6cbb1df">rl_remid</a>;</div><div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="structrcom__lock.html#a108d87a2c0db50734c7717a846cde95a">  498</a></span>&#160;    __le32          <a class="code" href="structrcom__lock.html#a108d87a2c0db50734c7717a846cde95a">rl_parent_lkid</a>;</div><div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="structrcom__lock.html#a1e8fdf51a93fdae9ec983ba80787f412">  499</a></span>&#160;    __le32          <a class="code" href="structrcom__lock.html#a1e8fdf51a93fdae9ec983ba80787f412">rl_parent_remid</a>;</div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="structrcom__lock.html#ab9452385b7be8dc45ccd501d6fee8696">  500</a></span>&#160;    __le32          <a class="code" href="structrcom__lock.html#ab9452385b7be8dc45ccd501d6fee8696">rl_exflags</a>;</div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="structrcom__lock.html#a66f337fea73ff4c5814e2dff68146304">  501</a></span>&#160;    __le32          <a class="code" href="structrcom__lock.html#a66f337fea73ff4c5814e2dff68146304">rl_flags</a>;</div><div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="structrcom__lock.html#ad2e331710f178e39306d6b916e96ee5e">  502</a></span>&#160;    __le32          <a class="code" href="structrcom__lock.html#ad2e331710f178e39306d6b916e96ee5e">rl_lvbseq</a>;</div><div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="structrcom__lock.html#ae326846f169784d85a0747d4a590b805">  503</a></span>&#160;    __le32          <a class="code" href="structrcom__lock.html#ae326846f169784d85a0747d4a590b805">rl_result</a>;</div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="structrcom__lock.html#a2eee70316ed7e8045bc92e850c4b119c">  504</a></span>&#160;    int8_t          <a class="code" href="structrcom__lock.html#a2eee70316ed7e8045bc92e850c4b119c">rl_rqmode</a>;</div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="structrcom__lock.html#aa288cf0632f72af6b58987e558048a0f">  505</a></span>&#160;    int8_t          <a class="code" href="structrcom__lock.html#aa288cf0632f72af6b58987e558048a0f">rl_grmode</a>;</div><div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="structrcom__lock.html#a7cfd17b1353eaed84636c6da494c060e">  506</a></span>&#160;    int8_t          <a class="code" href="structrcom__lock.html#a7cfd17b1353eaed84636c6da494c060e">rl_status</a>;</div><div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="structrcom__lock.html#aeab52b32f674460fd8d9289b9133c9a0">  507</a></span>&#160;    int8_t          <a class="code" href="structrcom__lock.html#aeab52b32f674460fd8d9289b9133c9a0">rl_asts</a>;</div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="structrcom__lock.html#aae0ff64859813900bbe7dfd37e7c5488">  508</a></span>&#160;    __le16          <a class="code" href="structrcom__lock.html#aae0ff64859813900bbe7dfd37e7c5488">rl_wait_type</a>;</div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="structrcom__lock.html#a6aa450c5766183d95ccfe300776aaac3">  509</a></span>&#160;    __le16          <a class="code" href="structrcom__lock.html#a6aa450c5766183d95ccfe300776aaac3">rl_namelen</a>;</div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="structrcom__lock.html#aaabe73c38066ce54bef7c0145e1419c6">  510</a></span>&#160;    <span class="keywordtype">char</span>            rl_name[DLM_RESNAME_MAXLEN];</div><div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="structrcom__lock.html#a80c727f4590dbefb59b7b0e1715adfcf">  511</a></span>&#160;    <span class="keywordtype">char</span>            rl_lvb[0];</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;};</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"> * The max number of resources per rsbtbl bucket that shrink will attempt</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment"> * to remove in each iteration.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a9d1125d7a10ba562c0e48c3a053f02ad">  519</a></span>&#160;<span class="preprocessor">#define DLM_REMOVE_NAMES_MAX 8</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="structdlm__ls.html">  521</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__ls.html">dlm_ls</a> {</div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="structdlm__ls.html#ab494651108b22f7f4dead9ff4dd55899">  522</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_list;    <span class="comment">/* list of lockspaces */</span></div><div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="structdlm__ls.html#aa3b39b5beaa15eb447557a42a773a0f2">  523</a></span>&#160;    dlm_lockspace_t     *<a class="code" href="structdlm__ls.html#aa3b39b5beaa15eb447557a42a773a0f2">ls_local_handle</a>;</div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a7447be64d487fd391c6e39dda0ce8b7c">  524</a></span>&#160;    uint32_t        <a class="code" href="structdlm__ls.html#a7447be64d487fd391c6e39dda0ce8b7c">ls_global_id</a>;   <span class="comment">/* global unique lockspace ID */</span></div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a2596ef0da3285ceac7cadb7ea30ce6ae">  525</a></span>&#160;    uint32_t        <a class="code" href="structdlm__ls.html#a2596ef0da3285ceac7cadb7ea30ce6ae">ls_generation</a>;</div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a109b7b6ce777f6ece8d9dadb954a07c7">  526</a></span>&#160;    uint32_t        <a class="code" href="structdlm__ls.html#a109b7b6ce777f6ece8d9dadb954a07c7">ls_exflags</a>;</div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="structdlm__ls.html#ad063e1f45760ffc7c6da4ea234f24a97">  527</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#ad063e1f45760ffc7c6da4ea234f24a97">ls_lvblen</a>;</div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="structdlm__ls.html#ac0e9a0eefd6bd77c8c6cb56913835081">  528</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#ac0e9a0eefd6bd77c8c6cb56913835081">ls_count</a>;   <span class="comment">/* refcount of processes in</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">                           the dlm using this ls */</span></div><div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a4dcd9a58390e8053bd9afd2ecc9ccf39">  530</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a4dcd9a58390e8053bd9afd2ecc9ccf39">ls_create_count</a>; <span class="comment">/* create/release refcount */</span></div><div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a9a04c2cb6ae31edd61ac3329be532565">  531</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structdlm__ls.html#a9a04c2cb6ae31edd61ac3329be532565">ls_flags</a>;   <span class="comment">/* LSFL_ */</span></div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a9bd78e128bb49739b663f4898ae03336">  532</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structdlm__ls.html#a9bd78e128bb49739b663f4898ae03336">ls_scan_time</a>;</div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="structdlm__ls.html#ad183748310354a227cc365ccd4822a91">  533</a></span>&#160;    <span class="keyword">struct </span>kobject      ls_kobj;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a933e095293af720f18366237e51b111b">  535</a></span>&#160;    <span class="keyword">struct </span>idr      ls_lkbidr;</div><div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a11f2a73b9d26dcc8d663af10a57f42ff">  536</a></span>&#160;    spinlock_t      <a class="code" href="structdlm__ls.html#a11f2a73b9d26dcc8d663af10a57f42ff">ls_lkbidr_spin</a>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a265cdb0de98ce59c9df49246ef8f7cbf">  538</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__rsbtable.html">dlm_rsbtable</a> *<a class="code" href="structdlm__ls.html#a265cdb0de98ce59c9df49246ef8f7cbf">ls_rsbtbl</a>;</div><div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a0ec78c35b69305c704b0df0ecc499c1f">  539</a></span>&#160;    uint32_t        <a class="code" href="structdlm__ls.html#a0ec78c35b69305c704b0df0ecc499c1f">ls_rsbtbl_size</a>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a8b91bd244f59f7ae1c646981d02296e1">  541</a></span>&#160;    <span class="keyword">struct </span>mutex        ls_waiters_mutex;</div><div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a764f1a2cd9d68306585c49547cf85370">  542</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_waiters; <span class="comment">/* lkbs needing a reply */</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a2fcc2afb9ccc0469b8bd1c7c8c981e1e">  544</a></span>&#160;    <span class="keyword">struct </span>mutex        ls_orphans_mutex;</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="structdlm__ls.html#ab0c92f7c5fce9bccd207754227b917bb">  545</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_orphans;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a9158ccf07f61cae54a3dcb7477279cad">  547</a></span>&#160;    <span class="keyword">struct </span>mutex        ls_timeout_mutex;</div><div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="structdlm__ls.html#af0fdf268787d8fb13f316800c16d626b">  548</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_timeout;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="structdlm__ls.html#af375e182162cd23719a5209b8672c2a6">  550</a></span>&#160;    spinlock_t      <a class="code" href="structdlm__ls.html#af375e182162cd23719a5209b8672c2a6">ls_new_rsb_spin</a>;</div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a815d1b08b34414d72e450bf9128fccdb">  551</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a815d1b08b34414d72e450bf9128fccdb">ls_new_rsb_count</a>;</div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a1a77da81c13951624eada470992997c9">  552</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_new_rsb; <span class="comment">/* new rsb structs */</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a1ee297ccbafa99d4e771f96b67b6f2e9">  554</a></span>&#160;    spinlock_t      <a class="code" href="structdlm__ls.html#a1ee297ccbafa99d4e771f96b67b6f2e9">ls_remove_spin</a>;</div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a2e2180d8a52dd3318a13e917b1375050">  555</a></span>&#160;    <span class="keywordtype">char</span>            ls_remove_name[DLM_RESNAME_MAXLEN+1];</div><div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a330b1248a4c809363e455e7ec824bedf">  556</a></span>&#160;    <span class="keywordtype">char</span>            *ls_remove_names[<a class="code" href="dlm__internal_8h.html#a9d1125d7a10ba562c0e48c3a053f02ad">DLM_REMOVE_NAMES_MAX</a>];</div><div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="structdlm__ls.html#aea524ec87c26ef463f63583282d3a180">  557</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#aea524ec87c26ef463f63583282d3a180">ls_remove_len</a>;</div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a84963fa119c91326ae0ea0bc7d23ec0a">  558</a></span>&#160;    <span class="keywordtype">int</span>         ls_remove_lens[<a class="code" href="dlm__internal_8h.html#a9d1125d7a10ba562c0e48c3a053f02ad">DLM_REMOVE_NAMES_MAX</a>];</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="structdlm__ls.html#ab2c50ab14c768ed529dd63f0cbaf21bd">  560</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_nodes;   <span class="comment">/* current nodes in ls */</span></div><div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a29b343f5fbe0d4a5362da552b6349a56">  561</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_nodes_gone;  <span class="comment">/* dead node list, recovery */</span></div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a20add3304caee0e86a4028bde5202a31">  562</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a20add3304caee0e86a4028bde5202a31">ls_num_nodes</a>;   <span class="comment">/* number of nodes in ls */</span></div><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="structdlm__ls.html#aea3b34318cbfde8f2561e536b12c811b">  563</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#aea3b34318cbfde8f2561e536b12c811b">ls_low_nodeid</a>;</div><div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a9659dc4264cfaa91c04de5c5fa47209d">  564</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a9659dc4264cfaa91c04de5c5fa47209d">ls_total_weight</a>;</div><div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a6db2d5c59ca56fc5b2472bb6f66d47ac">  565</a></span>&#160;    <span class="keywordtype">int</span>         *<a class="code" href="structdlm__ls.html#a6db2d5c59ca56fc5b2472bb6f66d47ac">ls_node_array</a>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a7505d90bf5d487d930da7c7a1d792a77">  567</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a7505d90bf5d487d930da7c7a1d792a77">ls_slot</a>;</div><div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a5d969e49ffe4049c733aadc2d063c8ac">  568</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a5d969e49ffe4049c733aadc2d063c8ac">ls_num_slots</a>;</div><div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="structdlm__ls.html#aa7ac1e8b784dd4eabbee6751e6ea4bd1">  569</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#aa7ac1e8b784dd4eabbee6751e6ea4bd1">ls_slots_size</a>;</div><div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a917e3afa95c583c2eb9f8da6f4344e1a">  570</a></span>&#160;    <span class="keyword">struct </span>dlm_slot     *<a class="code" href="structdlm__ls.html#a917e3afa95c583c2eb9f8da6f4344e1a">ls_slots</a>;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a2f6c252656988762443198b58d25f9fd">  572</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__rsb.html">dlm_rsb</a>      ls_stub_rsb;    <span class="comment">/* for returning errors */</span></div><div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="structdlm__ls.html#af75147f32e0349fd77440be803a8edd5">  573</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__lkb.html">dlm_lkb</a>      ls_stub_lkb;    <span class="comment">/* for returning errors */</span></div><div class="line"><a name="l00574"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a03933475f1c62d4ddacc51670941e2cc">  574</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__message.html">dlm_message</a>  ls_stub_ms; <span class="comment">/* for faking a reply */</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a8c89ad265a5c1bbb05cf9b3b6782a9b9">  576</a></span>&#160;    <span class="keyword">struct </span>dentry       *<a class="code" href="structdlm__ls.html#a8c89ad265a5c1bbb05cf9b3b6782a9b9">ls_debug_rsb_dentry</a>; <span class="comment">/* debugfs */</span></div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a13965ea51b6579e2108992943c05833d">  577</a></span>&#160;    <span class="keyword">struct </span>dentry       *<a class="code" href="structdlm__ls.html#a13965ea51b6579e2108992943c05833d">ls_debug_waiters_dentry</a>; <span class="comment">/* debugfs */</span></div><div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a7e1bff4109a6b8f2079c912cd8160038">  578</a></span>&#160;    <span class="keyword">struct </span>dentry       *<a class="code" href="structdlm__ls.html#a7e1bff4109a6b8f2079c912cd8160038">ls_debug_locks_dentry</a>; <span class="comment">/* debugfs */</span></div><div class="line"><a name="l00579"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a9442cf204b386a96107e235760a5e9c6">  579</a></span>&#160;    <span class="keyword">struct </span>dentry       *<a class="code" href="structdlm__ls.html#a9442cf204b386a96107e235760a5e9c6">ls_debug_all_dentry</a>; <span class="comment">/* debugfs */</span></div><div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a7edcff9687cf9a860778136f87ddeaf3">  580</a></span>&#160;    <span class="keyword">struct </span>dentry       *<a class="code" href="structdlm__ls.html#a7edcff9687cf9a860778136f87ddeaf3">ls_debug_toss_dentry</a>; <span class="comment">/* debugfs */</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="structdlm__ls.html#aa132a5856613e709eb9daa51ce672af1">  582</a></span>&#160;    wait_queue_head_t   <a class="code" href="structdlm__ls.html#aa132a5856613e709eb9daa51ce672af1">ls_uevent_wait</a>; <span class="comment">/* user part of join/leave */</span></div><div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a00411617fc117848c7b567a77571ac33">  583</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a00411617fc117848c7b567a77571ac33">ls_uevent_result</a>;</div><div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a02abb9d464b503ae5a8984175faddb53">  584</a></span>&#160;    <span class="keyword">struct </span>completion   ls_members_done;</div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a7efe32d611f923850f87a539de52b516">  585</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a7efe32d611f923850f87a539de52b516">ls_members_result</a>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a901f0d2bc1e21f2d77ab5450bfd4feb0">  587</a></span>&#160;    <span class="keyword">struct </span>miscdevice       ls_device;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a0fb8885edf9961de68f0446cb2a047c6">  589</a></span>&#160;    <span class="keyword">struct </span>workqueue_struct *<a class="code" href="structdlm__ls.html#a0fb8885edf9961de68f0446cb2a047c6">ls_callback_wq</a>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">/* recovery related */</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a2c44969501be1401a7fe33318bc6137b">  593</a></span>&#160;    <span class="keyword">struct </span>mutex        ls_cb_mutex;</div><div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a1426a4ecda850b199d90943720963bbb">  594</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_cb_delay; <span class="comment">/* save for queue_work later */</span></div><div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="structdlm__ls.html#af03402e80dae9dc0c8610bb3fa0d0e3e">  595</a></span>&#160;    <span class="keyword">struct </span>timer_list   ls_timer;</div><div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a3b7d840695d32f127d623ad77410a005">  596</a></span>&#160;    <span class="keyword">struct </span>task_struct  *<a class="code" href="structdlm__ls.html#a3b7d840695d32f127d623ad77410a005">ls_recoverd_task</a>;</div><div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a4bc4eb9dba5047ac4316a33f18ce094b">  597</a></span>&#160;    <span class="keyword">struct </span>mutex        ls_recoverd_active;</div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="structdlm__ls.html#adb8dfa3b35e020a42a374cd80368cd52">  598</a></span>&#160;    spinlock_t      <a class="code" href="structdlm__ls.html#adb8dfa3b35e020a42a374cd80368cd52">ls_recover_lock</a>;</div><div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a727b6cce814e760088ba97f4678c27a7">  599</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structdlm__ls.html#a727b6cce814e760088ba97f4678c27a7">ls_recover_begin</a>; <span class="comment">/* jiffies timestamp */</span></div><div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="structdlm__ls.html#acf49b37522634335cecf56ad0ba95a75">  600</a></span>&#160;    uint32_t        <a class="code" href="structdlm__ls.html#acf49b37522634335cecf56ad0ba95a75">ls_recover_status</a>; <span class="comment">/* DLM_RS_ */</span></div><div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="structdlm__ls.html#af4e1d7cc0ed8aad21ab3dbb84e0df6d4">  601</a></span>&#160;    uint64_t        <a class="code" href="structdlm__ls.html#af4e1d7cc0ed8aad21ab3dbb84e0df6d4">ls_recover_seq</a>;</div><div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a78ed569913562ea9df629d88b3357b70">  602</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__recover.html">dlm_recover</a>  *<a class="code" href="structdlm__ls.html#a78ed569913562ea9df629d88b3357b70">ls_recover_args</a>;</div><div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a6aa93f7bfe935771ae3e9b6937048366">  603</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore ls_in_recovery; <span class="comment">/* block local requests */</span></div><div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a2ef8024c9e5dff6374d0e7b6d239725c">  604</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore ls_recv_active; <span class="comment">/* block dlm_recv */</span></div><div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a4b38eb85fe07d41a0b810f8ad5544428">  605</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_requestqueue;<span class="comment">/* queue remote requests */</span></div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a0e02e1133950ee8e602c01fb7ddb3c63">  606</a></span>&#160;    <span class="keyword">struct </span>mutex        ls_requestqueue_mutex;</div><div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a0eae6c9f8785bf06e3ff6960c2518a80">  607</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__rcom.html">dlm_rcom</a>     *<a class="code" href="structdlm__ls.html#a0eae6c9f8785bf06e3ff6960c2518a80">ls_recover_buf</a>;</div><div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a9b0f44d984e32bb5aad441e8fb9c0ed7">  608</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a9b0f44d984e32bb5aad441e8fb9c0ed7">ls_recover_nodeid</a>; <span class="comment">/* for debugging */</span></div><div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a2c4021612a62205469c7734cb525a05b">  609</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structdlm__ls.html#a2c4021612a62205469c7734cb525a05b">ls_recover_dir_sent_res</a>; <span class="comment">/* for log info */</span></div><div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a44daf34550b22a45b9b306f148984efa">  610</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structdlm__ls.html#a44daf34550b22a45b9b306f148984efa">ls_recover_dir_sent_msg</a>; <span class="comment">/* for log info */</span></div><div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a3f0a6bd12b212c5246ef12e922032a07">  611</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structdlm__ls.html#a3f0a6bd12b212c5246ef12e922032a07">ls_recover_locks_in</a>; <span class="comment">/* for log info */</span></div><div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a21265ba78d4c0ccd9df4fe5d3bdc42d9">  612</a></span>&#160;    uint64_t        <a class="code" href="structdlm__ls.html#a21265ba78d4c0ccd9df4fe5d3bdc42d9">ls_rcom_seq</a>;</div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a2637379d7df2faadc26f47b2aed99606">  613</a></span>&#160;    spinlock_t      <a class="code" href="structdlm__ls.html#a2637379d7df2faadc26f47b2aed99606">ls_rcom_spin</a>;</div><div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a0402316898256a94cc98607d323d2196">  614</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_recover_list;</div><div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a7b2b5805bc6446915858d41333d465ef">  615</a></span>&#160;    spinlock_t      <a class="code" href="structdlm__ls.html#a7b2b5805bc6446915858d41333d465ef">ls_recover_list_lock</a>;</div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a916c4afd7b172dfeef59272168f0fd67">  616</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a916c4afd7b172dfeef59272168f0fd67">ls_recover_list_count</a>;</div><div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a1fc4b1c425d6897bc89fe64857493179">  617</a></span>&#160;    <span class="keyword">struct </span>idr      ls_recover_idr;</div><div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="structdlm__ls.html#ac9f31fed1aa16ba68e8d2457481c668a">  618</a></span>&#160;    spinlock_t      <a class="code" href="structdlm__ls.html#ac9f31fed1aa16ba68e8d2457481c668a">ls_recover_idr_lock</a>;</div><div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a9abf7c2b9195c78dd38082d4861e1b9d">  619</a></span>&#160;    wait_queue_head_t   <a class="code" href="structdlm__ls.html#a9abf7c2b9195c78dd38082d4861e1b9d">ls_wait_general</a>;</div><div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a3b787af9695e843caeb15688622a0794">  620</a></span>&#160;    wait_queue_head_t   <a class="code" href="structdlm__ls.html#a3b787af9695e843caeb15688622a0794">ls_recover_lock_wait</a>;</div><div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a1979db628070b02309585870a8fc46c7">  621</a></span>&#160;    <span class="keyword">struct </span>mutex        ls_clear_proc_locks;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a4c993bcfbe683ca71e895590a26d419d">  623</a></span>&#160;    <span class="keyword">struct </span>list_head    ls_root_list;   <span class="comment">/* root resources */</span></div><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="structdlm__ls.html#ab4ef2fdf346606d06da1c4192266bb83">  624</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore ls_root_sem;    <span class="comment">/* protect root_list */</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="structdlm__ls.html#ad381f79ae461b144c1dc272f71940cb3">  626</a></span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span>dlm_lockspace_ops *<a class="code" href="structdlm__ls.html#ad381f79ae461b144c1dc272f71940cb3">ls_ops</a>;</div><div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="structdlm__ls.html#abbd262f526ba788bdc56e66f72fcc1b0">  627</a></span>&#160;    <span class="keywordtype">void</span>            *<a class="code" href="structdlm__ls.html#abbd262f526ba788bdc56e66f72fcc1b0">ls_ops_arg</a>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="structdlm__ls.html#a30ec780eba7b90cc1b47ce739adebcdb">  629</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdlm__ls.html#a30ec780eba7b90cc1b47ce739adebcdb">ls_namelen</a>;</div><div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="structdlm__ls.html#af889b923946be81cc257b9d265f4ddd2">  630</a></span>&#160;    <span class="keywordtype">char</span>            ls_name[1];</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;};</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"> * LSFL_RECOVER_STOP - dlm_ls_stop() sets this to tell dlm recovery routines</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment"> * that they should abort what they&#39;re doing so new recovery can be started.</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment"> * LSFL_RECOVER_DOWN - dlm_ls_stop() sets this to tell dlm_recoverd that it</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment"> * should do down_write() on the in_recovery rw_semaphore. (doing down_write</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"> * within dlm_ls_stop causes complaints about the lock acquired/released</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment"> * in different contexts.)</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment"> * LSFL_RECOVER_LOCK - dlm_recoverd holds the in_recovery rw_semaphore.</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment"> * It sets this after it is done with down_write() on the in_recovery</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment"> * rw_semaphore and clears it after it has released the rw_semaphore.</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment"> * LSFL_RECOVER_WORK - dlm_ls_start() sets this to tell dlm_recoverd that it</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment"> * should begin recovery of the lockspace.</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment"> * LSFL_RUNNING - set when normal locking activity is enabled.</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment"> * dlm_ls_stop() clears this to tell dlm locking routines that they should</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment"> * quit what they are doing so recovery can run.  dlm_recoverd sets</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"> * this after recovery is finished.</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a3fd818119566ccde175a39cd2058f4ee">  655</a></span>&#160;<span class="preprocessor">#define LSFL_RECOVER_STOP   0</span></div><div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aa977d093ef76342625f3b5e82c202512">  656</a></span>&#160;<span class="preprocessor">#define LSFL_RECOVER_DOWN   1</span></div><div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ad5f7fc3af9c06e9a238f2aed2a67be93">  657</a></span>&#160;<span class="preprocessor">#define LSFL_RECOVER_LOCK   2</span></div><div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a9e4983f9a8052620ff7bc3c39f295de4">  658</a></span>&#160;<span class="preprocessor">#define LSFL_RECOVER_WORK   3</span></div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aae8300a6a409a4febeaa82981c82ce9b">  659</a></span>&#160;<span class="preprocessor">#define LSFL_RUNNING        4</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a10aec509c9e401032be7fce7b939b89b">  661</a></span>&#160;<span class="preprocessor">#define LSFL_RCOM_READY     5</span></div><div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a762687869f95a2b895d48f47bd32911f">  662</a></span>&#160;<span class="preprocessor">#define LSFL_RCOM_WAIT      6</span></div><div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a98a26de2853580b822d046d04904b541">  663</a></span>&#160;<span class="preprocessor">#define LSFL_UEVENT_WAIT    7</span></div><div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#acf4d8e46ab1727d3c54d01fb89c62393">  664</a></span>&#160;<span class="preprocessor">#define LSFL_TIMEWARN       8</span></div><div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#af26b3172ad18d9466df7e16e7ecee809">  665</a></span>&#160;<span class="preprocessor">#define LSFL_CB_DELAY       9</span></div><div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ac1547253c980eb5e5a4b14dc5270d48b">  666</a></span>&#160;<span class="preprocessor">#define LSFL_NODIR      10</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">/* much of this is just saving user space pointers associated with the</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">   lock that we pass back to the user lib with an ast */</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno"><a class="line" href="structdlm__user__args.html">  671</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__user__args.html">dlm_user_args</a> {</div><div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="structdlm__user__args.html#aed1576cc0775530f3e589c25ebb65ddc">  672</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__user__proc.html">dlm_user_proc</a>    *<a class="code" href="structdlm__user__args.html#aed1576cc0775530f3e589c25ebb65ddc">proc</a>; <span class="comment">/* each process that opens the lockspace</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">                      device has private data</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">                      (dlm_user_proc) on the struct file,</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">                      the process&#39;s locks point back to it*/</span></div><div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="structdlm__user__args.html#af3477a1e8a1421dc63b111c7ea909839">  676</a></span>&#160;    <span class="keyword">struct </span>dlm_lksb     lksb;</div><div class="line"><a name="l00677"></a><span class="lineno"><a class="line" href="structdlm__user__args.html#aebba915526196643162f9b8369f4ec46">  677</a></span>&#160;    <span class="keyword">struct </span>dlm_lksb __user  *<a class="code" href="structdlm__user__args.html#aebba915526196643162f9b8369f4ec46">user_lksb</a>;</div><div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="structdlm__user__args.html#ac5a6a34d41cf2ded5986e7d502862c88">  678</a></span>&#160;    <span class="keywordtype">void</span> __user     *<a class="code" href="structdlm__user__args.html#ac5a6a34d41cf2ded5986e7d502862c88">castparam</a>;</div><div class="line"><a name="l00679"></a><span class="lineno"><a class="line" href="structdlm__user__args.html#a91b2b309503d35e3c3f2b93d5d781774">  679</a></span>&#160;    <span class="keywordtype">void</span> __user     *<a class="code" href="structdlm__user__args.html#a91b2b309503d35e3c3f2b93d5d781774">castaddr</a>;</div><div class="line"><a name="l00680"></a><span class="lineno"><a class="line" href="structdlm__user__args.html#aa624eb59e29954878adc79b50b393c83">  680</a></span>&#160;    <span class="keywordtype">void</span> __user     *<a class="code" href="structdlm__user__args.html#aa624eb59e29954878adc79b50b393c83">bastparam</a>;</div><div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="structdlm__user__args.html#a797cb9ebc522e7bb2e8382e0a0d3d9f0">  681</a></span>&#160;    <span class="keywordtype">void</span> __user     *<a class="code" href="structdlm__user__args.html#a797cb9ebc522e7bb2e8382e0a0d3d9f0">bastaddr</a>;</div><div class="line"><a name="l00682"></a><span class="lineno"><a class="line" href="structdlm__user__args.html#a71de2b7b49de8511f8eb82bc103277ab">  682</a></span>&#160;    uint64_t        <a class="code" href="structdlm__user__args.html#a71de2b7b49de8511f8eb82bc103277ab">xid</a>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;};</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a033c29c9f2656b51d27a75c11bc5f8e7">  685</a></span>&#160;<span class="preprocessor">#define DLM_PROC_FLAGS_CLOSING 1</span></div><div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ac83175cf21030dbd764a23031e548ffa">  686</a></span>&#160;<span class="preprocessor">#define DLM_PROC_FLAGS_COMPAT  2</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">/* locks list is kept so we can remove all a process&#39;s locks when it</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">   exits (or orphan those that are persistent) */</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="structdlm__user__proc.html">  691</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__user__proc.html">dlm_user_proc</a> {</div><div class="line"><a name="l00692"></a><span class="lineno"><a class="line" href="structdlm__user__proc.html#a15e349f9d5e6588b804af908d31fd013">  692</a></span>&#160;    dlm_lockspace_t     *<a class="code" href="structdlm__user__proc.html#a15e349f9d5e6588b804af908d31fd013">lockspace</a>;</div><div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="structdlm__user__proc.html#a465f7251e5356e6510fabc9b2b497c58">  693</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structdlm__user__proc.html#a465f7251e5356e6510fabc9b2b497c58">flags</a>; <span class="comment">/* DLM_PROC_FLAGS */</span></div><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="structdlm__user__proc.html#aba81f1131b69b66997837a8d9af0119a">  694</a></span>&#160;    <span class="keyword">struct </span>list_head    asts;</div><div class="line"><a name="l00695"></a><span class="lineno"><a class="line" href="structdlm__user__proc.html#aed72de9715fe0d80b2d9fac543d2d019">  695</a></span>&#160;    spinlock_t      <a class="code" href="structdlm__user__proc.html#aed72de9715fe0d80b2d9fac543d2d019">asts_spin</a>;</div><div class="line"><a name="l00696"></a><span class="lineno"><a class="line" href="structdlm__user__proc.html#a262fb921e531f8a470f13c0d98471728">  696</a></span>&#160;    <span class="keyword">struct </span>list_head    locks;</div><div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="structdlm__user__proc.html#a7cb2a959b6d486cf289349946fa39668">  697</a></span>&#160;    spinlock_t      <a class="code" href="structdlm__user__proc.html#a7cb2a959b6d486cf289349946fa39668">locks_spin</a>;</div><div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="structdlm__user__proc.html#aae1cfe11e4f3e974976abd22c9a6f333">  698</a></span>&#160;    <span class="keyword">struct </span>list_head    unlocking;</div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="structdlm__user__proc.html#a29700db3214d70de9f022cc94b5cb042">  699</a></span>&#160;    wait_queue_head_t   <a class="code" href="structdlm__user__proc.html#a29700db3214d70de9f022cc94b5cb042">wait</a>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;};</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a64da6fb46fcbd219d2e46a010431cfce">  702</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlm__internal_8h.html#a64da6fb46fcbd219d2e46a010431cfce">dlm_locking_stopped</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ls.html">dlm_ls</a> *ls)</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> !test_bit(<a class="code" href="dlm__internal_8h.html#aae8300a6a409a4febeaa82981c82ce9b">LSFL_RUNNING</a>, &amp;ls-&gt;<a class="code" href="structdlm__ls.html#a9a04c2cb6ae31edd61ac3329be532565">ls_flags</a>);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a574b296d7ae4540ff756f7a46c185c50">  707</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlm__internal_8h.html#a574b296d7ae4540ff756f7a46c185c50">dlm_recovery_stopped</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ls.html">dlm_ls</a> *ls)</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;{</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">return</span> test_bit(<a class="code" href="dlm__internal_8h.html#a3fd818119566ccde175a39cd2058f4ee">LSFL_RECOVER_STOP</a>, &amp;ls-&gt;<a class="code" href="structdlm__ls.html#a9a04c2cb6ae31edd61ac3329be532565">ls_flags</a>);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a073ee3ed1277f65ecdd7b01388c135a2">  712</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlm__internal_8h.html#a073ee3ed1277f65ecdd7b01388c135a2">dlm_no_directory</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ls.html">dlm_ls</a> *ls)</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">return</span> test_bit(<a class="code" href="dlm__internal_8h.html#ac1547253c980eb5e5a4b14dc5270d48b">LSFL_NODIR</a>, &amp;ls-&gt;<a class="code" href="structdlm__ls.html#a9a04c2cb6ae31edd61ac3329be532565">ls_flags</a>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;}</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlm__internal_8h.html#ac6124f85af8c62a01a097dad7f90e0c5">dlm_netlink_init</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlm__internal_8h.html#ac0cfb5565f5186b0edf62d9746451bea">dlm_netlink_exit</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlm__internal_8h.html#aec006c0de374f980134e8dc5ad8d6848">dlm_timeout_warn</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lkb.html">dlm_lkb</a> *lkb);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlm__internal_8h.html#a50ed77cef7a0956f4f9166f7350652c0">dlm_plock_init</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlm__internal_8h.html#ab5e4f6393f23df01e95ebee6a2c82e50">dlm_plock_exit</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="preprocessor">#ifdef CONFIG_DLM_DEBUG</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlm__internal_8h.html#a542e88758c46aca8df526fdba7c3e768">dlm_register_debugfs</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlm__internal_8h.html#ad5ed6db85861541243d0c90bdf76981a">dlm_unregister_debugfs</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlm__internal_8h.html#aa112041c82cdf4699ac3f0652503fda3">dlm_create_debug_file</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ls.html">dlm_ls</a> *ls);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlm__internal_8h.html#a8bdc96d40ccb967109f96892b164f562">dlm_delete_debug_file</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ls.html">dlm_ls</a> *ls);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a542e88758c46aca8df526fdba7c3e768">  729</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlm__internal_8h.html#a542e88758c46aca8df526fdba7c3e768">dlm_register_debugfs</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> 0; }</div><div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#ad5ed6db85861541243d0c90bdf76981a">  730</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlm__internal_8h.html#ad5ed6db85861541243d0c90bdf76981a">dlm_unregister_debugfs</a>(<span class="keywordtype">void</span>) { }</div><div class="line"><a name="l00731"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#aa112041c82cdf4699ac3f0652503fda3">  731</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlm__internal_8h.html#aa112041c82cdf4699ac3f0652503fda3">dlm_create_debug_file</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ls.html">dlm_ls</a> *ls) { <span class="keywordflow">return</span> 0; }</div><div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="dlm__internal_8h.html#a8bdc96d40ccb967109f96892b164f562">  732</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlm__internal_8h.html#a8bdc96d40ccb967109f96892b164f562">dlm_delete_debug_file</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ls.html">dlm_ls</a> *ls) { }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="preprocessor">#endif              </span><span class="comment">/* __DLM_INTERNAL_DOT_H__ */</span><span class="preprocessor"></span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="ttc" id="dlm__internal_8h_html_a073ee3ed1277f65ecdd7b01388c135a2"><div class="ttname"><a href="dlm__internal_8h.html#a073ee3ed1277f65ecdd7b01388c135a2">dlm_no_directory</a></div><div class="ttdeci">static int dlm_no_directory(struct dlm_ls *ls)</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:712</div></div>
<div class="ttc" id="structrcom__status_html"><div class="ttname"><a href="structrcom__status.html">rcom_status</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:467</div></div>
<div class="ttc" id="structrcom__lock_html_ae1d864650d2e754ac3814ddc693578ff"><div class="ttname"><a href="structrcom__lock.html#ae1d864650d2e754ac3814ddc693578ff">rcom_lock::rl_lkid</a></div><div class="ttdeci">__le32 rl_lkid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:496</div></div>
<div class="ttc" id="structdlm__message_html_a2ed86c6191045630ed15bddc42a1015e"><div class="ttname"><a href="structdlm__message.html#a2ed86c6191045630ed15bddc42a1015e">dlm_message::m_bastmode</a></div><div class="ttdeci">int m_bastmode</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:423</div></div>
<div class="ttc" id="structdlm__user__proc_html_aed72de9715fe0d80b2d9fac543d2d019"><div class="ttname"><a href="structdlm__user__proc.html#aed72de9715fe0d80b2d9fac543d2d019">dlm_user_proc::asts_spin</a></div><div class="ttdeci">spinlock_t asts_spin</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:695</div></div>
<div class="ttc" id="structdlm__ls_html_a7b2b5805bc6446915858d41333d465ef"><div class="ttname"><a href="structdlm__ls.html#a7b2b5805bc6446915858d41333d465ef">dlm_ls::ls_recover_list_lock</a></div><div class="ttdeci">spinlock_t ls_recover_list_lock</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:615</div></div>
<div class="ttc" id="structdlm__ls_html_a7edcff9687cf9a860778136f87ddeaf3"><div class="ttname"><a href="structdlm__ls.html#a7edcff9687cf9a860778136f87ddeaf3">dlm_ls::ls_debug_toss_dentry</a></div><div class="ttdeci">struct dentry * ls_debug_toss_dentry</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:580</div></div>
<div class="ttc" id="structrcom__config_html"><div class="ttname"><a href="structrcom__config.html">rcom_config</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:474</div></div>
<div class="ttc" id="dlm__internal_8h_html_a9d1125d7a10ba562c0e48c3a053f02ad"><div class="ttname"><a href="dlm__internal_8h.html#a9d1125d7a10ba562c0e48c3a053f02ad">DLM_REMOVE_NAMES_MAX</a></div><div class="ttdeci">#define DLM_REMOVE_NAMES_MAX</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:519</div></div>
<div class="ttc" id="dlm__internal_8h_html_aad41ab348123acdbb2f6f4941dc46149"><div class="ttname"><a href="dlm__internal_8h.html#aad41ab348123acdbb2f6f4941dc46149">rsb_set_flag</a></div><div class="ttdeci">static void rsb_set_flag(struct dlm_rsb *r, enum rsb_flags flag)</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:355</div></div>
<div class="ttc" id="structdlm__ls_html_a3b7d840695d32f127d623ad77410a005"><div class="ttname"><a href="structdlm__ls.html#a3b7d840695d32f127d623ad77410a005">dlm_ls::ls_recoverd_task</a></div><div class="ttdeci">struct task_struct * ls_recoverd_task</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:596</div></div>
<div class="ttc" id="structrcom__slot_html_ad3d573f8c9dbd0aae95d968dc9f6b64e"><div class="ttname"><a href="structrcom__slot.html#ad3d573f8c9dbd0aae95d968dc9f6b64e">rcom_slot::ro_unused1</a></div><div class="ttdeci">__le16 ro_unused1</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:490</div></div>
<div class="ttc" id="dlm__internal_8h_html_a17061e1356a0f7ed07e5ac7e203b0b51"><div class="ttname"><a href="dlm__internal_8h.html#a17061e1356a0f7ed07e5ac7e203b0b51">rsb_clear_flag</a></div><div class="ttdeci">static void rsb_clear_flag(struct dlm_rsb *r, enum rsb_flags flag)</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:360</div></div>
<div class="ttc" id="structdlm__message_html_a9b1837cafea1ae0c05d9131ebd71a53f"><div class="ttname"><a href="structdlm__message.html#a9b1837cafea1ae0c05d9131ebd71a53f">dlm_message::m_status</a></div><div class="ttdeci">int m_status</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:420</div></div>
<div class="ttc" id="structdlm__rsbtable_html_ac94107f8570b146dd343b8cc7cc10dc2"><div class="ttname"><a href="structdlm__rsbtable.html#ac94107f8570b146dd343b8cc7cc10dc2">dlm_rsbtable::lock</a></div><div class="ttdeci">spinlock_t lock</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:113</div></div>
<div class="ttc" id="structdlm__args_html"><div class="ttname"><a href="structdlm__args.html">dlm_args</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:147</div></div>
<div class="ttc" id="structdlm__ls_html_aea3b34318cbfde8f2561e536b12c811b"><div class="ttname"><a href="structdlm__ls.html#aea3b34318cbfde8f2561e536b12c811b">dlm_ls::ls_low_nodeid</a></div><div class="ttdeci">int ls_low_nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:563</div></div>
<div class="ttc" id="structrcom__config_html_a633dd3d9f442ba4a936aec3027dfe07b"><div class="ttname"><a href="structrcom__config.html#a633dd3d9f442ba4a936aec3027dfe07b">rcom_config::rf_generation</a></div><div class="ttdeci">__le32 rf_generation</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:482</div></div>
<div class="ttc" id="dlm__internal_8h_html_a542e88758c46aca8df526fdba7c3e768"><div class="ttname"><a href="dlm__internal_8h.html#a542e88758c46aca8df526fdba7c3e768">dlm_register_debugfs</a></div><div class="ttdeci">static int dlm_register_debugfs(void)</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:729</div></div>
<div class="ttc" id="structdlm__ls_html_ad381f79ae461b144c1dc272f71940cb3"><div class="ttname"><a href="structdlm__ls.html#ad381f79ae461b144c1dc272f71940cb3">dlm_ls::ls_ops</a></div><div class="ttdeci">const struct dlm_lockspace_ops * ls_ops</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:626</div></div>
<div class="ttc" id="structdlm__ls_html_a13965ea51b6579e2108992943c05833d"><div class="ttname"><a href="structdlm__ls.html#a13965ea51b6579e2108992943c05833d">dlm_ls::ls_debug_waiters_dentry</a></div><div class="ttdeci">struct dentry * ls_debug_waiters_dentry</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:577</div></div>
<div class="ttc" id="structdlm__ls_html_aa7ac1e8b784dd4eabbee6751e6ea4bd1"><div class="ttname"><a href="structdlm__ls.html#aa7ac1e8b784dd4eabbee6751e6ea4bd1">dlm_ls::ls_slots_size</a></div><div class="ttdeci">int ls_slots_size</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:569</div></div>
<div class="ttc" id="structdlm__user__args_html"><div class="ttname"><a href="structdlm__user__args.html">dlm_user_args</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:671</div></div>
<div class="ttc" id="structdlm__rsb_html"><div class="ttname"><a href="structdlm__rsb.html">dlm_rsb</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:294</div></div>
<div class="ttc" id="structdlm__ls_html_a30ec780eba7b90cc1b47ce739adebcdb"><div class="ttname"><a href="structdlm__ls.html#a30ec780eba7b90cc1b47ce739adebcdb">dlm_ls::ls_namelen</a></div><div class="ttdeci">int ls_namelen</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:629</div></div>
<div class="ttc" id="dlm__internal_8h_html_abc3058ea5cd6c169491f0828f4ab3ef1a3685fcd345c64307e50387411f4ad45b"><div class="ttname"><a href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a3685fcd345c64307e50387411f4ad45b">RSB_NEW_MASTER</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:348</div></div>
<div class="ttc" id="dlm__internal_8h_html_abc3058ea5cd6c169491f0828f4ab3ef1acf4e840ba882dafc9c63be685956dd97"><div class="ttname"><a href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1acf4e840ba882dafc9c63be685956dd97">RSB_VALNOTVALID_PREV</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:347</div></div>
<div class="ttc" id="structdlm__lkb_html_a4809a74d62fbb558988fc444c687045c"><div class="ttname"><a href="structdlm__lkb.html#a4809a74d62fbb558988fc444c687045c">dlm_lkb::lkb_last_cast_time</a></div><div class="ttdeci">ktime_t lkb_last_cast_time</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:269</div></div>
<div class="ttc" id="structrcom__status_html_a8936a623295e5840214b7623c822d2eb"><div class="ttname"><a href="structrcom__status.html#a8936a623295e5840214b7623c822d2eb">rcom_status::rs_unused2</a></div><div class="ttdeci">__le64 rs_unused2</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:470</div></div>
<div class="ttc" id="structdlm__member_html_a7e176cd29e569b5b337a10634c725933"><div class="ttname"><a href="structdlm__member.html#a7e176cd29e569b5b337a10634c725933">dlm_member::slot</a></div><div class="ttdeci">int slot</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:126</div></div>
<div class="ttc" id="structdlm__recover_html_a2d55f88627ef577951080c3e8f17687c"><div class="ttname"><a href="structdlm__recover.html#a2d55f88627ef577951080c3e8f17687c">dlm_recover::nodes_count</a></div><div class="ttdeci">int nodes_count</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:139</div></div>
<div class="ttc" id="structdlm__header_html_a9fce15422d0141ff1aae004510239e42"><div class="ttname"><a href="structdlm__header.html#a9fce15422d0141ff1aae004510239e42">dlm_header::h_nodeid</a></div><div class="ttdeci">uint32_t h_nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:384</div></div>
<div class="ttc" id="structdlm__message_html_a0afe038f2a1f86ae22886c76c25edc0f"><div class="ttname"><a href="structdlm__message.html#a0afe038f2a1f86ae22886c76c25edc0f">dlm_message::m_rqmode</a></div><div class="ttdeci">int m_rqmode</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:422</div></div>
<div class="ttc" id="structdlm__callback_html_abc1bbd20f59287534adf4167ae065364"><div class="ttname"><a href="structdlm__callback.html#abc1bbd20f59287534adf4167ae065364">dlm_callback::seq</a></div><div class="ttdeci">uint64_t seq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:226</div></div>
<div class="ttc" id="structdlm__args_html_aade775385b72a36df8ed408c81c29125"><div class="ttname"><a href="structdlm__args.html#aade775385b72a36df8ed408c81c29125">dlm_args::timeout</a></div><div class="ttdeci">unsigned long timeout</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:154</div></div>
<div class="ttc" id="structdlm__config__node_html"><div class="ttname"><a href="structdlm__config__node.html">dlm_config_node</a></div><div class="ttdef"><b>Definition:</b> config.h:17</div></div>
<div class="ttc" id="structdlm__ls_html_a0fb8885edf9961de68f0446cb2a047c6"><div class="ttname"><a href="structdlm__ls.html#a0fb8885edf9961de68f0446cb2a047c6">dlm_ls::ls_callback_wq</a></div><div class="ttdeci">struct workqueue_struct * ls_callback_wq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:589</div></div>
<div class="ttc" id="dlm__internal_8h_html_a3fd818119566ccde175a39cd2058f4ee"><div class="ttname"><a href="dlm__internal_8h.html#a3fd818119566ccde175a39cd2058f4ee">LSFL_RECOVER_STOP</a></div><div class="ttdeci">#define LSFL_RECOVER_STOP</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:655</div></div>
<div class="ttc" id="structdlm__rsb_html_aaa8f57a41fb68de885b56d6adb400b33"><div class="ttname"><a href="structdlm__rsb.html#aaa8f57a41fb68de885b56d6adb400b33">dlm_rsb::res_dir_nodeid</a></div><div class="ttdeci">int res_dir_nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:302</div></div>
<div class="ttc" id="structdlm__ls_html_a0eae6c9f8785bf06e3ff6960c2518a80"><div class="ttname"><a href="structdlm__ls.html#a0eae6c9f8785bf06e3ff6960c2518a80">dlm_ls::ls_recover_buf</a></div><div class="ttdeci">struct dlm_rcom * ls_recover_buf</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:607</div></div>
<div class="ttc" id="structdlm__args_html_a59a5b4e5ae3c0126102c7f3725f5d052"><div class="ttname"><a href="structdlm__args.html#a59a5b4e5ae3c0126102c7f3725f5d052">dlm_args::astparam</a></div><div class="ttdeci">void * astparam</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:150</div></div>
<div class="ttc" id="structdlm__ls_html_a3f0a6bd12b212c5246ef12e922032a07"><div class="ttname"><a href="structdlm__ls.html#a3f0a6bd12b212c5246ef12e922032a07">dlm_ls::ls_recover_locks_in</a></div><div class="ttdeci">unsigned int ls_recover_locks_in</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:611</div></div>
<div class="ttc" id="structdlm__message_html_ad3e384b5d5779feaa11d77d9f416e72c"><div class="ttname"><a href="structdlm__message.html#ad3e384b5d5779feaa11d77d9f416e72c">dlm_message::m_exflags</a></div><div class="ttdeci">uint32_t m_exflags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:415</div></div>
<div class="ttc" id="structdlm__user__proc_html"><div class="ttname"><a href="structdlm__user__proc.html">dlm_user_proc</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:691</div></div>
<div class="ttc" id="structdlm__header_html_ac9b83dc05e3463c8fd393ad24a923f55"><div class="ttname"><a href="structdlm__header.html#ac9b83dc05e3463c8fd393ad24a923f55">dlm_header::h_cmd</a></div><div class="ttdeci">uint8_t h_cmd</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:386</div></div>
<div class="ttc" id="structdlm__recover_html"><div class="ttname"><a href="structdlm__recover.html">dlm_recover</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:136</div></div>
<div class="ttc" id="structdlm__lkb_html_ab3e4672336a09e5f4f155842826e05f2"><div class="ttname"><a href="structdlm__lkb.html#ab3e4672336a09e5f4f155842826e05f2">dlm_lkb::lkb_exflags</a></div><div class="ttdeci">uint32_t lkb_exflags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:240</div></div>
<div class="ttc" id="structdlm__user__args_html_aed1576cc0775530f3e589c25ebb65ddc"><div class="ttname"><a href="structdlm__user__args.html#aed1576cc0775530f3e589c25ebb65ddc">dlm_user_args::proc</a></div><div class="ttdeci">struct dlm_user_proc * proc</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:672</div></div>
<div class="ttc" id="structrcom__status_html_aa2b690ffdc6d95352ffa390619b04822"><div class="ttname"><a href="structrcom__status.html#aa2b690ffdc6d95352ffa390619b04822">rcom_status::rs_flags</a></div><div class="ttdeci">__le32 rs_flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:468</div></div>
<div class="ttc" id="dlm__internal_8h_html_abc3058ea5cd6c169491f0828f4ab3ef1a3dedc575bf4fe1ed6f1c4279c1c1a0c0"><div class="ttname"><a href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a3dedc575bf4fe1ed6f1c4279c1c1a0c0">RSB_RECOVER_CONVERT</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:350</div></div>
<div class="ttc" id="structdlm__header_html"><div class="ttname"><a href="structdlm__header.html">dlm_header</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:381</div></div>
<div class="ttc" id="structdlm__member_html"><div class="ttname"><a href="structdlm__member.html">dlm_member</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:122</div></div>
<div class="ttc" id="structrcom__lock_html_aa288cf0632f72af6b58987e558048a0f"><div class="ttname"><a href="structrcom__lock.html#aa288cf0632f72af6b58987e558048a0f">rcom_lock::rl_grmode</a></div><div class="ttdeci">int8_t rl_grmode</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:505</div></div>
<div class="ttc" id="structdlm__lkb_html_acd3f7113d7d8f502ee098f37599809de"><div class="ttname"><a href="structdlm__lkb.html#acd3f7113d7d8f502ee098f37599809de">dlm_lkb::lkb_wait_type</a></div><div class="ttdeci">int8_t lkb_wait_type</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:250</div></div>
<div class="ttc" id="structdlm__ls_html_adb8dfa3b35e020a42a374cd80368cd52"><div class="ttname"><a href="structdlm__ls.html#adb8dfa3b35e020a42a374cd80368cd52">dlm_ls::ls_recover_lock</a></div><div class="ttdeci">spinlock_t ls_recover_lock</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:598</div></div>
<div class="ttc" id="structdlm__lkb_html_ac78ec893b6ba7b32ede798d4e4783068"><div class="ttname"><a href="structdlm__lkb.html#ac78ec893b6ba7b32ede798d4e4783068">dlm_lkb::lkb_timeout_cs</a></div><div class="ttdeci">unsigned long lkb_timeout_cs</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:261</div></div>
<div class="ttc" id="dlm__internal_8h_html_ad5ed6db85861541243d0c90bdf76981a"><div class="ttname"><a href="dlm__internal_8h.html#ad5ed6db85861541243d0c90bdf76981a">dlm_unregister_debugfs</a></div><div class="ttdeci">static void dlm_unregister_debugfs(void)</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:730</div></div>
<div class="ttc" id="structdlm__rsbtable_html_a5f8cb75c0350600f90a559ec7affe722"><div class="ttname"><a href="structdlm__rsbtable.html#a5f8cb75c0350600f90a559ec7affe722">dlm_rsbtable::toss</a></div><div class="ttdeci">struct rb_root toss</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:112</div></div>
<div class="ttc" id="structrcom__lock_html"><div class="ttname"><a href="structrcom__lock.html">rcom_lock</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:494</div></div>
<div class="ttc" id="structdlm__rsbtable_html_a1e6bd6ec44dde6317237efddc75a0e25"><div class="ttname"><a href="structdlm__rsbtable.html#a1e6bd6ec44dde6317237efddc75a0e25">dlm_rsbtable::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:114</div></div>
<div class="ttc" id="structdlm__message_html_ad991ec585a99852ef863083b9c8b88f6"><div class="ttname"><a href="structdlm__message.html#ad991ec585a99852ef863083b9c8b88f6">dlm_message::m_sbflags</a></div><div class="ttdeci">uint32_t m_sbflags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:416</div></div>
<div class="ttc" id="structdlm__ls_html_a7505d90bf5d487d930da7c7a1d792a77"><div class="ttname"><a href="structdlm__ls.html#a7505d90bf5d487d930da7c7a1d792a77">dlm_ls::ls_slot</a></div><div class="ttdeci">int ls_slot</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:567</div></div>
<div class="ttc" id="structrcom__lock_html_a1e8fdf51a93fdae9ec983ba80787f412"><div class="ttname"><a href="structrcom__lock.html#a1e8fdf51a93fdae9ec983ba80787f412">rcom_lock::rl_parent_remid</a></div><div class="ttdeci">__le32 rl_parent_remid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:499</div></div>
<div class="ttc" id="structdlm__args_html_a01f92432dad2da4bf31fd14f16f9b53f"><div class="ttname"><a href="structdlm__args.html#a01f92432dad2da4bf31fd14f16f9b53f">dlm_args::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:148</div></div>
<div class="ttc" id="structdlm__recover_html_a7db8e4458295e2c3c5562b3b368050bd"><div class="ttname"><a href="structdlm__recover.html#a7db8e4458295e2c3c5562b3b368050bd">dlm_recover::seq</a></div><div class="ttdeci">uint64_t seq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:140</div></div>
<div class="ttc" id="config_8h_html"><div class="ttname"><a href="config_8h.html">config.h</a></div></div>
<div class="ttc" id="structdlm__rcom_html_af6267bf578a8a8038359690f03de059c"><div class="ttname"><a href="structdlm__rcom.html#af6267bf578a8a8038359690f03de059c">dlm_rcom::rc_id</a></div><div class="ttdeci">uint64_t rc_id</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:452</div></div>
<div class="ttc" id="structdlm__args_html_a780acca0c57344053f3fab7f70a66cb7"><div class="ttname"><a href="structdlm__args.html#a780acca0c57344053f3fab7f70a66cb7">dlm_args::lksb</a></div><div class="ttdeci">struct dlm_lksb * lksb</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:153</div></div>
<div class="ttc" id="structdlm__rsb_html_ad6d4e343eba4d1ea0ff251c64e07890d"><div class="ttname"><a href="structdlm__rsb.html#ad6d4e343eba4d1ea0ff251c64e07890d">dlm_rsb::res_nodeid</a></div><div class="ttdeci">int res_nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:300</div></div>
<div class="ttc" id="structdlm__ls_html_af375e182162cd23719a5209b8672c2a6"><div class="ttname"><a href="structdlm__ls.html#af375e182162cd23719a5209b8672c2a6">dlm_ls::ls_new_rsb_spin</a></div><div class="ttdeci">spinlock_t ls_new_rsb_spin</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:550</div></div>
<div class="ttc" id="structdlm__ls_html_a9a04c2cb6ae31edd61ac3329be532565"><div class="ttname"><a href="structdlm__ls.html#a9a04c2cb6ae31edd61ac3329be532565">dlm_ls::ls_flags</a></div><div class="ttdeci">unsigned long ls_flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:531</div></div>
<div class="ttc" id="structdlm__ls_html_af4e1d7cc0ed8aad21ab3dbb84e0df6d4"><div class="ttname"><a href="structdlm__ls.html#af4e1d7cc0ed8aad21ab3dbb84e0df6d4">dlm_ls::ls_recover_seq</a></div><div class="ttdeci">uint64_t ls_recover_seq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:601</div></div>
<div class="ttc" id="structdlm__header_html_a69012de41283a3d0739185ccd6df3186"><div class="ttname"><a href="structdlm__header.html#a69012de41283a3d0739185ccd6df3186">dlm_header::h_length</a></div><div class="ttdeci">uint16_t h_length</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:385</div></div>
<div class="ttc" id="structdlm__rsb_html_aae1a3c405cfa4b48fc2f638cf48fa968"><div class="ttname"><a href="structdlm__rsb.html#aae1a3c405cfa4b48fc2f638cf48fa968">dlm_rsb::res_recover_locks_count</a></div><div class="ttdeci">int res_recover_locks_count</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:320</div></div>
<div class="ttc" id="structdlm__member_html_ac938bca2fb2915c57862a4a27e48a57d"><div class="ttname"><a href="structdlm__member.html#ac938bca2fb2915c57862a4a27e48a57d">dlm_member::weight</a></div><div class="ttdeci">int weight</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:125</div></div>
<div class="ttc" id="structrcom__slot_html_a5b14475726e34261026a9d7b8c1bbb72"><div class="ttname"><a href="structrcom__slot.html#a5b14475726e34261026a9d7b8c1bbb72">rcom_slot::ro_unused2</a></div><div class="ttdeci">__le64 ro_unused2</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:491</div></div>
<div class="ttc" id="structdlm__lkb_html_aea180120cef5044e495ba8f8d54217e5"><div class="ttname"><a href="structdlm__lkb.html#aea180120cef5044e495ba8f8d54217e5">dlm_lkb::lkb_status</a></div><div class="ttdeci">int8_t lkb_status</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:245</div></div>
<div class="ttc" id="dlm__internal_8h_html_ab5e4f6393f23df01e95ebee6a2c82e50"><div class="ttname"><a href="dlm__internal_8h.html#ab5e4f6393f23df01e95ebee6a2c82e50">dlm_plock_exit</a></div><div class="ttdeci">void dlm_plock_exit(void)</div><div class="ttdef"><b>Definition:</b> plock.c:510</div></div>
<div class="ttc" id="dlm__internal_8h_html_a0436285f0c95b7b8282cfff47247aa4a"><div class="ttname"><a href="dlm__internal_8h.html#a0436285f0c95b7b8282cfff47247aa4a">DLM_CALLBACKS_SIZE</a></div><div class="ttdeci">#define DLM_CALLBACKS_SIZE</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:219</div></div>
<div class="ttc" id="structdlm__ls_html_a6db2d5c59ca56fc5b2472bb6f66d47ac"><div class="ttname"><a href="structdlm__ls.html#a6db2d5c59ca56fc5b2472bb6f66d47ac">dlm_ls::ls_node_array</a></div><div class="ttdeci">int * ls_node_array</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:565</div></div>
<div class="ttc" id="structdlm__lkb_html_a24563e6fca6d7d751c68bb6d890b2f51"><div class="ttname"><a href="structdlm__lkb.html#a24563e6fca6d7d751c68bb6d890b2f51">dlm_lkb::lkb_wait_time</a></div><div class="ttdeci">ktime_t lkb_wait_time</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:260</div></div>
<div class="ttc" id="structrcom__config_html_a754f572bbee9e881f774c1ec0cd9074a"><div class="ttname"><a href="structrcom__config.html#a754f572bbee9e881f774c1ec0cd9074a">rcom_config::rf_num_slots</a></div><div class="ttdeci">__le16 rf_num_slots</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:481</div></div>
<div class="ttc" id="structdlm__lkb_html_acbf48f74746b9ed45f082312298b3566"><div class="ttname"><a href="structdlm__lkb.html#acbf48f74746b9ed45f082312298b3566">dlm_lkb::lkb_timestamp</a></div><div class="ttdeci">ktime_t lkb_timestamp</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:259</div></div>
<div class="ttc" id="dlm__internal_8h_html_aa112041c82cdf4699ac3f0652503fda3"><div class="ttname"><a href="dlm__internal_8h.html#aa112041c82cdf4699ac3f0652503fda3">dlm_create_debug_file</a></div><div class="ttdeci">static int dlm_create_debug_file(struct dlm_ls *ls)</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:731</div></div>
<div class="ttc" id="structdlm__ls_html_a00411617fc117848c7b567a77571ac33"><div class="ttname"><a href="structdlm__ls.html#a00411617fc117848c7b567a77571ac33">dlm_ls::ls_uevent_result</a></div><div class="ttdeci">int ls_uevent_result</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:583</div></div>
<div class="ttc" id="structdlm__message_html_a8d72d22a9ffa1404206ae0f47c0cd14b"><div class="ttname"><a href="structdlm__message.html#a8d72d22a9ffa1404206ae0f47c0cd14b">dlm_message::m_type</a></div><div class="ttdeci">uint32_t m_type</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:408</div></div>
<div class="ttc" id="structdlm__ls_html_a917e3afa95c583c2eb9f8da6f4344e1a"><div class="ttname"><a href="structdlm__ls.html#a917e3afa95c583c2eb9f8da6f4344e1a">dlm_ls::ls_slots</a></div><div class="ttdeci">struct dlm_slot * ls_slots</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:570</div></div>
<div class="ttc" id="structdlm__rcom_html_ace086316bc993c94e212533c32f220a3"><div class="ttname"><a href="structdlm__rcom.html#ace086316bc993c94e212533c32f220a3">dlm_rcom::rc_seq</a></div><div class="ttdeci">uint64_t rc_seq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:453</div></div>
<div class="ttc" id="structdlm__args_html_ac6297acfe6c599b6ce271f9e660ca1a6"><div class="ttname"><a href="structdlm__args.html#ac6297acfe6c599b6ce271f9e660ca1a6">dlm_args::mode</a></div><div class="ttdeci">int mode</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:152</div></div>
<div class="ttc" id="structrcom__slot_html_a6eea4f4a7568f0b03756d3523ad57c6e"><div class="ttname"><a href="structrcom__slot.html#a6eea4f4a7568f0b03756d3523ad57c6e">rcom_slot::ro_slot</a></div><div class="ttdeci">__le16 ro_slot</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:489</div></div>
<div class="ttc" id="structdlm__lkb_html_a879c88a7db55e5bf37bf4f9755d0aafb"><div class="ttname"><a href="structdlm__lkb.html#a879c88a7db55e5bf37bf4f9755d0aafb">dlm_lkb::lkb_lvbptr</a></div><div class="ttdeci">char * lkb_lvbptr</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:274</div></div>
<div class="ttc" id="structdlm__ls_html_a1ee297ccbafa99d4e771f96b67b6f2e9"><div class="ttname"><a href="structdlm__ls.html#a1ee297ccbafa99d4e771f96b67b6f2e9">dlm_ls::ls_remove_spin</a></div><div class="ttdeci">spinlock_t ls_remove_spin</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:554</div></div>
<div class="ttc" id="structrcom__config_html_ac2bf2101ae2b27ad6865f052236b8f24"><div class="ttname"><a href="structrcom__config.html#ac2bf2101ae2b27ad6865f052236b8f24">rcom_config::rf_flags</a></div><div class="ttdeci">__le32 rf_flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:479</div></div>
<div class="ttc" id="structdlm__rsb_html_a443768a22e7b78ed9f7dda4fe611bdff"><div class="ttname"><a href="structdlm__rsb.html#a443768a22e7b78ed9f7dda4fe611bdff">dlm_rsb::res_master_nodeid</a></div><div class="ttdeci">int res_master_nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:301</div></div>
<div class="ttc" id="structdlm__ls_html_a7e1bff4109a6b8f2079c912cd8160038"><div class="ttname"><a href="structdlm__ls.html#a7e1bff4109a6b8f2079c912cd8160038">dlm_ls::ls_debug_locks_dentry</a></div><div class="ttdeci">struct dentry * ls_debug_locks_dentry</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:578</div></div>
<div class="ttc" id="dlm__internal_8h_html_abc3058ea5cd6c169491f0828f4ab3ef1a495f7e8d7cedeccd402c5453a63dd17d"><div class="ttname"><a href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a495f7e8d7cedeccd402c5453a63dd17d">RSB_RECOVER_GRANT</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:351</div></div>
<div class="ttc" id="structdlm__header_html_a4cc7f5f5471ab81b6d1780bae259d4bc"><div class="ttname"><a href="structdlm__header.html#a4cc7f5f5471ab81b6d1780bae259d4bc">dlm_header::h_version</a></div><div class="ttdeci">uint32_t h_version</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:382</div></div>
<div class="ttc" id="structrcom__lock_html_aae0ff64859813900bbe7dfd37e7c5488"><div class="ttname"><a href="structrcom__lock.html#aae0ff64859813900bbe7dfd37e7c5488">rcom_lock::rl_wait_type</a></div><div class="ttdeci">__le16 rl_wait_type</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:508</div></div>
<div class="ttc" id="dlm__internal_8h_html_ac0cfb5565f5186b0edf62d9746451bea"><div class="ttname"><a href="dlm__internal_8h.html#ac0cfb5565f5186b0edf62d9746451bea">dlm_netlink_exit</a></div><div class="ttdeci">void dlm_netlink_exit(void)</div><div class="ttdef"><b>Definition:</b> netlink.c:88</div></div>
<div class="ttc" id="structdlm__lkb_html_a545f9f2ef58fcdc2855884ac8c5d7d98"><div class="ttname"><a href="structdlm__lkb.html#a545f9f2ef58fcdc2855884ac8c5d7d98">dlm_lkb::lkb_remid</a></div><div class="ttdeci">uint32_t lkb_remid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:239</div></div>
<div class="ttc" id="structdlm__ls_html_a9bd78e128bb49739b663f4898ae03336"><div class="ttname"><a href="structdlm__ls.html#a9bd78e128bb49739b663f4898ae03336">dlm_ls::ls_scan_time</a></div><div class="ttdeci">unsigned long ls_scan_time</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:532</div></div>
<div class="ttc" id="structdlm__lkb_html"><div class="ttname"><a href="structdlm__lkb.html">dlm_lkb</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:233</div></div>
<div class="ttc" id="structdlm__lkb_html_abe3d2be497dc0651479cd19cacbc95b0"><div class="ttname"><a href="structdlm__lkb.html#abe3d2be497dc0651479cd19cacbc95b0">dlm_lkb::lkb_lksb</a></div><div class="ttdeci">struct dlm_lksb * lkb_lksb</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:275</div></div>
<div class="ttc" id="structdlm__ls_html_a2637379d7df2faadc26f47b2aed99606"><div class="ttname"><a href="structdlm__ls.html#a2637379d7df2faadc26f47b2aed99606">dlm_ls::ls_rcom_spin</a></div><div class="ttdeci">spinlock_t ls_rcom_spin</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:613</div></div>
<div class="ttc" id="structrcom__lock_html_a807a264bf68d99868bd5a0e9e6cbb1df"><div class="ttname"><a href="structrcom__lock.html#a807a264bf68d99868bd5a0e9e6cbb1df">rcom_lock::rl_remid</a></div><div class="ttdeci">__le32 rl_remid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:497</div></div>
<div class="ttc" id="structdlm__lkb_html_a4198f67e4ee2d9d3a85dcecdfda676dd"><div class="ttname"><a href="structdlm__lkb.html#a4198f67e4ee2d9d3a85dcecdfda676dd">dlm_lkb::lkb_ua</a></div><div class="ttdeci">struct dlm_user_args * lkb_ua</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:280</div></div>
<div class="ttc" id="dlm__internal_8h_html_abc3058ea5cd6c169491f0828f4ab3ef1acfcd4d29441929c35c59c20fe0f2bb29"><div class="ttname"><a href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1acfcd4d29441929c35c59c20fe0f2bb29">RSB_VALNOTVALID</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:346</div></div>
<div class="ttc" id="structdlm__ls_html_ac0e9a0eefd6bd77c8c6cb56913835081"><div class="ttname"><a href="structdlm__ls.html#ac0e9a0eefd6bd77c8c6cb56913835081">dlm_ls::ls_count</a></div><div class="ttdeci">int ls_count</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:528</div></div>
<div class="ttc" id="structdlm__member_html_a710f524846bf0b4e27863f134114a6ba"><div class="ttname"><a href="structdlm__member.html#a710f524846bf0b4e27863f134114a6ba">dlm_member::generation</a></div><div class="ttdeci">uint32_t generation</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:129</div></div>
<div class="ttc" id="structdlm__header_html_a75584288c72be2b76c35fbedcabc0f32"><div class="ttname"><a href="structdlm__header.html#a75584288c72be2b76c35fbedcabc0f32">dlm_header::h_lockspace</a></div><div class="ttdeci">uint32_t h_lockspace</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:383</div></div>
<div class="ttc" id="structdlm__ls_html_abbd262f526ba788bdc56e66f72fcc1b0"><div class="ttname"><a href="structdlm__ls.html#abbd262f526ba788bdc56e66f72fcc1b0">dlm_ls::ls_ops_arg</a></div><div class="ttdeci">void * ls_ops_arg</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:627</div></div>
<div class="ttc" id="uniondlm__packet_html"><div class="ttname"><a href="uniondlm__packet.html">dlm_packet</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:458</div></div>
<div class="ttc" id="structrcom__lock_html_aeab52b32f674460fd8d9289b9133c9a0"><div class="ttname"><a href="structrcom__lock.html#aeab52b32f674460fd8d9289b9133c9a0">rcom_lock::rl_asts</a></div><div class="ttdeci">int8_t rl_asts</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:507</div></div>
<div class="ttc" id="structdlm__user__proc_html_a465f7251e5356e6510fabc9b2b497c58"><div class="ttname"><a href="structdlm__user__proc.html#a465f7251e5356e6510fabc9b2b497c58">dlm_user_proc::flags</a></div><div class="ttdeci">unsigned long flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:693</div></div>
<div class="ttc" id="structdlm__rsb_html_a7bb09fe258221577aab57e9657b4c54a"><div class="ttname"><a href="structdlm__rsb.html#a7bb09fe258221577aab57e9657b4c54a">dlm_rsb::res_toss_time</a></div><div class="ttdeci">unsigned long res_toss_time</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:307</div></div>
<div class="ttc" id="structdlm__message_html_a9920d4bf58af28c28217bba7825c2220"><div class="ttname"><a href="structdlm__message.html#a9920d4bf58af28c28217bba7825c2220">dlm_message::m_asts</a></div><div class="ttdeci">int m_asts</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:424</div></div>
<div class="ttc" id="structdlm__ls_html_a20add3304caee0e86a4028bde5202a31"><div class="ttname"><a href="structdlm__ls.html#a20add3304caee0e86a4028bde5202a31">dlm_ls::ls_num_nodes</a></div><div class="ttdeci">int ls_num_nodes</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:562</div></div>
<div class="ttc" id="structrcom__lock_html_a74db57973618ce434e90f702fc5ba002"><div class="ttname"><a href="structrcom__lock.html#a74db57973618ce434e90f702fc5ba002">rcom_lock::rl_ownpid</a></div><div class="ttdeci">__le32 rl_ownpid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:495</div></div>
<div class="ttc" id="structdlm__lkb_html_a03da7088280ee8c2df13a0934b9f21ed"><div class="ttname"><a href="structdlm__lkb.html#a03da7088280ee8c2df13a0934b9f21ed">dlm_lkb::lkb_last_bast_time</a></div><div class="ttdeci">ktime_t lkb_last_bast_time</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:270</div></div>
<div class="ttc" id="structdlm__user__args_html_aebba915526196643162f9b8369f4ec46"><div class="ttname"><a href="structdlm__user__args.html#aebba915526196643162f9b8369f4ec46">dlm_user_args::user_lksb</a></div><div class="ttdeci">struct dlm_lksb __user * user_lksb</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:677</div></div>
<div class="ttc" id="structdlm__rsb_html_a6946f11c899d9ecd76a122b1cc0d2688"><div class="ttname"><a href="structdlm__rsb.html#a6946f11c899d9ecd76a122b1cc0d2688">dlm_rsb::res_first_lkid</a></div><div class="ttdeci">uint32_t res_first_lkid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:308</div></div>
<div class="ttc" id="structdlm__callback_html_a7a2adebc6287db604d6ff4cfe38aadf8"><div class="ttname"><a href="structdlm__callback.html#a7a2adebc6287db604d6ff4cfe38aadf8">dlm_callback::sb_status</a></div><div class="ttdeci">int sb_status</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:228</div></div>
<div class="ttc" id="dlm__internal_8h_html_ac1547253c980eb5e5a4b14dc5270d48b"><div class="ttname"><a href="dlm__internal_8h.html#ac1547253c980eb5e5a4b14dc5270d48b">LSFL_NODIR</a></div><div class="ttdeci">#define LSFL_NODIR</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:666</div></div>
<div class="ttc" id="structdlm__rsb_html_aa4c682896dc860a695e8ac6dea34fbdd"><div class="ttname"><a href="structdlm__rsb.html#aa4c682896dc860a695e8ac6dea34fbdd">dlm_rsb::res_lvbptr</a></div><div class="ttdeci">char * res_lvbptr</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:322</div></div>
<div class="ttc" id="structdlm__user__proc_html_a7cb2a959b6d486cf289349946fa39668"><div class="ttname"><a href="structdlm__user__proc.html#a7cb2a959b6d486cf289349946fa39668">dlm_user_proc::locks_spin</a></div><div class="ttdeci">spinlock_t locks_spin</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:697</div></div>
<div class="ttc" id="structdlm__user__args_html_a797cb9ebc522e7bb2e8382e0a0d3d9f0"><div class="ttname"><a href="structdlm__user__args.html#a797cb9ebc522e7bb2e8382e0a0d3d9f0">dlm_user_args::bastaddr</a></div><div class="ttdeci">void __user * bastaddr</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:681</div></div>
<div class="ttc" id="dlm__internal_8h_html_a8bdc96d40ccb967109f96892b164f562"><div class="ttname"><a href="dlm__internal_8h.html#a8bdc96d40ccb967109f96892b164f562">dlm_delete_debug_file</a></div><div class="ttdeci">static void dlm_delete_debug_file(struct dlm_ls *ls)</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:732</div></div>
<div class="ttc" id="structdlm__rcom_html_a05aec56d644b511c3a089dfd3f81c675"><div class="ttname"><a href="structdlm__rcom.html#a05aec56d644b511c3a089dfd3f81c675">dlm_rcom::rc_type</a></div><div class="ttdeci">uint32_t rc_type</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:450</div></div>
<div class="ttc" id="structdlm__lkb_html_ae6e53ad9393a74e40aedce0b58717030"><div class="ttname"><a href="structdlm__lkb.html#ae6e53ad9393a74e40aedce0b58717030">dlm_lkb::lkb_id</a></div><div class="ttdeci">uint32_t lkb_id</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:238</div></div>
<div class="ttc" id="structrcom__lock_html_a6aa450c5766183d95ccfe300776aaac3"><div class="ttname"><a href="structrcom__lock.html#a6aa450c5766183d95ccfe300776aaac3">rcom_lock::rl_namelen</a></div><div class="ttdeci">__le16 rl_namelen</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:509</div></div>
<div class="ttc" id="structdlm__rsb_html_abed1786b401030826678cb573b93071d"><div class="ttname"><a href="structdlm__rsb.html#abed1786b401030826678cb573b93071d">dlm_rsb::res_lvbseq</a></div><div class="ttdeci">uint32_t res_lvbseq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:304</div></div>
<div class="ttc" id="structdlm__lkb_html_ace655f57a22ca266744b85385080f8c7"><div class="ttname"><a href="structdlm__lkb.html#ace655f57a22ca266744b85385080f8c7">dlm_lkb::lkb_resource</a></div><div class="ttdeci">struct dlm_rsb * lkb_resource</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:234</div></div>
<div class="ttc" id="structrcom__lock_html_ae326846f169784d85a0747d4a590b805"><div class="ttname"><a href="structrcom__lock.html#ae326846f169784d85a0747d4a590b805">rcom_lock::rl_result</a></div><div class="ttdeci">__le32 rl_result</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:503</div></div>
<div class="ttc" id="structrcom__status_html_aa3f700168c88fad0d12d176487b62532"><div class="ttname"><a href="structrcom__status.html#aa3f700168c88fad0d12d176487b62532">rcom_status::rs_unused1</a></div><div class="ttdeci">__le32 rs_unused1</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:469</div></div>
<div class="ttc" id="structdlm__ls_html_aea524ec87c26ef463f63583282d3a180"><div class="ttname"><a href="structdlm__ls.html#aea524ec87c26ef463f63583282d3a180">dlm_ls::ls_remove_len</a></div><div class="ttdeci">int ls_remove_len</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:557</div></div>
<div class="ttc" id="structdlm__member_html_a3f7e70da3138c1e68719c854c1a33eda"><div class="ttname"><a href="structdlm__member.html#a3f7e70da3138c1e68719c854c1a33eda">dlm_member::comm_seq</a></div><div class="ttdeci">int comm_seq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:128</div></div>
<div class="ttc" id="structdlm__ls_html_a9659dc4264cfaa91c04de5c5fa47209d"><div class="ttname"><a href="structdlm__ls.html#a9659dc4264cfaa91c04de5c5fa47209d">dlm_ls::ls_total_weight</a></div><div class="ttdeci">int ls_total_weight</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:564</div></div>
<div class="ttc" id="structrcom__config_html_ae012e0b2e2d942de63b297fb26f66040"><div class="ttname"><a href="structrcom__config.html#ae012e0b2e2d942de63b297fb26f66040">rcom_config::rf_our_slot</a></div><div class="ttdeci">__le16 rf_our_slot</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:480</div></div>
<div class="ttc" id="structrcom__config_html_a058aa0f5779738c762a6f1de23d466ed"><div class="ttname"><a href="structrcom__config.html#a058aa0f5779738c762a6f1de23d466ed">rcom_config::rf_unused2</a></div><div class="ttdeci">__le64 rf_unused2</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:484</div></div>
<div class="ttc" id="structdlm__ls_html_a2596ef0da3285ceac7cadb7ea30ce6ae"><div class="ttname"><a href="structdlm__ls.html#a2596ef0da3285ceac7cadb7ea30ce6ae">dlm_ls::ls_generation</a></div><div class="ttdeci">uint32_t ls_generation</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:525</div></div>
<div class="ttc" id="structdlm__message_html_a6ac3087143de135c328e59757a1d0842"><div class="ttname"><a href="structdlm__message.html#a6ac3087143de135c328e59757a1d0842">dlm_message::m_hash</a></div><div class="ttdeci">uint32_t m_hash</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:419</div></div>
<div class="ttc" id="dlm__internal_8h_html_abc3058ea5cd6c169491f0828f4ab3ef1ac7b87aecc77f6ab3ec638e296492b4b2"><div class="ttname"><a href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1ac7b87aecc77f6ab3ec638e296492b4b2">RSB_MASTER_UNCERTAIN</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:345</div></div>
<div class="ttc" id="structdlm__rsbtable_html"><div class="ttname"><a href="structdlm__rsbtable.html">dlm_rsbtable</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:110</div></div>
<div class="ttc" id="structdlm__message_html_a94abf32cfb38ef88873a7f30787729af"><div class="ttname"><a href="structdlm__message.html#a94abf32cfb38ef88873a7f30787729af">dlm_message::m_remid</a></div><div class="ttdeci">uint32_t m_remid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:412</div></div>
<div class="ttc" id="structdlm__member_html_aa37ae17459352def82e5a2271377e36a"><div class="ttname"><a href="structdlm__member.html#aa37ae17459352def82e5a2271377e36a">dlm_member::nodeid</a></div><div class="ttdeci">int nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:124</div></div>
<div class="ttc" id="dlm__internal_8h_html_abc3058ea5cd6c169491f0828f4ab3ef1a67ab3b62fe6fa5f7affe9760c00c29a2"><div class="ttname"><a href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a67ab3b62fe6fa5f7affe9760c00c29a2">RSB_RECOVER_LVB_INVAL</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:352</div></div>
<div class="ttc" id="structrcom__config_html_a5b35d0836e6b3ba8f503c6a97b6d6248"><div class="ttname"><a href="structrcom__config.html#a5b35d0836e6b3ba8f503c6a97b6d6248">rcom_config::rf_lsflags</a></div><div class="ttdeci">__le32 rf_lsflags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:476</div></div>
<div class="ttc" id="structdlm__ls_html_a2c4021612a62205469c7734cb525a05b"><div class="ttname"><a href="structdlm__ls.html#a2c4021612a62205469c7734cb525a05b">dlm_ls::ls_recover_dir_sent_res</a></div><div class="ttdeci">unsigned int ls_recover_dir_sent_res</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:609</div></div>
<div class="ttc" id="structrcom__lock_html_ab9452385b7be8dc45ccd501d6fee8696"><div class="ttname"><a href="structrcom__lock.html#ab9452385b7be8dc45ccd501d6fee8696">rcom_lock::rl_exflags</a></div><div class="ttdeci">__le32 rl_exflags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:500</div></div>
<div class="ttc" id="structrcom__slot_html_a41923a37cde4cb7432a439b756df14cf"><div class="ttname"><a href="structrcom__slot.html#a41923a37cde4cb7432a439b756df14cf">rcom_slot::ro_nodeid</a></div><div class="ttdeci">__le32 ro_nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:488</div></div>
<div class="ttc" id="structrcom__config_html_a7e46f22118ed00b1216b1aec8d12f4c1"><div class="ttname"><a href="structrcom__config.html#a7e46f22118ed00b1216b1aec8d12f4c1">rcom_config::rf_unused1</a></div><div class="ttdeci">__le32 rf_unused1</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:483</div></div>
<div class="ttc" id="structdlm__ls_html_a9abf7c2b9195c78dd38082d4861e1b9d"><div class="ttname"><a href="structdlm__ls.html#a9abf7c2b9195c78dd38082d4861e1b9d">dlm_ls::ls_wait_general</a></div><div class="ttdeci">wait_queue_head_t ls_wait_general</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:619</div></div>
<div class="ttc" id="structdlm__message_html_a82dd5ebf8c1eee66650ba52ef19944b2"><div class="ttname"><a href="structdlm__message.html#a82dd5ebf8c1eee66650ba52ef19944b2">dlm_message::m_nodeid</a></div><div class="ttdeci">uint32_t m_nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:409</div></div>
<div class="ttc" id="structdlm__lkb_html_af8fb91f5f5eafd710ee62882fbd16ed8"><div class="ttname"><a href="structdlm__lkb.html#af8fb91f5f5eafd710ee62882fbd16ed8">dlm_lkb::lkb_grmode</a></div><div class="ttdeci">int8_t lkb_grmode</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:247</div></div>
<div class="ttc" id="dlm__internal_8h_html_ac6124f85af8c62a01a097dad7f90e0c5"><div class="ttname"><a href="dlm__internal_8h.html#ac6124f85af8c62a01a097dad7f90e0c5">dlm_netlink_init</a></div><div class="ttdeci">int dlm_netlink_init(void)</div><div class="ttdef"><b>Definition:</b> netlink.c:83</div></div>
<div class="ttc" id="structdlm__message_html_ac836de762fef7f5f238daa8283c04340"><div class="ttname"><a href="structdlm__message.html#ac836de762fef7f5f238daa8283c04340">dlm_message::m_lvbseq</a></div><div class="ttdeci">uint32_t m_lvbseq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:418</div></div>
<div class="ttc" id="structdlm__ls_html_aa3b39b5beaa15eb447557a42a773a0f2"><div class="ttname"><a href="structdlm__ls.html#aa3b39b5beaa15eb447557a42a773a0f2">dlm_ls::ls_local_handle</a></div><div class="ttdeci">dlm_lockspace_t * ls_local_handle</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:523</div></div>
<div class="ttc" id="structdlm__callback_html"><div class="ttname"><a href="structdlm__callback.html">dlm_callback</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:225</div></div>
<div class="ttc" id="structdlm__lkb_html_aaf2fafba06b3411bcc0f6cfcaf4edcd6"><div class="ttname"><a href="structdlm__lkb.html#aaf2fafba06b3411bcc0f6cfcaf4edcd6">dlm_lkb::lkb_wait_nodeid</a></div><div class="ttdeci">int lkb_wait_nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:252</div></div>
<div class="ttc" id="structdlm__user__args_html_ac5a6a34d41cf2ded5986e7d502862c88"><div class="ttname"><a href="structdlm__user__args.html#ac5a6a34d41cf2ded5986e7d502862c88">dlm_user_args::castparam</a></div><div class="ttdeci">void __user * castparam</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:678</div></div>
<div class="ttc" id="structdlm__ls_html_ac9f31fed1aa16ba68e8d2457481c668a"><div class="ttname"><a href="structdlm__ls.html#ac9f31fed1aa16ba68e8d2457481c668a">dlm_ls::ls_recover_idr_lock</a></div><div class="ttdeci">spinlock_t ls_recover_idr_lock</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:618</div></div>
<div class="ttc" id="structdlm__callback_html_a3b6dec0e62b7ab70f6f6a8259f2b3b7c"><div class="ttname"><a href="structdlm__callback.html#a3b6dec0e62b7ab70f6f6a8259f2b3b7c">dlm_callback::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:227</div></div>
<div class="ttc" id="structdlm__rsb_html_abd8c444ff5bec1d8ece2e2773df0b314"><div class="ttname"><a href="structdlm__rsb.html#abd8c444ff5bec1d8ece2e2773df0b314">dlm_rsb::res_id</a></div><div class="ttdeci">int res_id</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:303</div></div>
<div class="ttc" id="structrcom__lock_html_a7cfd17b1353eaed84636c6da494c060e"><div class="ttname"><a href="structrcom__lock.html#a7cfd17b1353eaed84636c6da494c060e">rcom_lock::rl_status</a></div><div class="ttdeci">int8_t rl_status</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:506</div></div>
<div class="ttc" id="structdlm__rsb_html_a10f390d5617c00a8b043da3f79f67376"><div class="ttname"><a href="structdlm__rsb.html#a10f390d5617c00a8b043da3f79f67376">dlm_rsb::res_hash</a></div><div class="ttdeci">uint32_t res_hash</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:305</div></div>
<div class="ttc" id="structrcom__lock_html_a2eee70316ed7e8045bc92e850c4b119c"><div class="ttname"><a href="structrcom__lock.html#a2eee70316ed7e8045bc92e850c4b119c">rcom_lock::rl_rqmode</a></div><div class="ttdeci">int8_t rl_rqmode</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:504</div></div>
<div class="ttc" id="structdlm__ls_html_a7447be64d487fd391c6e39dda0ce8b7c"><div class="ttname"><a href="structdlm__ls.html#a7447be64d487fd391c6e39dda0ce8b7c">dlm_ls::ls_global_id</a></div><div class="ttdeci">uint32_t ls_global_id</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:524</div></div>
<div class="ttc" id="structdlm__rsb_html_af1786edecd02734a862a1a18001709e2"><div class="ttname"><a href="structdlm__rsb.html#af1786edecd02734a862a1a18001709e2">dlm_rsb::res_flags</a></div><div class="ttdeci">unsigned long res_flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:298</div></div>
<div class="ttc" id="structdlm__recover_html_a13286316c83d5e6389d5254d41069c8e"><div class="ttname"><a href="structdlm__recover.html#a13286316c83d5e6389d5254d41069c8e">dlm_recover::nodes</a></div><div class="ttdeci">struct dlm_config_node * nodes</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:138</div></div>
<div class="ttc" id="structdlm__user__args_html_aa624eb59e29954878adc79b50b393c83"><div class="ttname"><a href="structdlm__user__args.html#aa624eb59e29954878adc79b50b393c83">dlm_user_args::bastparam</a></div><div class="ttdeci">void __user * bastparam</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:680</div></div>
<div class="ttc" id="structdlm__ls_html_acf49b37522634335cecf56ad0ba95a75"><div class="ttname"><a href="structdlm__ls.html#acf49b37522634335cecf56ad0ba95a75">dlm_ls::ls_recover_status</a></div><div class="ttdeci">uint32_t ls_recover_status</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:600</div></div>
<div class="ttc" id="structdlm__rcom_html_abda8585ac0087d614d146314dfe20467"><div class="ttname"><a href="structdlm__rcom.html#abda8585ac0087d614d146314dfe20467">dlm_rcom::rc_seq_reply</a></div><div class="ttdeci">uint64_t rc_seq_reply</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:454</div></div>
<div class="ttc" id="structdlm__rsbtable_html_a2d6b57f44632bac385c8209803d06b8d"><div class="ttname"><a href="structdlm__rsbtable.html#a2d6b57f44632bac385c8209803d06b8d">dlm_rsbtable::keep</a></div><div class="ttdeci">struct rb_root keep</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:111</div></div>
<div class="ttc" id="structdlm__lkb_html_a7204e22095250cea77753dac313a6806"><div class="ttname"><a href="structdlm__lkb.html#a7204e22095250cea77753dac313a6806">dlm_lkb::lkb_rqmode</a></div><div class="ttdeci">int8_t lkb_rqmode</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:246</div></div>
<div class="ttc" id="structrcom__lock_html_ad2e331710f178e39306d6b916e96ee5e"><div class="ttname"><a href="structrcom__lock.html#ad2e331710f178e39306d6b916e96ee5e">rcom_lock::rl_lvbseq</a></div><div class="ttdeci">__le32 rl_lvbseq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:502</div></div>
<div class="ttc" id="structdlm__lkb_html_ae316ed942a65a31420cbe58b75b1d9e5"><div class="ttname"><a href="structdlm__lkb.html#ae316ed942a65a31420cbe58b75b1d9e5">dlm_lkb::lkb_wait_count</a></div><div class="ttdeci">int8_t lkb_wait_count</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:251</div></div>
<div class="ttc" id="structdlm__ls_html_a916c4afd7b172dfeef59272168f0fd67"><div class="ttname"><a href="structdlm__ls.html#a916c4afd7b172dfeef59272168f0fd67">dlm_ls::ls_recover_list_count</a></div><div class="ttdeci">int ls_recover_list_count</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:616</div></div>
<div class="ttc" id="structdlm__ls_html_a8c89ad265a5c1bbb05cf9b3b6782a9b9"><div class="ttname"><a href="structdlm__ls.html#a8c89ad265a5c1bbb05cf9b3b6782a9b9">dlm_ls::ls_debug_rsb_dentry</a></div><div class="ttdeci">struct dentry * ls_debug_rsb_dentry</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:576</div></div>
<div class="ttc" id="structdlm__callback_html_accac30274835f47e5c1e44b0621c9023"><div class="ttname"><a href="structdlm__callback.html#accac30274835f47e5c1e44b0621c9023">dlm_callback::sb_flags</a></div><div class="ttdeci">uint8_t sb_flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:229</div></div>
<div class="ttc" id="structrcom__lock_html_a66f337fea73ff4c5814e2dff68146304"><div class="ttname"><a href="structrcom__lock.html#a66f337fea73ff4c5814e2dff68146304">rcom_lock::rl_flags</a></div><div class="ttdeci">__le32 rl_flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:501</div></div>
<div class="ttc" id="structdlm__message_html_a243d917a01665342dc6a50fc6f1c8a45"><div class="ttname"><a href="structdlm__message.html#a243d917a01665342dc6a50fc6f1c8a45">dlm_message::m_result</a></div><div class="ttdeci">int m_result</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:425</div></div>
<div class="ttc" id="structdlm__ls_html_a265cdb0de98ce59c9df49246ef8f7cbf"><div class="ttname"><a href="structdlm__ls.html#a265cdb0de98ce59c9df49246ef8f7cbf">dlm_ls::ls_rsbtbl</a></div><div class="ttdeci">struct dlm_rsbtable * ls_rsbtbl</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:538</div></div>
<div class="ttc" id="structdlm__user__args_html_a91b2b309503d35e3c3f2b93d5d781774"><div class="ttname"><a href="structdlm__user__args.html#a91b2b309503d35e3c3f2b93d5d781774">dlm_user_args::castaddr</a></div><div class="ttdeci">void __user * castaddr</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:679</div></div>
<div class="ttc" id="structdlm__rsb_html_a6557560ad873acf480de5f53508f33bc"><div class="ttname"><a href="structdlm__rsb.html#a6557560ad873acf480de5f53508f33bc">dlm_rsb::res_ls</a></div><div class="ttdeci">struct dlm_ls * res_ls</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:295</div></div>
<div class="ttc" id="structdlm__ls_html_a109b7b6ce777f6ece8d9dadb954a07c7"><div class="ttname"><a href="structdlm__ls.html#a109b7b6ce777f6ece8d9dadb954a07c7">dlm_ls::ls_exflags</a></div><div class="ttdeci">uint32_t ls_exflags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:526</div></div>
<div class="ttc" id="structdlm__rcom_html_ac54d07d02ec74987dd8495fb10a931a8"><div class="ttname"><a href="structdlm__rcom.html#ac54d07d02ec74987dd8495fb10a931a8">dlm_rcom::rc_result</a></div><div class="ttdeci">int rc_result</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:451</div></div>
<div class="ttc" id="structrcom__lock_html_a108d87a2c0db50734c7717a846cde95a"><div class="ttname"><a href="structrcom__lock.html#a108d87a2c0db50734c7717a846cde95a">rcom_lock::rl_parent_lkid</a></div><div class="ttdeci">__le32 rl_parent_lkid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:498</div></div>
<div class="ttc" id="structdlm__ls_html_a78ed569913562ea9df629d88b3357b70"><div class="ttname"><a href="structdlm__ls.html#a78ed569913562ea9df629d88b3357b70">dlm_ls::ls_recover_args</a></div><div class="ttdeci">struct dlm_recover * ls_recover_args</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:602</div></div>
<div class="ttc" id="structdlm__lkb_html_af17fcf8928dfe9e4f9d7414ef5c33f6d"><div class="ttname"><a href="structdlm__lkb.html#af17fcf8928dfe9e4f9d7414ef5c33f6d">dlm_lkb::lkb_ownpid</a></div><div class="ttdeci">int lkb_ownpid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:237</div></div>
<div class="ttc" id="structdlm__ls_html_a4dcd9a58390e8053bd9afd2ecc9ccf39"><div class="ttname"><a href="structdlm__ls.html#a4dcd9a58390e8053bd9afd2ecc9ccf39">dlm_ls::ls_create_count</a></div><div class="ttdeci">int ls_create_count</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:530</div></div>
<div class="ttc" id="structdlm__message_html_affac4c681609dd515721269ee61b5494"><div class="ttname"><a href="structdlm__message.html#affac4c681609dd515721269ee61b5494">dlm_message::m_grmode</a></div><div class="ttdeci">int m_grmode</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:421</div></div>
<div class="ttc" id="structdlm__ls_html_a0ec78c35b69305c704b0df0ecc499c1f"><div class="ttname"><a href="structdlm__ls.html#a0ec78c35b69305c704b0df0ecc499c1f">dlm_ls::ls_rsbtbl_size</a></div><div class="ttdeci">uint32_t ls_rsbtbl_size</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:539</div></div>
<div class="ttc" id="structdlm__message_html_a57b2edc0b874b81dbf9e0350abb09806"><div class="ttname"><a href="structdlm__message.html#a57b2edc0b874b81dbf9e0350abb09806">dlm_message::m_pid</a></div><div class="ttdeci">uint32_t m_pid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:410</div></div>
<div class="ttc" id="structdlm__user__args_html_a71de2b7b49de8511f8eb82bc103277ab"><div class="ttname"><a href="structdlm__user__args.html#a71de2b7b49de8511f8eb82bc103277ab">dlm_user_args::xid</a></div><div class="ttdeci">uint64_t xid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:682</div></div>
<div class="ttc" id="structdlm__ls_html_ad063e1f45760ffc7c6da4ea234f24a97"><div class="ttname"><a href="structdlm__ls.html#ad063e1f45760ffc7c6da4ea234f24a97">dlm_ls::ls_lvblen</a></div><div class="ttdeci">int ls_lvblen</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:527</div></div>
<div class="ttc" id="structdlm__user__proc_html_a15e349f9d5e6588b804af908d31fd013"><div class="ttname"><a href="structdlm__user__proc.html#a15e349f9d5e6588b804af908d31fd013">dlm_user_proc::lockspace</a></div><div class="ttdeci">dlm_lockspace_t * lockspace</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:692</div></div>
<div class="ttc" id="structdlm__lkb_html_a0c15c20ccc6453c6449d75172690d156"><div class="ttname"><a href="structdlm__lkb.html#a0c15c20ccc6453c6449d75172690d156">dlm_lkb::lkb_nodeid</a></div><div class="ttdeci">int lkb_nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:236</div></div>
<div class="ttc" id="structdlm__rsb_html_a7f86e4313e8c84fb03f58b1c3519aad3"><div class="ttname"><a href="structdlm__rsb.html#a7f86e4313e8c84fb03f58b1c3519aad3">dlm_rsb::res_length</a></div><div class="ttdeci">int res_length</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:299</div></div>
<div class="ttc" id="structdlm__ls_html_aa132a5856613e709eb9daa51ce672af1"><div class="ttname"><a href="structdlm__ls.html#aa132a5856613e709eb9daa51ce672af1">dlm_ls::ls_uevent_wait</a></div><div class="ttdeci">wait_queue_head_t ls_uevent_wait</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:582</div></div>
<div class="ttc" id="structdlm__user__proc_html_a29700db3214d70de9f022cc94b5cb042"><div class="ttname"><a href="structdlm__user__proc.html#a29700db3214d70de9f022cc94b5cb042">dlm_user_proc::wait</a></div><div class="ttdeci">wait_queue_head_t wait</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:699</div></div>
<div class="ttc" id="structdlm__lkb_html_a4443b5eecc4d98d12b08294cc1c441e4"><div class="ttname"><a href="structdlm__lkb.html#a4443b5eecc4d98d12b08294cc1c441e4">dlm_lkb::lkb_highbast</a></div><div class="ttdeci">int8_t lkb_highbast</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:248</div></div>
<div class="ttc" id="structdlm__member_html_aebdc5be59377ba7f65a6103faf03d6e7"><div class="ttname"><a href="structdlm__member.html#aebdc5be59377ba7f65a6103faf03d6e7">dlm_member::slot_prev</a></div><div class="ttdeci">int slot_prev</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:127</div></div>
<div class="ttc" id="structdlm__ls_html"><div class="ttname"><a href="structdlm__ls.html">dlm_ls</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:521</div></div>
<div class="ttc" id="structdlm__ls_html_a3b787af9695e843caeb15688622a0794"><div class="ttname"><a href="structdlm__ls.html#a3b787af9695e843caeb15688622a0794">dlm_ls::ls_recover_lock_wait</a></div><div class="ttdeci">wait_queue_head_t ls_recover_lock_wait</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:620</div></div>
<div class="ttc" id="structrcom__slot_html"><div class="ttname"><a href="structrcom__slot.html">rcom_slot</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:487</div></div>
<div class="ttc" id="structdlm__ls_html_a21265ba78d4c0ccd9df4fe5d3bdc42d9"><div class="ttname"><a href="structdlm__ls.html#a21265ba78d4c0ccd9df4fe5d3bdc42d9">dlm_ls::ls_rcom_seq</a></div><div class="ttdeci">uint64_t ls_rcom_seq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:612</div></div>
<div class="ttc" id="structdlm__rsb_html_a5f6dcf82481f9d8080d09baf2fe86fbb"><div class="ttname"><a href="structdlm__rsb.html#a5f6dcf82481f9d8080d09baf2fe86fbb">dlm_rsb::res_bucket</a></div><div class="ttdeci">uint32_t res_bucket</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:306</div></div>
<div class="ttc" id="structdlm__header_html_ac7706624a301b7558edd081f51823f8a"><div class="ttname"><a href="structdlm__header.html#ac7706624a301b7558edd081f51823f8a">dlm_header::h_pad</a></div><div class="ttdeci">uint8_t h_pad</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:387</div></div>
<div class="ttc" id="structdlm__message_html_ab17307394eddd9836f12c4a06e4ac06f"><div class="ttname"><a href="structdlm__message.html#ab17307394eddd9836f12c4a06e4ac06f">dlm_message::m_flags</a></div><div class="ttdeci">uint32_t m_flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:417</div></div>
<div class="ttc" id="structdlm__ls_html_a7efe32d611f923850f87a539de52b516"><div class="ttname"><a href="structdlm__ls.html#a7efe32d611f923850f87a539de52b516">dlm_ls::ls_members_result</a></div><div class="ttdeci">int ls_members_result</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:585</div></div>
<div class="ttc" id="structdlm__message_html_a4ca3d9290752d6b38e581cc0a5263dc8"><div class="ttname"><a href="structdlm__message.html#a4ca3d9290752d6b38e581cc0a5263dc8">dlm_message::m_parent_remid</a></div><div class="ttdeci">uint32_t m_parent_remid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:414</div></div>
<div class="ttc" id="structdlm__lkb_html_a7241130fe60c0112f45a96a7f1db7bf1"><div class="ttname"><a href="structdlm__lkb.html#a7241130fe60c0112f45a96a7f1db7bf1">dlm_lkb::lkb_recover_seq</a></div><div class="ttdeci">uint64_t lkb_recover_seq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:272</div></div>
<div class="ttc" id="structdlm__ls_html_a815d1b08b34414d72e450bf9128fccdb"><div class="ttname"><a href="structdlm__ls.html#a815d1b08b34414d72e450bf9128fccdb">dlm_ls::ls_new_rsb_count</a></div><div class="ttdeci">int ls_new_rsb_count</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:551</div></div>
<div class="ttc" id="structdlm__lkb_html_ab58e58c74e4a991a77dcd35569fe9db2"><div class="ttname"><a href="structdlm__lkb.html#ab58e58c74e4a991a77dcd35569fe9db2">dlm_lkb::lkb_sbflags</a></div><div class="ttdeci">uint32_t lkb_sbflags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:241</div></div>
<div class="ttc" id="structdlm__ls_html_a5d969e49ffe4049c733aadc2d063c8ac"><div class="ttname"><a href="structdlm__ls.html#a5d969e49ffe4049c733aadc2d063c8ac">dlm_ls::ls_num_slots</a></div><div class="ttdeci">int ls_num_slots</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:568</div></div>
<div class="ttc" id="dlm__internal_8h_html_a50ed77cef7a0956f4f9166f7350652c0"><div class="ttname"><a href="dlm__internal_8h.html#a50ed77cef7a0956f4f9166f7350652c0">dlm_plock_init</a></div><div class="ttdeci">int dlm_plock_init(void)</div><div class="ttdef"><b>Definition:</b> plock.c:494</div></div>
<div class="ttc" id="structdlm__callback_html_a9fe5063f38645e55e73975bd3b4c03d4"><div class="ttname"><a href="structdlm__callback.html#a9fe5063f38645e55e73975bd3b4c03d4">dlm_callback::mode</a></div><div class="ttdeci">int8_t mode</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:230</div></div>
<div class="ttc" id="dlm__internal_8h_html_aec006c0de374f980134e8dc5ad8d6848"><div class="ttname"><a href="dlm__internal_8h.html#aec006c0de374f980134e8dc5ad8d6848">dlm_timeout_warn</a></div><div class="ttdeci">void dlm_timeout_warn(struct dlm_lkb *lkb)</div><div class="ttdef"><b>Definition:</b> netlink.c:116</div></div>
<div class="ttc" id="structdlm__ls_html_a727b6cce814e760088ba97f4678c27a7"><div class="ttname"><a href="structdlm__ls.html#a727b6cce814e760088ba97f4678c27a7">dlm_ls::ls_recover_begin</a></div><div class="ttdeci">unsigned long ls_recover_begin</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:599</div></div>
<div class="ttc" id="cifspdu_8h_html_a7e28d0d49fe972b6aea4a399c7bc0cb0"><div class="ttname"><a href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a></div><div class="ttdeci">struct gea list[1]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
<div class="ttc" id="structdlm__ls_html_a9b0f44d984e32bb5aad441e8fb9c0ed7"><div class="ttname"><a href="structdlm__ls.html#a9b0f44d984e32bb5aad441e8fb9c0ed7">dlm_ls::ls_recover_nodeid</a></div><div class="ttdeci">int ls_recover_nodeid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:608</div></div>
<div class="ttc" id="dlm__internal_8h_html_abc3058ea5cd6c169491f0828f4ab3ef1"><div class="ttname"><a href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1">rsb_flags</a></div><div class="ttdeci">rsb_flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:344</div></div>
<div class="ttc" id="ctree_8h_html_a6fc963e53e6657b68d0a4561eb0e8261"><div class="ttname"><a href="ctree_8h.html#a6fc963e53e6657b68d0a4561eb0e8261">header</a></div><div class="ttdeci">struct btrfs_header header</div><div class="ttdef"><b>Definition:</b> ctree.h:105</div></div>
<div class="ttc" id="dlm__internal_8h_html_afacec5b5c3497f50a355359358955015"><div class="ttname"><a href="dlm__internal_8h.html#afacec5b5c3497f50a355359358955015">rsb_flag</a></div><div class="ttdeci">static int rsb_flag(struct dlm_rsb *r, enum rsb_flags flag)</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:365</div></div>
<div class="ttc" id="structdlm__lkb_html_ac6aaebc43abbeeafca60127cdb472f7b"><div class="ttname"><a href="structdlm__lkb.html#ac6aaebc43abbeeafca60127cdb472f7b">dlm_lkb::lkb_astparam</a></div><div class="ttdeci">void * lkb_astparam</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:279</div></div>
<div class="ttc" id="structdlm__rcom_html"><div class="ttname"><a href="structdlm__rcom.html">dlm_rcom</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:448</div></div>
<div class="ttc" id="dlm__internal_8h_html_aae8300a6a409a4febeaa82981c82ce9b"><div class="ttname"><a href="dlm__internal_8h.html#aae8300a6a409a4febeaa82981c82ce9b">LSFL_RUNNING</a></div><div class="ttdeci">#define LSFL_RUNNING</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:659</div></div>
<div class="ttc" id="structdlm__lkb_html_a6c40a183c8f1002734af458843274517"><div class="ttname"><a href="structdlm__lkb.html#a6c40a183c8f1002734af458843274517">dlm_lkb::lkb_lvbseq</a></div><div class="ttdeci">uint32_t lkb_lvbseq</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:243</div></div>
<div class="ttc" id="structdlm__ls_html_a11f2a73b9d26dcc8d663af10a57f42ff"><div class="ttname"><a href="structdlm__ls.html#a11f2a73b9d26dcc8d663af10a57f42ff">dlm_ls::ls_lkbidr_spin</a></div><div class="ttdeci">spinlock_t ls_lkbidr_spin</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:536</div></div>
<div class="ttc" id="structrcom__config_html_acbcd9d6d9ca93a44aeb330457d9e4ed6"><div class="ttname"><a href="structrcom__config.html#acbcd9d6d9ca93a44aeb330457d9e4ed6">rcom_config::rf_lvblen</a></div><div class="ttdeci">__le32 rf_lvblen</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:475</div></div>
<div class="ttc" id="structdlm__message_html_a455ac74a2c01afcee8d5a5fa77b49ca7"><div class="ttname"><a href="structdlm__message.html#a455ac74a2c01afcee8d5a5fa77b49ca7">dlm_message::m_parent_lkid</a></div><div class="ttdeci">uint32_t m_parent_lkid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:413</div></div>
<div class="ttc" id="structdlm__message_html"><div class="ttname"><a href="structdlm__message.html">dlm_message</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:406</div></div>
<div class="ttc" id="dlm__internal_8h_html_a64da6fb46fcbd219d2e46a010431cfce"><div class="ttname"><a href="dlm__internal_8h.html#a64da6fb46fcbd219d2e46a010431cfce">dlm_locking_stopped</a></div><div class="ttdeci">static int dlm_locking_stopped(struct dlm_ls *ls)</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:702</div></div>
<div class="ttc" id="structdlm__message_html_a49f41253b0059203ffc4327363197b58"><div class="ttname"><a href="structdlm__message.html#a49f41253b0059203ffc4327363197b58">dlm_message::m_lkid</a></div><div class="ttdeci">uint32_t m_lkid</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:411</div></div>
<div class="ttc" id="structdlm__lkb_html_af7fbf905e31430eba6a76dfd118de66c"><div class="ttname"><a href="structdlm__lkb.html#af7fbf905e31430eba6a76dfd118de66c">dlm_lkb::lkb_flags</a></div><div class="ttdeci">uint32_t lkb_flags</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:242</div></div>
<div class="ttc" id="dlm__internal_8h_html_a574b296d7ae4540ff756f7a46c185c50"><div class="ttname"><a href="dlm__internal_8h.html#a574b296d7ae4540ff756f7a46c185c50">dlm_recovery_stopped</a></div><div class="ttdeci">static int dlm_recovery_stopped(struct dlm_ls *ls)</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:707</div></div>
<div class="ttc" id="structdlm__ls_html_a9442cf204b386a96107e235760a5e9c6"><div class="ttname"><a href="structdlm__ls.html#a9442cf204b386a96107e235760a5e9c6">dlm_ls::ls_debug_all_dentry</a></div><div class="ttdeci">struct dentry * ls_debug_all_dentry</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:579</div></div>
<div class="ttc" id="dlm__internal_8h_html_abc3058ea5cd6c169491f0828f4ab3ef1a5bce07eef7e21bc391e5ceb428434f14"><div class="ttname"><a href="dlm__internal_8h.html#abc3058ea5cd6c169491f0828f4ab3ef1a5bce07eef7e21bc391e5ceb428434f14">RSB_NEW_MASTER2</a></div><div class="ttdef"><b>Definition:</b> dlm_internal.h:349</div></div>
<div class="ttc" id="structdlm__ls_html_a44daf34550b22a45b9b306f148984efa"><div class="ttname"><a href="structdlm__ls.html#a44daf34550b22a45b9b306f148984efa">dlm_ls::ls_recover_dir_sent_msg</a></div><div class="ttdeci">unsigned int ls_recover_dir_sent_msg</div><div class="ttdef"><b>Definition:</b> dlm_internal.h:610</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_60f210544127ec75ac53ba3b702f2fbc.html">dlm</a></li><li class="navelem"><a class="el" href="dlm__internal_8h.html">dlm_internal.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
