<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: xfs/xfs_discard.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xfs__discard_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">xfs_discard.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="xfs_8h_source.html">xfs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__format_8h_source.html">xfs_format.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__log__format_8h_source.html">xfs_log_format.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__trans__resv_8h_source.html">xfs_trans_resv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__sb_8h_source.html">xfs_sb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__mount_8h_source.html">xfs_mount.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__quota_8h_source.html">xfs_quota.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__inode_8h_source.html">xfs_inode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__btree_8h_source.html">xfs_btree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__alloc__btree_8h_source.html">xfs_alloc_btree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__alloc_8h_source.html">xfs_alloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__error_8h_source.html">xfs_error.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__extent__busy_8h_source.html">xfs_extent_busy.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__discard_8h_source.html">xfs_discard.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__trace_8h_source.html">xfs_trace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xfs__log_8h_source.html">xfs_log.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for xfs_discard.c:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__discard_8c__incl.png" border="0" usemap="#xfs_2xfs__discard_8c" alt=""/></div>
<map name="xfs_2xfs__discard_8c" id="xfs_2xfs__discard_8c">
<area shape="rect" id="node2" href="xfs_8h.html" title="xfs.h" alt="" coords="1443,80,1493,107"/>
<area shape="rect" id="node31" href="xfs__format_8h.html" title="xfs_format.h" alt="" coords="1518,80,1613,107"/>
<area shape="rect" id="node32" href="xfs__log__format_8h.html" title="xfs_log_format.h" alt="" coords="1637,80,1755,107"/>
<area shape="rect" id="node33" href="xfs__trans__resv_8h.html" title="xfs_trans_resv.h" alt="" coords="1779,80,1898,107"/>
<area shape="rect" id="node34" href="xfs__sb_8h.html" title="xfs_sb.h" alt="" coords="1923,80,1995,107"/>
<area shape="rect" id="node35" href="xfs__mount_8h.html" title="xfs_mount.h" alt="" coords="2019,80,2114,107"/>
<area shape="rect" id="node36" href="xfs__quota_8h.html" title="xfs_quota.h" alt="" coords="2139,80,2229,107"/>
<area shape="rect" id="node38" href="xfs__inode_8h.html" title="xfs_inode.h" alt="" coords="2254,80,2343,107"/>
<area shape="rect" id="node41" href="xfs__btree_8h.html" title="xfs_btree.h" alt="" coords="2367,80,2454,107"/>
<area shape="rect" id="node42" href="xfs__alloc__btree_8h.html" title="xfs_alloc_btree.h" alt="" coords="2478,80,2599,107"/>
<area shape="rect" id="node43" href="xfs__alloc_8h.html" title="xfs_alloc.h" alt="" coords="2624,80,2709,107"/>
<area shape="rect" id="node44" href="xfs__error_8h.html" title="xfs_error.h" alt="" coords="2734,80,2818,107"/>
<area shape="rect" id="node45" href="xfs__extent__busy_8h.html" title="xfs_extent_busy.h" alt="" coords="2842,80,2971,107"/>
<area shape="rect" id="node46" href="xfs__discard_8h.html" title="xfs_discard.h" alt="" coords="2995,80,3095,107"/>
<area shape="rect" id="node47" href="xfs__trace_8h.html" title="xfs_trace.h" alt="" coords="3119,80,3206,107"/>
<area shape="rect" id="node50" href="xfs__log_8h.html" title="xfs_log.h" alt="" coords="3231,80,3305,107"/>
<area shape="rect" id="node3" href="xfs__linux_8h.html" title="xfs_linux.h" alt="" coords="1425,155,1511,181"/>
<area shape="rect" id="node6" href="xfs__types_8h.html" title="xfs_types.h" alt="" coords="237,229,328,256"/>
<area shape="rect" id="node7" href="kmem_8h.html" title="kmem.h" alt="" coords="403,229,472,256"/>
<area shape="rect" id="node10" href="mrlock_8h.html" title="mrlock.h" alt="" coords="547,229,619,256"/>
<area shape="rect" id="node37" href="xfs__quota__defs_8h.html" title="xfs_quota_defs.h" alt="" coords="2095,155,2217,181"/>
<area shape="rect" id="node39" href="xfs__inode__buf_8h.html" title="xfs_inode_buf.h" alt="" coords="2241,155,2356,181"/>
<area shape="rect" id="node40" href="xfs__inode__fork_8h.html" title="xfs_inode_fork.h" alt="" coords="2381,155,2499,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a81139b9bb66a3fa1cea338242a4ff339"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xfs__linux_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__discard_8c.html#a81139b9bb66a3fa1cea338242a4ff339">xfs_trim_extents</a> (struct <a class="el" href="structxfs__mount.html">xfs_mount</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, <a class="el" href="xfs__types_8h.html#a940a49f78b3c106c0a757e77b725d07b">xfs_agnumber_t</a> agno, <a class="el" href="xfs__linux_8h.html#ab4b41e94f72b8fcf78f834180ebe046b">xfs_daddr_t</a> <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, <a class="el" href="xfs__linux_8h.html#ab4b41e94f72b8fcf78f834180ebe046b">xfs_daddr_t</a> end, <a class="el" href="xfs__linux_8h.html#ab4b41e94f72b8fcf78f834180ebe046b">xfs_daddr_t</a> minlen, uint64_t *blocks_trimmed)</td></tr>
<tr class="separator:a81139b9bb66a3fa1cea338242a4ff339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5a3f22f283ad1b7c6a9f2b2e3e66e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xfs__discard_8c.html#a3f5a3f22f283ad1b7c6a9f2b2e3e66e4">xfs_ioc_trim</a> (struct <a class="el" href="structxfs__mount.html">xfs_mount</a> *<a class="el" href="pnode_8c.html#a414a075e10c3ff2f05c61d7fad7b1c24">mp</a>, struct fstrim_range __user *urange)</td></tr>
<tr class="separator:a3f5a3f22f283ad1b7c6a9f2b2e3e66e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3f5a3f22f283ad1b7c6a9f2b2e3e66e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f5a3f22f283ad1b7c6a9f2b2e3e66e4">&#9670;&nbsp;</a></span>xfs_ioc_trim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xfs_ioc_trim </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__mount.html">xfs_mount</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fstrim_range __user *&#160;</td>
          <td class="paramname"><em>urange</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__discard_8c_a3f5a3f22f283ad1b7c6a9f2b2e3e66e4_cgraph.png" border="0" usemap="#xfs__discard_8c_a3f5a3f22f283ad1b7c6a9f2b2e3e66e4_cgraph" alt=""/></div>
<map name="xfs__discard_8c_a3f5a3f22f283ad1b7c6a9f2b2e3e66e4_cgraph" id="xfs__discard_8c_a3f5a3f22f283ad1b7c6a9f2b2e3e66e4_cgraph">
<area shape="rect" id="node2" href="xfs__mount_8h.html#a6ada26e337ca2d4c2a0d3f5d68a6f1e9" title="xfs_daddr_to_agno" alt="" coords="147,639,279,665"/>
<area shape="rect" id="node3" href="xfs__discard_8c.html#a81139b9bb66a3fa1cea338242a4ff339" title="xfs_trim_extents" alt="" coords="153,689,272,716"/>
<area shape="rect" id="node4" href="xfs__sb_8c.html#a1dbd4c59e91dab91e783f0d49203e77a" title="xfs_perag_get" alt="" coords="571,309,675,336"/>
<area shape="rect" id="node5" href="xfs__log_8c.html#a9080fd173f31e8e601e41c2a24e575f0" title="xfs_log_force" alt="" coords="359,123,459,149"/>
<area shape="rect" id="node14" href="xfs__alloc_8c.html#af7d5eb8e31804f0ca4e340637e28915f" title="xfs_alloc_read_agf" alt="" coords="343,487,474,513"/>
<area shape="rect" id="node18" href="xfs__buf_8h.html#ad185b372dda295d7df2314c793cf53c9" title="xfs_buf_relse" alt="" coords="1561,487,1661,513"/>
<area shape="rect" id="node21" href="xfs__sb_8c.html#a9f1e1a07a211a517c542c2c25b933bf5" title="xfs_perag_put" alt="" coords="1868,436,1972,463"/>
<area shape="rect" id="node26" href="xfs__alloc__btree_8c.html#ad2c33717fc0fd77e677a96274741d11b" title="xfs_allocbt_init_cursor" alt="" coords="333,689,485,716"/>
<area shape="rect" id="node29" href="xfs__alloc_8c.html#a94206dbd2202e9a2f99eea6f285258a3" title="xfs_alloc_lookup_ge" alt="" coords="339,824,479,851"/>
<area shape="rect" id="node45" href="xfs__alloc_8c.html#aa1bcea02d483d4e475b44def6dcf45e4" title="xfs_alloc_get_rec" alt="" coords="347,1021,471,1048"/>
<area shape="rect" id="node47" href="xfs__extent__busy_8c.html#a448610f49cc75f9aff7fe1ce5895c023" title="xfs_extent_busy_search" alt="" coords="327,259,491,285"/>
<area shape="rect" id="node48" href="xfs__btree_8c.html#a74a99d1094bd2c3ae48d01b8ec1b22fc" title="xfs_btree_decrement" alt="" coords="775,984,919,1011"/>
<area shape="rect" id="node49" href="xfs__btree_8c.html#a0d0d0ddeb2d750e0b972853e8af7a659" title="xfs_btree_del_cursor" alt="" coords="337,1237,480,1264"/>
<area shape="rect" id="node6" href="xfs__log__priv_8h.html#af41998b5e59a460aa6ce4311bf31ac03" title="xlog_cil_force" alt="" coords="571,5,674,32"/>
<area shape="rect" id="node8" href="xfs__log__priv_8h.html#a0b287add62cc8b1e511c5069e6415b57" title="xlog_wait" alt="" coords="1033,31,1110,57"/>
<area shape="rect" id="node9" href="xfs__log_8c.html#a57c261547e7f6f9de55f4ce6d92f01a5" title="xlog_state_switch_iclogs" alt="" coords="539,199,707,225"/>
<area shape="rect" id="node11" href="xfs__log_8c.html#a6d0765273bfe81e37cd1f519ac9fe87f" title="xlog_state_release\l_iclog" alt="" coords="557,115,688,157"/>
<area shape="rect" id="node7" href="xfs__log__priv_8h.html#afa28642bf76e6263a10a1fc113943333" title="xlog_cil_force_lsn" alt="" coords="783,5,910,32"/>
<area shape="rect" id="node10" href="xfs__format_8h.html#a6ec595856e8e246158615c182ecd0746" title="xfs_sb_version_haslogv2" alt="" coords="987,132,1156,159"/>
<area shape="rect" id="node12" href="xfs__log_8c.html#ae0a523bea010dcc5226d6389ff472362" title="xlog_assign_tail_lsn" alt="" coords="777,157,916,184"/>
<area shape="rect" id="node13" href="xfs__log_8c.html#ab143397b369df77518e2a866b238ee2b" title="xlog_sync" alt="" coords="806,107,887,133"/>
<area shape="rect" id="node15" href="xfs__alloc_8c.html#ac297e6c3670ce5f2804152a15d0e02f8" title="xfs_read_agf" alt="" coords="574,563,671,589"/>
<area shape="rect" id="node23" href="xfs__alloc_8c.html#aa7f9f32daed5b703814d57ce97db69f8" title="xfs_agfl_needs_reset" alt="" coords="549,487,696,513"/>
<area shape="rect" id="node16" href="xfs__trans_8h.html#acd51fa379808fa3d16c1cd6cb4c3054f" title="xfs_trans_read_buf" alt="" coords="1209,613,1342,640"/>
<area shape="rect" id="node22" href="xfs__buf_8c.html#ab548202445638482a09716db54eb5233" title="xfs_buf_set_ref" alt="" coords="791,563,903,589"/>
<area shape="rect" id="node17" href="xfs__trans_8h.html#a5e13ec09b055fc53d26097b7f6ba2e84" title="xfs_trans_brelse" alt="" coords="1395,664,1513,691"/>
<area shape="rect" id="node19" href="xfs__buf_8h.html#aa37f1f1fb697d53679d588e21d3d7c4b" title="xfs_buf_unlock" alt="" coords="1709,512,1820,539"/>
<area shape="rect" id="node20" href="xfs__buf_8h.html#aa323f6637ad6abef63e6598c7b038b9c" title="xfs_buf_rele" alt="" coords="1718,461,1811,488"/>
<area shape="rect" id="node24" href="xfs__alloc_8c.html#a2c6391698df5b1de628eef4e56ba221b" title="xfs_agfl_size" alt="" coords="797,461,896,488"/>
<area shape="rect" id="node25" href="xfs__format_8h.html#a438df01c793b6c2d46880770bb451176" title="xfs_sb_version_hascrc" alt="" coords="993,537,1149,564"/>
<area shape="rect" id="node27" href="kmem_8h.html#a599d39ea9de651f0b29334a6f226bc7f" title="kmem_zone_zalloc" alt="" coords="555,715,690,741"/>
<area shape="rect" id="node28" href="kmem_8h.html#a5fca7fda061a394f43a128465d3f47de" title="kmem_zone_alloc" alt="" coords="783,715,910,741"/>
<area shape="rect" id="node30" href="xfs__btree_8c.html#a75cc4f736a983c85bb00c62f1e250133" title="xfs_btree_lookup" alt="" coords="562,908,683,935"/>
<area shape="rect" id="node31" href="xfs__btree_8c.html#a1a443013209800b4db2ab0880c08aa9c" title="xfs_btree_lookup_get\l_block" alt="" coords="773,766,920,807"/>
<area shape="rect" id="node34" href="xfs__btree_8h.html#ad59e3f17a865149a438d8744bb01836c" title="xfs_btree_get_numrecs" alt="" coords="992,1136,1151,1163"/>
<area shape="rect" id="node35" href="xfs__btree_8c.html#a31a718a228a9a6ab75eadd2ab195d238" title="xfs_lookup_get_search_key" alt="" coords="755,1187,939,1213"/>
<area shape="rect" id="node37" href="xfs__btree_8c.html#a7a6d817ce72e72a05771d141d620a11c" title="xfs_btree_ptr_addr" alt="" coords="1006,883,1137,909"/>
<area shape="rect" id="node38" href="xfs__btree_8c.html#a56c8186be2a69e6f07fb8c79cb45e123" title="xfs_btree_get_sibling" alt="" coords="999,984,1144,1011"/>
<area shape="rect" id="node39" href="xfs__btree_8c.html#af10d0ba88b4d14bfd860adc0b5852c87" title="xfs_btree_ptr_is_null" alt="" coords="1000,832,1143,859"/>
<area shape="rect" id="node40" href="xfs__btree_8c.html#ac16e81eb787eabef61ecce4240eeca6a" title="xfs_btree_increment" alt="" coords="777,933,917,960"/>
<area shape="rect" id="node32" href="xfs__btree_8c.html#adbe5ddc3e8fa12945808165bca1ef635" title="xfs_btree_read_buf\l_block" alt="" coords="1005,715,1138,757"/>
<area shape="rect" id="node33" href="xfs__btree_8c.html#ae37570c657a70815707f27c74b3b767f" title="xfs_btree_setbuf" alt="" coords="1012,781,1131,808"/>
<area shape="rect" id="node36" href="xfs__btree_8c.html#a2002768f4ef52192349beec0e3f26c3c" title="xfs_btree_rec_addr" alt="" coords="1005,1187,1138,1213"/>
<area shape="rect" id="node41" href="xfs__btree_8c.html#a229b530b11f015db82873787eb9b4008" title="xfs_btree_readahead" alt="" coords="1000,933,1143,960"/>
<area shape="rect" id="node43" href="xfs__btree_8c.html#a688bee7fed41b30b51eaba66ed129655" title="xfs_btree_get_block" alt="" coords="1002,1035,1141,1061"/>
<area shape="rect" id="node44" href="xfs__btree_8c.html#ae41c86a55ca93d1d46aa31c05cbd8294" title="xfs_btree_check_block" alt="" coords="993,1085,1149,1112"/>
<area shape="rect" id="node42" href="xfs__btree_8c.html#a70877772c5a3ab44917b4c6781edff98" title="xfs_btree_readahead\l_lblock" alt="" coords="1204,926,1347,967"/>
<area shape="rect" id="node46" href="xfs__btree_8c.html#a681dd96e474f135a6c6e8d77caaeef7e" title="xfs_btree_get_rec" alt="" coords="783,1085,910,1112"/>
<area shape="rect" id="node50" href="kmem_8h.html#aa8054cedad8a37a0c5b6d0b963b6fc4b" title="kmem_zone_free" alt="" coords="561,1288,684,1315"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__discard_8c_a3f5a3f22f283ad1b7c6a9f2b2e3e66e4_icgraph.png" border="0" usemap="#xfs__discard_8c_a3f5a3f22f283ad1b7c6a9f2b2e3e66e4_icgraph" alt=""/></div>
<map name="xfs__discard_8c_a3f5a3f22f283ad1b7c6a9f2b2e3e66e4_icgraph" id="xfs__discard_8c_a3f5a3f22f283ad1b7c6a9f2b2e3e66e4_icgraph">
<area shape="rect" id="node2" href="xfs__ioctl_8h.html#a8403ebcdd3daf22957e81b9dd35a2caa" title="xfs_file_ioctl" alt="" coords="147,5,241,32"/>
<area shape="rect" id="node3" href="xfs__ioctl32_8c.html#a1b59096eb8a150a0055bc6069684b32f" title="xfs_file_compat_ioctl" alt="" coords="289,5,435,32"/>
</map>
</div>

</div>
</div>
<a id="a81139b9bb66a3fa1cea338242a4ff339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81139b9bb66a3fa1cea338242a4ff339">&#9670;&nbsp;</a></span>xfs_trim_extents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xfs__linux_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int xfs_trim_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxfs__mount.html">xfs_mount</a> *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__types_8h.html#a940a49f78b3c106c0a757e77b725d07b">xfs_agnumber_t</a>&#160;</td>
          <td class="paramname"><em>agno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#ab4b41e94f72b8fcf78f834180ebe046b">xfs_daddr_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#ab4b41e94f72b8fcf78f834180ebe046b">xfs_daddr_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xfs__linux_8h.html#ab4b41e94f72b8fcf78f834180ebe046b">xfs_daddr_t</a>&#160;</td>
          <td class="paramname"><em>minlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>blocks_trimmed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__discard_8c_a81139b9bb66a3fa1cea338242a4ff339_cgraph.png" border="0" usemap="#xfs__discard_8c_a81139b9bb66a3fa1cea338242a4ff339_cgraph" alt=""/></div>
<map name="xfs__discard_8c_a81139b9bb66a3fa1cea338242a4ff339_cgraph" id="xfs__discard_8c_a81139b9bb66a3fa1cea338242a4ff339_cgraph">
<area shape="rect" id="node2" href="xfs__sb_8c.html#a1dbd4c59e91dab91e783f0d49203e77a" title="xfs_perag_get" alt="" coords="416,360,520,387"/>
<area shape="rect" id="node3" href="xfs__log_8c.html#a9080fd173f31e8e601e41c2a24e575f0" title="xfs_log_force" alt="" coords="204,157,304,184"/>
<area shape="rect" id="node12" href="xfs__alloc_8c.html#af7d5eb8e31804f0ca4e340637e28915f" title="xfs_alloc_read_agf" alt="" coords="189,461,319,488"/>
<area shape="rect" id="node16" href="xfs__buf_8h.html#ad185b372dda295d7df2314c793cf53c9" title="xfs_buf_relse" alt="" coords="1407,563,1507,589"/>
<area shape="rect" id="node19" href="xfs__sb_8c.html#a9f1e1a07a211a517c542c2c25b933bf5" title="xfs_perag_put" alt="" coords="1713,335,1817,361"/>
<area shape="rect" id="node24" href="xfs__alloc__btree_8c.html#ad2c33717fc0fd77e677a96274741d11b" title="xfs_allocbt_init_cursor" alt="" coords="178,601,330,628"/>
<area shape="rect" id="node27" href="xfs__alloc_8c.html#a94206dbd2202e9a2f99eea6f285258a3" title="xfs_alloc_lookup_ge" alt="" coords="184,829,324,856"/>
<area shape="rect" id="node45" href="xfs__alloc_8c.html#aa1bcea02d483d4e475b44def6dcf45e4" title="xfs_alloc_get_rec" alt="" coords="192,1047,316,1073"/>
<area shape="rect" id="node47" href="xfs__extent__busy_8c.html#a448610f49cc75f9aff7fe1ce5895c023" title="xfs_extent_busy_search" alt="" coords="172,360,336,387"/>
<area shape="rect" id="node48" href="xfs__btree_8c.html#a74a99d1094bd2c3ae48d01b8ec1b22fc" title="xfs_btree_decrement" alt="" coords="620,984,764,1011"/>
<area shape="rect" id="node49" href="xfs__btree_8c.html#a0d0d0ddeb2d750e0b972853e8af7a659" title="xfs_btree_del_cursor" alt="" coords="183,1199,325,1225"/>
<area shape="rect" id="node4" href="xfs__log__priv_8h.html#af41998b5e59a460aa6ce4311bf31ac03" title="xlog_cil_force" alt="" coords="417,208,519,235"/>
<area shape="rect" id="node6" href="xfs__log__priv_8h.html#a0b287add62cc8b1e511c5069e6415b57" title="xlog_wait" alt="" coords="878,183,955,209"/>
<area shape="rect" id="node7" href="xfs__log_8c.html#a57c261547e7f6f9de55f4ce6d92f01a5" title="xlog_state_switch_iclogs" alt="" coords="384,107,552,133"/>
<area shape="rect" id="node9" href="xfs__log_8c.html#a6d0765273bfe81e37cd1f519ac9fe87f" title="xlog_state_release\l_iclog" alt="" coords="403,41,533,82"/>
<area shape="rect" id="node5" href="xfs__log__priv_8h.html#afa28642bf76e6263a10a1fc113943333" title="xlog_cil_force_lsn" alt="" coords="629,208,755,235"/>
<area shape="rect" id="node8" href="xfs__format_8h.html#a6ec595856e8e246158615c182ecd0746" title="xfs_sb_version_haslogv2" alt="" coords="832,81,1001,108"/>
<area shape="rect" id="node10" href="xfs__log_8c.html#ae0a523bea010dcc5226d6389ff472362" title="xlog_assign_tail_lsn" alt="" coords="623,5,761,32"/>
<area shape="rect" id="node11" href="xfs__log_8c.html#ab143397b369df77518e2a866b238ee2b" title="xlog_sync" alt="" coords="651,56,733,83"/>
<area shape="rect" id="node13" href="xfs__alloc_8c.html#ac297e6c3670ce5f2804152a15d0e02f8" title="xfs_read_agf" alt="" coords="419,512,517,539"/>
<area shape="rect" id="node21" href="xfs__alloc_8c.html#aa7f9f32daed5b703814d57ce97db69f8" title="xfs_agfl_needs_reset" alt="" coords="395,461,541,488"/>
<area shape="rect" id="node14" href="xfs__trans_8h.html#acd51fa379808fa3d16c1cd6cb4c3054f" title="xfs_trans_read_buf" alt="" coords="1054,720,1187,747"/>
<area shape="rect" id="node20" href="xfs__buf_8c.html#ab548202445638482a09716db54eb5233" title="xfs_buf_set_ref" alt="" coords="636,512,748,539"/>
<area shape="rect" id="node15" href="xfs__trans_8h.html#a5e13ec09b055fc53d26097b7f6ba2e84" title="xfs_trans_brelse" alt="" coords="1240,720,1359,747"/>
<area shape="rect" id="node17" href="xfs__buf_8h.html#aa37f1f1fb697d53679d588e21d3d7c4b" title="xfs_buf_unlock" alt="" coords="1555,512,1665,539"/>
<area shape="rect" id="node18" href="xfs__buf_8h.html#aa323f6637ad6abef63e6598c7b038b9c" title="xfs_buf_rele" alt="" coords="1563,563,1657,589"/>
<area shape="rect" id="node22" href="xfs__alloc_8c.html#a2c6391698df5b1de628eef4e56ba221b" title="xfs_agfl_size" alt="" coords="643,461,741,488"/>
<area shape="rect" id="node23" href="xfs__format_8h.html#a438df01c793b6c2d46880770bb451176" title="xfs_sb_version_hascrc" alt="" coords="839,487,995,513"/>
<area shape="rect" id="node25" href="kmem_8h.html#a599d39ea9de651f0b29334a6f226bc7f" title="kmem_zone_zalloc" alt="" coords="401,639,535,665"/>
<area shape="rect" id="node26" href="kmem_8h.html#a5fca7fda061a394f43a128465d3f47de" title="kmem_zone_alloc" alt="" coords="629,664,755,691"/>
<area shape="rect" id="node28" href="xfs__btree_8c.html#a75cc4f736a983c85bb00c62f1e250133" title="xfs_btree_lookup" alt="" coords="407,895,529,921"/>
<area shape="rect" id="node29" href="xfs__btree_8c.html#a1a443013209800b4db2ab0880c08aa9c" title="xfs_btree_lookup_get\l_block" alt="" coords="619,766,765,807"/>
<area shape="rect" id="node33" href="xfs__btree_8h.html#ad59e3f17a865149a438d8744bb01836c" title="xfs_btree_get_numrecs" alt="" coords="837,1187,996,1213"/>
<area shape="rect" id="node34" href="xfs__btree_8c.html#a31a718a228a9a6ab75eadd2ab195d238" title="xfs_lookup_get_search_key" alt="" coords="600,1212,784,1239"/>
<area shape="rect" id="node36" href="xfs__btree_8c.html#a7a6d817ce72e72a05771d141d620a11c" title="xfs_btree_ptr_addr" alt="" coords="851,933,982,960"/>
<area shape="rect" id="node37" href="xfs__btree_8c.html#a56c8186be2a69e6f07fb8c79cb45e123" title="xfs_btree_get_sibling" alt="" coords="844,1035,989,1061"/>
<area shape="rect" id="node38" href="xfs__btree_8c.html#af10d0ba88b4d14bfd860adc0b5852c87" title="xfs_btree_ptr_is_null" alt="" coords="845,883,988,909"/>
<area shape="rect" id="node39" href="xfs__btree_8c.html#ac16e81eb787eabef61ecce4240eeca6a" title="xfs_btree_increment" alt="" coords="622,933,762,960"/>
<area shape="rect" id="node30" href="xfs__btree_8c.html#ad0cf24cadca1ec179beaa7d4fc1bb048" title="xfs_btree_get_iroot" alt="" coords="1054,871,1187,897"/>
<area shape="rect" id="node31" href="xfs__btree_8c.html#adbe5ddc3e8fa12945808165bca1ef635" title="xfs_btree_read_buf\l_block" alt="" coords="850,766,983,807"/>
<area shape="rect" id="node32" href="xfs__btree_8c.html#ae37570c657a70815707f27c74b3b767f" title="xfs_btree_setbuf" alt="" coords="857,832,976,859"/>
<area shape="rect" id="node35" href="xfs__btree_8c.html#a2002768f4ef52192349beec0e3f26c3c" title="xfs_btree_rec_addr" alt="" coords="850,1237,983,1264"/>
<area shape="rect" id="node40" href="xfs__btree_8c.html#a229b530b11f015db82873787eb9b4008" title="xfs_btree_readahead" alt="" coords="845,984,988,1011"/>
<area shape="rect" id="node43" href="xfs__btree_8c.html#a688bee7fed41b30b51eaba66ed129655" title="xfs_btree_get_block" alt="" coords="847,1136,986,1163"/>
<area shape="rect" id="node44" href="xfs__btree_8c.html#ae41c86a55ca93d1d46aa31c05cbd8294" title="xfs_btree_check_block" alt="" coords="839,1085,995,1112"/>
<area shape="rect" id="node41" href="xfs__btree_8c.html#a70877772c5a3ab44917b4c6781edff98" title="xfs_btree_readahead\l_lblock" alt="" coords="1049,1009,1192,1050"/>
<area shape="rect" id="node42" href="xfs__btree_8c.html#a7578da930ea1400c9927f3f9299fa561" title="xfs_btree_readahead\l_sblock" alt="" coords="1049,943,1192,985"/>
<area shape="rect" id="node46" href="xfs__btree_8c.html#a681dd96e474f135a6c6e8d77caaeef7e" title="xfs_btree_get_rec" alt="" coords="629,1136,755,1163"/>
<area shape="rect" id="node50" href="kmem_8h.html#aa8054cedad8a37a0c5b6d0b963b6fc4b" title="kmem_zone_free" alt="" coords="407,1199,529,1225"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xfs__discard_8c_a81139b9bb66a3fa1cea338242a4ff339_icgraph.png" border="0" usemap="#xfs__discard_8c_a81139b9bb66a3fa1cea338242a4ff339_icgraph" alt=""/></div>
<map name="xfs__discard_8c_a81139b9bb66a3fa1cea338242a4ff339_icgraph" id="xfs__discard_8c_a81139b9bb66a3fa1cea338242a4ff339_icgraph">
<area shape="rect" id="node2" href="xfs__discard_8h.html#afbd0a7e7f5906f44b52ef96e98b9731a" title="xfs_ioc_trim" alt="" coords="172,5,265,32"/>
<area shape="rect" id="node3" href="xfs__ioctl_8h.html#a8403ebcdd3daf22957e81b9dd35a2caa" title="xfs_file_ioctl" alt="" coords="313,5,408,32"/>
<area shape="rect" id="node4" href="xfs__ioctl32_8c.html#a1b59096eb8a150a0055bc6069684b32f" title="xfs_file_compat_ioctl" alt="" coords="456,5,601,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_15e8a4ee4af8c535e941e32d10316bb7.html">xfs</a></li><li class="navelem"><a class="el" href="xfs__discard_8c.html">xfs_discard.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
