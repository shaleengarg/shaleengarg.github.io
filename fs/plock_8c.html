<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: dlm/plock.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('plock_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">plock.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/miscdevice.h&gt;</code><br />
<code>#include &lt;linux/poll.h&gt;</code><br />
<code>#include &lt;linux/dlm.h&gt;</code><br />
<code>#include &lt;linux/dlm_plock.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &quot;<a class="el" href="dlm__internal_8h_source.html">dlm_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lockspace_8h_source.html">lockspace.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for plock.c:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c__incl.png" border="0" usemap="#dlm_2plock_8c" alt=""/></div>
<map name="dlm_2plock_8c" id="dlm_2plock_8c">
<area shape="rect" id="node8" href="dlm__internal_8h.html" title="dlm_internal.h" alt="" coords="1179,80,1282,107"/>
<area shape="rect" id="node29" href="lockspace_8h.html" title="lockspace.h" alt="" coords="1562,80,1654,107"/>
<area shape="rect" id="node28" href="config_8h.html" title="config.h" alt="" coords="1623,155,1691,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structplock__op.html">plock_op</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structplock__xop.html">plock_xop</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a91c2b6652afe17acdac9afefdaa20083"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a91c2b6652afe17acdac9afefdaa20083">set_version</a> (struct dlm_plock_info *info)</td></tr>
<tr class="separator:a91c2b6652afe17acdac9afefdaa20083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c921eaaabba57d81fcd8b5d41b35ad"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#ab0c921eaaabba57d81fcd8b5d41b35ad">check_version</a> (struct dlm_plock_info *info)</td></tr>
<tr class="separator:ab0c921eaaabba57d81fcd8b5d41b35ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7ca20acfca8993c7512a5284c22fd9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a6b7ca20acfca8993c7512a5284c22fd9">send_op</a> (struct <a class="el" href="structplock__op.html">plock_op</a> *op)</td></tr>
<tr class="separator:a6b7ca20acfca8993c7512a5284c22fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c379122d42ed7e44ea93bc20f574ca9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a4c379122d42ed7e44ea93bc20f574ca9">do_unlock_close</a> (struct <a class="el" href="structdlm__ls.html">dlm_ls</a> *ls, u64 number, struct file *file, struct file_lock *fl)</td></tr>
<tr class="separator:a4c379122d42ed7e44ea93bc20f574ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf86579fbc7612c34b308a41b0372fc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#adf86579fbc7612c34b308a41b0372fc8">dlm_posix_lock</a> (dlm_lockspace_t *lockspace, u64 number, struct file *file, int <a class="el" href="send_8h.html#aba87c031cbb3e372df508f4153bd3f1c">cmd</a>, struct file_lock *fl)</td></tr>
<tr class="separator:adf86579fbc7612c34b308a41b0372fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50216430fc801da7eb39b5031dff4b65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a50216430fc801da7eb39b5031dff4b65">EXPORT_SYMBOL_GPL</a> (<a class="el" href="plock_8c.html#adf86579fbc7612c34b308a41b0372fc8">dlm_posix_lock</a>)</td></tr>
<tr class="separator:a50216430fc801da7eb39b5031dff4b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b4db5075305e60a5cb8ce274e0cc06"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a61b4db5075305e60a5cb8ce274e0cc06">dlm_plock_callback</a> (struct <a class="el" href="structplock__op.html">plock_op</a> *op)</td></tr>
<tr class="separator:a61b4db5075305e60a5cb8ce274e0cc06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7836e9e456518df1f34526a1126fbbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#ad7836e9e456518df1f34526a1126fbbf">dlm_posix_unlock</a> (dlm_lockspace_t *lockspace, u64 number, struct file *file, struct file_lock *fl)</td></tr>
<tr class="separator:ad7836e9e456518df1f34526a1126fbbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b5eef1c3724aa028a4959941a0e5fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#ae0b5eef1c3724aa028a4959941a0e5fc">EXPORT_SYMBOL_GPL</a> (<a class="el" href="plock_8c.html#ad7836e9e456518df1f34526a1126fbbf">dlm_posix_unlock</a>)</td></tr>
<tr class="separator:ae0b5eef1c3724aa028a4959941a0e5fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b147d998ecfec1aa6d8e5eb34a9611c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a5b147d998ecfec1aa6d8e5eb34a9611c">dlm_posix_get</a> (dlm_lockspace_t *lockspace, u64 number, struct file *file, struct file_lock *fl)</td></tr>
<tr class="separator:a5b147d998ecfec1aa6d8e5eb34a9611c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66167523b8c9dd791a8dd7d0d46b98af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a66167523b8c9dd791a8dd7d0d46b98af">EXPORT_SYMBOL_GPL</a> (<a class="el" href="plock_8c.html#a5b147d998ecfec1aa6d8e5eb34a9611c">dlm_posix_get</a>)</td></tr>
<tr class="separator:a66167523b8c9dd791a8dd7d0d46b98af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee11444f1e191a6469a2fafb5211f52"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a1ee11444f1e191a6469a2fafb5211f52">dev_read</a> (struct file *file, char __user *<a class="el" href="protocol_8h.html#ad56754751edde9686250d5005b525abf">u</a>, size_t <a class="el" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>, loff_t *ppos)</td></tr>
<tr class="separator:a1ee11444f1e191a6469a2fafb5211f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8927f50c4f0151a0c43da477fc6412e1"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a8927f50c4f0151a0c43da477fc6412e1">dev_write</a> (struct file *file, const char __user *<a class="el" href="protocol_8h.html#ad56754751edde9686250d5005b525abf">u</a>, size_t <a class="el" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>, loff_t *ppos)</td></tr>
<tr class="separator:a8927f50c4f0151a0c43da477fc6412e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b456add96f10f5d078f2a880234019"><td class="memItemLeft" align="right" valign="top">static __poll_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#ad2b456add96f10f5d078f2a880234019">dev_poll</a> (struct file *file, poll_table *wait)</td></tr>
<tr class="separator:ad2b456add96f10f5d078f2a880234019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ed77cef7a0956f4f9166f7350652c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a50ed77cef7a0956f4f9166f7350652c0">dlm_plock_init</a> (void)</td></tr>
<tr class="separator:a50ed77cef7a0956f4f9166f7350652c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5e4f6393f23df01e95ebee6a2c82e50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#ab5e4f6393f23df01e95ebee6a2c82e50">dlm_plock_exit</a> (void)</td></tr>
<tr class="separator:ab5e4f6393f23df01e95ebee6a2c82e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a98a342c9f1c4f762a22868e7e8b17ea9"><td class="memItemLeft" align="right" valign="top">static spinlock_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a98a342c9f1c4f762a22868e7e8b17ea9">ops_lock</a></td></tr>
<tr class="separator:a98a342c9f1c4f762a22868e7e8b17ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bba0f63960fde2efe0c416345b21ba7"><td class="memItemLeft" align="right" valign="top">static struct list_head&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a9bba0f63960fde2efe0c416345b21ba7">send_list</a></td></tr>
<tr class="separator:a9bba0f63960fde2efe0c416345b21ba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6976dd4b6c458ef04c1c36d8e2b9243b"><td class="memItemLeft" align="right" valign="top">static struct list_head&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a6976dd4b6c458ef04c1c36d8e2b9243b">recv_list</a></td></tr>
<tr class="separator:a6976dd4b6c458ef04c1c36d8e2b9243b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d0f73dd517d50550c000e40378c6aa"><td class="memItemLeft" align="right" valign="top">static wait_queue_head_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#ab1d0f73dd517d50550c000e40378c6aa">send_wq</a></td></tr>
<tr class="separator:ab1d0f73dd517d50550c000e40378c6aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a2c92d26de42ea29214c10117a54f46"><td class="memItemLeft" align="right" valign="top">static wait_queue_head_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a8a2c92d26de42ea29214c10117a54f46">recv_wq</a></td></tr>
<tr class="separator:a8a2c92d26de42ea29214c10117a54f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050665a03676b52bafa639c45b7f7102"><td class="memItemLeft" align="right" valign="top">static const struct file_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#a050665a03676b52bafa639c45b7f7102">dev_fops</a></td></tr>
<tr class="separator:a050665a03676b52bafa639c45b7f7102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcdc8e61b91ef4d64b7d99231f0144c1"><td class="memItemLeft" align="right" valign="top">static struct miscdevice&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plock_8c.html#afcdc8e61b91ef4d64b7d99231f0144c1">plock_dev_misc</a></td></tr>
<tr class="separator:afcdc8e61b91ef4d64b7d99231f0144c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab0c921eaaabba57d81fcd8b5d41b35ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0c921eaaabba57d81fcd8b5d41b35ad">&#9670;&nbsp;</a></span>check_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int check_version </td>
          <td>(</td>
          <td class="paramtype">struct dlm_plock_info *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_ab0c921eaaabba57d81fcd8b5d41b35ad_icgraph.png" border="0" usemap="#plock_8c_ab0c921eaaabba57d81fcd8b5d41b35ad_icgraph" alt=""/></div>
<map name="plock_8c_ab0c921eaaabba57d81fcd8b5d41b35ad_icgraph" id="plock_8c_ab0c921eaaabba57d81fcd8b5d41b35ad_icgraph">
<area shape="rect" id="node2" href="plock_8c.html#a8927f50c4f0151a0c43da477fc6412e1" title="dev_write" alt="" coords="160,5,239,32"/>
</map>
</div>

</div>
</div>
<a id="ad2b456add96f10f5d078f2a880234019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2b456add96f10f5d078f2a880234019">&#9670;&nbsp;</a></span>dev_poll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __poll_t dev_poll </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">poll_table *&#160;</td>
          <td class="paramname"><em>wait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1ee11444f1e191a6469a2fafb5211f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ee11444f1e191a6469a2fafb5211f52">&#9670;&nbsp;</a></span>dev_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t dev_read </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char __user *&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&#160;</td>
          <td class="paramname"><em>ppos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8927f50c4f0151a0c43da477fc6412e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8927f50c4f0151a0c43da477fc6412e1">&#9670;&nbsp;</a></span>dev_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t dev_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&#160;</td>
          <td class="paramname"><em>ppos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a8927f50c4f0151a0c43da477fc6412e1_cgraph.png" border="0" usemap="#plock_8c_a8927f50c4f0151a0c43da477fc6412e1_cgraph" alt=""/></div>
<map name="plock_8c_a8927f50c4f0151a0c43da477fc6412e1_cgraph" id="plock_8c_a8927f50c4f0151a0c43da477fc6412e1_cgraph">
<area shape="rect" id="node2" href="plock_8c.html#ab0c921eaaabba57d81fcd8b5d41b35ad" title="check_version" alt="" coords="147,569,253,595"/>
<area shape="rect" id="node3" href="plock_8c.html#a61b4db5075305e60a5cb8ce274e0cc06" title="dlm_plock_callback" alt="" coords="132,619,268,646"/>
<area shape="rect" id="node34" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="173,670,227,697"/>
<area shape="rect" id="node4" href="locks_8c.html#aef6cce9ffe73d28f09b5ccc2e6d6e348" title="posix_lock_file" alt="" coords="321,619,429,646"/>
<area shape="rect" id="node5" href="locks_8c.html#a74932dd2a00fd241c25a16e67ed4ef25" title="posix_lock_inode" alt="" coords="483,442,605,469"/>
<area shape="rect" id="node16" href="locks_8c.html#ac392262fb562857fdac04d764121e0b7" title="EXPORT_SYMBOL" alt="" coords="1096,729,1235,755"/>
<area shape="rect" id="node6" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="685,229,780,255"/>
<area shape="rect" id="node7" href="locks_8c.html#a329ba984f34a261ff361fca1a25b6d3a" title="locks_get_lock_context" alt="" coords="653,279,812,306"/>
<area shape="rect" id="node8" href="locks_8c.html#a2566d7885e0afef541b1d95747f9e40e" title="locks_alloc_lock" alt="" coords="673,493,792,519"/>
<area shape="rect" id="node11" href="locks_8c.html#aad16468669f264d9945a5c59d5117ed8" title="posix_locks_conflict" alt="" coords="663,330,803,357"/>
<area shape="rect" id="node12" href="locks_8c.html#add16e3a243beb3ce042a53f767599e7e" title="posix_same_owner" alt="" coords="1098,147,1233,174"/>
<area shape="rect" id="node15" href="locks_8c.html#a087e6b3ca4cc4a9b1b6a5da70e9ac838" title="locks_copy_conflock" alt="" coords="877,746,1021,773"/>
<area shape="rect" id="node17" href="locks_8c.html#a8e4f043488fc3129c67769083c866fab" title="posix_locks_deadlock" alt="" coords="657,173,808,199"/>
<area shape="rect" id="node20" href="locks_8c.html#a031960b4f1060703c82757cbb4f3c19f" title="__locks_insert_block" alt="" coords="661,387,805,414"/>
<area shape="rect" id="node22" href="locks_8c.html#a18eab8557cb03c6bf18166b922df3fad" title="locks_delete_lock_ctx" alt="" coords="657,543,808,570"/>
<area shape="rect" id="node25" href="locks_8c.html#a0aca39f10696418358050604c8c6838a" title="locks_wake_up_blocks" alt="" coords="1087,493,1244,519"/>
<area shape="rect" id="node28" href="locks_8c.html#a3946eda3effdd575cb8fb0a1e20c267c" title="locks_free_lock" alt="" coords="893,645,1006,671"/>
<area shape="rect" id="node30" href="locks_8c.html#a1422e47f8cb74382412c08a77127f00d" title="locks_copy_lock" alt="" coords="673,695,792,722"/>
<area shape="rect" id="node31" href="locks_8c.html#a94eddde277cc9dba246c92525ac69bab" title="locks_insert_lock_ctx" alt="" coords="659,17,807,43"/>
<area shape="rect" id="node33" href="locks_8c.html#ac12b58b3307f3ea0e51a6310457e5366" title="locks_dispose_list" alt="" coords="668,594,797,621"/>
<area shape="rect" id="node9" href="locks_8c.html#aaf0eec7769579a2fbc1ddd9804470873" title="locks_init_lock_heads" alt="" coords="874,493,1025,519"/>
<area shape="rect" id="node10" href="locks_8c.html#ae0e51117f92ae6dc5ccfbaa60aaa53f1" title="EXPORT_SYMBOL_GPL" alt="" coords="1292,602,1464,629"/>
<area shape="rect" id="node13" href="locks_8c.html#a708cd2317b05abfa607c61ecff3cd345" title="locks_overlap" alt="" coords="898,325,1001,351"/>
<area shape="rect" id="node14" href="locks_8c.html#a299223ee3c8715c0018e770fb35164de" title="locks_conflict" alt="" coords="898,274,1001,301"/>
<area shape="rect" id="node18" href="locks_8c.html#a6a435269009726e3693dd16b6ff26cf4" title="what_owner_is_waiting_for" alt="" coords="860,173,1039,199"/>
<area shape="rect" id="node19" href="locks_8c.html#a647ea7d19826cc32c8d7dc869167a4df" title="posix_owner_key" alt="" coords="1104,291,1227,318"/>
<area shape="rect" id="node21" href="locks_8c.html#a20a8676d431cbbf605a58cfb757ae919" title="locks_insert_global\l_blocked" alt="" coords="883,376,1016,417"/>
<area shape="rect" id="node23" href="locks_8c.html#abf58467415726d687ab799cddf63f385" title="locks_unlink_lock_ctx" alt="" coords="874,594,1025,621"/>
<area shape="rect" id="node24" href="locks_8c.html#a593e269556a3d38cfa401e437c8d970c" title="locks_delete_global\l_locks" alt="" coords="1097,595,1233,636"/>
<area shape="rect" id="node26" href="locks_8c.html#a34706a070522e1ed9f54d505deec93cd" title="__locks_delete_block" alt="" coords="1305,493,1451,519"/>
<area shape="rect" id="node27" href="locks_8c.html#aca1f3e9910253289155c5236c83b9ff4" title="locks_delete_global\l_blocked" alt="" coords="1512,485,1648,527"/>
<area shape="rect" id="node29" href="locks_8c.html#a8fd94e778fd9f51467c83f045029c2d1" title="locks_release_private" alt="" coords="1091,661,1239,687"/>
<area shape="rect" id="node32" href="locks_8c.html#a2a74fb7e08cc91f2b40e6e8407e19334" title="locks_insert_global\l_locks" alt="" coords="883,5,1016,47"/>
<area shape="rect" id="node35" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="316,670,435,697"/>
</map>
</div>

</div>
</div>
<a id="a61b4db5075305e60a5cb8ce274e0cc06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b4db5075305e60a5cb8ce274e0cc06">&#9670;&nbsp;</a></span>dlm_plock_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dlm_plock_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structplock__op.html">plock_op</a> *&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a61b4db5075305e60a5cb8ce274e0cc06_cgraph.png" border="0" usemap="#plock_8c_a61b4db5075305e60a5cb8ce274e0cc06_cgraph" alt=""/></div>
<map name="plock_8c_a61b4db5075305e60a5cb8ce274e0cc06_cgraph" id="plock_8c_a61b4db5075305e60a5cb8ce274e0cc06_cgraph">
<area shape="rect" id="node2" href="locks_8c.html#aef6cce9ffe73d28f09b5ccc2e6d6e348" title="posix_lock_file" alt="" coords="189,619,297,646"/>
<area shape="rect" id="node3" href="locks_8c.html#a74932dd2a00fd241c25a16e67ed4ef25" title="posix_lock_inode" alt="" coords="345,442,468,469"/>
<area shape="rect" id="node14" href="locks_8c.html#ac392262fb562857fdac04d764121e0b7" title="EXPORT_SYMBOL" alt="" coords="959,729,1097,755"/>
<area shape="rect" id="node4" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="548,229,643,255"/>
<area shape="rect" id="node5" href="locks_8c.html#a329ba984f34a261ff361fca1a25b6d3a" title="locks_get_lock_context" alt="" coords="516,279,675,306"/>
<area shape="rect" id="node6" href="locks_8c.html#a2566d7885e0afef541b1d95747f9e40e" title="locks_alloc_lock" alt="" coords="536,493,655,519"/>
<area shape="rect" id="node9" href="locks_8c.html#aad16468669f264d9945a5c59d5117ed8" title="posix_locks_conflict" alt="" coords="525,330,665,357"/>
<area shape="rect" id="node10" href="locks_8c.html#add16e3a243beb3ce042a53f767599e7e" title="posix_same_owner" alt="" coords="961,147,1095,174"/>
<area shape="rect" id="node13" href="locks_8c.html#a087e6b3ca4cc4a9b1b6a5da70e9ac838" title="locks_copy_conflock" alt="" coords="740,746,884,773"/>
<area shape="rect" id="node15" href="locks_8c.html#a8e4f043488fc3129c67769083c866fab" title="posix_locks_deadlock" alt="" coords="520,173,671,199"/>
<area shape="rect" id="node18" href="locks_8c.html#a031960b4f1060703c82757cbb4f3c19f" title="__locks_insert_block" alt="" coords="523,387,667,414"/>
<area shape="rect" id="node20" href="locks_8c.html#a18eab8557cb03c6bf18166b922df3fad" title="locks_delete_lock_ctx" alt="" coords="520,543,671,570"/>
<area shape="rect" id="node23" href="locks_8c.html#a0aca39f10696418358050604c8c6838a" title="locks_wake_up_blocks" alt="" coords="949,493,1107,519"/>
<area shape="rect" id="node26" href="locks_8c.html#a3946eda3effdd575cb8fb0a1e20c267c" title="locks_free_lock" alt="" coords="755,645,869,671"/>
<area shape="rect" id="node28" href="locks_8c.html#a1422e47f8cb74382412c08a77127f00d" title="locks_copy_lock" alt="" coords="536,695,655,722"/>
<area shape="rect" id="node29" href="locks_8c.html#a94eddde277cc9dba246c92525ac69bab" title="locks_insert_lock_ctx" alt="" coords="521,17,669,43"/>
<area shape="rect" id="node31" href="locks_8c.html#ac12b58b3307f3ea0e51a6310457e5366" title="locks_dispose_list" alt="" coords="531,594,660,621"/>
<area shape="rect" id="node7" href="locks_8c.html#aaf0eec7769579a2fbc1ddd9804470873" title="locks_init_lock_heads" alt="" coords="737,493,887,519"/>
<area shape="rect" id="node8" href="locks_8c.html#ae0e51117f92ae6dc5ccfbaa60aaa53f1" title="EXPORT_SYMBOL_GPL" alt="" coords="1155,602,1327,629"/>
<area shape="rect" id="node11" href="locks_8c.html#a708cd2317b05abfa607c61ecff3cd345" title="locks_overlap" alt="" coords="761,325,863,351"/>
<area shape="rect" id="node12" href="locks_8c.html#a299223ee3c8715c0018e770fb35164de" title="locks_conflict" alt="" coords="761,274,863,301"/>
<area shape="rect" id="node16" href="locks_8c.html#a6a435269009726e3693dd16b6ff26cf4" title="what_owner_is_waiting_for" alt="" coords="723,173,901,199"/>
<area shape="rect" id="node17" href="locks_8c.html#a647ea7d19826cc32c8d7dc869167a4df" title="posix_owner_key" alt="" coords="967,291,1089,318"/>
<area shape="rect" id="node19" href="locks_8c.html#a20a8676d431cbbf605a58cfb757ae919" title="locks_insert_global\l_blocked" alt="" coords="745,376,879,417"/>
<area shape="rect" id="node21" href="locks_8c.html#abf58467415726d687ab799cddf63f385" title="locks_unlink_lock_ctx" alt="" coords="737,594,887,621"/>
<area shape="rect" id="node22" href="locks_8c.html#a593e269556a3d38cfa401e437c8d970c" title="locks_delete_global\l_locks" alt="" coords="960,595,1096,636"/>
<area shape="rect" id="node24" href="locks_8c.html#a34706a070522e1ed9f54d505deec93cd" title="__locks_delete_block" alt="" coords="1167,493,1314,519"/>
<area shape="rect" id="node25" href="locks_8c.html#aca1f3e9910253289155c5236c83b9ff4" title="locks_delete_global\l_blocked" alt="" coords="1375,485,1511,527"/>
<area shape="rect" id="node27" href="locks_8c.html#a8fd94e778fd9f51467c83f045029c2d1" title="locks_release_private" alt="" coords="954,661,1102,687"/>
<area shape="rect" id="node30" href="locks_8c.html#a2a74fb7e08cc91f2b40e6e8407e19334" title="locks_insert_global\l_locks" alt="" coords="745,5,879,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a61b4db5075305e60a5cb8ce274e0cc06_icgraph.png" border="0" usemap="#plock_8c_a61b4db5075305e60a5cb8ce274e0cc06_icgraph" alt=""/></div>
<map name="plock_8c_a61b4db5075305e60a5cb8ce274e0cc06_icgraph" id="plock_8c_a61b4db5075305e60a5cb8ce274e0cc06_icgraph">
<area shape="rect" id="node2" href="plock_8c.html#a8927f50c4f0151a0c43da477fc6412e1" title="dev_write" alt="" coords="189,5,268,32"/>
</map>
</div>

</div>
</div>
<a id="ab5e4f6393f23df01e95ebee6a2c82e50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5e4f6393f23df01e95ebee6a2c82e50">&#9670;&nbsp;</a></span>dlm_plock_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dlm_plock_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_ab5e4f6393f23df01e95ebee6a2c82e50_icgraph.png" border="0" usemap="#plock_8c_ab5e4f6393f23df01e95ebee6a2c82e50_icgraph" alt=""/></div>
<map name="plock_8c_ab5e4f6393f23df01e95ebee6a2c82e50_icgraph" id="plock_8c_ab5e4f6393f23df01e95ebee6a2c82e50_icgraph">
<area shape="rect" id="node2" href="dlm_2main_8c.html#af3c0ca4f1349a431a67422c8791d6f1e" title="exit_dlm" alt="" coords="1199,5,1270,32"/>
<area shape="rect" id="node3" href="dlm__internal_8h.html#a073ee3ed1277f65ecdd7b01388c135a2" title="dlm_no_directory" alt="" coords="163,629,284,656"/>
<area shape="rect" id="node4" href="dlm_2dir_8h.html#a92ebd26e62e38ab89f8da6aefac25fa4" title="dlm_recover_directory" alt="" coords="1386,731,1537,757"/>
<area shape="rect" id="node5" href="recoverd_8c.html#ab62779df96a68ad1ce11df51caddf269" title="ls_recover" alt="" coords="1636,707,1719,733"/>
<area shape="rect" id="node10" href="dlm_2lock_8c.html#a0e5dc6f9bc376ce0695cc21f0ad16421" title="find_rsb" alt="" coords="377,528,445,555"/>
<area shape="rect" id="node29" href="lock_8h.html#a932b5d8b516f906d7eab1653dae53493" title="dlm_recover_master_copy" alt="" coords="539,629,713,656"/>
<area shape="rect" id="node32" href="dlm_2lock_8c.html#a8bc6e836e43b5bae4660148f2142ade9" title="validate_master_nodeid" alt="" coords="332,579,491,605"/>
<area shape="rect" id="node33" href="dlm_2lock_8c.html#aac772cf39edea331cc3f4fe26fe98c47" title="shrink_bucket" alt="" coords="360,883,463,909"/>
<area shape="rect" id="node38" href="dlm_2lock_8c.html#a457f91dd9df1ed61082f6758d68a42ed" title="waiter_needs_recovery" alt="" coords="548,781,704,808"/>
<area shape="rect" id="node40" href="lockspace_8c.html#aaf978ca803c836485986fb27adcdacaf" title="dlm_nodir_show" alt="" coords="353,427,469,453"/>
<area shape="rect" id="node41" href="recover_8h.html#a22e75f17686c8c62b9da73a7b9b6d2ac" title="dlm_recover_masters" alt="" coords="1388,832,1535,859"/>
<area shape="rect" id="node42" href="requestqueue_8c.html#ad667406d19f777a73cbf251f16cbd04c" title="purge_request" alt="" coords="359,477,463,504"/>
<area shape="rect" id="node6" href="recoverd_8c.html#a607f54118d11f07df88de1af7e1daae5" title="do_ls_recovery" alt="" coords="1803,707,1913,733"/>
<area shape="rect" id="node7" href="recoverd_8c.html#ae8de24c4786207676edc06653b306a46" title="dlm_recoverd" alt="" coords="1961,707,2061,733"/>
<area shape="rect" id="node8" href="recoverd_8h.html#a266e609aac81f71ceec84f01aead7073" title="dlm_recoverd_start" alt="" coords="2109,707,2243,733"/>
<area shape="rect" id="node9" href="lockspace_8c.html#a83963ec3c204e4d89fa31424d5b0b600" title="new_lockspace" alt="" coords="2291,707,2403,733"/>
<area shape="rect" id="node11" href="dlm_2lock_8c.html#a005dbae256b8c63567facca8854a88be" title="request_lock" alt="" coords="578,416,674,443"/>
<area shape="rect" id="node21" href="dlm_2lock_8c.html#a2a24cae22fdc16aa5620a7f464199271" title="receive_request" alt="" coords="569,551,683,577"/>
<area shape="rect" id="node12" href="dlm_2lock_8c.html#a16cd50e9d6d0c3043fb191e85682babd" title="dlm_lock" alt="" coords="789,416,864,443"/>
<area shape="rect" id="node18" href="lock_8h.html#a8f0180f010bf9a05611ea408717e7bfe" title="dlm_user_request" alt="" coords="764,340,889,367"/>
<area shape="rect" id="node13" href="lock__dlm_8c.html#ac7f8caf520e87fb560d7b035ef9bc7e8" title="gdlm_lock" alt="" coords="979,416,1060,443"/>
<area shape="rect" id="node14" href="lock__dlm_8c.html#a16e3272f9397bcfa9f7a84ac2c858545" title="sync_lock" alt="" coords="979,467,1060,493"/>
<area shape="rect" id="node17" href="stack__user_8c.html#a84e57fe63e206f7a3b7c0ab3d03379c2" title="user_dlm_lock" alt="" coords="966,365,1073,392"/>
<area shape="rect" id="node15" href="lock__dlm_8c.html#af7d17402ff240e98041435db712b737f" title="mounted_lock" alt="" coords="1183,461,1286,488"/>
<area shape="rect" id="node16" href="lock__dlm_8c.html#a840ad029cc32b64e7d48d0a0bd1b705d" title="control_lock" alt="" coords="1189,411,1281,437"/>
<area shape="rect" id="node19" href="user_8c.html#a778235a17fdfaf033b0c6838fae8d11b" title="device_user_lock" alt="" coords="958,315,1081,341"/>
<area shape="rect" id="node20" href="user_8c.html#a35157d114972783a070dde077ecd66d0" title="device_write" alt="" coords="1414,259,1509,285"/>
<area shape="rect" id="node22" href="dlm_2lock_8c.html#af6e6e85df97b374ce1bdec831375c702" title="receive_lookup" alt="" coords="772,563,881,589"/>
<area shape="rect" id="node23" href="dlm_2lock_8c.html#aac52d0aebd9447f2d33c775bc9ced2b5" title="_receive_message" alt="" coords="954,524,1085,551"/>
<area shape="rect" id="node24" href="dlm_2lock_8c.html#a39ecf466adacd16c02a9f32d532502d3" title="dlm_receive_message" alt="" coords="1159,579,1311,605"/>
<area shape="rect" id="node27" href="lock_8h.html#a395492622c09491735a8e604b9d35817" title="dlm_receive_message\l_saved" alt="" coords="1159,513,1311,554"/>
<area shape="rect" id="node25" href="lock_8h.html#a36d4408472d4aa99002b5e444b91d5d9" title="dlm_receive_buffer" alt="" coords="1395,625,1527,652"/>
<area shape="rect" id="node26" href="midcomms_8h.html#ad4a216348309de90691e9d442716c2fa" title="dlm_process_incoming\l_buffer" alt="" coords="1600,618,1755,659"/>
<area shape="rect" id="node28" href="requestqueue_8h.html#a7d42cf8df9a2d93de544b51c7491ea0c" title="dlm_process_requestqueue" alt="" coords="1371,547,1552,573"/>
<area shape="rect" id="node30" href="rcom_8c.html#a23ed1966239035b8b3e3c2190ece89aa" title="receive_rcom_lock" alt="" coords="761,629,892,656"/>
<area shape="rect" id="node31" href="rcom_8h.html#a13afb732128fb423bdfde1651593580b" title="dlm_receive_rcom" alt="" coords="955,629,1083,656"/>
<area shape="rect" id="node34" href="lock_8h.html#a8a7e1d3959ed9a29331f10f901e7667e" title="dlm_scan_rsbs" alt="" coords="571,883,681,909"/>
<area shape="rect" id="node35" href="lockspace_8c.html#a50a27f47ae65fd5a846b05d1113fe02d" title="dlm_scand" alt="" coords="784,883,869,909"/>
<area shape="rect" id="node36" href="lockspace_8c.html#a5231318756dde615f52e63409485d96c" title="dlm_scand_start" alt="" coords="960,883,1079,909"/>
<area shape="rect" id="node37" href="lockspace_8c.html#ad4ff3ba979424c041d82640e80b15715" title="threads_start" alt="" coords="1185,883,1284,909"/>
<area shape="rect" id="node39" href="lock_8h.html#adfa8a2a431c567fc033aec02af7b8b00" title="dlm_recover_waiters_pre" alt="" coords="1378,781,1545,808"/>
<area shape="rect" id="node43" href="requestqueue_8h.html#af5030d732d0afce62574888dfb13055b" title="dlm_purge_requestqueue" alt="" coords="543,183,709,209"/>
<area shape="rect" id="node44" href="lockspace_8c.html#ae738a1d36b30d37b7be92ddc3a5358a1" title="release_lockspace" alt="" coords="761,183,892,209"/>
<area shape="rect" id="node45" href="lockspace_8c.html#a8fba8432420a6deed197dbd3d9b0c1c3" title="dlm_release_lockspace" alt="" coords="940,183,1099,209"/>
<area shape="rect" id="node46" href="user_8c.html#a038e8ed4ae320e5928f71fcc5eab6ff3" title="device_create_lockspace" alt="" coords="1150,208,1319,235"/>
<area shape="rect" id="node47" href="user_8c.html#a52bbc2eb34eefac21ddaba8178f1271a" title="device_remove_lockspace" alt="" coords="1147,259,1323,285"/>
<area shape="rect" id="node48" href="lock__dlm_8c.html#af027444e33e5b6d21d8517d8f56fcdd4" title="gdlm_mount" alt="" coords="1188,309,1281,336"/>
<area shape="rect" id="node49" href="lock__dlm_8c.html#affc6710ef73a226f3af526b2ad959d5f" title="gdlm_unmount" alt="" coords="1181,107,1288,133"/>
<area shape="rect" id="node50" href="stack__user_8c.html#a8cf91a941703c3e27fd71e3208bda0a2" title="user_cluster_disconnect" alt="" coords="1153,157,1316,184"/>
</map>
</div>

</div>
</div>
<a id="a50ed77cef7a0956f4f9166f7350652c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50ed77cef7a0956f4f9166f7350652c0">&#9670;&nbsp;</a></span>dlm_plock_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlm_plock_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a50ed77cef7a0956f4f9166f7350652c0_icgraph.png" border="0" usemap="#plock_8c_a50ed77cef7a0956f4f9166f7350652c0_icgraph" alt=""/></div>
<map name="plock_8c_a50ed77cef7a0956f4f9166f7350652c0_icgraph" id="plock_8c_a50ed77cef7a0956f4f9166f7350652c0_icgraph">
<area shape="rect" id="node2" href="dlm_2main_8c.html#ae8074252b6f3b4940cda64a2be696241" title="init_dlm" alt="" coords="186,279,253,305"/>
<area shape="rect" id="node4" href="dlm__internal_8h.html#a073ee3ed1277f65ecdd7b01388c135a2" title="dlm_no_directory" alt="" coords="159,616,280,643"/>
<area shape="rect" id="node3" href="dlm_2main_8c.html#af3c0ca4f1349a431a67422c8791d6f1e" title="exit_dlm" alt="" coords="1195,93,1266,120"/>
<area shape="rect" id="node5" href="dlm_2dir_8h.html#a92ebd26e62e38ab89f8da6aefac25fa4" title="dlm_recover_directory" alt="" coords="1382,717,1533,744"/>
<area shape="rect" id="node6" href="recoverd_8c.html#ab62779df96a68ad1ce11df51caddf269" title="ls_recover" alt="" coords="1632,693,1715,720"/>
<area shape="rect" id="node11" href="dlm_2lock_8c.html#a0e5dc6f9bc376ce0695cc21f0ad16421" title="find_rsb" alt="" coords="373,515,441,541"/>
<area shape="rect" id="node30" href="lock_8h.html#a932b5d8b516f906d7eab1653dae53493" title="dlm_recover_master_copy" alt="" coords="535,616,709,643"/>
<area shape="rect" id="node33" href="dlm_2lock_8c.html#a8bc6e836e43b5bae4660148f2142ade9" title="validate_master_nodeid" alt="" coords="328,565,487,592"/>
<area shape="rect" id="node34" href="dlm_2lock_8c.html#aac772cf39edea331cc3f4fe26fe98c47" title="shrink_bucket" alt="" coords="356,869,459,896"/>
<area shape="rect" id="node39" href="dlm_2lock_8c.html#a457f91dd9df1ed61082f6758d68a42ed" title="waiter_needs_recovery" alt="" coords="544,768,700,795"/>
<area shape="rect" id="node41" href="lockspace_8c.html#aaf978ca803c836485986fb27adcdacaf" title="dlm_nodir_show" alt="" coords="349,413,465,440"/>
<area shape="rect" id="node42" href="recover_8h.html#a22e75f17686c8c62b9da73a7b9b6d2ac" title="dlm_recover_masters" alt="" coords="1384,819,1531,845"/>
<area shape="rect" id="node43" href="requestqueue_8c.html#ad667406d19f777a73cbf251f16cbd04c" title="purge_request" alt="" coords="355,464,459,491"/>
<area shape="rect" id="node7" href="recoverd_8c.html#a607f54118d11f07df88de1af7e1daae5" title="do_ls_recovery" alt="" coords="1799,693,1909,720"/>
<area shape="rect" id="node8" href="recoverd_8c.html#ae8de24c4786207676edc06653b306a46" title="dlm_recoverd" alt="" coords="1957,693,2057,720"/>
<area shape="rect" id="node9" href="recoverd_8h.html#a266e609aac81f71ceec84f01aead7073" title="dlm_recoverd_start" alt="" coords="2105,693,2239,720"/>
<area shape="rect" id="node10" href="lockspace_8c.html#a83963ec3c204e4d89fa31424d5b0b600" title="new_lockspace" alt="" coords="2287,693,2399,720"/>
<area shape="rect" id="node12" href="dlm_2lock_8c.html#a005dbae256b8c63567facca8854a88be" title="request_lock" alt="" coords="574,408,670,435"/>
<area shape="rect" id="node22" href="dlm_2lock_8c.html#a2a24cae22fdc16aa5620a7f464199271" title="receive_request" alt="" coords="565,536,679,563"/>
<area shape="rect" id="node13" href="dlm_2lock_8c.html#a16cd50e9d6d0c3043fb191e85682babd" title="dlm_lock" alt="" coords="785,408,860,435"/>
<area shape="rect" id="node19" href="lock_8h.html#a8f0180f010bf9a05611ea408717e7bfe" title="dlm_user_request" alt="" coords="760,332,885,359"/>
<area shape="rect" id="node14" href="lock__dlm_8c.html#ac7f8caf520e87fb560d7b035ef9bc7e8" title="gdlm_lock" alt="" coords="975,408,1056,435"/>
<area shape="rect" id="node15" href="lock__dlm_8c.html#a16e3272f9397bcfa9f7a84ac2c858545" title="sync_lock" alt="" coords="975,459,1056,485"/>
<area shape="rect" id="node18" href="stack__user_8c.html#a84e57fe63e206f7a3b7c0ab3d03379c2" title="user_dlm_lock" alt="" coords="962,357,1069,384"/>
<area shape="rect" id="node16" href="lock__dlm_8c.html#af7d17402ff240e98041435db712b737f" title="mounted_lock" alt="" coords="1179,397,1282,424"/>
<area shape="rect" id="node17" href="lock__dlm_8c.html#a840ad029cc32b64e7d48d0a0bd1b705d" title="control_lock" alt="" coords="1185,448,1277,475"/>
<area shape="rect" id="node20" href="user_8c.html#a778235a17fdfaf033b0c6838fae8d11b" title="device_user_lock" alt="" coords="954,307,1077,333"/>
<area shape="rect" id="node21" href="user_8c.html#a35157d114972783a070dde077ecd66d0" title="device_write" alt="" coords="1410,195,1505,221"/>
<area shape="rect" id="node23" href="dlm_2lock_8c.html#af6e6e85df97b374ce1bdec831375c702" title="receive_lookup" alt="" coords="768,551,877,577"/>
<area shape="rect" id="node24" href="dlm_2lock_8c.html#aac52d0aebd9447f2d33c775bc9ced2b5" title="_receive_message" alt="" coords="950,521,1081,548"/>
<area shape="rect" id="node25" href="dlm_2lock_8c.html#a39ecf466adacd16c02a9f32d532502d3" title="dlm_receive_message" alt="" coords="1155,565,1307,592"/>
<area shape="rect" id="node28" href="lock_8h.html#a395492622c09491735a8e604b9d35817" title="dlm_receive_message\l_saved" alt="" coords="1155,499,1307,541"/>
<area shape="rect" id="node26" href="lock_8h.html#a36d4408472d4aa99002b5e444b91d5d9" title="dlm_receive_buffer" alt="" coords="1391,612,1523,639"/>
<area shape="rect" id="node27" href="midcomms_8h.html#ad4a216348309de90691e9d442716c2fa" title="dlm_process_incoming\l_buffer" alt="" coords="1596,605,1751,646"/>
<area shape="rect" id="node29" href="requestqueue_8h.html#a7d42cf8df9a2d93de544b51c7491ea0c" title="dlm_process_requestqueue" alt="" coords="1367,533,1548,560"/>
<area shape="rect" id="node31" href="rcom_8c.html#a23ed1966239035b8b3e3c2190ece89aa" title="receive_rcom_lock" alt="" coords="757,616,888,643"/>
<area shape="rect" id="node32" href="rcom_8h.html#a13afb732128fb423bdfde1651593580b" title="dlm_receive_rcom" alt="" coords="951,616,1079,643"/>
<area shape="rect" id="node35" href="lock_8h.html#a8a7e1d3959ed9a29331f10f901e7667e" title="dlm_scan_rsbs" alt="" coords="567,869,677,896"/>
<area shape="rect" id="node36" href="lockspace_8c.html#a50a27f47ae65fd5a846b05d1113fe02d" title="dlm_scand" alt="" coords="780,869,865,896"/>
<area shape="rect" id="node37" href="lockspace_8c.html#a5231318756dde615f52e63409485d96c" title="dlm_scand_start" alt="" coords="956,869,1075,896"/>
<area shape="rect" id="node38" href="lockspace_8c.html#ad4ff3ba979424c041d82640e80b15715" title="threads_start" alt="" coords="1181,869,1280,896"/>
<area shape="rect" id="node40" href="lock_8h.html#adfa8a2a431c567fc033aec02af7b8b00" title="dlm_recover_waiters_pre" alt="" coords="1374,768,1541,795"/>
<area shape="rect" id="node44" href="requestqueue_8h.html#af5030d732d0afce62574888dfb13055b" title="dlm_purge_requestqueue" alt="" coords="539,195,705,221"/>
<area shape="rect" id="node45" href="lockspace_8c.html#ae738a1d36b30d37b7be92ddc3a5358a1" title="release_lockspace" alt="" coords="757,195,888,221"/>
<area shape="rect" id="node46" href="lockspace_8c.html#a8fba8432420a6deed197dbd3d9b0c1c3" title="dlm_release_lockspace" alt="" coords="936,195,1095,221"/>
<area shape="rect" id="node47" href="user_8c.html#a038e8ed4ae320e5928f71fcc5eab6ff3" title="device_create_lockspace" alt="" coords="1146,144,1315,171"/>
<area shape="rect" id="node48" href="user_8c.html#a52bbc2eb34eefac21ddaba8178f1271a" title="device_remove_lockspace" alt="" coords="1143,195,1319,221"/>
<area shape="rect" id="node49" href="lock__dlm_8c.html#af027444e33e5b6d21d8517d8f56fcdd4" title="gdlm_mount" alt="" coords="1184,245,1277,272"/>
<area shape="rect" id="node50" href="lock__dlm_8c.html#affc6710ef73a226f3af526b2ad959d5f" title="gdlm_unmount" alt="" coords="1177,296,1284,323"/>
</map>
</div>

</div>
</div>
<a id="a5b147d998ecfec1aa6d8e5eb34a9611c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b147d998ecfec1aa6d8e5eb34a9611c">&#9670;&nbsp;</a></span>dlm_posix_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlm_posix_get </td>
          <td>(</td>
          <td class="paramtype">dlm_lockspace_t *&#160;</td>
          <td class="paramname"><em>lockspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a5b147d998ecfec1aa6d8e5eb34a9611c_cgraph.png" border="0" usemap="#plock_8c_a5b147d998ecfec1aa6d8e5eb34a9611c_cgraph" alt=""/></div>
<map name="plock_8c_a5b147d998ecfec1aa6d8e5eb34a9611c_cgraph" id="plock_8c_a5b147d998ecfec1aa6d8e5eb34a9611c_cgraph">
<area shape="rect" id="node2" href="lockspace_8c.html#aaa396588aa33dea9b9b45782f0802c6a" title="dlm_find_lockspace\l_local" alt="" coords="177,5,315,47"/>
<area shape="rect" id="node3" href="plock_8c.html#a6b7ca20acfca8993c7512a5284c22fd9" title="send_op" alt="" coords="211,71,281,98"/>
<area shape="rect" id="node5" href="locks_8c.html#a9803e0d3f490f560784da3766206b1e4" title="locks_init_lock" alt="" coords="192,122,300,149"/>
<area shape="rect" id="node8" href="lockspace_8c.html#afb27eaee89e947784980dc00345f7d63" title="dlm_put_lockspace" alt="" coords="179,173,313,199"/>
<area shape="rect" id="node9" href="plock_8c.html#a50216430fc801da7eb39b5031dff4b65" title="EXPORT_SYMBOL_GPL" alt="" coords="160,223,332,250"/>
<area shape="rect" id="node4" href="plock_8c.html#a91c2b6652afe17acdac9afefdaa20083" title="set_version" alt="" coords="411,71,500,98"/>
<area shape="rect" id="node6" href="locks_8c.html#aaf0eec7769579a2fbc1ddd9804470873" title="locks_init_lock_heads" alt="" coords="380,122,531,149"/>
<area shape="rect" id="node7" href="locks_8c.html#ac392262fb562857fdac04d764121e0b7" title="EXPORT_SYMBOL" alt="" coords="386,173,525,199"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a5b147d998ecfec1aa6d8e5eb34a9611c_icgraph.png" border="0" usemap="#plock_8c_a5b147d998ecfec1aa6d8e5eb34a9611c_icgraph" alt=""/></div>
<map name="plock_8c_a5b147d998ecfec1aa6d8e5eb34a9611c_icgraph" id="plock_8c_a5b147d998ecfec1aa6d8e5eb34a9611c_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="160,5,307,32"/>
<area shape="rect" id="node3" href="stack__user_8c.html#a2aea0b34bbaa26ca4bfe2327bf4de9b5" title="user_plock" alt="" coords="191,56,276,83"/>
</map>
</div>

</div>
</div>
<a id="adf86579fbc7612c34b308a41b0372fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf86579fbc7612c34b308a41b0372fc8">&#9670;&nbsp;</a></span>dlm_posix_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlm_posix_lock </td>
          <td>(</td>
          <td class="paramtype">dlm_lockspace_t *&#160;</td>
          <td class="paramname"><em>lockspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_adf86579fbc7612c34b308a41b0372fc8_cgraph.png" border="0" usemap="#plock_8c_adf86579fbc7612c34b308a41b0372fc8_cgraph" alt=""/></div>
<map name="plock_8c_adf86579fbc7612c34b308a41b0372fc8_cgraph" id="plock_8c_adf86579fbc7612c34b308a41b0372fc8_cgraph">
<area shape="rect" id="node2" href="lockspace_8c.html#aaa396588aa33dea9b9b45782f0802c6a" title="dlm_find_lockspace\l_local" alt="" coords="183,5,320,47"/>
<area shape="rect" id="node3" href="locks_8c.html#a9803e0d3f490f560784da3766206b1e4" title="locks_init_lock" alt="" coords="197,71,305,98"/>
<area shape="rect" id="node6" href="locks_8c.html#a1422e47f8cb74382412c08a77127f00d" title="locks_copy_lock" alt="" coords="192,122,311,149"/>
<area shape="rect" id="node8" href="plock_8c.html#a6b7ca20acfca8993c7512a5284c22fd9" title="send_op" alt="" coords="425,223,496,250"/>
<area shape="rect" id="node10" href="plock_8c.html#a4c379122d42ed7e44ea93bc20f574ca9" title="do_unlock_close" alt="" coords="192,223,311,250"/>
<area shape="rect" id="node11" href="lockspace_8c.html#afb27eaee89e947784980dc00345f7d63" title="dlm_put_lockspace" alt="" coords="184,274,319,301"/>
<area shape="rect" id="node12" href="plock_8c.html#a50216430fc801da7eb39b5031dff4b65" title="EXPORT_SYMBOL_GPL" alt="" coords="165,325,337,351"/>
<area shape="rect" id="node4" href="locks_8c.html#aaf0eec7769579a2fbc1ddd9804470873" title="locks_init_lock_heads" alt="" coords="385,21,536,47"/>
<area shape="rect" id="node5" href="locks_8c.html#ac392262fb562857fdac04d764121e0b7" title="EXPORT_SYMBOL" alt="" coords="584,122,723,149"/>
<area shape="rect" id="node7" href="locks_8c.html#a087e6b3ca4cc4a9b1b6a5da70e9ac838" title="locks_copy_conflock" alt="" coords="389,173,533,199"/>
<area shape="rect" id="node9" href="plock_8c.html#a91c2b6652afe17acdac9afefdaa20083" title="set_version" alt="" coords="609,223,698,250"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_adf86579fbc7612c34b308a41b0372fc8_icgraph.png" border="0" usemap="#plock_8c_adf86579fbc7612c34b308a41b0372fc8_icgraph" alt=""/></div>
<map name="plock_8c_adf86579fbc7612c34b308a41b0372fc8_icgraph" id="plock_8c_adf86579fbc7612c34b308a41b0372fc8_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="165,5,312,32"/>
<area shape="rect" id="node3" href="stack__user_8c.html#a2aea0b34bbaa26ca4bfe2327bf4de9b5" title="user_plock" alt="" coords="196,56,281,83"/>
</map>
</div>

</div>
</div>
<a id="ad7836e9e456518df1f34526a1126fbbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7836e9e456518df1f34526a1126fbbf">&#9670;&nbsp;</a></span>dlm_posix_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlm_posix_unlock </td>
          <td>(</td>
          <td class="paramtype">dlm_lockspace_t *&#160;</td>
          <td class="paramname"><em>lockspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_ad7836e9e456518df1f34526a1126fbbf_cgraph.png" border="0" usemap="#plock_8c_ad7836e9e456518df1f34526a1126fbbf_cgraph" alt=""/></div>
<map name="plock_8c_ad7836e9e456518df1f34526a1126fbbf_cgraph" id="plock_8c_ad7836e9e456518df1f34526a1126fbbf_cgraph">
<area shape="rect" id="node2" href="lockspace_8c.html#aaa396588aa33dea9b9b45782f0802c6a" title="dlm_find_lockspace\l_local" alt="" coords="197,5,335,47"/>
<area shape="rect" id="node3" href="plock_8c.html#a6b7ca20acfca8993c7512a5284c22fd9" title="send_op" alt="" coords="231,71,301,98"/>
<area shape="rect" id="node5" href="lockspace_8c.html#afb27eaee89e947784980dc00345f7d63" title="dlm_put_lockspace" alt="" coords="199,122,333,149"/>
<area shape="rect" id="node6" href="plock_8c.html#a50216430fc801da7eb39b5031dff4b65" title="EXPORT_SYMBOL_GPL" alt="" coords="180,173,352,199"/>
<area shape="rect" id="node4" href="plock_8c.html#a91c2b6652afe17acdac9afefdaa20083" title="set_version" alt="" coords="400,71,489,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_ad7836e9e456518df1f34526a1126fbbf_icgraph.png" border="0" usemap="#plock_8c_ad7836e9e456518df1f34526a1126fbbf_icgraph" alt=""/></div>
<map name="plock_8c_ad7836e9e456518df1f34526a1126fbbf_icgraph" id="plock_8c_ad7836e9e456518df1f34526a1126fbbf_icgraph">
<area shape="rect" id="node2" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="180,5,327,32"/>
<area shape="rect" id="node3" href="stack__user_8c.html#a2aea0b34bbaa26ca4bfe2327bf4de9b5" title="user_plock" alt="" coords="211,56,296,83"/>
</map>
</div>

</div>
</div>
<a id="a4c379122d42ed7e44ea93bc20f574ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c379122d42ed7e44ea93bc20f574ca9">&#9670;&nbsp;</a></span>do_unlock_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_unlock_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__ls.html">dlm_ls</a> *&#160;</td>
          <td class="paramname"><em>ls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a4c379122d42ed7e44ea93bc20f574ca9_cgraph.png" border="0" usemap="#plock_8c_a4c379122d42ed7e44ea93bc20f574ca9_cgraph" alt=""/></div>
<map name="plock_8c_a4c379122d42ed7e44ea93bc20f574ca9_cgraph" id="plock_8c_a4c379122d42ed7e44ea93bc20f574ca9_cgraph">
<area shape="rect" id="node2" href="plock_8c.html#a6b7ca20acfca8993c7512a5284c22fd9" title="send_op" alt="" coords="172,5,243,32"/>
<area shape="rect" id="node3" href="plock_8c.html#a91c2b6652afe17acdac9afefdaa20083" title="set_version" alt="" coords="291,5,380,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a4c379122d42ed7e44ea93bc20f574ca9_icgraph.png" border="0" usemap="#plock_8c_a4c379122d42ed7e44ea93bc20f574ca9_icgraph" alt=""/></div>
<map name="plock_8c_a4c379122d42ed7e44ea93bc20f574ca9_icgraph" id="plock_8c_a4c379122d42ed7e44ea93bc20f574ca9_icgraph">
<area shape="rect" id="node2" href="plock_8c.html#adf86579fbc7612c34b308a41b0372fc8" title="dlm_posix_lock" alt="" coords="172,31,284,57"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="332,5,479,32"/>
<area shape="rect" id="node4" href="stack__user_8c.html#a2aea0b34bbaa26ca4bfe2327bf4de9b5" title="user_plock" alt="" coords="363,56,448,83"/>
</map>
</div>

</div>
</div>
<a id="a50216430fc801da7eb39b5031dff4b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50216430fc801da7eb39b5031dff4b65">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plock_8c.html#adf86579fbc7612c34b308a41b0372fc8">dlm_posix_lock</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a50216430fc801da7eb39b5031dff4b65_icgraph.png" border="0" usemap="#plock_8c_a50216430fc801da7eb39b5031dff4b65_icgraph" alt=""/></div>
<map name="plock_8c_a50216430fc801da7eb39b5031dff4b65_icgraph" id="plock_8c_a50216430fc801da7eb39b5031dff4b65_icgraph">
<area shape="rect" id="node2" href="plock_8c.html#adf86579fbc7612c34b308a41b0372fc8" title="dlm_posix_lock" alt="" coords="233,5,345,32"/>
<area shape="rect" id="node5" href="plock_8c.html#ad7836e9e456518df1f34526a1126fbbf" title="dlm_posix_unlock" alt="" coords="225,56,352,83"/>
<area shape="rect" id="node6" href="plock_8c.html#a5b147d998ecfec1aa6d8e5eb34a9611c" title="dlm_posix_get" alt="" coords="235,107,342,133"/>
<area shape="rect" id="node3" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="400,31,547,57"/>
<area shape="rect" id="node4" href="stack__user_8c.html#a2aea0b34bbaa26ca4bfe2327bf4de9b5" title="user_plock" alt="" coords="431,81,516,108"/>
</map>
</div>

</div>
</div>
<a id="ae0b5eef1c3724aa028a4959941a0e5fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b5eef1c3724aa028a4959941a0e5fc">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plock_8c.html#ad7836e9e456518df1f34526a1126fbbf">dlm_posix_unlock</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a66167523b8c9dd791a8dd7d0d46b98af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66167523b8c9dd791a8dd7d0d46b98af">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plock_8c.html#a5b147d998ecfec1aa6d8e5eb34a9611c">dlm_posix_get</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6b7ca20acfca8993c7512a5284c22fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7ca20acfca8993c7512a5284c22fd9">&#9670;&nbsp;</a></span>send_op()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void send_op </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structplock__op.html">plock_op</a> *&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a6b7ca20acfca8993c7512a5284c22fd9_cgraph.png" border="0" usemap="#plock_8c_a6b7ca20acfca8993c7512a5284c22fd9_cgraph" alt=""/></div>
<map name="plock_8c_a6b7ca20acfca8993c7512a5284c22fd9_cgraph" id="plock_8c_a6b7ca20acfca8993c7512a5284c22fd9_cgraph">
<area shape="rect" id="node2" href="plock_8c.html#a91c2b6652afe17acdac9afefdaa20083" title="set_version" alt="" coords="124,5,213,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a6b7ca20acfca8993c7512a5284c22fd9_icgraph.png" border="0" usemap="#plock_8c_a6b7ca20acfca8993c7512a5284c22fd9_icgraph" alt=""/></div>
<map name="plock_8c_a6b7ca20acfca8993c7512a5284c22fd9_icgraph" id="plock_8c_a6b7ca20acfca8993c7512a5284c22fd9_icgraph">
<area shape="rect" id="node2" href="plock_8c.html#a4c379122d42ed7e44ea93bc20f574ca9" title="do_unlock_close" alt="" coords="124,26,243,53"/>
<area shape="rect" id="node3" href="plock_8c.html#adf86579fbc7612c34b308a41b0372fc8" title="dlm_posix_lock" alt="" coords="298,26,410,53"/>
<area shape="rect" id="node6" href="plock_8c.html#ad7836e9e456518df1f34526a1126fbbf" title="dlm_posix_unlock" alt="" coords="291,77,417,103"/>
<area shape="rect" id="node7" href="plock_8c.html#a5b147d998ecfec1aa6d8e5eb34a9611c" title="dlm_posix_get" alt="" coords="301,127,407,154"/>
<area shape="rect" id="node4" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="465,51,612,78"/>
<area shape="rect" id="node5" href="stack__user_8c.html#a2aea0b34bbaa26ca4bfe2327bf4de9b5" title="user_plock" alt="" coords="496,102,581,129"/>
</map>
</div>

</div>
</div>
<a id="a91c2b6652afe17acdac9afefdaa20083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c2b6652afe17acdac9afefdaa20083">&#9670;&nbsp;</a></span>set_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_version </td>
          <td>(</td>
          <td class="paramtype">struct dlm_plock_info *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plock_8c_a91c2b6652afe17acdac9afefdaa20083_icgraph.png" border="0" usemap="#plock_8c_a91c2b6652afe17acdac9afefdaa20083_icgraph" alt=""/></div>
<map name="plock_8c_a91c2b6652afe17acdac9afefdaa20083_icgraph" id="plock_8c_a91c2b6652afe17acdac9afefdaa20083_icgraph">
<area shape="rect" id="node2" href="plock_8c.html#a6b7ca20acfca8993c7512a5284c22fd9" title="send_op" alt="" coords="143,51,213,78"/>
<area shape="rect" id="node3" href="plock_8c.html#a4c379122d42ed7e44ea93bc20f574ca9" title="do_unlock_close" alt="" coords="261,26,380,53"/>
<area shape="rect" id="node4" href="plock_8c.html#adf86579fbc7612c34b308a41b0372fc8" title="dlm_posix_lock" alt="" coords="435,26,547,53"/>
<area shape="rect" id="node7" href="plock_8c.html#ad7836e9e456518df1f34526a1126fbbf" title="dlm_posix_unlock" alt="" coords="428,77,555,103"/>
<area shape="rect" id="node8" href="plock_8c.html#a5b147d998ecfec1aa6d8e5eb34a9611c" title="dlm_posix_get" alt="" coords="438,127,545,154"/>
<area shape="rect" id="node5" href="gfs2_2file_8c.html#a05e3abde0f7e56d6d83814283cfde627" title="gfs2_file_splice_write" alt="" coords="603,51,749,78"/>
<area shape="rect" id="node6" href="stack__user_8c.html#a2aea0b34bbaa26ca4bfe2327bf4de9b5" title="user_plock" alt="" coords="633,102,719,129"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a050665a03676b52bafa639c45b7f7102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a050665a03676b52bafa639c45b7f7102">&#9670;&nbsp;</a></span>dev_fops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct file_operations dev_fops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .read    = <a class="code" href="plock_8c.html#a1ee11444f1e191a6469a2fafb5211f52">dev_read</a>,</div><div class="line">    .write   = <a class="code" href="plock_8c.html#a8927f50c4f0151a0c43da477fc6412e1">dev_write</a>,</div><div class="line">    .poll    = <a class="code" href="plock_8c.html#ad2b456add96f10f5d078f2a880234019">dev_poll</a>,</div><div class="line">    .owner   = THIS_MODULE,</div><div class="line">    .llseek  = <a class="code" href="read__write_8c.html#a99911a009460a0a7aff042f052127056">noop_llseek</a>,</div><div class="line">}</div><div class="ttc" id="plock_8c_html_a1ee11444f1e191a6469a2fafb5211f52"><div class="ttname"><a href="plock_8c.html#a1ee11444f1e191a6469a2fafb5211f52">dev_read</a></div><div class="ttdeci">static ssize_t dev_read(struct file *file, char __user *u, size_t count, loff_t *ppos)</div><div class="ttdef"><b>Definition:</b> plock.c:384</div></div>
<div class="ttc" id="plock_8c_html_ad2b456add96f10f5d078f2a880234019"><div class="ttname"><a href="plock_8c.html#ad2b456add96f10f5d078f2a880234019">dev_poll</a></div><div class="ttdeci">static __poll_t dev_poll(struct file *file, poll_table *wait)</div><div class="ttdef"><b>Definition:</b> plock.c:466</div></div>
<div class="ttc" id="plock_8c_html_a8927f50c4f0151a0c43da477fc6412e1"><div class="ttname"><a href="plock_8c.html#a8927f50c4f0151a0c43da477fc6412e1">dev_write</a></div><div class="ttdeci">static ssize_t dev_write(struct file *file, const char __user *u, size_t count, loff_t *ppos)</div><div class="ttdef"><b>Definition:</b> plock.c:421</div></div>
<div class="ttc" id="read__write_8c_html_a99911a009460a0a7aff042f052127056"><div class="ttname"><a href="read__write_8c.html#a99911a009460a0a7aff042f052127056">noop_llseek</a></div><div class="ttdeci">loff_t noop_llseek(struct file *file, loff_t offset, int whence)</div><div class="ttdef"><b>Definition:</b> read_write.c:224</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98a342c9f1c4f762a22868e7e8b17ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a342c9f1c4f762a22868e7e8b17ea9">&#9670;&nbsp;</a></span>ops_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t ops_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afcdc8e61b91ef4d64b7d99231f0144c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcdc8e61b91ef4d64b7d99231f0144c1">&#9670;&nbsp;</a></span>plock_dev_misc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct miscdevice plock_dev_misc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .minor = MISC_DYNAMIC_MINOR,</div><div class="line">    .name = DLM_PLOCK_MISC_NAME,</div><div class="line">    .fops = &amp;<a class="code" href="plock_8c.html#a050665a03676b52bafa639c45b7f7102">dev_fops</a></div><div class="line">}</div><div class="ttc" id="plock_8c_html_a050665a03676b52bafa639c45b7f7102"><div class="ttname"><a href="plock_8c.html#a050665a03676b52bafa639c45b7f7102">dev_fops</a></div><div class="ttdeci">static const struct file_operations dev_fops</div><div class="ttdef"><b>Definition:</b> plock.c:480</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6976dd4b6c458ef04c1c36d8e2b9243b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6976dd4b6c458ef04c1c36d8e2b9243b">&#9670;&nbsp;</a></span>recv_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct list_head recv_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8a2c92d26de42ea29214c10117a54f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a2c92d26de42ea29214c10117a54f46">&#9670;&nbsp;</a></span>recv_wq</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wait_queue_head_t recv_wq</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9bba0f63960fde2efe0c416345b21ba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bba0f63960fde2efe0c416345b21ba7">&#9670;&nbsp;</a></span>send_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct list_head send_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab1d0f73dd517d50550c000e40378c6aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1d0f73dd517d50550c000e40378c6aa">&#9670;&nbsp;</a></span>send_wq</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wait_queue_head_t send_wq</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_60f210544127ec75ac53ba3b702f2fbc.html">dlm</a></li><li class="navelem"><a class="el" href="plock_8c.html">plock.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
