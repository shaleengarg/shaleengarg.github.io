<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: afs/internal.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('afs_2internal_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">internal.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="afs_2internal_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* internal AFS stuff</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2002, 2007 Red Hat, Inc. All Rights Reserved.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Written by David Howells (dhowells@redhat.com)</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * modify it under the terms of the GNU General Public License</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * as published by the Free Software Foundation; either version</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;linux/compiler.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;linux/kernel.h&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;linux/ktime.h&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;linux/fs.h&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;linux/pagemap.h&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;linux/rxrpc.h&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;linux/key.h&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;linux/workqueue.h&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;linux/sched.h&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;linux/fscache.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;linux/backing-dev.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;linux/uuid.h&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;net/net_namespace.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;net/af_rxrpc.h&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="afs_8h.html">afs.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="afs__vl_8h.html">afs_vl.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a5fc54933b3755c405ec4a53954e7a411">   30</a></span>&#160;<span class="preprocessor">#define AFS_CELL_MAX_ADDRS 15</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">struct </span>pagevec;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__call.html">afs_call</a>;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="structafs__mount__params.html">   35</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__mount__params.html">afs_mount_params</a> {</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#a7ef49fd199d5993db16e0dd427db0b9d">   36</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__mount__params.html#a7ef49fd199d5993db16e0dd427db0b9d">rwpath</a>;     <span class="comment">/* T if the parent should be considered R/W */</span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#a993124ac96bc816da2d4b91a9685c7f1">   37</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__mount__params.html#a993124ac96bc816da2d4b91a9685c7f1">force</a>;      <span class="comment">/* T to force cell type */</span></div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#ada002de068b1d4ee0f8a1b4074a0d676">   38</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__mount__params.html#ada002de068b1d4ee0f8a1b4074a0d676">autocell</a>;   <span class="comment">/* T if set auto mount operation */</span></div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#aca4c16275ae911d07fc1dc6df6991bc0">   39</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__mount__params.html#aca4c16275ae911d07fc1dc6df6991bc0">dyn_root</a>;   <span class="comment">/* T if dynamic root */</span></div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#a3da29671e3b879738886d84632502b4e">   40</a></span>&#160;    afs_voltype_t       <a class="code" href="structafs__mount__params.html#a3da29671e3b879738886d84632502b4e">type</a>;       <span class="comment">/* type of volume requested */</span></div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#aca2119e3b1dada68b1393625f9b9a198">   41</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structafs__mount__params.html#aca2119e3b1dada68b1393625f9b9a198">volnamesz</a>;  <span class="comment">/* size of volume name */</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#a65e99990ffd9c25789a48eca9a0b4e11">   42</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>      *<a class="code" href="structafs__mount__params.html#a65e99990ffd9c25789a48eca9a0b4e11">volname</a>;   <span class="comment">/* name of volume to mount */</span></div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#abe777072edeb5768400dcea657ee380c">   43</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a>      *<a class="code" href="structafs__mount__params.html#abe777072edeb5768400dcea657ee380c">net</a>;       <span class="comment">/* Network namespace in effect */</span></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#a45faf4c05fb8a62a745a6127751ba74a">   44</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__cell.html">afs_cell</a>     *<a class="code" href="structafs__mount__params.html#a45faf4c05fb8a62a745a6127751ba74a">cell</a>;      <span class="comment">/* cell in which to find volume */</span></div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#ac10329695e26683d9a7325ad19588677">   45</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__volume.html">afs_volume</a>   *<a class="code" href="structafs__mount__params.html#ac10329695e26683d9a7325ad19588677">volume</a>;    <span class="comment">/* volume record */</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">   46</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a>      *<a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a>;       <span class="comment">/* key to use for secure mounting */</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;};</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structafs__iget__data.html">   49</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__iget__data.html">afs_iget_data</a> {</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structafs__iget__data.html#a566e728b6514756fbb207e8188a251ab">   50</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__fid.html">afs_fid</a>      fid;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structafs__iget__data.html#ab989f27ebdca6503eff59cf09f8c7ec3">   51</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__volume.html">afs_volume</a>   *<a class="code" href="structafs__iget__data.html#ab989f27ebdca6503eff59cf09f8c7ec3">volume</a>;    <span class="comment">/* volume on which resides */</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;};</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9">   54</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9">afs_call_state</a> {</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a32e5d6acf247f319b2a01e73dfe00a7a">   55</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a32e5d6acf247f319b2a01e73dfe00a7a">AFS_CALL_CL_REQUESTING</a>,     <span class="comment">/* Client: Request is being sent */</span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a85264832bd0b3bd7cd4a132ecb1e6564">   56</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a85264832bd0b3bd7cd4a132ecb1e6564">AFS_CALL_CL_AWAIT_REPLY</a>,    <span class="comment">/* Client: Awaiting reply */</span></div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a63e80d4a8f31406c58f3aaec163e014b">   57</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a63e80d4a8f31406c58f3aaec163e014b">AFS_CALL_CL_PROC_REPLY</a>,     <span class="comment">/* Client: rxrpc call complete; processing reply */</span></div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a5f8f9e6adb01bf2918cb2baa341aa647">   58</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a5f8f9e6adb01bf2918cb2baa341aa647">AFS_CALL_SV_AWAIT_OP_ID</a>,    <span class="comment">/* Server: Awaiting op ID */</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a13649277c1c6b2f30474fe026641542a">   59</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a13649277c1c6b2f30474fe026641542a">AFS_CALL_SV_AWAIT_REQUEST</a>,  <span class="comment">/* Server: Awaiting request data */</span></div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a0c8efc1f47dcf53dbb74964fa92ea820">   60</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a0c8efc1f47dcf53dbb74964fa92ea820">AFS_CALL_SV_REPLYING</a>,       <span class="comment">/* Server: Replying */</span></div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a291ca2a9358d6e2799576bde8f40496a">   61</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a291ca2a9358d6e2799576bde8f40496a">AFS_CALL_SV_AWAIT_ACK</a>,      <span class="comment">/* Server: Awaiting final ACK */</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9ac17885507e5b031100aaa47fe4b90644">   62</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9ac17885507e5b031100aaa47fe4b90644">AFS_CALL_COMPLETE</a>,      <span class="comment">/* Completed or failed */</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;};</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"> * List of server addresses.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structafs__addr__list.html">   68</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__addr__list.html">afs_addr_list</a> {</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structafs__addr__list.html#aeb88968c377a3a5d3a2f322737cf8561">   69</a></span>&#160;    <span class="keyword">struct </span>rcu_head     rcu;        <span class="comment">/* Must be first */</span></div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structafs__addr__list.html#aef6b5c93c67b353d62d55a8282aea07e">   70</a></span>&#160;    refcount_t      <a class="code" href="structafs__addr__list.html#aef6b5c93c67b353d62d55a8282aea07e">usage</a>;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structafs__addr__list.html#ac21c2cef674899c367fd907e58dab3a2">   71</a></span>&#160;    u32         <a class="code" href="structafs__addr__list.html#ac21c2cef674899c367fd907e58dab3a2">version</a>;    <span class="comment">/* Version */</span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structafs__addr__list.html#a39047da24591773d933f4a70c0684c9d">   72</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__addr__list.html#a39047da24591773d933f4a70c0684c9d">nr_addrs</a>;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structafs__addr__list.html#ab2527199276b7cca1b00116c8362bb61">   73</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__addr__list.html#ab2527199276b7cca1b00116c8362bb61">index</a>;      <span class="comment">/* Address currently in use */</span></div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structafs__addr__list.html#a2123d73976e4d0dc4b192d2183d1f747">   74</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__addr__list.html#a2123d73976e4d0dc4b192d2183d1f747">nr_ipv4</a>;    <span class="comment">/* Number of IPv4 addresses */</span></div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structafs__addr__list.html#a99d65449d3ab1f21249376f03230407e">   75</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structafs__addr__list.html#a99d65449d3ab1f21249376f03230407e">probed</a>;     <span class="comment">/* Mask of servers that have been probed */</span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structafs__addr__list.html#a821696b7231c08c502f696c1bb5d07b0">   76</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structafs__addr__list.html#a821696b7231c08c502f696c1bb5d07b0">yfs</a>;        <span class="comment">/* Mask of servers that are YFS */</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structafs__addr__list.html#a8746799aed944f288f0f2285fd422d31">   77</a></span>&#160;    <span class="keyword">struct </span>sockaddr_rxrpc   addrs[];</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;};</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"> * a record of an in-progress RxRPC call</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structafs__call.html">   83</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__call.html">afs_call</a> {</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structafs__call.html#a26b8ede97b60e498c27d683c92e44297">   84</a></span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structafs__call__type.html">afs_call_type</a> *<a class="code" href="structafs__call.html#a26b8ede97b60e498c27d683c92e44297">type</a>;   <span class="comment">/* type of call */</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structafs__call.html#a2a0ab585d0f6205177ae97a567bff832">   85</a></span>&#160;    wait_queue_head_t   <a class="code" href="structafs__call.html#a2a0ab585d0f6205177ae97a567bff832">waitq</a>;      <span class="comment">/* processes awaiting completion */</span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structafs__call.html#a8576d31a1e169f48838ba7d80c6a1605">   86</a></span>&#160;    <span class="keyword">struct </span>work_struct  async_work; <span class="comment">/* async I/O processor */</span></div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structafs__call.html#a5dae7d38d3222bcae7ba018097492b79">   87</a></span>&#160;    <span class="keyword">struct </span>work_struct  work;       <span class="comment">/* actual work processor */</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structafs__call.html#a0be7cc34f77594e2b48df92ccca7d188">   88</a></span>&#160;    <span class="keyword">struct </span>rxrpc_call   *<a class="code" href="structafs__call.html#a0be7cc34f77594e2b48df92ccca7d188">rxcall</a>;    <span class="comment">/* RxRPC call handle */</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structafs__call.html#a3493cbdd7129d6650865606a8d08fa1b">   89</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a>      *<a class="code" href="structafs__call.html#a3493cbdd7129d6650865606a8d08fa1b">key</a>;       <span class="comment">/* security for this call */</span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structafs__call.html#aea4986d423df6f9e32a30f50d8166fb1">   90</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a>      *<a class="code" href="structafs__call.html#aea4986d423df6f9e32a30f50d8166fb1">net</a>;       <span class="comment">/* The network namespace */</span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structafs__call.html#a15ee81aa9a541f06fcf1e4aef7dad663">   91</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__server.html">afs_server</a>   *<a class="code" href="structafs__call.html#a15ee81aa9a541f06fcf1e4aef7dad663">cm_server</a>; <span class="comment">/* Server affected by incoming CM call */</span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structafs__call.html#a5e675e9ebf72ed5b15b4ea5baa5306ce">   92</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__cb__interest.html">afs_cb_interest</a>  *<a class="code" href="structafs__call.html#a5e675e9ebf72ed5b15b4ea5baa5306ce">cbi</a>;       <span class="comment">/* Callback interest for server used */</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structafs__call.html#a2da3f9ce796433fc4a60bc2f95e0c90e">   93</a></span>&#160;    <span class="keywordtype">void</span>            *<a class="code" href="structafs__call.html#a2da3f9ce796433fc4a60bc2f95e0c90e">request</a>;   <span class="comment">/* request data (first part) */</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structafs__call.html#a8b480fba15d32883a7fe39cf8a219e4e">   94</a></span>&#160;    <span class="keyword">struct </span>address_space    *<a class="code" href="structafs__call.html#a8b480fba15d32883a7fe39cf8a219e4e">mapping</a>;   <span class="comment">/* Pages being written from */</span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structafs__call.html#a2d4496c4c3adae77cf68431615e65d62">   95</a></span>&#160;    <span class="keywordtype">void</span>            *<a class="code" href="structafs__call.html#a2d4496c4c3adae77cf68431615e65d62">buffer</a>;    <span class="comment">/* reply receive buffer */</span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structafs__call.html#a7a7d9477902331b7e3c1157550c13e35">   96</a></span>&#160;    <span class="keywordtype">void</span>            *reply[4];  <span class="comment">/* Where to put the reply */</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structafs__call.html#a244ed48778114b6a976e28d846ec4c71">   97</a></span>&#160;    pgoff_t         <a class="code" href="structafs__call.html#a244ed48778114b6a976e28d846ec4c71">first</a>;      <span class="comment">/* first page in mapping to deal with */</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structafs__call.html#a0ae25249639881f8dc74838aa997b8c9">   98</a></span>&#160;    pgoff_t         <a class="code" href="structafs__call.html#a0ae25249639881f8dc74838aa997b8c9">last</a>;       <span class="comment">/* last page in mapping to deal with */</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structafs__call.html#a073634bc624b2e1954d1146eac011d9f">   99</a></span>&#160;    <span class="keywordtype">size_t</span>          <a class="code" href="structafs__call.html#a073634bc624b2e1954d1146eac011d9f">offset</a>;     <span class="comment">/* offset into received data store */</span></div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structafs__call.html#ae02192c6d6b5e9506fcbd45ed6b04142">  100</a></span>&#160;    atomic_t        <a class="code" href="structafs__call.html#ae02192c6d6b5e9506fcbd45ed6b04142">usage</a>;</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structafs__call.html#a1268f0c11021b062bd9dbfd7274b1f35">  101</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9">afs_call_state</a> state;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structafs__call.html#a3dfde6704a3381b96061cf596d43f2ad">  102</a></span>&#160;    spinlock_t      <a class="code" href="structafs__call.html#a3dfde6704a3381b96061cf596d43f2ad">state_lock</a>;</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structafs__call.html#a2c03f9ac6df3d0919fba93113b804238">  103</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structafs__call.html#a2c03f9ac6df3d0919fba93113b804238">error</a>;      <span class="comment">/* error code */</span></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structafs__call.html#a6e6f6086326dc4931ba75ddbab274a78">  104</a></span>&#160;    u32         <a class="code" href="structafs__call.html#a6e6f6086326dc4931ba75ddbab274a78">abort_code</a>; <span class="comment">/* Remote abort ID or 0 */</span></div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structafs__call.html#aa19b48ee5c90eef4e96d1b85a975fbe6">  105</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="structafs__call.html#aa19b48ee5c90eef4e96d1b85a975fbe6">request_size</a>;   <span class="comment">/* size of request data */</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structafs__call.html#a5f82cdbc23d97f11e116e5b300b7d3b6">  106</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="structafs__call.html#a5f82cdbc23d97f11e116e5b300b7d3b6">reply_max</a>;  <span class="comment">/* maximum size of reply */</span></div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structafs__call.html#a7fcecb47bc4c154a85a0fb466d15fa1b">  107</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="structafs__call.html#a7fcecb47bc4c154a85a0fb466d15fa1b">first_offset</a>;   <span class="comment">/* offset into mapping[first] */</span></div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structafs__call.html#a59185c4a3678922bb01f6742fc439e01">  108</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__call.html#a59185c4a3678922bb01f6742fc439e01">cb_break</a>;   <span class="comment">/* cb_break + cb_s_break before the call */</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structafs__call.html#a49accce386c94e3003e774cfc3d97f29">  110</a></span>&#160;        <span class="keywordtype">unsigned</span>    <a class="code" href="structafs__call.html#a49accce386c94e3003e774cfc3d97f29">last_to</a>;    <span class="comment">/* amount of mapping[last] */</span></div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structafs__call.html#ada9e21be2f6de9241b4f1ae433a177ff">  111</a></span>&#160;        <span class="keywordtype">unsigned</span>    <a class="code" href="structafs__call.html#ada9e21be2f6de9241b4f1ae433a177ff">count2</a>;     <span class="comment">/* count used in unmarshalling */</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    };</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structafs__call.html#ae8fb18d70feb2d925406103b25e3edbf">  113</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>       <a class="code" href="structafs__call.html#ae8fb18d70feb2d925406103b25e3edbf">unmarshall</a>; <span class="comment">/* unmarshalling phase */</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structafs__call.html#aac8cc76f280847b25c9bda70f7fc5f19">  114</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__call.html#aac8cc76f280847b25c9bda70f7fc5f19">incoming</a>;   <span class="comment">/* T if incoming call */</span></div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structafs__call.html#a2350757972cc39ecd1840fdd9bb74430">  115</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__call.html#a2350757972cc39ecd1840fdd9bb74430">send_pages</a>; <span class="comment">/* T if data from mapping should be sent */</span></div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structafs__call.html#a4480240c27933892852b09cc2d28e32d">  116</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__call.html#a4480240c27933892852b09cc2d28e32d">need_attention</a>; <span class="comment">/* T if RxRPC poked us */</span></div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structafs__call.html#a5f0809310c0904380ae23b55d8f3970e">  117</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__call.html#a5f0809310c0904380ae23b55d8f3970e">async</a>;      <span class="comment">/* T if asynchronous */</span></div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="structafs__call.html#aba03b47752ce7da5107ae86344491458">  118</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__call.html#aba03b47752ce7da5107ae86344491458">ret_reply0</a>; <span class="comment">/* T if should return reply[0] on success */</span></div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="structafs__call.html#aa9fe68792fec20c140bfcae77b20a217">  119</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__call.html#aa9fe68792fec20c140bfcae77b20a217">upgrade</a>;    <span class="comment">/* T to request service upgrade */</span></div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="structafs__call.html#a5fbf733c1ec1aaea861a4a8c94a12c7d">  120</a></span>&#160;    u16         <a class="code" href="structafs__call.html#a5fbf733c1ec1aaea861a4a8c94a12c7d">service_id</a>; <span class="comment">/* Actual service ID (after upgrade) */</span></div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structafs__call.html#a7ce247182f6a0a78f6e2bb3e4efcacc5">  121</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__call.html#a7ce247182f6a0a78f6e2bb3e4efcacc5">debug_id</a>;   <span class="comment">/* Trace ID */</span></div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structafs__call.html#ab5487dc66c694f50c44e6ec1cf6796b8">  122</a></span>&#160;    u32         <a class="code" href="structafs__call.html#ab5487dc66c694f50c44e6ec1cf6796b8">operation_ID</a>;   <span class="comment">/* operation ID for an incoming call */</span></div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structafs__call.html#a9c909871cbc011d729fddb593c045e48">  123</a></span>&#160;    u32         <a class="code" href="structafs__call.html#a9c909871cbc011d729fddb593c045e48">count</a>;      <span class="comment">/* count for use in unmarshalling */</span></div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structafs__call.html#a9eb8e6c5febc46ffc41f209c7491d750">  124</a></span>&#160;    __be32          <a class="code" href="structafs__call.html#a9eb8e6c5febc46ffc41f209c7491d750">tmp</a>;        <span class="comment">/* place to extract temporary data */</span></div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structafs__call.html#a4db56fbdac6eba149b2e5c0e759b852a">  125</a></span>&#160;    <a class="code" href="afs_8h.html#aab88bfc3233e1bad3f1d01aea9473a9d">afs_dataversion_t</a>   <a class="code" href="structafs__call.html#a4db56fbdac6eba149b2e5c0e759b852a">expected_version</a>; <span class="comment">/* Updated version expected from store */</span></div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structafs__call.html#ac64c5cdaed5442980194994e6729b3c3">  126</a></span>&#160;    <a class="code" href="afs_8h.html#aab88bfc3233e1bad3f1d01aea9473a9d">afs_dataversion_t</a>   <a class="code" href="structafs__call.html#ac64c5cdaed5442980194994e6729b3c3">expected_version_2</a>; <span class="comment">/* 2nd updated version expected from store */</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;};</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="structafs__call__type.html">  129</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__call__type.html">afs_call_type</a> {</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structafs__call__type.html#ae7af2df3bc4312ff7ac2cf1b666606ac">  130</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structafs__call__type.html#ae7af2df3bc4312ff7ac2cf1b666606ac">name</a>;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structafs__call__type.html#a6d36404b5f8995ef3ccbaa4649a83885">  131</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structafs__call__type.html#a6d36404b5f8995ef3ccbaa4649a83885">op</a>; <span class="comment">/* Really enum afs_fs_operation */</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">/* deliver request or reply data to an call</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">     * - returning an error will cause the call to be aborted</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structafs__call__type.html#a1acdf4d1fabd1220eadc8f2fc4b572d5">  136</a></span>&#160;    int (*deliver)(<span class="keyword">struct </span><a class="code" href="structafs__call.html">afs_call</a> *call);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">/* clean up a call */</span></div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structafs__call__type.html#aee1b2060559301cb57f49fd426dc2b53">  139</a></span>&#160;    void (*destructor)(<span class="keyword">struct </span><a class="code" href="structafs__call.html">afs_call</a> *call);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">/* Work function */</span></div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="structafs__call__type.html#ac4c96abb95cc782f96a9c3d5f595fe21">  142</a></span>&#160;    void (*<a class="code" href="structafs__call.html#a5dae7d38d3222bcae7ba018097492b79">work</a>)(<span class="keyword">struct </span>work_struct *<a class="code" href="structafs__call__type.html#ac4c96abb95cc782f96a9c3d5f595fe21">work</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;};</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"> * Key available for writeback on a file.</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structafs__wb__key.html">  148</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__wb__key.html">afs_wb_key</a> {</div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structafs__wb__key.html#ab43c7a46c50a68456a60aee18c7b67c4">  149</a></span>&#160;    refcount_t      <a class="code" href="structafs__wb__key.html#ab43c7a46c50a68456a60aee18c7b67c4">usage</a>;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structafs__wb__key.html#a0a639b176e4731ae7d603482a50a2788">  150</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a>      *<a class="code" href="structafs__wb__key.html#a0a639b176e4731ae7d603482a50a2788">key</a>;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structafs__wb__key.html#ab9c921346835144beb0db84f21344f7c">  151</a></span>&#160;    <span class="keyword">struct </span>list_head    vnode_link; <span class="comment">/* Link in vnode-&gt;wb_keys */</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;};</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"> * AFS open file information record.  Pointed to by file-&gt;private_data.</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="structafs__file.html">  157</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__file.html">afs_file</a> {</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structafs__file.html#a8a2d737fb6dd912b9354b5d4da926ca8">  158</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a>      *<a class="code" href="structafs__file.html#a8a2d737fb6dd912b9354b5d4da926ca8">key</a>;       <span class="comment">/* The key this file was opened with */</span></div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="structafs__file.html#aba8ef2775c6721d35e5d5fb9fed7ac43">  159</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__wb__key.html">afs_wb_key</a>   *<a class="code" href="structafs__file.html#aba8ef2775c6721d35e5d5fb9fed7ac43">wb</a>;        <span class="comment">/* Writeback key record for this file */</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;};</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4ce1b395f96dba53d265d5d12e590670">  162</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *<a class="code" href="afs_2internal_8h.html#a4ce1b395f96dba53d265d5d12e590670">afs_file_key</a>(<span class="keyword">struct</span> file *file)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__file.html">afs_file</a> *af = file-&gt;private_data;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> af-&gt;<a class="code" href="structafs__file.html#a8a2d737fb6dd912b9354b5d4da926ca8">key</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"> * Record of an outstanding read operation on a vnode.</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="structafs__read.html">  172</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__read.html">afs_read</a> {</div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="structafs__read.html#a0744649b78936504175cfe71955cb395">  173</a></span>&#160;    loff_t          <a class="code" href="structafs__read.html#a0744649b78936504175cfe71955cb395">pos</a>;        <span class="comment">/* Where to start reading */</span></div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="structafs__read.html#ac3ef0fe7a484270f43c53d0b206ae460">  174</a></span>&#160;    loff_t          <a class="code" href="structafs__read.html#ac3ef0fe7a484270f43c53d0b206ae460">len</a>;        <span class="comment">/* How much we&#39;re asking for */</span></div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="structafs__read.html#a124e8f426cecc7578a0dd63d2f70a0bb">  175</a></span>&#160;    loff_t          <a class="code" href="structafs__read.html#a124e8f426cecc7578a0dd63d2f70a0bb">actual_len</a>; <span class="comment">/* How much we&#39;re actually getting */</span></div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="structafs__read.html#ab0cc61fd9a5a293e80495eed4673d5ff">  176</a></span>&#160;    loff_t          <a class="code" href="structafs__read.html#ab0cc61fd9a5a293e80495eed4673d5ff">remain</a>;     <span class="comment">/* Amount remaining */</span></div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="structafs__read.html#af6f21f40f3a03409bf6e68222b084ca1">  177</a></span>&#160;    loff_t          <a class="code" href="structafs__read.html#af6f21f40f3a03409bf6e68222b084ca1">file_size</a>;  <span class="comment">/* File size returned by server */</span></div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="structafs__read.html#a66422fe118d3093094cd3bdcf9a2f13b">  178</a></span>&#160;    <a class="code" href="afs_8h.html#aab88bfc3233e1bad3f1d01aea9473a9d">afs_dataversion_t</a>   <a class="code" href="structafs__read.html#a66422fe118d3093094cd3bdcf9a2f13b">data_version</a>;   <span class="comment">/* Version number returned by server */</span></div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="structafs__read.html#a25a9f1786f80de9ee5614c9a0c0b1e5d">  179</a></span>&#160;    refcount_t      <a class="code" href="structafs__read.html#a25a9f1786f80de9ee5614c9a0c0b1e5d">usage</a>;</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="structafs__read.html#a9a82b89835999afb7aac7e15ab128258">  180</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__read.html#a9a82b89835999afb7aac7e15ab128258">index</a>;      <span class="comment">/* Which page we&#39;re reading into */</span></div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="structafs__read.html#a775fcbcde72266e4200f298f5171fae6">  181</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__read.html#a775fcbcde72266e4200f298f5171fae6">nr_pages</a>;</div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="structafs__read.html#a00d68187a2a50bf66df9b4d7472314b8">  182</a></span>&#160;    void (*page_done)(<span class="keyword">struct </span><a class="code" href="structafs__call.html">afs_call</a> *, <span class="keyword">struct </span><a class="code" href="structafs__read.html">afs_read</a> *);</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="structafs__read.html#a6c0bb2ef267c02e5009a7353ea59f55f">  183</a></span>&#160;    <span class="keyword">struct </span>page     **<a class="code" href="structafs__read.html#a6c0bb2ef267c02e5009a7353ea59f55f">pages</a>;</div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="structafs__read.html#aceaa5b73ead719f8cbc025946173d918">  184</a></span>&#160;    <span class="keyword">struct </span>page     *array[];</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;};</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"> * AFS superblock private data</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"> * - there&#39;s one superblock per volume</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="structafs__super__info.html">  191</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__super__info.html">afs_super_info</a> {</div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="structafs__super__info.html#abad320f1a89435e6fcc7f1a9fd7505c2">  192</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a>      *<a class="code" href="structafs__super__info.html#abad320f1a89435e6fcc7f1a9fd7505c2">net</a>;       <span class="comment">/* Network namespace */</span></div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="structafs__super__info.html#a80c6dc0d0ae65e8e6408ea69ce8edb3d">  193</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__cell.html">afs_cell</a>     *<a class="code" href="structafs__super__info.html#a80c6dc0d0ae65e8e6408ea69ce8edb3d">cell</a>;      <span class="comment">/* The cell in which the volume resides */</span></div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="structafs__super__info.html#ac2bd6ec5cf8219482b3103b09493a48b">  194</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__volume.html">afs_volume</a>   *<a class="code" href="structafs__super__info.html#ac2bd6ec5cf8219482b3103b09493a48b">volume</a>;    <span class="comment">/* volume record */</span></div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="structafs__super__info.html#a448c532e1fca17adffec53f11b7b777b">  195</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__super__info.html#a448c532e1fca17adffec53f11b7b777b">dyn_root</a>;   <span class="comment">/* True if dynamic root */</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;};</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ab171b784b6e3dfb67335c4f35b754836">  198</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__super__info.html">afs_super_info</a> *<a class="code" href="afs_2internal_8h.html#ab171b784b6e3dfb67335c4f35b754836">AFS_FS_S</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *<a class="code" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">return</span> sb-&gt;s_fs_info;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>file_system_type <a class="code" href="afs_2internal_8h.html#afee73f4aaa33a270d943273aba5df86c">afs_fs_type</a>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"> * Set of substitutes for @sys.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="structafs__sysnames.html">  208</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__sysnames.html">afs_sysnames</a> {</div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#affc2562f0910f382f6da86a39e85514f">  209</a></span>&#160;<span class="preprocessor">#define AFS_NR_SYSNAME 16</span></div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="structafs__sysnames.html#a1d73cacbd127cfc3a5e11b169753ad19">  210</a></span>&#160;    <span class="keywordtype">char</span>            *subs[<a class="code" href="afs_2internal_8h.html#affc2562f0910f382f6da86a39e85514f">AFS_NR_SYSNAME</a>];</div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="structafs__sysnames.html#a3a1153250e29711440486c5cc56b014a">  211</a></span>&#160;    refcount_t      <a class="code" href="structafs__sysnames.html#a3a1153250e29711440486c5cc56b014a">usage</a>;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="structafs__sysnames.html#aab5f02f508540af225a50a405f81a0cc">  212</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__sysnames.html#aab5f02f508540af225a50a405f81a0cc">nr</a>;</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="structafs__sysnames.html#a3939ebca209adca56563f0e523989f75">  213</a></span>&#160;    <span class="keywordtype">short</span>           <a class="code" href="structafs__sysnames.html#a3939ebca209adca56563f0e523989f75">error</a>;</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="structafs__sysnames.html#acb1f4a29eb1eb695f12bb41a4a176df1">  214</a></span>&#160;    <span class="keywordtype">char</span>            blank[1];</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;};</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> * AFS network namespace record.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="structafs__net.html">  220</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a> {</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="structafs__net.html#a44d07c148a2e3547fd2c202e95c5e1ff">  221</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__uuid.html">afs_uuid</a>     uuid;</div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="structafs__net.html#a6bb75f0d33c04f66ab155da4f83cbd5d">  222</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__net.html#a6bb75f0d33c04f66ab155da4f83cbd5d">live</a>;       <span class="comment">/* F if this namespace is being removed */</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">/* AF_RXRPC I/O stuff */</span></div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="structafs__net.html#a152fe91f8ee8dc7197c7d5b52eeebf8d">  225</a></span>&#160;    <span class="keyword">struct </span>socket       *<a class="code" href="structafs__net.html#a152fe91f8ee8dc7197c7d5b52eeebf8d">socket</a>;</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="structafs__net.html#a91c1240d7ab8250ab09a23cb62f80464">  226</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__call.html">afs_call</a>     *<a class="code" href="structafs__net.html#a91c1240d7ab8250ab09a23cb62f80464">spare_incoming_call</a>;</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="structafs__net.html#a55ba6b52f2f3baef218791e3f5d2f80e">  227</a></span>&#160;    <span class="keyword">struct </span>work_struct  charge_preallocation_work;</div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structafs__net.html#a0e74b5f99e9f79fe9c396193daea93d6">  228</a></span>&#160;    <span class="keyword">struct </span>mutex        socket_mutex;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="structafs__net.html#a8faaf0c420fe6261f0c682259364809b">  229</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#a8faaf0c420fe6261f0c682259364809b">nr_outstanding_calls</a>;</div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structafs__net.html#aa59d91e392f8a806acd2e40ba4623b8b">  230</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#aa59d91e392f8a806acd2e40ba4623b8b">nr_superblocks</a>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">/* Cell database */</span></div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="structafs__net.html#a5e6d3dba8d71f3a439ace9c3b0b67061">  233</a></span>&#160;    <span class="keyword">struct </span>rb_root      cells;</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structafs__net.html#a6df87ae04803cb69df61337fcf434ad5">  234</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__cell.html">afs_cell</a>     *<a class="code" href="structafs__net.html#a6df87ae04803cb69df61337fcf434ad5">ws_cell</a>;</div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structafs__net.html#a3a5a55add8a0c35d3c9adff57e94eb04">  235</a></span>&#160;    <span class="keyword">struct </span>work_struct  cells_manager;</div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="structafs__net.html#a44288656bbe74e40ae12fbf4f2bc88b6">  236</a></span>&#160;    <span class="keyword">struct </span>timer_list   cells_timer;</div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="structafs__net.html#acf748360bff9e2a97f842f8f8a69afa6">  237</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#acf748360bff9e2a97f842f8f8a69afa6">cells_outstanding</a>;</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="structafs__net.html#a25585c16bd8d3a55680a398d0b70bb11">  238</a></span>&#160;    seqlock_t       <a class="code" href="structafs__net.html#a25585c16bd8d3a55680a398d0b70bb11">cells_lock</a>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="structafs__net.html#a8b10aa72544b214b90e1569bcd1b2be6">  240</a></span>&#160;    spinlock_t      <a class="code" href="structafs__net.html#a8b10aa72544b214b90e1569bcd1b2be6">proc_cells_lock</a>;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="structafs__net.html#a1145bff37820acd76a244b31e427466e">  241</a></span>&#160;    <span class="keyword">struct </span>list_head    proc_cells;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">/* Known servers.  Theoretically each fileserver can only be in one</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">     * cell, but in practice, people create aliases and subsets and there&#39;s</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">     * no easy way to distinguish them.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="structafs__net.html#a175f730b87ab26e0c805fb8516e4b948">  247</a></span>&#160;    seqlock_t       <a class="code" href="structafs__net.html#a175f730b87ab26e0c805fb8516e4b948">fs_lock</a>;    <span class="comment">/* For fs_servers */</span></div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="structafs__net.html#ac7006f89cc868af34e577a415375edbd">  248</a></span>&#160;    <span class="keyword">struct </span>rb_root      fs_servers; <span class="comment">/* afs_server (by server UUID or address) */</span></div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="structafs__net.html#a60967ca0298ca3d855a134aabc72c8ac">  249</a></span>&#160;    <span class="keyword">struct </span>list_head    fs_updates; <span class="comment">/* afs_server (by update_at) */</span></div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="structafs__net.html#a8429eafdeca414a1479325dae0078c0b">  250</a></span>&#160;    <span class="keyword">struct </span>hlist_head   fs_proc;    <span class="comment">/* procfs servers list */</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structafs__net.html#a2a7ed1957ac2f5e896b2e4f4f90e6ee3">  252</a></span>&#160;    <span class="keyword">struct </span>hlist_head   fs_addresses4;  <span class="comment">/* afs_server (by lowest IPv4 addr) */</span></div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="structafs__net.html#ac1beca2fbaded4ed3f7ca619a66b90ae">  253</a></span>&#160;    <span class="keyword">struct </span>hlist_head   fs_addresses6;  <span class="comment">/* afs_server (by lowest IPv6 addr) */</span></div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="structafs__net.html#a7bcd21e2969338c785a725f1fd452087">  254</a></span>&#160;    seqlock_t       <a class="code" href="structafs__net.html#a7bcd21e2969338c785a725f1fd452087">fs_addr_lock</a>;   <span class="comment">/* For fs_addresses[46] */</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="structafs__net.html#a5b399972c31daa5cb3625667ca5eac21">  256</a></span>&#160;    <span class="keyword">struct </span>work_struct  fs_manager;</div><div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="structafs__net.html#a0681fbe8531f7592583ef0fcfa1a20fc">  257</a></span>&#160;    <span class="keyword">struct </span>timer_list   fs_timer;</div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="structafs__net.html#a7eb445dd4fea2f914afa36fbd9110c62">  258</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#a7eb445dd4fea2f914afa36fbd9110c62">servers_outstanding</a>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">/* File locking renewal management */</span></div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="structafs__net.html#a058a3f07431665011ac9b07d2cb9ca65">  261</a></span>&#160;    <span class="keyword">struct </span>mutex        lock_manager_mutex;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">/* Misc */</span></div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="structafs__net.html#a1fd89ec47f4605ad76f9e071ef8023c2">  264</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structproc__dir__entry.html">proc_dir_entry</a>   *<a class="code" href="structafs__net.html#a1fd89ec47f4605ad76f9e071ef8023c2">proc_afs</a>;  <span class="comment">/* /proc/net/afs directory */</span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="structafs__net.html#a2e1b1c4818cd67b1f673b6d235b72cf9">  265</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__sysnames.html">afs_sysnames</a> *<a class="code" href="structafs__net.html#a2e1b1c4818cd67b1f673b6d235b72cf9">sysnames</a>;</div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="structafs__net.html#afb0aa23c1fc143e6af8f533a9b0d2b6d">  266</a></span>&#160;    rwlock_t        <a class="code" href="structafs__net.html#afb0aa23c1fc143e6af8f533a9b0d2b6d">sysnames_lock</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">/* Statistics counters */</span></div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="structafs__net.html#a228be5c5e3f39cae4d070b3a30e9a2d7">  269</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#a228be5c5e3f39cae4d070b3a30e9a2d7">n_lookup</a>;   <span class="comment">/* Number of lookups done */</span></div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="structafs__net.html#a3f8e58f70a7ebab56af0cc4518588c9a">  270</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#a3f8e58f70a7ebab56af0cc4518588c9a">n_reval</a>;    <span class="comment">/* Number of dentries needing revalidation */</span></div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="structafs__net.html#a555fafd68e49a848434825645bdce93d">  271</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#a555fafd68e49a848434825645bdce93d">n_inval</a>;    <span class="comment">/* Number of invalidations by the server */</span></div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="structafs__net.html#aa8eb0f8c505de5d08d2118181656501b">  272</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#aa8eb0f8c505de5d08d2118181656501b">n_relpg</a>;    <span class="comment">/* Number of invalidations by releasepage */</span></div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="structafs__net.html#a97d164a0e3af591444d7727f8f4bd9ad">  273</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#a97d164a0e3af591444d7727f8f4bd9ad">n_read_dir</a>; <span class="comment">/* Number of directory pages read */</span></div><div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="structafs__net.html#ab66247162fad11be715221b1bab959e1">  274</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#ab66247162fad11be715221b1bab959e1">n_dir_cr</a>;   <span class="comment">/* Number of directory entry creation edits */</span></div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="structafs__net.html#a849a0d9e84f69ece58f666c4bb300ce2">  275</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#a849a0d9e84f69ece58f666c4bb300ce2">n_dir_rm</a>;   <span class="comment">/* Number of directory entry removal edits */</span></div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="structafs__net.html#a74af83a4fb7111d9eec48b724e1a94dc">  276</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#a74af83a4fb7111d9eec48b724e1a94dc">n_stores</a>;   <span class="comment">/* Number of store ops */</span></div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="structafs__net.html#aadb66bb23d0b84087fe72acb1ba2ed35">  277</a></span>&#160;    atomic_long_t       <a class="code" href="structafs__net.html#aadb66bb23d0b84087fe72acb1ba2ed35">n_store_bytes</a>;  <span class="comment">/* Number of bytes stored */</span></div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="structafs__net.html#a219dca104dc707c6a19ef35b3054c0d2">  278</a></span>&#160;    atomic_long_t       <a class="code" href="structafs__net.html#a219dca104dc707c6a19ef35b3054c0d2">n_fetch_bytes</a>;  <span class="comment">/* Number of bytes fetched */</span></div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="structafs__net.html#a238b31788c3d93f70c03a40c9521d166">  279</a></span>&#160;    atomic_t        <a class="code" href="structafs__net.html#a238b31788c3d93f70c03a40c9521d166">n_fetches</a>;  <span class="comment">/* Number of data fetch ops */</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;};</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="afs_2internal_8h.html#a939c64285a039b19d55d9d3567d358b1">afs_init_sysname</a>[];</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a> <a class="code" href="afs_2internal_8h.html#a81db2b5b1071b2a8a80251edd4290a91">__afs_net</a>;<span class="comment">// Dummy AFS network namespace; TODO: replace with real netns</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003">  285</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003">afs_cell_state</a> {</div><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003ae69ddd36c01b30f6ea61e00b3d6fd42e">  286</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003ae69ddd36c01b30f6ea61e00b3d6fd42e">AFS_CELL_UNSET</a>,</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a990c0383d3a3d12f5703e5ec3afa7f62">  287</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a990c0383d3a3d12f5703e5ec3afa7f62">AFS_CELL_ACTIVATING</a>,</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a9b2379be1469439abea47d91a5ab1dc6">  288</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a9b2379be1469439abea47d91a5ab1dc6">AFS_CELL_ACTIVE</a>,</div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a5ea8a28c909656b0952e85ddc0a5276f">  289</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a5ea8a28c909656b0952e85ddc0a5276f">AFS_CELL_DEACTIVATING</a>,</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003ac906450d654434791922a12c62695d54">  290</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003ac906450d654434791922a12c62695d54">AFS_CELL_INACTIVE</a>,</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a32f3f62ae45c5081c8cbb4911e3d5986">  291</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a32f3f62ae45c5081c8cbb4911e3d5986">AFS_CELL_FAILED</a>,</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;};</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"> * AFS cell record.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"> * This is a tricky concept to get right as it is possible to create aliases</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"> * simply by pointing AFSDB/SRV records for two names at the same set of VL</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"> * servers; it is also possible to do things like setting up two sets of VL</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"> * servers, one of which provides a superset of the volumes provided by the</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"> * other (for internal/external division, for example).</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"> * Cells only exist in the sense that (a) a cell&#39;s name maps to a set of VL</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"> * servers and (b) a cell&#39;s name is used by the client to select the key to use</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"> * for authentication and encryption.  The cell name is not typically used in</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"> * the protocol.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"> * There is no easy way to determine if two cells are aliases or one is a</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"> * subset of another.</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="structafs__cell.html">  311</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__cell.html">afs_cell</a> {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="structafs__cell.html#a408143aa950cb092441ebf1a91ca984e">  313</a></span>&#160;        <span class="keyword">struct </span>rcu_head rcu;</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="structafs__cell.html#abb446a4c2686f4f3462ff75401d4ae7f">  314</a></span>&#160;        <span class="keyword">struct </span>rb_node  net_node;   <span class="comment">/* Node in net-&gt;cells */</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    };</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structafs__cell.html#a878b6a339a98682392cfb028be1e962f">  316</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a>      *<a class="code" href="structafs__cell.html#a878b6a339a98682392cfb028be1e962f">net</a>;</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="structafs__cell.html#a2cd7f93ae88ab816202971afa701d153">  317</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a>      *<a class="code" href="structafs__cell.html#a2cd7f93ae88ab816202971afa701d153">anonymous_key</a>; <span class="comment">/* anonymous user key for this cell */</span></div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="structafs__cell.html#a6865285c5833d2d6bb28adf435017bbc">  318</a></span>&#160;    <span class="keyword">struct </span>work_struct  manager;    <span class="comment">/* Manager for init/deinit/dns */</span></div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="structafs__cell.html#a08bd2ed23b0c188503bd9a5b360c0a3b">  319</a></span>&#160;    <span class="keyword">struct </span>list_head    proc_link;  <span class="comment">/* /proc cell list link */</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">#ifdef CONFIG_AFS_FSCACHE</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keyword">struct </span>fscache_cookie   *cache;     <span class="comment">/* caching cookie */</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="structafs__cell.html#afdd663aec0766f8f071b68ac717e8900">  323</a></span>&#160;    time64_t        <a class="code" href="structafs__cell.html#afdd663aec0766f8f071b68ac717e8900">dns_expiry</a>; <span class="comment">/* Time AFSDB/SRV record expires */</span></div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="structafs__cell.html#af40aacc50d0ee47218e54f159cc15123">  324</a></span>&#160;    time64_t        <a class="code" href="structafs__cell.html#af40aacc50d0ee47218e54f159cc15123">last_inactive</a>;  <span class="comment">/* Time of last drop of usage count */</span></div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="structafs__cell.html#a91ec045e96540b510c981d7b4e732fd2">  325</a></span>&#160;    atomic_t        <a class="code" href="structafs__cell.html#a91ec045e96540b510c981d7b4e732fd2">usage</a>;</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="structafs__cell.html#a21dc3c82d58e24abd9f82521d1b86ef3">  326</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structafs__cell.html#a21dc3c82d58e24abd9f82521d1b86ef3">flags</a>;</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a470d9b6848ac892c4dcfe19c6c3aea95">  327</a></span>&#160;<span class="preprocessor">#define AFS_CELL_FL_NOT_READY   0       </span><span class="comment">/* The cell record is not ready for use */</span><span class="preprocessor"></span></div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a31533b4614428a8c6782840dc703de8b">  328</a></span>&#160;<span class="preprocessor">#define AFS_CELL_FL_NO_GC   1       </span><span class="comment">/* The cell was added manually, don&#39;t auto-gc */</span><span class="preprocessor"></span></div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a86be9bdbb5b35db27742cab85f2f39ec">  329</a></span>&#160;<span class="preprocessor">#define AFS_CELL_FL_NOT_FOUND   2       </span><span class="comment">/* Permanent DNS error */</span><span class="preprocessor"></span></div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4a9e26b452713cd41a6c68a8ac50dd52">  330</a></span>&#160;<span class="preprocessor">#define AFS_CELL_FL_DNS_FAIL    3       </span><span class="comment">/* Failed to access DNS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#afae0b5630de14d158b39c643b510f591">  331</a></span>&#160;<span class="preprocessor">#define AFS_CELL_FL_NO_LOOKUP_YET 4     </span><span class="comment">/* Not completed first DNS lookup yet */</span><span class="preprocessor"></span></div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="structafs__cell.html#a0bae74f2641c482fcbdae914c31d96e3">  332</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003">afs_cell_state</a> state;</div><div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="structafs__cell.html#a24ca49ffc1c7a494401efea161add0ba">  333</a></span>&#160;    <span class="keywordtype">short</span>           <a class="code" href="structafs__cell.html#a24ca49ffc1c7a494401efea161add0ba">error</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">/* Active fileserver interaction state. */</span></div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="structafs__cell.html#a3cc0ae9c985ef71d5305b07ca12103c7">  336</a></span>&#160;    <span class="keyword">struct </span>list_head    proc_volumes;   <span class="comment">/* procfs volume list */</span></div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="structafs__cell.html#a12ea99603df3b816844e26ea8f5b5922">  337</a></span>&#160;    rwlock_t        <a class="code" href="structafs__cell.html#a12ea99603df3b816844e26ea8f5b5922">proc_lock</a>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">/* VL server list. */</span></div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="structafs__cell.html#a0e5411c2b8d0c6aff81ae58ac483a7b4">  340</a></span>&#160;    rwlock_t        <a class="code" href="structafs__cell.html#a0e5411c2b8d0c6aff81ae58ac483a7b4">vl_addrs_lock</a>;  <span class="comment">/* Lock on vl_addrs */</span></div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="structafs__cell.html#ae3bb6f54eb8e259282d2a2b3afdfa902">  341</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__addr__list.html">afs_addr_list</a>    __rcu *<a class="code" href="structafs__cell.html#ae3bb6f54eb8e259282d2a2b3afdfa902">vl_addrs</a>; <span class="comment">/* List of VL servers */</span></div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="structafs__cell.html#a873f96464394f9ea79fa2a1341c42868">  342</a></span>&#160;    u8          <a class="code" href="structafs__cell.html#a873f96464394f9ea79fa2a1341c42868">name_len</a>;   <span class="comment">/* Length of name */</span></div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="structafs__cell.html#ad97a411bb17cb0fe3289509a1242d107">  343</a></span>&#160;    <span class="keywordtype">char</span>            <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[64 + 1];   <span class="comment">/* Cell name, case-flattened and NUL-padded */</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;};</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> * Cached VLDB entry.</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"> * This is pointed to by cell-&gt;vldb_entries, indexed by name.</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="structafs__vldb__entry.html">  351</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__vldb__entry.html">afs_vldb_entry</a> {</div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="structafs__vldb__entry.html#aa8ceb8342687ff81b9e036680f36ccd7">  352</a></span>&#160;    <a class="code" href="afs_8h.html#a3e19cd9d7c90a908385ff4a7eaa647a2">afs_volid_t</a>     vid[3];     <span class="comment">/* Volume IDs for R/W, R/O and Bak volumes */</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="structafs__vldb__entry.html#a212a64d9d96335c152dd4c3ff3223e4c">  354</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structafs__vldb__entry.html#a212a64d9d96335c152dd4c3ff3223e4c">flags</a>;</div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ae24b6125acb4efb610e1936bd25d40f7">  355</a></span>&#160;<span class="preprocessor">#define AFS_VLDB_HAS_RW     0       </span><span class="comment">/* - R/W volume exists */</span><span class="preprocessor"></span></div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0963cdfc25f79a1b122554dd9b1dbd5e">  356</a></span>&#160;<span class="preprocessor">#define AFS_VLDB_HAS_RO     1       </span><span class="comment">/* - R/O volume exists */</span><span class="preprocessor"></span></div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a01630f54de936476c355fd609feb3df2">  357</a></span>&#160;<span class="preprocessor">#define AFS_VLDB_HAS_BAK    2       </span><span class="comment">/* - Backup volume exists */</span><span class="preprocessor"></span></div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0e36feb8f05d3573922152e255c6c39c">  358</a></span>&#160;<span class="preprocessor">#define AFS_VLDB_QUERY_VALID    3       </span><span class="comment">/* - Record is valid */</span><span class="preprocessor"></span></div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#aff7168721a911e79d683afd9c4003051">  359</a></span>&#160;<span class="preprocessor">#define AFS_VLDB_QUERY_ERROR    4       </span><span class="comment">/* - VL server returned error */</span><span class="preprocessor"></span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="structafs__vldb__entry.html#aaa094102637a2e07879f739baf355db3">  361</a></span>&#160;    uuid_t          fs_server[<a class="code" href="afs_8h.html#a9f07894137cd63346bac9386847a971c">AFS_NMAXNSERVERS</a>];</div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="structafs__vldb__entry.html#a058fc18d6fb37c2a4d215c97deba1346">  362</a></span>&#160;    u8          fs_mask[<a class="code" href="afs_8h.html#a9f07894137cd63346bac9386847a971c">AFS_NMAXNSERVERS</a>];</div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#adaf5bcb1439e6d978d053a62e638c506">  363</a></span>&#160;<span class="preprocessor">#define AFS_VOL_VTM_RW  0x01 </span><span class="comment">/* R/W version of the volume is available (on this server) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a984996c7b33767b00f21026583f5323e">  364</a></span>&#160;<span class="preprocessor">#define AFS_VOL_VTM_RO  0x02 </span><span class="comment">/* R/O version of the volume is available (on this server) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#aa27689236903b12be6379188bf47d794">  365</a></span>&#160;<span class="preprocessor">#define AFS_VOL_VTM_BAK 0x04 </span><span class="comment">/* backup version of the volume is available (on this server) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="structafs__vldb__entry.html#ad9a5dac8896addebeaae5e6de480c90d">  366</a></span>&#160;    <span class="keywordtype">short</span>           <a class="code" href="structafs__vldb__entry.html#ad9a5dac8896addebeaae5e6de480c90d">error</a>;</div><div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="structafs__vldb__entry.html#a709653165e7b8f7add62230721ec6717">  367</a></span>&#160;    u8          <a class="code" href="structafs__vldb__entry.html#a709653165e7b8f7add62230721ec6717">nr_servers</a>; <span class="comment">/* Number of server records */</span></div><div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="structafs__vldb__entry.html#a79382f8ac03ffa10215d34f568c2f2ce">  368</a></span>&#160;    u8          <a class="code" href="structafs__vldb__entry.html#a79382f8ac03ffa10215d34f568c2f2ce">name_len</a>;</div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="structafs__vldb__entry.html#ad223d020150b2dc4bcd562c223407920">  369</a></span>&#160;    u8          <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="afs_8h.html#a85b5c14d53d23e0691fdb9e4b7436051">AFS_MAXVOLNAME</a> + 1]; <span class="comment">/* NUL-padded volume name */</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;};</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> * Record of fileserver with which we&#39;re actively communicating.</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="structafs__server.html">  375</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__server.html">afs_server</a> {</div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="structafs__server.html#a7680b3f44c3077bbfe0e604af60e185f">  376</a></span>&#160;    <span class="keyword">struct </span>rcu_head     rcu;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="structafs__server.html#a1f8048c48b0dd74038afe6da4bccc102">  378</a></span>&#160;        uuid_t      <a class="code" href="structafs__server.html#a1f8048c48b0dd74038afe6da4bccc102">uuid</a>;       <span class="comment">/* Server ID */</span></div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="structafs__server.html#a064808688ce71431384994b798e9f1a1">  379</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structafs__uuid.html">afs_uuid</a> _uuid;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    };</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="structafs__server.html#afb8e741c276f599d97abae0e878f2578">  382</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__addr__list.html">afs_addr_list</a>    __rcu *<a class="code" href="structafs__server.html#afb8e741c276f599d97abae0e878f2578">addresses</a>;</div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="structafs__server.html#a65eabd28ff105b87c9990136120924dd">  383</a></span>&#160;    <span class="keyword">struct </span>rb_node      uuid_rb;    <span class="comment">/* Link in net-&gt;servers */</span></div><div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="structafs__server.html#a713e058b9771bd7d496b69d065635d7c">  384</a></span>&#160;    <span class="keyword">struct </span>hlist_node   addr4_link; <span class="comment">/* Link in net-&gt;fs_addresses4 */</span></div><div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="structafs__server.html#aca384acc6bc46eecc5cfd6604879ad79">  385</a></span>&#160;    <span class="keyword">struct </span>hlist_node   addr6_link; <span class="comment">/* Link in net-&gt;fs_addresses6 */</span></div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="structafs__server.html#abaa138c6e0d89466b7eb2de0bbdb43fe">  386</a></span>&#160;    <span class="keyword">struct </span>hlist_node   proc_link;  <span class="comment">/* Link in net-&gt;fs_proc */</span></div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="structafs__server.html#a14444add4078f67d9767afe1a5223129">  387</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__server.html">afs_server</a>   *<a class="code" href="structafs__server.html#a14444add4078f67d9767afe1a5223129">gc_next</a>;   <span class="comment">/* Next server in manager&#39;s list */</span></div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="structafs__server.html#a111905de30b8005650399ad3c6d6804b">  388</a></span>&#160;    time64_t        <a class="code" href="structafs__server.html#a111905de30b8005650399ad3c6d6804b">put_time</a>;   <span class="comment">/* Time at which last put */</span></div><div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="structafs__server.html#a0c35eb8abe6cfdcd70ee791c69adbe49">  389</a></span>&#160;    time64_t        <a class="code" href="structafs__server.html#a0c35eb8abe6cfdcd70ee791c69adbe49">update_at</a>;  <span class="comment">/* Time at which to next update the record */</span></div><div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="structafs__server.html#a7392c12695ea77b6e25ed26ff55c254a">  390</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structafs__server.html#a7392c12695ea77b6e25ed26ff55c254a">flags</a>;</div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#aae53eca56422f5ba5c4e2113ae7acb02">  391</a></span>&#160;<span class="preprocessor">#define AFS_SERVER_FL_NEW   0       </span><span class="comment">/* New server, don&#39;t inc cb_s_break */</span><span class="preprocessor"></span></div><div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0dd4abd9520c35068ae48ace47951bd7">  392</a></span>&#160;<span class="preprocessor">#define AFS_SERVER_FL_NOT_READY 1       </span><span class="comment">/* The record is not ready for use */</span><span class="preprocessor"></span></div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ad31cb2b76ac80af8ae3149dfdd12a635">  393</a></span>&#160;<span class="preprocessor">#define AFS_SERVER_FL_NOT_FOUND 2       </span><span class="comment">/* VL server says no such server */</span><span class="preprocessor"></span></div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a31dbdba07d4fb67e80f1cd4de4fd67a2">  394</a></span>&#160;<span class="preprocessor">#define AFS_SERVER_FL_VL_FAIL   3       </span><span class="comment">/* Failed to access VL server */</span><span class="preprocessor"></span></div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a2b82302069e4e1e524cb573dc75f6055">  395</a></span>&#160;<span class="preprocessor">#define AFS_SERVER_FL_UPDATING  4</span></div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a86e72cf602c37167e42a27373f24be81">  396</a></span>&#160;<span class="preprocessor">#define AFS_SERVER_FL_PROBED    5       </span><span class="comment">/* The fileserver has been probed */</span><span class="preprocessor"></span></div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a7a97e83afc45ce6804e7024bbd8b12e9">  397</a></span>&#160;<span class="preprocessor">#define AFS_SERVER_FL_PROBING   6       </span><span class="comment">/* Fileserver is being probed */</span><span class="preprocessor"></span></div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a62cee740d83948274b50e3a9b0937fb1">  398</a></span>&#160;<span class="preprocessor">#define AFS_SERVER_FL_NO_IBULK  7       </span><span class="comment">/* Fileserver doesn&#39;t support FS.InlineBulkStatus */</span><span class="preprocessor"></span></div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a3f1e12b1071c28f57013339b623aa3d6">  399</a></span>&#160;<span class="preprocessor">#define AFS_SERVER_FL_MAY_HAVE_CB 8     </span><span class="comment">/* May have callbacks on this fileserver */</span><span class="preprocessor"></span></div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="structafs__server.html#a86fd08cf4c31a2c1976c4702b16e6e85">  400</a></span>&#160;    atomic_t        <a class="code" href="structafs__server.html#a86fd08cf4c31a2c1976c4702b16e6e85">usage</a>;</div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="structafs__server.html#a73b2287680efcde55d1f44bb6e494e24">  401</a></span>&#160;    u32         <a class="code" href="structafs__server.html#a73b2287680efcde55d1f44bb6e494e24">addr_version</a>;   <span class="comment">/* Address list version */</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">/* file service access */</span></div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="structafs__server.html#a4c5bd4932d59b498f18394c43fa3aa37">  404</a></span>&#160;    rwlock_t        <a class="code" href="structafs__server.html#a4c5bd4932d59b498f18394c43fa3aa37">fs_lock</a>;    <span class="comment">/* access lock */</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">/* callback promise management */</span></div><div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="structafs__server.html#a9c266aa1c575a070f955943444ff787f">  407</a></span>&#160;    <span class="keyword">struct </span>list_head    cb_interests;   <span class="comment">/* List of superblocks using this server */</span></div><div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="structafs__server.html#a82ed398173671c540f2975dddcc58faa">  408</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="structafs__server.html#a82ed398173671c540f2975dddcc58faa">cb_s_break</a>; <span class="comment">/* Break-everything counter. */</span></div><div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="structafs__server.html#a6e5ab7df4c9ec9c273c03ca4203bd1c6">  409</a></span>&#160;    rwlock_t        <a class="code" href="structafs__server.html#a6e5ab7df4c9ec9c273c03ca4203bd1c6">cb_break_lock</a>;  <span class="comment">/* Volume finding lock */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;};</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"> * Interest by a superblock on a server.</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="structafs__cb__interest.html">  415</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__cb__interest.html">afs_cb_interest</a> {</div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="structafs__cb__interest.html#a3bfbabc82a0f5a1cc5c5d13f3d54e5ad">  416</a></span>&#160;    <span class="keyword">struct </span>list_head    cb_link;    <span class="comment">/* Link in server-&gt;cb_interests */</span></div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="structafs__cb__interest.html#a06023567e760440598cfef7fe68831d9">  417</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__server.html">afs_server</a>   *<a class="code" href="structafs__cb__interest.html#a06023567e760440598cfef7fe68831d9">server</a>;    <span class="comment">/* Server on which this interest resides */</span></div><div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="structafs__cb__interest.html#a4c51d2d2ee3ced45a37cf85cbf2f8520">  418</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsuper__block.html">super_block</a>  *<a class="code" href="structafs__cb__interest.html#a4c51d2d2ee3ced45a37cf85cbf2f8520">sb</a>;        <span class="comment">/* Superblock on which inodes reside */</span></div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="structafs__cb__interest.html#a450f4f8bdc216efbf4a3ac6aced14733">  419</a></span>&#160;    <a class="code" href="afs_8h.html#a3e19cd9d7c90a908385ff4a7eaa647a2">afs_volid_t</a>     <a class="code" href="structafs__cb__interest.html#a450f4f8bdc216efbf4a3ac6aced14733">vid</a>;        <span class="comment">/* Volume ID to match */</span></div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="structafs__cb__interest.html#a8bd419a1e97d5512d0f8c714febd6fc1">  420</a></span>&#160;    refcount_t      <a class="code" href="structafs__cb__interest.html#a8bd419a1e97d5512d0f8c714febd6fc1">usage</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;};</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"> * Replaceable server list.</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="structafs__server__entry.html">  426</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__server__entry.html">afs_server_entry</a> {</div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="structafs__server__entry.html#abfab0569b34f9a4b8a4b76cc9052e7db">  427</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__server.html">afs_server</a>   *<a class="code" href="structafs__server__entry.html#abfab0569b34f9a4b8a4b76cc9052e7db">server</a>;</div><div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="structafs__server__entry.html#af923371ab31d237c97ea95bf4d6eaa86">  428</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__cb__interest.html">afs_cb_interest</a>  *<a class="code" href="structafs__server__entry.html#af923371ab31d237c97ea95bf4d6eaa86">cb_interest</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;};</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="structafs__server__list.html">  431</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__server__list.html">afs_server_list</a> {</div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="structafs__server__list.html#a5741d11385e9f465d2e89ba12d0e7381">  432</a></span>&#160;    refcount_t      <a class="code" href="structafs__server__list.html#a5741d11385e9f465d2e89ba12d0e7381">usage</a>;</div><div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="structafs__server__list.html#ac9815bfca38b34fcf4571b1f308a616e">  433</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__server__list.html#ac9815bfca38b34fcf4571b1f308a616e">nr_servers</a>;</div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="structafs__server__list.html#ade94eefb5e2ab1f808fba1017c7999a0">  434</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__server__list.html#ade94eefb5e2ab1f808fba1017c7999a0">index</a>;      <span class="comment">/* Server currently in use */</span></div><div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="structafs__server__list.html#a151959345c144c0b816d6838d6971912">  435</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__server__list.html#a151959345c144c0b816d6838d6971912">vnovol_mask</a>;    <span class="comment">/* Servers to be skipped due to VNOVOL */</span></div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="structafs__server__list.html#a7334628fb284f8ab8a5c5228eb0b671e">  436</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__server__list.html#a7334628fb284f8ab8a5c5228eb0b671e">seq</a>;        <span class="comment">/* Set to -&gt;servers_seq when installed */</span></div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="structafs__server__list.html#a8e05de35e0398cb73badc8b5c9a53a87">  437</a></span>&#160;    rwlock_t        <a class="code" href="structafs__server__list.html#a8e05de35e0398cb73badc8b5c9a53a87">lock</a>;</div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="structafs__server__list.html#a5d21b83aa3bda82d720d37e74368d833">  438</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__server__entry.html">afs_server_entry</a> servers[];</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;};</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"> * Live AFS volume management.</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="structafs__volume.html">  444</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__volume.html">afs_volume</a> {</div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="structafs__volume.html#a0037e8177a38a316a00e5eb8f08bdc97">  445</a></span>&#160;    <a class="code" href="afs_8h.html#a3e19cd9d7c90a908385ff4a7eaa647a2">afs_volid_t</a>     <a class="code" href="structafs__volume.html#a0037e8177a38a316a00e5eb8f08bdc97">vid</a>;        <span class="comment">/* volume ID */</span></div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="structafs__volume.html#ad503e0e7147ae2d7312770e7756f2a07">  446</a></span>&#160;    atomic_t        <a class="code" href="structafs__volume.html#ad503e0e7147ae2d7312770e7756f2a07">usage</a>;</div><div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="structafs__volume.html#adf000529382e84cfb05aab68f4bcc5ae">  447</a></span>&#160;    time64_t        <a class="code" href="structafs__volume.html#adf000529382e84cfb05aab68f4bcc5ae">update_at</a>;  <span class="comment">/* Time at which to next update */</span></div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="structafs__volume.html#afc997ca0c0f2ff5f1264144d99adfa9e">  448</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__cell.html">afs_cell</a>     *<a class="code" href="structafs__volume.html#afc997ca0c0f2ff5f1264144d99adfa9e">cell</a>;      <span class="comment">/* Cell to which belongs (pins ref) */</span></div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="structafs__volume.html#a1f83f5d84c2602470d15f93963184415">  449</a></span>&#160;    <span class="keyword">struct </span>list_head    proc_link;  <span class="comment">/* Link in cell-&gt;vl_proc */</span></div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="structafs__volume.html#a5bf73c4677b98ec69e78c1caf2ff7c55">  450</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structafs__volume.html#a5bf73c4677b98ec69e78c1caf2ff7c55">flags</a>;</div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a09ad6a69a4950cb84d891c8760c858d4">  451</a></span>&#160;<span class="preprocessor">#define AFS_VOLUME_NEEDS_UPDATE 0   </span><span class="comment">/* - T if an update needs performing */</span><span class="preprocessor"></span></div><div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ae02864b09e30c5b93aae09254a081bcc">  452</a></span>&#160;<span class="preprocessor">#define AFS_VOLUME_UPDATING 1   </span><span class="comment">/* - T if an update is in progress */</span><span class="preprocessor"></span></div><div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a8903f7e37e91bfab75332829cd734c20">  453</a></span>&#160;<span class="preprocessor">#define AFS_VOLUME_WAIT     2   </span><span class="comment">/* - T if users must wait for update */</span><span class="preprocessor"></span></div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#af2bb974842ad2a6487b03ffb231813ef">  454</a></span>&#160;<span class="preprocessor">#define AFS_VOLUME_DELETED  3   </span><span class="comment">/* - T if volume appears deleted */</span><span class="preprocessor"></span></div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a73d00fe5f2cdc84d0e71089344a1cacf">  455</a></span>&#160;<span class="preprocessor">#define AFS_VOLUME_OFFLINE  4   </span><span class="comment">/* - T if volume offline notice given */</span><span class="preprocessor"></span></div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a80d2178a1ccda6de63273b16566a9162">  456</a></span>&#160;<span class="preprocessor">#define AFS_VOLUME_BUSY     5   </span><span class="comment">/* - T if volume busy notice given */</span><span class="preprocessor"></span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="preprocessor">#ifdef CONFIG_AFS_FSCACHE</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keyword">struct </span>fscache_cookie   *cache;     <span class="comment">/* caching cookie */</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="structafs__volume.html#ae870afd3d4e9ec52aab8bf241edfe19b">  460</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__server__list.html">afs_server_list</a>  *<a class="code" href="structafs__volume.html#ae870afd3d4e9ec52aab8bf241edfe19b">servers</a>;   <span class="comment">/* List of servers on which volume resides */</span></div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="structafs__volume.html#a9adf116d0cb998c2854eea5bf5a3f2d6">  461</a></span>&#160;    rwlock_t        <a class="code" href="structafs__volume.html#a9adf116d0cb998c2854eea5bf5a3f2d6">servers_lock</a>;   <span class="comment">/* Lock for -&gt;servers */</span></div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="structafs__volume.html#af9934cf297df9764167aa777b4c8b7eb">  462</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__volume.html#af9934cf297df9764167aa777b4c8b7eb">servers_seq</a>;    <span class="comment">/* Incremented each time -&gt;servers changes */</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="structafs__volume.html#a5ec25052fffc3cc38ae81fb758fdacd9">  464</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="structafs__volume.html#a5ec25052fffc3cc38ae81fb758fdacd9">cb_v_break</a>; <span class="comment">/* Break-everything counter. */</span></div><div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="structafs__volume.html#acc96a4f4536d32fdd2d86563d52a0c71">  465</a></span>&#160;    rwlock_t        <a class="code" href="structafs__volume.html#acc96a4f4536d32fdd2d86563d52a0c71">cb_break_lock</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="structafs__volume.html#a069524c16c621b196392d036d458be10">  467</a></span>&#160;    afs_voltype_t       <a class="code" href="structafs__volume.html#a069524c16c621b196392d036d458be10">type</a>;       <span class="comment">/* type of volume */</span></div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="structafs__volume.html#aee2b0c5b4e991ddd67d3a9f0e4c792cd">  468</a></span>&#160;    <span class="keywordtype">short</span>           <a class="code" href="structafs__volume.html#aee2b0c5b4e991ddd67d3a9f0e4c792cd">error</a>;</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="structafs__volume.html#aa0ac68fff28efd0f35278ed92ceb3ecd">  469</a></span>&#160;    <span class="keywordtype">char</span>            <a class="code" href="structafs__volume.html#aa0ac68fff28efd0f35278ed92ceb3ecd">type_force</a>; <span class="comment">/* force volume type (suppress R/O -&gt; R/W) */</span></div><div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="structafs__volume.html#a6aef4b3232a13b437b9330487ad2351f">  470</a></span>&#160;    u8          <a class="code" href="structafs__volume.html#a6aef4b3232a13b437b9330487ad2351f">name_len</a>;</div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="structafs__volume.html#ab49280b671090fc6af67f5e5295807a2">  471</a></span>&#160;    u8          <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="afs_8h.html#a85b5c14d53d23e0691fdb9e4b7436051">AFS_MAXVOLNAME</a> + 1]; <span class="comment">/* NUL-padded volume name */</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;};</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53">  474</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53">afs_lock_state</a> {</div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a599e859dbe2ab024f52003dd1cd2ae2a">  475</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a599e859dbe2ab024f52003dd1cd2ae2a">AFS_VNODE_LOCK_NONE</a>,        <span class="comment">/* The vnode has no lock on the server */</span></div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a92d5033519fac4405b2e58015798a68c">  476</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a92d5033519fac4405b2e58015798a68c">AFS_VNODE_LOCK_WAITING_FOR_CB</a>,  <span class="comment">/* We&#39;re waiting for the server to break the callback */</span></div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53aaa74ea752307cf025ca79491aa170f17">  477</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53aaa74ea752307cf025ca79491aa170f17">AFS_VNODE_LOCK_SETTING</a>,     <span class="comment">/* We&#39;re asking the server for a lock */</span></div><div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a9423662c9a6418e0b81071d6f70ff392">  478</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a9423662c9a6418e0b81071d6f70ff392">AFS_VNODE_LOCK_GRANTED</a>,     <span class="comment">/* We have a lock on the server */</span></div><div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a9e5cbb637ea5a85d5f17d7b4398d84b5">  479</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a9e5cbb637ea5a85d5f17d7b4398d84b5">AFS_VNODE_LOCK_EXTENDING</a>,   <span class="comment">/* We&#39;re extending a lock on the server */</span></div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a4647d20eb2136dfd4b864a58a3a2071b">  480</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a4647d20eb2136dfd4b864a58a3a2071b">AFS_VNODE_LOCK_NEED_UNLOCK</a>, <span class="comment">/* We need to unlock on the server */</span></div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a195e48128aadfc70ad3e836a128b93ae">  481</a></span>&#160;    <a class="code" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a195e48128aadfc70ad3e836a128b93ae">AFS_VNODE_LOCK_UNLOCKING</a>,   <span class="comment">/* We&#39;re telling the server to unlock */</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;};</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"> * AFS inode private data.</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"> * Note that afs_alloc_inode() *must* reset anything that could incorrectly</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> * leak from one inode to another.</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="structafs__vnode.html">  490</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__vnode.html">afs_vnode</a> {</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a8b38163a20b967a96a1d89f9050478c0">  491</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>        vfs_inode;  <span class="comment">/* the VFS&#39;s inode record */</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="structafs__vnode.html#abadd25d3e525e257f08913fe6e3ade30">  493</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__volume.html">afs_volume</a>   *<a class="code" href="structafs__vnode.html#abadd25d3e525e257f08913fe6e3ade30">volume</a>;    <span class="comment">/* volume on which vnode resides */</span></div><div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="structafs__vnode.html#aa30d08c744fbabc953524f8d4fbc85d9">  494</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__fid.html">afs_fid</a>      fid;        <span class="comment">/* the file identifier for this inode */</span></div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a93ae1becd01b666f617fb67a14e34244">  495</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__file__status.html">afs_file_status</a>  <a class="code" href="mount__clnt_8c.html#a088e3e37581e2ecb5079c1d75067923f">status</a>;     <span class="comment">/* AFS status info for this file */</span></div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a27ae1dfe300500d8d0387762233f25ad">  496</a></span>&#160;    <a class="code" href="afs_8h.html#aab88bfc3233e1bad3f1d01aea9473a9d">afs_dataversion_t</a>   <a class="code" href="structafs__vnode.html#a27ae1dfe300500d8d0387762233f25ad">invalid_before</a>; <span class="comment">/* Child dentries are invalid before this */</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="preprocessor">#ifdef CONFIG_AFS_FSCACHE</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keyword">struct </span>fscache_cookie   *cache;     <span class="comment">/* caching cookie */</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="structafs__vnode.html#afc2bf6c7cef0f363e4c796faf534f563">  500</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__permits.html">afs_permits</a> __rcu *<a class="code" href="structafs__vnode.html#afc2bf6c7cef0f363e4c796faf534f563">permit_cache</a>; <span class="comment">/* cache of permits so far obtained */</span></div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a8bf7181d75b23bd73017c17bb18c74a3">  501</a></span>&#160;    <span class="keyword">struct </span>mutex        io_lock;    <span class="comment">/* Lock for serialising I/O on this mutex */</span></div><div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="structafs__vnode.html#ac1c0027b1d0f388350ad1960f21c1f52">  502</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore validate_lock;  <span class="comment">/* lock for validating this vnode */</span></div><div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a2ad24986c3f32a23b9f726981b6e1710">  503</a></span>&#160;    spinlock_t      <a class="code" href="structafs__vnode.html#a2ad24986c3f32a23b9f726981b6e1710">wb_lock</a>;    <span class="comment">/* lock for wb_keys */</span></div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="structafs__vnode.html#ab3f0ea7d5016961208757329037101c1">  504</a></span>&#160;    spinlock_t      <a class="code" href="structafs__vnode.html#ab3f0ea7d5016961208757329037101c1">lock</a>;       <span class="comment">/* waitqueue/flags lock */</span></div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="structafs__vnode.html#af674bbc5d2043539fcdbb41e4cd132b9">  505</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structafs__vnode.html#af674bbc5d2043539fcdbb41e4cd132b9">flags</a>;</div><div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a06032dc895401dd4b63764e7dc75cf99">  506</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_CB_PROMISED   0       </span><span class="comment">/* Set if vnode has a callback promise */</span><span class="preprocessor"></span></div><div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ae9d6e44b0decf19b33d6358cdd1484a3">  507</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_UNSET     1       </span><span class="comment">/* set if vnode attributes not yet set */</span><span class="preprocessor"></span></div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ab85978e5ef0afdf0755efbbd13efb1be">  508</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_DIR_VALID 2       </span><span class="comment">/* Set if dir contents are valid */</span><span class="preprocessor"></span></div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a2db6d9683364f7b3507514fabf95dcd3">  509</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_ZAP_DATA  3       </span><span class="comment">/* set if vnode&#39;s data should be invalidated */</span><span class="preprocessor"></span></div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a5c353326206587a68eed919d55343dd5">  510</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_DELETED   4       </span><span class="comment">/* set if vnode deleted on server */</span><span class="preprocessor"></span></div><div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a7f1e949f58d27dc87f8aa14e8bdc8738">  511</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_MOUNTPOINT    5       </span><span class="comment">/* set if vnode is a mountpoint symlink */</span><span class="preprocessor"></span></div><div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ac850b3dc0248e4a53b2a79998df035fa">  512</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_AUTOCELL  6       </span><span class="comment">/* set if Vnode is an auto mount point */</span><span class="preprocessor"></span></div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a1b36761edd1c51455ca6a4359f75f4dd">  513</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_PSEUDODIR 7       </span><span class="comment">/* set if Vnode is a pseudo directory */</span><span class="preprocessor"></span></div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a78bf24c8912b421cc1f7636e29e7b842">  514</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_NEW_CONTENT   8       </span><span class="comment">/* Set if file has new content (create/trunc-0) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a0c77d80cfe725ded8c71cc7fe8c7572e">  516</a></span>&#160;    <span class="keyword">struct </span>list_head    wb_keys;    <span class="comment">/* List of keys available for writeback */</span></div><div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a414bdf46ae53b7be391110fc9c2b2201">  517</a></span>&#160;    <span class="keyword">struct </span>list_head    pending_locks;  <span class="comment">/* locks waiting to be granted */</span></div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a08ff2413b6041f0d9b409e7b7b5effdc">  518</a></span>&#160;    <span class="keyword">struct </span>list_head    granted_locks;  <span class="comment">/* locks granted on this file */</span></div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a949ca52be3b2dc94c0e96230ec3b1dc7">  519</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc">delayed_work</a> lock_work;  <span class="comment">/* work to be done in locking */</span></div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a72338f16fc6c88ff53ad74861c534565">  520</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a>      *<a class="code" href="structafs__vnode.html#a72338f16fc6c88ff53ad74861c534565">lock_key</a>;  <span class="comment">/* Key to be used in lock ops */</span></div><div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a6e5f4ff1862f6df4e281bf151f800c47">  521</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53">afs_lock_state</a> lock_state : 8;</div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="structafs__vnode.html#abeebc232111262fceaeb151f47ae8af7">  522</a></span>&#160;    <a class="code" href="afs_8h.html#a38e93ddc172f1f186bd8047fe754c10e">afs_lock_type_t</a>     <a class="code" href="structafs__vnode.html#abeebc232111262fceaeb151f47ae8af7">lock_type</a> : 8;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">/* outstanding callback notification on this file */</span></div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a12f83cb138b5af49e9c5f4bbfb7be12f">  525</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__cb__interest.html">afs_cb_interest</a>  *<a class="code" href="structafs__vnode.html#a12f83cb138b5af49e9c5f4bbfb7be12f">cb_interest</a>;   <span class="comment">/* Server on which this resides */</span></div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a43f0c90c194847255214663eb5c3242e">  526</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__vnode.html#a43f0c90c194847255214663eb5c3242e">cb_s_break</a>; <span class="comment">/* Mass break counter on -&gt;server */</span></div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a277763ddcd17d9a217b0a55462a3d999">  527</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__vnode.html#a277763ddcd17d9a217b0a55462a3d999">cb_v_break</a>; <span class="comment">/* Mass break counter on -&gt;volume */</span></div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="structafs__vnode.html#ae0aca32033ef20e4538a209e478f5ae2">  528</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__vnode.html#ae0aca32033ef20e4538a209e478f5ae2">cb_break</a>;   <span class="comment">/* Break counter on vnode */</span></div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="structafs__vnode.html#ab533447f02f6031785c812e9b513fc87">  529</a></span>&#160;    seqlock_t       <a class="code" href="structafs__vnode.html#ab533447f02f6031785c812e9b513fc87">cb_lock</a>;    <span class="comment">/* Lock for -&gt;cb_interest, -&gt;status, -&gt;cb_*break */</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a67156faf2024f40317ba1f1482c74069">  531</a></span>&#160;    time64_t        <a class="code" href="structafs__vnode.html#a67156faf2024f40317ba1f1482c74069">cb_expires_at</a>;  <span class="comment">/* time at which callback expires */</span></div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a831334b05fafa9a7b12d6f4c76e1fd6d">  532</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="structafs__vnode.html#a831334b05fafa9a7b12d6f4c76e1fd6d">cb_version</a>; <span class="comment">/* callback version */</span></div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="structafs__vnode.html#a35cb7729c03738cd32867df770af004f">  533</a></span>&#160;    <a class="code" href="afs_8h.html#ac4d43b1715e16e501c33504e24c4616c">afs_callback_type_t</a> <a class="code" href="structafs__vnode.html#a35cb7729c03738cd32867df770af004f">cb_type</a>;    <span class="comment">/* type of callback */</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;};</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"> * cached security record for one user&#39;s attempt to access a vnode</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="structafs__permit.html">  539</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__permit.html">afs_permit</a> {</div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="structafs__permit.html#a1b97c2420be53477bf23b24047c23603">  540</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a>      *<a class="code" href="structafs__permit.html#a1b97c2420be53477bf23b24047c23603">key</a>;       <span class="comment">/* RxRPC ticket holding a security context */</span></div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="structafs__permit.html#ae4a5dd2f511338f326fdd02cddf32bc1">  541</a></span>&#160;    <a class="code" href="afs_8h.html#a975ee1160d2a1bb3c3d05ea22e14d92c">afs_access_t</a>        <a class="code" href="structafs__permit.html#ae4a5dd2f511338f326fdd02cddf32bc1">access</a>;     <span class="comment">/* CallerAccess value for this key */</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;};</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"> * Immutable cache of CallerAccess records from attempts to access vnodes.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> * These may be shared between multiple vnodes.</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="structafs__permits.html">  548</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__permits.html">afs_permits</a> {</div><div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="structafs__permits.html#a0fea95e6e83c3c0ba5cba034a998cbd0">  549</a></span>&#160;    <span class="keyword">struct </span>rcu_head     rcu;</div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="structafs__permits.html#a41624925fe7bd7717edbf9f686fd12b0">  550</a></span>&#160;    <span class="keyword">struct </span>hlist_node   hash_node;  <span class="comment">/* Link in hash */</span></div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="structafs__permits.html#a6e0875009bfc248fc233ab0a6d7db075">  551</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       <a class="code" href="structafs__permits.html#a6e0875009bfc248fc233ab0a6d7db075">h</a>;      <span class="comment">/* Hash value for this permit list */</span></div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="structafs__permits.html#aad7016777793db5265a18705360a424d">  552</a></span>&#160;    refcount_t      <a class="code" href="structafs__permits.html#aad7016777793db5265a18705360a424d">usage</a>;</div><div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="structafs__permits.html#ab82e8168380789f4b710bc908da26950">  553</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__permits.html#ab82e8168380789f4b710bc908da26950">nr_permits</a>; <span class="comment">/* Number of records */</span></div><div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="structafs__permits.html#a4ab6d9c2619cba5aabff08b982ac954e">  554</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__permits.html#a4ab6d9c2619cba5aabff08b982ac954e">invalidated</a>;    <span class="comment">/* Invalidated due to key change */</span></div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="structafs__permits.html#a632ae3e39c8a501058c19b180e404df8">  555</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__permit.html">afs_permit</a>   permits[];  <span class="comment">/* List of permits sorted by key pointer */</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;};</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"> * record of one of a system&#39;s set of network interfaces</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="structafs__interface.html">  561</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__interface.html">afs_interface</a> {</div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="structafs__interface.html#aee83e86549baab222970f51b96c55ce7">  562</a></span>&#160;    <span class="keyword">struct </span>in_addr  address;    <span class="comment">/* IPv4 address bound to interface */</span></div><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="structafs__interface.html#a6016c258518b870d41fdbbc7cfafba46">  563</a></span>&#160;    <span class="keyword">struct </span>in_addr  netmask;    <span class="comment">/* netmask applied to address */</span></div><div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="structafs__interface.html#a41ddd37d3c1e4b4b27b8d168083431b0">  564</a></span>&#160;    <span class="keywordtype">unsigned</span>    <a class="code" href="structafs__interface.html#a41ddd37d3c1e4b4b27b8d168083431b0">mtu</a>;        <span class="comment">/* MTU of interface */</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;};</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"> * Cursor for iterating over a server&#39;s address list.</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="structafs__addr__cursor.html">  570</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> {</div><div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="structafs__addr__cursor.html#a83649b65a8c417604f6bdc84ec3833e2">  571</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__addr__list.html">afs_addr_list</a>    *<a class="code" href="structafs__addr__cursor.html#a83649b65a8c417604f6bdc84ec3833e2">alist</a>;     <span class="comment">/* Current address list (pins ref) */</span></div><div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="structafs__addr__cursor.html#a6f67a6fbe6d914759bf6081391a554a2">  572</a></span>&#160;    <span class="keyword">struct </span>sockaddr_rxrpc   *<a class="code" href="structafs__addr__cursor.html#a6f67a6fbe6d914759bf6081391a554a2">addr</a>;</div><div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="structafs__addr__cursor.html#ae944fb2f87dbaf27057479d3dd3c382b">  573</a></span>&#160;    u32         <a class="code" href="structafs__addr__cursor.html#ae944fb2f87dbaf27057479d3dd3c382b">abort_code</a>;</div><div class="line"><a name="l00574"></a><span class="lineno"><a class="line" href="structafs__addr__cursor.html#ae9ee8f560217cb4e4043342b10cdbbf8">  574</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__addr__cursor.html#ae9ee8f560217cb4e4043342b10cdbbf8">start</a>;      <span class="comment">/* Starting point in alist-&gt;addrs[] */</span></div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="structafs__addr__cursor.html#adf7a66905fa7820a50ab93137bd46705">  575</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__addr__cursor.html#adf7a66905fa7820a50ab93137bd46705">index</a>;      <span class="comment">/* Wrapping offset from start to current addr */</span></div><div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="structafs__addr__cursor.html#a813493af528683a3807f43020d084fe0">  576</a></span>&#160;    <span class="keywordtype">short</span>           <a class="code" href="structafs__addr__cursor.html#a813493af528683a3807f43020d084fe0">error</a>;</div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="structafs__addr__cursor.html#a1546416e8c780153d16f400a54b22bb9">  577</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__addr__cursor.html#a1546416e8c780153d16f400a54b22bb9">begun</a>;      <span class="comment">/* T if we&#39;ve begun iteration */</span></div><div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="structafs__addr__cursor.html#a7c5d9c57f8b5cdf35a616c9f9de1965a">  578</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structafs__addr__cursor.html#a7c5d9c57f8b5cdf35a616c9f9de1965a">responded</a>;  <span class="comment">/* T if the current address responded */</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;};</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"> * Cursor for iterating over a set of fileservers.</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html">  584</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> {</div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html#a195827c530babafb2ebbf191b3ef7e00">  585</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a>  ac;</div><div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html#ab1a3b132ad78d2bb023fc4dbbe388f93">  586</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__vnode.html">afs_vnode</a>    *<a class="code" href="structafs__fs__cursor.html#ab1a3b132ad78d2bb023fc4dbbe388f93">vnode</a>;</div><div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html#ae62d230cc4994249aee3778d7b18dd45">  587</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__server__list.html">afs_server_list</a>  *<a class="code" href="structafs__fs__cursor.html#ae62d230cc4994249aee3778d7b18dd45">server_list</a>;   <span class="comment">/* Current server list (pins ref) */</span></div><div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html#aa3c4004020965f1307d26d831f93cf1b">  588</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__cb__interest.html">afs_cb_interest</a>  *<a class="code" href="structafs__fs__cursor.html#aa3c4004020965f1307d26d831f93cf1b">cbi</a>;       <span class="comment">/* Server on which this resides (pins ref) */</span></div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html#a731ea535f17729b8479f1dde9f67e337">  589</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a>      *<a class="code" href="structafs__fs__cursor.html#a731ea535f17729b8479f1dde9f67e337">key</a>;       <span class="comment">/* Key for the server */</span></div><div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html#a379686fbe1a224bf83bfea8c42a07d56">  590</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__fs__cursor.html#a379686fbe1a224bf83bfea8c42a07d56">cb_break</a>;   <span class="comment">/* cb_break + cb_s_break before the call */</span></div><div class="line"><a name="l00591"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html#a31fb83f3e3649a63b813b7c57f989367">  591</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structafs__fs__cursor.html#a31fb83f3e3649a63b813b7c57f989367">cb_break_2</a>; <span class="comment">/* cb_break + cb_s_break (2nd vnode) */</span></div><div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html#ac86dd87360b9d86e63852b884aeb2537">  592</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>       <a class="code" href="structafs__fs__cursor.html#ac86dd87360b9d86e63852b884aeb2537">start</a>;      <span class="comment">/* Initial index in server list */</span></div><div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html#aee42ec65d75986e0ffea9520ce632e92">  593</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>       <a class="code" href="structafs__fs__cursor.html#aee42ec65d75986e0ffea9520ce632e92">index</a>;      <span class="comment">/* Number of servers tried beyond start */</span></div><div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="structafs__fs__cursor.html#ab6b52e7d25751927dc22595084049381">  594</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>      <a class="code" href="structafs__fs__cursor.html#ab6b52e7d25751927dc22595084049381">flags</a>;</div><div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#af7b05a18ace396365a9e863f6924a3dd">  595</a></span>&#160;<span class="preprocessor">#define AFS_FS_CURSOR_STOP  0x0001      </span><span class="comment">/* Set to cease iteration */</span><span class="preprocessor"></span></div><div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a1bf554b4aaa88c77ea374650603e1aa8">  596</a></span>&#160;<span class="preprocessor">#define AFS_FS_CURSOR_VBUSY 0x0002      </span><span class="comment">/* Set if seen VBUSY */</span><span class="preprocessor"></span></div><div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a6d6615998fef884cf086d45218dc5103">  597</a></span>&#160;<span class="preprocessor">#define AFS_FS_CURSOR_VMOVED    0x0004      </span><span class="comment">/* Set if seen VMOVED */</span><span class="preprocessor"></span></div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#aedac9406b60f7cc67b63c6b1656c5021">  598</a></span>&#160;<span class="preprocessor">#define AFS_FS_CURSOR_VNOVOL    0x0008      </span><span class="comment">/* Set if seen VNOVOL */</span><span class="preprocessor"></span></div><div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a653d88e6dec0889872e9a3c6b70fc5ea">  599</a></span>&#160;<span class="preprocessor">#define AFS_FS_CURSOR_CUR_ONLY  0x0010      </span><span class="comment">/* Set if current server only (file lock held) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a95a6f54db50b8080dc86d83a0f74baf1">  600</a></span>&#160;<span class="preprocessor">#define AFS_FS_CURSOR_NO_VSLEEP 0x0020      </span><span class="comment">/* Set to prevent sleep on VBUSY, VOFFLINE, ... */</span><span class="preprocessor"></span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;};</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment"> * Cache auxiliary data.</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="structafs__vnode__cache__aux.html">  606</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structafs__vnode__cache__aux.html">afs_vnode_cache_aux</a> {</div><div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="structafs__vnode__cache__aux.html#a9b1361ddec92a4c7bfb724065f88073a">  607</a></span>&#160;    u64         <a class="code" href="structafs__vnode__cache__aux.html#a9b1361ddec92a4c7bfb724065f88073a">data_version</a>;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;} <a class="code" href="afs_2internal_8h.html#a5f603b6326c18fbfe21a8386acae0c17">__packed</a>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="preprocessor">#include &lt;trace/events/afs.h&gt;</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">/*****************************************************************************/</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"> * addr_list.c</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ab24a354689c8e62717613a48bdea9454">  616</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__addr__list.html">afs_addr_list</a> *<a class="code" href="afs_2internal_8h.html#ab24a354689c8e62717613a48bdea9454">afs_get_addrlist</a>(<span class="keyword">struct</span> <a class="code" href="structafs__addr__list.html">afs_addr_list</a> *alist)</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;{</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (alist)</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        refcount_inc(&amp;alist-&gt;<a class="code" href="structafs__addr__list.html#aef6b5c93c67b353d62d55a8282aea07e">usage</a>);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">return</span> alist;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__addr__list.html">afs_addr_list</a> *<a class="code" href="afs_2internal_8h.html#adb84a1a68225abcfda83632c3277373e">afs_alloc_addrlist</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>,</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>,</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#af40c0b89c86bd9e600473bf5bf316bca">afs_put_addrlist</a>(<span class="keyword">struct</span> <a class="code" href="structafs__addr__list.html">afs_addr_list</a> *);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__addr__list.html">afs_addr_list</a> *<a class="code" href="afs_2internal_8h.html#a5f75115c846143c2f0ade735da97cb92">afs_parse_text_addrs</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">size_t</span>, <span class="keywordtype">char</span>,</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                          <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__addr__list.html">afs_addr_list</a> *<a class="code" href="afs_2internal_8h.html#a3345bf5b612581b757a3cc7266415b09">afs_dns_query</a>(<span class="keyword">struct</span> <a class="code" href="structafs__cell.html">afs_cell</a> *, time64_t *);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="afs_2internal_8h.html#adedb3f91a1777c8b43058aadb72f580f">afs_iterate_addresses</a>(<span class="keyword">struct</span> <a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> *);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a5321a618b7fb8d3fb9ca27b87aa48f03">afs_end_cursor</a>(<span class="keyword">struct</span> <a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> *);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#af79f4fac2041d7339b848eebcf89fc53">afs_set_vl_cursor</a>(<span class="keyword">struct</span> <a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__cell.html">afs_cell</a> *);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#aebc4dca57e6987e799c507ed5db328ce">afs_merge_fs_addr4</a>(<span class="keyword">struct</span> <a class="code" href="structafs__addr__list.html">afs_addr_list</a> *, __be32, u16);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a543ab64b81243be165175261a307249e">afs_merge_fs_addr6</a>(<span class="keyword">struct</span> <a class="code" href="structafs__addr__list.html">afs_addr_list</a> *, __be32 *, u16);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment"> * cache.c</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="preprocessor">#ifdef CONFIG_AFS_FSCACHE</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>fscache_netfs <a class="code" href="afs_2cache_8c.html#a97eb0ad42b0602104cd61eb82870cfef">afs_cache_netfs</a>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>fscache_cookie_def <a class="code" href="afs_2internal_8h.html#a48942300cc626a94db1d8473eb0b948d">afs_cell_cache_index_def</a>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>fscache_cookie_def <a class="code" href="afs_2internal_8h.html#a496e1daf1dcff1dbd413788d695ab991">afs_volume_cache_index_def</a>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>fscache_cookie_def <a class="code" href="afs_2internal_8h.html#a4129cc463c65921e87b654e8bafa651a">afs_vnode_cache_index_def</a>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a48942300cc626a94db1d8473eb0b948d">  645</a></span>&#160;<span class="preprocessor">#define afs_cell_cache_index_def    (*(struct fscache_cookie_def *) NULL)</span></div><div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a496e1daf1dcff1dbd413788d695ab991">  646</a></span>&#160;<span class="preprocessor">#define afs_volume_cache_index_def  (*(struct fscache_cookie_def *) NULL)</span></div><div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4129cc463c65921e87b654e8bafa651a">  647</a></span>&#160;<span class="preprocessor">#define afs_vnode_cache_index_def   (*(struct fscache_cookie_def *) NULL)</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment"> * callback.c</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ab4302cbd2412104c3f1394d707f8d443">afs_init_callback_state</a>(<span class="keyword">struct</span> <a class="code" href="structafs__server.html">afs_server</a> *);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827">afs_break_callback</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a0e3cb35ab647d29e891dc242e5ddcfdb">afs_break_callbacks</a>(<span class="keyword">struct</span> <a class="code" href="structafs__server.html">afs_server</a> *, <span class="keywordtype">size_t</span>, <span class="keyword">struct</span> <a class="code" href="structafs__callback__break.html">afs_callback_break</a>*);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a8d376b14ae606fc00f885dec9b66a646">afs_register_server_cb_interest</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *,</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                       <span class="keyword">struct</span> <a class="code" href="structafs__server__list.html">afs_server_list</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a15630f5571bd703f349864c0ac0b570a">afs_put_cb_interest</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__cb__interest.html">afs_cb_interest</a> *);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#abd3cfe6b37fd5d6790c5dcf035ef6e4c">afs_clear_callback_interests</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__server__list.html">afs_server_list</a> *);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f">  662</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__cb__interest.html">afs_cb_interest</a> *<a class="code" href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f">afs_get_cb_interest</a>(<span class="keyword">struct</span> <a class="code" href="structafs__cb__interest.html">afs_cb_interest</a> *cbi)</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;{</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">if</span> (cbi)</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        refcount_inc(&amp;cbi-&gt;<a class="code" href="structafs__cb__interest.html#a8bd419a1e97d5512d0f8c714febd6fc1">usage</a>);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">return</span> cbi;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c">  669</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c">afs_calc_vnode_cb_break</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *vnode)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;{</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">return</span> vnode-&gt;<a class="code" href="structafs__vnode.html#ae0aca32033ef20e4538a209e478f5ae2">cb_break</a> + vnode-&gt;<a class="code" href="structafs__vnode.html#a43f0c90c194847255214663eb5c3242e">cb_s_break</a> + vnode-&gt;<a class="code" href="structafs__vnode.html#a277763ddcd17d9a217b0a55462a3d999">cb_v_break</a>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a">  674</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a">afs_cb_break_sum</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *vnode,</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="structafs__cb__interest.html">afs_cb_interest</a> *cbi)</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;{</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> vnode-&gt;<a class="code" href="structafs__vnode.html#ae0aca32033ef20e4538a209e478f5ae2">cb_break</a> + cbi-&gt;<a class="code" href="structafs__cb__interest.html#a06023567e760440598cfef7fe68831d9">server</a>-&gt;<a class="code" href="structafs__server.html#a82ed398173671c540f2975dddcc58faa">cb_s_break</a> + vnode-&gt;<a class="code" href="structafs__vnode.html#abadd25d3e525e257f08913fe6e3ade30">volume</a>-&gt;<a class="code" href="structafs__volume.html#a5ec25052fffc3cc38ae81fb758fdacd9">cb_v_break</a>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;}</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment"> * cell.c</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a5635fb7a508c5601dcc874fdd2a8d685">afs_cell_init</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__cell.html">afs_cell</a> *<a class="code" href="afs_2internal_8h.html#a6a867efca100d8320f83fa31db998355">afs_lookup_cell_rcu</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">unsigned</span>);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__cell.html">afs_cell</a> *<a class="code" href="afs_2internal_8h.html#ab08b39c32fa3390fd631cb6483f3128c">afs_lookup_cell</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">unsigned</span>,</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__cell.html">afs_cell</a> *<a class="code" href="afs_2internal_8h.html#ae675ffc5a7f7ad9aa6a48d9c49fb3e8e">afs_get_cell</a>(<span class="keyword">struct</span> <a class="code" href="structafs__cell.html">afs_cell</a> *);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a67cbd494b55a21f431fff7f2d072a2d8">afs_put_cell</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__cell.html">afs_cell</a> *);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#aee7c7f192465803d507bd7a8459bb9e5">afs_manage_cells</a>(<span class="keyword">struct</span> work_struct *);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a3b0088c57ca2716e744068cf34120bb9">afs_cells_timer</a>(<span class="keyword">struct</span> timer_list *);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> __net_exit <a class="code" href="afs_2internal_8h.html#ac3873556b1be6d386f49d8dfc74977ad">afs_cell_purge</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment"> * cmservice.c</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="afs_2internal_8h.html#ad1fa7e06de6c6046b0904b02570e03cd">afs_cm_incoming_call</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment"> * dir.c</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>file_operations <a class="code" href="afs_2internal_8h.html#af864156d029fbebc3aa6a8e456ace2e4">afs_dir_file_operations</a>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations <a class="code" href="afs_2internal_8h.html#a2fcce8daf390e1c284f7d04dc31beb81">afs_dir_inode_operations</a>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>address_space_operations <a class="code" href="afs_2internal_8h.html#a6cbda38e0f13c8267402125ae38d4063">afs_dir_aops</a>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>dentry_operations <a class="code" href="afs_2internal_8h.html#ab1dcb8d6e953d7f80ecd7151215fe4f1">afs_fs_dentry_operations</a>;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a35b6e9ada7e0de967ed411b75e978ffc">afs_d_release</a>(<span class="keyword">struct</span> dentry *);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment"> * dir_edit.c</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a0050df2c9aa8ba706087ba28b1a20ec3">afs_edit_dir_add</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">struct</span> qstr *, <span class="keyword">struct</span> <a class="code" href="structafs__fid.html">afs_fid</a> *,</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                 <span class="keyword">enum</span> afs_edit_dir_reason);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a444208b650e75047e70e8fa2ee2b5d2a">afs_edit_dir_remove</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">struct</span> qstr *, <span class="keyword">enum</span> afs_edit_dir_reason);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment"> * dynroot.c</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>file_operations <a class="code" href="afs_2internal_8h.html#a0555e5f1a904cbd5d3a5ca99524aa939">afs_dynroot_file_operations</a>;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations <a class="code" href="afs_2internal_8h.html#a2c88102c1fad80f24109fc31633536aa">afs_dynroot_inode_operations</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>dentry_operations <a class="code" href="afs_2internal_8h.html#aee9ca28242b49a7d6f92e9a106520094">afs_dynroot_dentry_operations</a>;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="afs_2internal_8h.html#a88350058d73f1dbb95f117c46cd14193">afs_try_auto_mntpt</a>(<span class="keyword">struct</span> dentry *, <span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment"> * file.c</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>address_space_operations <a class="code" href="afs_2internal_8h.html#a784c06db75c7f27f9d477002026dd7b2">afs_fs_aops</a>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations <a class="code" href="afs_2internal_8h.html#acaddcd2e62a511315de0e3e15e0826ae">afs_file_inode_operations</a>;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>file_operations <a class="code" href="afs_2internal_8h.html#a1954fa2a726232f505959f868fa7d0a4">afs_file_operations</a>;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a47d0657b8729657161187009934b122f">afs_cache_wb_key</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__file.html">afs_file</a> *);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#afab0c53de61868ed9268b06cf830983d">afs_put_wb_key</a>(<span class="keyword">struct</span> <a class="code" href="structafs__wb__key.html">afs_wb_key</a> *);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ad251641ab8d761331cc2eafb4743d617">afs_open</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *, <span class="keyword">struct</span> file *);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a34a5bb56e552244da5d74cd73be192ef">afs_release</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *, <span class="keyword">struct</span> file *);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79">afs_fetch_data</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__read.html">afs_read</a> *);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0">afs_page_filler</a>(<span class="keywordtype">void</span> *, <span class="keyword">struct</span> page *);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a587b9db00afd95f1543b36ef304d6a5d">afs_put_read</a>(<span class="keyword">struct</span> <a class="code" href="structafs__read.html">afs_read</a> *);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment"> * flock.c</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>workqueue_struct *<a class="code" href="afs_2internal_8h.html#a9fc8d335b2a5f3762d7552cf06b63d93">afs_lock_manager</a>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a0662a614c0a5d712d406c8197d253bee">afs_lock_work</a>(<span class="keyword">struct</span> work_struct *);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a2a311a706c21b17e188075601985bfda">afs_lock_may_be_available</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958">afs_lock</a>(<span class="keyword">struct</span> file *, <span class="keywordtype">int</span>, <span class="keyword">struct</span> file_lock *);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a70b72a06652b89ad9da5d68e012e070e">afs_flock</a>(<span class="keyword">struct</span> file *, <span class="keywordtype">int</span>, <span class="keyword">struct</span> file_lock *);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment"> * fsclient.c</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00752"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a1905ebc5025512b3cbf0e732bb61ca16">  752</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_NOT_YET_SET   0x01</span></div><div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#aba157d6057bec5d3bca022c93ecdb29d">  753</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_META_CHANGED  0x02</span></div><div class="line"><a name="l00754"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#add00c32cad1c3ee63674c2b1502b711b">  754</a></span>&#160;<span class="preprocessor">#define AFS_VNODE_DATA_CHANGED  0x04</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a041bca05693fe761a3bf43e7d8dad13a">afs_update_inode_from_status</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__file__status.html">afs_file_status</a> *,</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                     <span class="keyword">const</span> <a class="code" href="afs_8h.html#aab88bfc3233e1bad3f1d01aea9473a9d">afs_dataversion_t</a> *, u8);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a5d15a8f1e3585ad13c891a9858ee7768">afs_fs_fetch_file_status</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__volsync.html">afs_volsync</a> *, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#acd12aa3890434c070d201204c7616b73">afs_fs_give_up_callbacks</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__server.html">afs_server</a> *);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a236fbeb5f98a37481f4f98f473537b00">afs_fs_fetch_data</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__read.html">afs_read</a> *);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ae58e2934d67be415164037e04206c517">afs_fs_create</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, umode_t, u64,</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;             <span class="keyword">struct</span> <a class="code" href="structafs__fid.html">afs_fid</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__file__status.html">afs_file_status</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__callback.html">afs_callback</a> *);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a1805bf949a65312306f7b4a1933c2a0a">afs_fs_remove</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">bool</span>, u64);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ac48db05d2442b8b9c13508a977f013ed">afs_fs_link</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, u64);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a15f82b400642b9915cb768773a69b0f0">afs_fs_symlink</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, u64,</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;              <span class="keyword">struct</span> <a class="code" href="structafs__fid.html">afs_fid</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__file__status.html">afs_file_status</a> *);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a50cc8fdfbae0a33d3a8d7d278af4ec42">afs_fs_rename</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *,</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;             <span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, u64, u64);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a24e6d4842ff9d8e2282369008e509278">afs_fs_store_data</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">struct</span> address_space *,</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                 pgoff_t, pgoff_t, <span class="keywordtype">unsigned</span>, <span class="keywordtype">unsigned</span>);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a0315300baec4a13163f18a797b9c5ca6">afs_fs_setattr</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">struct</span> iattr *);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a3768e51c28fd980bbad37640ef410191">afs_fs_get_volume_status</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__volume__status.html">afs_volume_status</a> *);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a2c7e9b6a4fff6417c6eff6ec1f52d46d">afs_fs_set_lock</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <a class="code" href="afs_8h.html#a38e93ddc172f1f186bd8047fe754c10e">afs_lock_type_t</a>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ae34d6f6c4728b1ff9d99af81f6a9f855">afs_fs_extend_lock</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#abf836edf417988fe5d4975d3e9f12813">afs_fs_release_lock</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a1a0e9ce89c589ce66e107b750bff5ae0">afs_fs_give_up_all_callbacks</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__server.html">afs_server</a> *,</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                    <span class="keyword">struct</span> <a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a60b1aaeba2c7cf4d11fa7620f4ed4322">afs_fs_get_capabilities</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__server.html">afs_server</a> *,</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ad32d7a6ab8e1967457659b503829203e">afs_fs_inline_bulk_status</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *,</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                     <span class="keyword">struct</span> <a class="code" href="structafs__fid.html">afs_fid</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__file__status.html">afs_file_status</a> *,</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                     <span class="keyword">struct</span> <a class="code" href="structafs__callback.html">afs_callback</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>,</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                     <span class="keyword">struct</span> <a class="code" href="structafs__volsync.html">afs_volsync</a> *);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#aeb885f57877949add1b6fa5be6f99037">afs_fs_fetch_status</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *,</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="structafs__fid.html">afs_fid</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__file__status.html">afs_file_status</a> *,</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="structafs__callback.html">afs_callback</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__volsync.html">afs_volsync</a> *);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment"> * inode.c</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a">afs_fetch_status</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a5922fbbc282b207b1fed1577794415e6">afs_iget5_test</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *, <span class="keywordtype">void</span> *);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="afs_2internal_8h.html#a9e16b9bcbaeb566333557418b76d83f0">afs_iget_pseudo_dir</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="afs_2internal_8h.html#a1ce0b0ac76e5bc5df354db41c1417bc2">afs_iget</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *,</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                  <span class="keyword">struct</span> <a class="code" href="structafs__fid.html">afs_fid</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__file__status.html">afs_file_status</a> *,</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                  <span class="keyword">struct</span> <a class="code" href="structafs__callback.html">afs_callback</a> *,</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                  <span class="keyword">struct</span> <a class="code" href="structafs__cb__interest.html">afs_cb_interest</a> *);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#aea0f061e2f7bf1a6a62804f3459dfea8">afs_zap_data</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a13fe29b5fe144a615ccee62dcfed63a9">afs_validate</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a9769f170b1c7cf1ebdc1892d1fd85a0b">afs_getattr</a>(<span class="keyword">const</span> <span class="keyword">struct</span> path *, <span class="keyword">struct</span> kstat *, u32, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50">afs_setattr</a>(<span class="keyword">struct</span> dentry *, <span class="keyword">struct</span> iattr *);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ae77fbf28e8aba94ddf1bc5ab7d55eb63">afs_evict_inode</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#abdab703a1b353bf1ba85cb0dce16f0d7">afs_drop_inode</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment"> * main.c</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>workqueue_struct *<a class="code" href="afs_2internal_8h.html#a72b30a324253b3139fda57ac71550c27">afs_wq</a>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ae2ec4df4291711ca4ed143da8956ab18">  810</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a> *<a class="code" href="afs_2internal_8h.html#ae2ec4df4291711ca4ed143da8956ab18">afs_d2net</a>(<span class="keyword">struct</span> dentry *dentry)</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;{</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="afs_2internal_8h.html#a81db2b5b1071b2a8a80251edd4290a91">__afs_net</a>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;}</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a9ed207f1629e713531a20dc674198545">  815</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a> *<a class="code" href="afs_2internal_8h.html#a9ed207f1629e713531a20dc674198545">afs_i2net</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>)</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;{</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="afs_2internal_8h.html#a81db2b5b1071b2a8a80251edd4290a91">__afs_net</a>;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9">  820</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a> *<a class="code" href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9">afs_v2net</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *vnode)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;{</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="afs_2internal_8h.html#a81db2b5b1071b2a8a80251edd4290a91">__afs_net</a>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a3ad5d6556a5a27d37a7f2445f69bee7c">  825</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a> *<a class="code" href="afs_2internal_8h.html#a3ad5d6556a5a27d37a7f2445f69bee7c">afs_sock2net</a>(<span class="keyword">struct</span> sock *sk)</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;{</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="afs_2internal_8h.html#a81db2b5b1071b2a8a80251edd4290a91">__afs_net</a>;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;}</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a9078e8bc21cbdf4c7025c351a53e1b81">  830</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__net.html">afs_net</a> *<a class="code" href="afs_2internal_8h.html#a9078e8bc21cbdf4c7025c351a53e1b81">afs_get_net</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *<a class="code" href="structafs__mount__params.html#abe777072edeb5768400dcea657ee380c">net</a>)</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;{</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structafs__mount__params.html#abe777072edeb5768400dcea657ee380c">net</a>;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;}</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a42c4501a9ee8e1434730955f0f19f76d">  835</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a42c4501a9ee8e1434730955f0f19f76d">afs_put_net</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *<a class="code" href="structafs__mount__params.html#abe777072edeb5768400dcea657ee380c">net</a>)</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;{</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;}</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a7c3a3cec44db2c8b4b9ba949fe5762af">  839</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a7c3a3cec44db2c8b4b9ba949fe5762af">__afs_stat</a>(atomic_t *s)</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;{</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    atomic_inc(s);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;}</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a93d71a4d8c1133f1a007373b356406bb">  844</a></span>&#160;<span class="preprocessor">#define afs_stat_v(vnode, n) __afs_stat(&amp;afs_v2net(vnode)-&gt;n)</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment"> * misc.c</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d">afs_abort_to_error</a>(u32);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment"> * mntpt.c</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations <a class="code" href="afs_2internal_8h.html#a6d2d95dd9beb5050bac90de314de9bff">afs_mntpt_inode_operations</a>;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations <a class="code" href="afs_2internal_8h.html#a7cf0be4477e3e8ef27df365dd1d7bf82">afs_autocell_inode_operations</a>;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>file_operations <a class="code" href="afs_2internal_8h.html#aa59e406dfb30c0f7898d469affbda160">afs_mntpt_file_operations</a>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>vfsmount *<a class="code" href="afs_2internal_8h.html#aaac092b05d8eff4b59f37a228767af05">afs_d_automount</a>(<span class="keyword">struct</span> path *);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ab59afd7aca3ad37e16fa77a7269166bc">afs_mntpt_kill_timer</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment"> * netdevices.c</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ab8af4190ecea7b096b01f9249b68229f">afs_get_ipv4_interfaces</a>(<span class="keyword">struct</span> <a class="code" href="structafs__interface.html">afs_interface</a> *, <span class="keywordtype">size_t</span>, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment"> * proc.c</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> __net_init <a class="code" href="afs_2internal_8h.html#a81d51f20402483135d26909d85d15e2d">afs_proc_init</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> __net_exit <a class="code" href="afs_2internal_8h.html#a0af183ad8c9ad8ae04a053f7b739128d">afs_proc_cleanup</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#acf7938d3628f5124fd2c81ab2fa30c0a">afs_proc_cell_setup</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__cell.html">afs_cell</a> *);</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#af4a96f397e3df26191311448d291fd0e">afs_proc_cell_remove</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__cell.html">afs_cell</a> *);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a05322bfaac406bc8d74ac1e82971429a">afs_put_sysnames</a>(<span class="keyword">struct</span> <a class="code" href="structafs__sysnames.html">afs_sysnames</a> *);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment"> * rotate.c</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643">afs_begin_vnode_operation</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *,</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                      <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="afs_2internal_8h.html#a105fdee4b920ba59a26550abc7bfc419">afs_select_fileserver</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="afs_2internal_8h.html#a38be7e1a8eaac71104e2f93763156258">afs_select_current_fileserver</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d">afs_end_vnode_operation</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment"> * rxrpc.c</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>workqueue_struct *<a class="code" href="afs_2internal_8h.html#ab23a073d765a865d84432f1b1441b052">afs_async_calls</a>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> __net_init <a class="code" href="afs_2internal_8h.html#af557656943ba72da35e9f9232633c200">afs_open_socket</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> __net_exit <a class="code" href="afs_2internal_8h.html#a758135b2eeb68fbe579d4a4e2ffa1c42">afs_close_socket</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#aab6f466b2372adbbece954b8d393972e">afs_charge_preallocation</a>(<span class="keyword">struct</span> work_struct *);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ae8872c83870114aac74166f3301c4cad">afs_put_call</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a04645dce87f2ca86da32b2856afe70f5">afs_queue_call_work</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">long</span> <a class="code" href="afs_2internal_8h.html#ad797c9747d3a4467e02f386f3f969e02">afs_make_call</a>(<span class="keyword">struct</span> <a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *, gfp_t, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__call.html">afs_call</a> *<a class="code" href="afs_2internal_8h.html#aeb1fe9d974fa2aec125189049dad59d6">afs_alloc_flat_call</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *,</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structafs__call__type.html">afs_call_type</a> *,</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                        <span class="keywordtype">size_t</span>, <span class="keywordtype">size_t</span>);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a56aa1c7678288393bed6b22d161afe01">afs_flat_call_destructor</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ad88a6cb5871b25e644c8b96682780fc0">afs_send_empty_reply</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a2dc4f3d009ac50bea1c7171049313cb1">afs_send_simple_reply</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *, <span class="keyword">const</span> <span class="keywordtype">void</span> *, <span class="keywordtype">size_t</span>);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a2b90db46b0e6af81dcd88f07bf22e224">afs_extract_data</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *, <span class="keywordtype">void</span> *, <span class="keywordtype">size_t</span>, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a9f11733b71112d1a5eae719097a57978">afs_protocol_error</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86">  904</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86">afs_transfer_reply</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *call)</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;{</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="afs_2internal_8h.html#a2b90db46b0e6af81dcd88f07bf22e224">afs_extract_data</a>(call, call-&gt;<a class="code" href="structafs__call.html#a2d4496c4c3adae77cf68431615e65d62">buffer</a>, call-&gt;<a class="code" href="structafs__call.html#a5f82cdbc23d97f11e116e5b300b7d3b6">reply_max</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#af449be59e75c104b0cfa7afb2802a4d7">  909</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="afs_2internal_8h.html#af449be59e75c104b0cfa7afb2802a4d7">afs_check_call_state</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *call,</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                    <span class="keyword">enum</span> <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9">afs_call_state</a> <a class="code" href="structafs__call.html#a1268f0c11021b062bd9dbfd7274b1f35">state</a>)</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;{</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">return</span> READ_ONCE(call-&gt;<a class="code" href="structafs__call.html#a1268f0c11021b062bd9dbfd7274b1f35">state</a>) == <a class="code" href="structafs__call.html#a1268f0c11021b062bd9dbfd7274b1f35">state</a>;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4b8af249f6ab8fd36a632c17b3392169">  915</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="afs_2internal_8h.html#a4b8af249f6ab8fd36a632c17b3392169">afs_set_call_state</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *call,</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                      <span class="keyword">enum</span> <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9">afs_call_state</a> from,</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                      <span class="keyword">enum</span> <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9">afs_call_state</a> to)</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;{</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordtype">bool</span> ok = <span class="keyword">false</span>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    spin_lock_bh(&amp;call-&gt;<a class="code" href="structafs__call.html#a3dfde6704a3381b96061cf596d43f2ad">state_lock</a>);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">if</span> (call-&gt;<a class="code" href="structafs__call.html#a1268f0c11021b062bd9dbfd7274b1f35">state</a> == from) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        call-&gt;<a class="code" href="structafs__call.html#a1268f0c11021b062bd9dbfd7274b1f35">state</a> = to;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        trace_afs_call_state(call, from, to, 0, 0);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        ok = <span class="keyword">true</span>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    spin_unlock_bh(&amp;call-&gt;<a class="code" href="structafs__call.html#a3dfde6704a3381b96061cf596d43f2ad">state_lock</a>);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;}</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909">  931</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909">afs_set_call_complete</a>(<span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *call,</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                     <span class="keywordtype">int</span> <a class="code" href="structafs__call.html#a2c03f9ac6df3d0919fba93113b804238">error</a>, u32 remote_abort)</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;{</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keyword">enum</span> <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9">afs_call_state</a> <a class="code" href="structafs__call.html#a1268f0c11021b062bd9dbfd7274b1f35">state</a>;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordtype">bool</span> ok = <span class="keyword">false</span>;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    spin_lock_bh(&amp;call-&gt;<a class="code" href="structafs__call.html#a3dfde6704a3381b96061cf596d43f2ad">state_lock</a>);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    state = call-&gt;<a class="code" href="structafs__call.html#a1268f0c11021b062bd9dbfd7274b1f35">state</a>;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">if</span> (state != <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9ac17885507e5b031100aaa47fe4b90644">AFS_CALL_COMPLETE</a>) {</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        call-&gt;<a class="code" href="structafs__call.html#a6e6f6086326dc4931ba75ddbab274a78">abort_code</a> = remote_abort;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        call-&gt;<a class="code" href="structafs__call.html#a2c03f9ac6df3d0919fba93113b804238">error</a> = <a class="code" href="structafs__call.html#a2c03f9ac6df3d0919fba93113b804238">error</a>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        call-&gt;<a class="code" href="structafs__call.html#a1268f0c11021b062bd9dbfd7274b1f35">state</a> = <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9ac17885507e5b031100aaa47fe4b90644">AFS_CALL_COMPLETE</a>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        trace_afs_call_state(call, state, <a class="code" href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9ac17885507e5b031100aaa47fe4b90644">AFS_CALL_COMPLETE</a>,</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                     error, remote_abort);</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        ok = <span class="keyword">true</span>;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    spin_unlock_bh(&amp;call-&gt;<a class="code" href="structafs__call.html#a3dfde6704a3381b96061cf596d43f2ad">state_lock</a>);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">if</span> (ok)</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        trace_afs_call_done(call);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment"> * security.c</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ab4496a1659cdf23a52655d7125b1802b">afs_put_permits</a>(<span class="keyword">struct</span> <a class="code" href="structafs__permits.html">afs_permits</a> *);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#af1ee7732bdf3bb47391a9c2db2d75def">afs_clear_permits</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a90b8777c7b642a1704c74033cda95572">afs_cache_permit</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a8e1e3f569c568b4a3785e5c3c071f7e3">afs_zap_permits</a>(<span class="keyword">struct</span> rcu_head *);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *<a class="code" href="afs_2internal_8h.html#ae9367f096a55629dcd2da3575ab0da5d">afs_request_key</a>(<span class="keyword">struct</span> <a class="code" href="structafs__cell.html">afs_cell</a> *);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a1d5bdae54d23475ed9e1873127414d12">afs_check_permit</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *, <a class="code" href="afs_8h.html#a975ee1160d2a1bb3c3d05ea22e14d92c">afs_access_t</a> *);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#abbf01fda3c7f582e99654448cd122112">afs_permission</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> __exit <a class="code" href="afs_2internal_8h.html#ac155d76dcc75bb2ee09716da029dafd5">afs_clean_up_permit_cache</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment"> * server.c</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="keyword">extern</span> spinlock_t <a class="code" href="afs_2internal_8h.html#ac9752afae5f783a2ee0c28a0db03f627">afs_server_peer_lock</a>;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a6adf9289842e0cdd6de872328e4a0c75">  969</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__server.html">afs_server</a> *<a class="code" href="afs_2internal_8h.html#a6adf9289842e0cdd6de872328e4a0c75">afs_get_server</a>(<span class="keyword">struct</span> <a class="code" href="structafs__server.html">afs_server</a> *server)</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;{</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    atomic_inc(&amp;server-&gt;<a class="code" href="structafs__server.html#a86fd08cf4c31a2c1976c4702b16e6e85">usage</a>);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">return</span> server;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;}</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__server.html">afs_server</a> *<a class="code" href="afs_2internal_8h.html#afdda08920e7ab4169995ff02559a9c9d">afs_find_server</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *,</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                      <span class="keyword">const</span> <span class="keyword">struct</span> sockaddr_rxrpc *);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__server.html">afs_server</a> *<a class="code" href="afs_2internal_8h.html#ad677973400c7c916c94b0a310dd4bcec">afs_find_server_by_uuid</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">const</span> uuid_t *);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__server.html">afs_server</a> *<a class="code" href="afs_2internal_8h.html#aa0f0a46d146dd40392a6f2d6a438d8e9">afs_lookup_server</a>(<span class="keyword">struct</span> <a class="code" href="structafs__cell.html">afs_cell</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *, <span class="keyword">const</span> uuid_t *);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ac302952d9136c1a378f99892a114ef0d">afs_put_server</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__server.html">afs_server</a> *);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ac6cbe2772bea1c5fa50ad6a7852721b5">afs_manage_servers</a>(<span class="keyword">struct</span> work_struct *);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ad008c7ef77f219f317884729d4905a41">afs_servers_timer</a>(<span class="keyword">struct</span> timer_list *);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> __net_exit <a class="code" href="afs_2internal_8h.html#ad39c11403d9001047670cc174a003a69">afs_purge_servers</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="afs_2internal_8h.html#ad0da2b1acac130ae38fcbf223520a184">afs_probe_fileserver</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="afs_2internal_8h.html#a71c538c2f32b68d3516c4a1125e59799">afs_check_server_record</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__server.html">afs_server</a> *);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="comment"> * server_list.c</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a">  989</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__server__list.html">afs_server_list</a> *<a class="code" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a">afs_get_serverlist</a>(<span class="keyword">struct</span> <a class="code" href="structafs__server__list.html">afs_server_list</a> *slist)</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;{</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    refcount_inc(&amp;slist-&gt;<a class="code" href="structafs__server__list.html#a5741d11385e9f465d2e89ba12d0e7381">usage</a>);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">return</span> slist;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#aaac25a890c99d6fcb4cb429e93727ddc">afs_put_serverlist</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__server__list.html">afs_server_list</a> *);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__server__list.html">afs_server_list</a> *<a class="code" href="afs_2internal_8h.html#a66675f42a890bd85ac6a33a8542cc050">afs_alloc_server_list</a>(<span class="keyword">struct</span> <a class="code" href="structafs__cell.html">afs_cell</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *,</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                             <span class="keyword">struct</span> <a class="code" href="structafs__vldb__entry.html">afs_vldb_entry</a> *,</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                             u8);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="afs_2internal_8h.html#a75c254a28f0518b627a3336b57de87c4">afs_annotate_server_list</a>(<span class="keyword">struct</span> <a class="code" href="structafs__server__list.html">afs_server_list</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__server__list.html">afs_server_list</a> *);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment"> * super.c</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> __init <a class="code" href="afs_2internal_8h.html#ad051f62d36e5d198179569ebe8140810">afs_fs_init</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> __exit <a class="code" href="afs_2internal_8h.html#ae188c6756637314a94890655d840014c">afs_fs_exit</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment"> * vlclient.c</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__vldb__entry.html">afs_vldb_entry</a> *<a class="code" href="afs_2internal_8h.html#a3fab4a96dd3d7ee5af672ce4ea7451b5">afs_vl_get_entry_by_name_u</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *,</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                             <span class="keyword">struct</span> <a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> *,</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                             <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__addr__list.html">afs_addr_list</a> *<a class="code" href="afs_2internal_8h.html#a4745ca5041a0fdf0a9c0e71ff4461826">afs_vl_get_addrs_u</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> *,</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *, <span class="keyword">const</span> uuid_t *);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a6620d98750cc9d45ac7bf9a1fb037133">afs_vl_get_capabilities</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__addr__list.html">afs_addr_list</a> *<a class="code" href="afs_2internal_8h.html#aed0326faa72e46ee0f28a068f878f6b5">afs_yfsvl_get_endpoints</a>(<span class="keyword">struct</span> <a class="code" href="structafs__net.html">afs_net</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__addr__cursor.html">afs_addr_cursor</a> *,</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                             <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *, <span class="keyword">const</span> uuid_t *);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment"> * volume.c</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01022"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#aa17ecdfdc40e832aab227209a9f0119a"> 1022</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__volume.html">afs_volume</a> *<a class="code" href="afs_2internal_8h.html#aa17ecdfdc40e832aab227209a9f0119a">__afs_get_volume</a>(<span class="keyword">struct</span> <a class="code" href="structafs__volume.html">afs_volume</a> *<a class="code" href="structafs__mount__params.html#ac10329695e26683d9a7325ad19588677">volume</a>)</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;{</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">if</span> (volume)</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        atomic_inc(&amp;volume-&gt;<a class="code" href="structafs__volume.html#ad503e0e7147ae2d7312770e7756f2a07">usage</a>);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structafs__mount__params.html#ac10329695e26683d9a7325ad19588677">volume</a>;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;}</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structafs__volume.html">afs_volume</a> *<a class="code" href="afs_2internal_8h.html#ae4a771b86216059d0128fd1e7cf7a8c3">afs_create_volume</a>(<span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html">afs_mount_params</a> *);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a4fd74bab52b3e5afe359570b2e539fc8">afs_activate_volume</a>(<span class="keyword">struct</span> <a class="code" href="structafs__volume.html">afs_volume</a> *);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ae1db7876b1e51e9a7b61fa2939bf299d">afs_deactivate_volume</a>(<span class="keyword">struct</span> <a class="code" href="structafs__volume.html">afs_volume</a> *);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a4e8be982019024711447ee525b1896ea">afs_put_volume</a>(<span class="keyword">struct</span> <a class="code" href="structafs__cell.html">afs_cell</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__volume.html">afs_volume</a> *);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a7903104f5ae92cb09d002470375e0f44">afs_check_volume_status</a>(<span class="keyword">struct</span> <a class="code" href="structafs__volume.html">afs_volume</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">key</a> *);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment"> * write.c</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#ad59d5284d1eee12db65dba1c046dedc6">afs_set_page_dirty</a>(<span class="keyword">struct</span> page *);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a1fd5e2579124c1017f1f67611d902cb8">afs_write_begin</a>(<span class="keyword">struct</span> file *file, <span class="keyword">struct</span> address_space *mapping,</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            loff_t pos, <span class="keywordtype">unsigned</span> <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">unsigned</span> <a class="code" href="structflags.html">flags</a>,</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            <span class="keyword">struct</span> page **pagep, <span class="keywordtype">void</span> **fsdata);</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a48864a94b4c9ffada2edff8198d85811">afs_write_end</a>(<span class="keyword">struct</span> file *file, <span class="keyword">struct</span> address_space *mapping,</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            loff_t pos, <span class="keywordtype">unsigned</span> <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">unsigned</span> copied,</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <span class="keyword">struct</span> page *page, <span class="keywordtype">void</span> *fsdata);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#aa651de265b34059bc7e8ac71a901adba">afs_writepage</a>(<span class="keyword">struct</span> page *, <span class="keyword">struct</span> writeback_control *);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a9395dd3f6c5b51ad8c10a7e1515d165e">afs_writepages</a>(<span class="keyword">struct</span> address_space *, <span class="keyword">struct</span> writeback_control *);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#ac4faff52cdeb4be2e945f2de4519d0e1">afs_pages_written_back</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *, <span class="keyword">struct</span> <a class="code" href="structafs__call.html">afs_call</a> *);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="keyword">extern</span> ssize_t <a class="code" href="afs_2internal_8h.html#ae6f103fb7ac4c0f0a3f45ea86314f7e1">afs_file_write</a>(<span class="keyword">struct</span> kiocb *, <span class="keyword">struct</span> iov_iter *);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a5c8a0e46cca2c9610f46ae4eb7ab6f6e">afs_fsync</a>(<span class="keyword">struct</span> file *, loff_t, loff_t, <span class="keywordtype">int</span>);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a287ae101dfd1f065f500dc6acc6b13b8">afs_page_mkwrite</a>(<span class="keyword">struct</span> vm_fault *);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#aecebd1d4371408361caef0ecd8d3d402">afs_prune_wb_keys</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="afs_2internal_8h.html#a633b7923c4b70fc8b7ee010f9fffb544">afs_launder_page</a>(<span class="keyword">struct</span> page *);</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment"> * xattr.c</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>xattr_handler *<a class="code" href="afs_2internal_8h.html#a731f8547eebd08458c3921fdd50e35ee">afs_xattr_handlers</a>[];</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="keyword">extern</span> ssize_t <a class="code" href="afs_2internal_8h.html#abe07e59a4887ada063022985cf284387">afs_listxattr</a>(<span class="keyword">struct</span> dentry *, <span class="keywordtype">char</span> *, <span class="keywordtype">size_t</span>);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment"> * Miscellaneous inline functions.</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01064"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a4319ab62063070e450460f28d1b250f3"> 1064</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structafs__vnode.html">afs_vnode</a> *<a class="code" href="afs_2internal_8h.html#a4319ab62063070e450460f28d1b250f3">AFS_FS_I</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>)</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;{</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">return</span> container_of(inode, <span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a>, <a class="code" href="structafs__vnode.html#a8b38163a20b967a96a1d89f9050478c0">vfs_inode</a>);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;}</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a801a8077a5c28e59d76febe1b130a54e"> 1069</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="afs_2internal_8h.html#a801a8077a5c28e59d76febe1b130a54e">AFS_VNODE_TO_I</a>(<span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *vnode)</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;{</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">return</span> &amp;vnode-&gt;<a class="code" href="structafs__vnode.html#a8b38163a20b967a96a1d89f9050478c0">vfs_inode</a>;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;}</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div><div class="line"><a name="l01074"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf"> 1074</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf">afs_vnode_commit_status</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *fc,</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                       <span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *vnode,</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cb_break)</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;{</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">if</span> (fc-&gt;<a class="code" href="structafs__fs__cursor.html#a195827c530babafb2ebbf191b3ef7e00">ac</a>.<a class="code" href="structafs__addr__cursor.html#a813493af528683a3807f43020d084fe0">error</a> == 0)</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <a class="code" href="afs_2internal_8h.html#a90b8777c7b642a1704c74033cda95572">afs_cache_permit</a>(vnode, fc-&gt;<a class="code" href="structafs__fs__cursor.html#a731ea535f17729b8479f1dde9f67e337">key</a>, cb_break);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;}</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04"> 1082</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04">afs_check_for_remote_deletion</a>(<span class="keyword">struct</span> <a class="code" href="structafs__fs__cursor.html">afs_fs_cursor</a> *fc,</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                         <span class="keyword">struct</span> <a class="code" href="structafs__vnode.html">afs_vnode</a> *vnode)</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;{</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (fc-&gt;<a class="code" href="structafs__fs__cursor.html#a195827c530babafb2ebbf191b3ef7e00">ac</a>.<a class="code" href="structafs__addr__cursor.html#a813493af528683a3807f43020d084fe0">error</a> == -ENOENT) {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        set_bit(<a class="code" href="afs_2internal_8h.html#a5c353326206587a68eed919d55343dd5">AFS_VNODE_DELETED</a>, &amp;vnode-&gt;<a class="code" href="structafs__vnode.html#af674bbc5d2043539fcdbb41e4cd132b9">flags</a>);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <a class="code" href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827">afs_break_callback</a>(vnode);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;}</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">/*****************************************************************************/</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment"> * debug tracing</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <a class="code" href="afs_2internal_8h.html#a43ef315c4e2dbe87288f4e9a7f7e93dd">afs_debug</a>;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ad392638b9e2a27895d0a362ca7744fda"> 1098</a></span>&#160;<span class="preprocessor">#define dbgprintk(FMT,...) \</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="preprocessor">    printk(&quot;[%-6.6s] &quot;FMT&quot;\n&quot;, current-&gt;comm ,##__VA_ARGS__)</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div><div class="line"><a name="l01101"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a70d9776e0d53d3259872eb7de79e2e41"> 1101</a></span>&#160;<span class="preprocessor">#define kenter(FMT,...) dbgprintk(&quot;==&gt; %s(&quot;FMT&quot;)&quot;,__func__ ,##__VA_ARGS__)</span></div><div class="line"><a name="l01102"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a9beeaf028917167b0aa79e51e9faaeba"> 1102</a></span>&#160;<span class="preprocessor">#define kleave(FMT,...) dbgprintk(&quot;&lt;== %s()&quot;FMT&quot;&quot;,__func__ ,##__VA_ARGS__)</span></div><div class="line"><a name="l01103"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a571a1949a30d9b64d4684bf44b077903"> 1103</a></span>&#160;<span class="preprocessor">#define kdebug(FMT,...) dbgprintk(&quot;    &quot;FMT ,##__VA_ARGS__)</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="preprocessor">#if defined(__KDEBUG)</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="preprocessor">#define _enter(FMT,...) kenter(FMT,##__VA_ARGS__)</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="preprocessor">#define _leave(FMT,...) kleave(FMT,##__VA_ARGS__)</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="preprocessor">#define _debug(FMT,...) kdebug(FMT,##__VA_ARGS__)</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="preprocessor">#elif defined(CONFIG_AFS_DEBUG)</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="preprocessor">#define AFS_DEBUG_KENTER    0x01</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="preprocessor">#define AFS_DEBUG_KLEAVE    0x02</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="preprocessor">#define AFS_DEBUG_KDEBUG    0x04</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="preprocessor">#define _enter(FMT,...)                 \</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="preprocessor">do {                            \</span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="preprocessor">    if (unlikely(afs_debug &amp; AFS_DEBUG_KENTER)) \</span></div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="preprocessor">        kenter(FMT,##__VA_ARGS__);      \</span></div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="preprocessor">} while (0)</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="preprocessor">#define _leave(FMT,...)                 \</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="preprocessor">do {                            \</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="preprocessor">    if (unlikely(afs_debug &amp; AFS_DEBUG_KLEAVE)) \</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="preprocessor">        kleave(FMT,##__VA_ARGS__);      \</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="preprocessor">} while (0)</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="preprocessor">#define _debug(FMT,...)                 \</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="preprocessor">do {                            \</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="preprocessor">    if (unlikely(afs_debug &amp; AFS_DEBUG_KDEBUG)) \</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="preprocessor">        kdebug(FMT,##__VA_ARGS__);      \</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="preprocessor">} while (0)</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01135"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a922399752b87f5e3eaaf020fcb924cda"> 1135</a></span>&#160;<span class="preprocessor">#define _enter(FMT,...) no_printk(&quot;==&gt; %s(&quot;FMT&quot;)&quot;,__func__ ,##__VA_ARGS__)</span></div><div class="line"><a name="l01136"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#aa1875f823a8f4b7dcca0d472854bccae"> 1136</a></span>&#160;<span class="preprocessor">#define _leave(FMT,...) no_printk(&quot;&lt;== %s()&quot;FMT&quot;&quot;,__func__ ,##__VA_ARGS__)</span></div><div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ae51392f73e9c164547c624ef5b9767f2"> 1137</a></span>&#160;<span class="preprocessor">#define _debug(FMT,...) no_printk(&quot;    &quot;FMT ,##__VA_ARGS__)</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="comment"> * debug assertion checking</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="preprocessor">#if 1 // defined(__KDEBUGALL)</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ad014a2a071494bbabc34b48eeebadbf3"> 1145</a></span>&#160;<span class="preprocessor">#define ASSERT(X)                       \</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="preprocessor">do {                                \</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="preprocessor">    if (unlikely(!(X))) {                   \</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;\n&quot;);              \</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;AFS: Assertion failed\n&quot;); \</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="preprocessor">        BUG();                      \</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="preprocessor">    }                           \</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="preprocessor">} while(0)</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01154"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a106c18335d526708d0d0cd42c2a00471"> 1154</a></span>&#160;<span class="preprocessor">#define ASSERTCMP(X, OP, Y)                     \</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="preprocessor">do {                                    \</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="preprocessor">    if (unlikely(!((X) OP (Y)))) {                  \</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;\n&quot;);                  \</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;AFS: Assertion failed\n&quot;);     \</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;%lu &quot; #OP &quot; %lu is false\n&quot;,       \</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="preprocessor">               (unsigned long)(X), (unsigned long)(Y));     \</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;0x%lx &quot; #OP &quot; 0x%lx is false\n&quot;,   \</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="preprocessor">               (unsigned long)(X), (unsigned long)(Y));     \</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="preprocessor">        BUG();                          \</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="preprocessor">    }                               \</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="preprocessor">} while(0)</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a01fa56d1f81f247af432eadf045f0f30"> 1167</a></span>&#160;<span class="preprocessor">#define ASSERTRANGE(L, OP1, N, OP2, H)                  \</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="preprocessor">do {                                    \</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="preprocessor">    if (unlikely(!((L) OP1 (N)) || !((N) OP2 (H)))) {       \</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;\n&quot;);                  \</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;AFS: Assertion failed\n&quot;);     \</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;%lu &quot;#OP1&quot; %lu &quot;#OP2&quot; %lu is false\n&quot;, \</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="preprocessor">               (unsigned long)(L), (unsigned long)(N),      \</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="preprocessor">               (unsigned long)(H));             \</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;0x%lx &quot;#OP1&quot; 0x%lx &quot;#OP2&quot; 0x%lx is false\n&quot;, \</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="preprocessor">               (unsigned long)(L), (unsigned long)(N),      \</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="preprocessor">               (unsigned long)(H));             \</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="preprocessor">        BUG();                          \</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="preprocessor">    }                               \</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="preprocessor">} while(0)</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;</div><div class="line"><a name="l01182"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#ab30e15040afbfc2d0d16082ec3d6a49d"> 1182</a></span>&#160;<span class="preprocessor">#define ASSERTIF(C, X)                      \</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="preprocessor">do {                                \</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="preprocessor">    if (unlikely((C) &amp;&amp; !(X))) {                \</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;\n&quot;);              \</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;AFS: Assertion failed\n&quot;); \</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="preprocessor">        BUG();                      \</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="preprocessor">    }                           \</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="preprocessor">} while(0)</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"><a class="line" href="afs_2internal_8h.html#a71d1c19456ca037c8149e0ebb21193e2"> 1191</a></span>&#160;<span class="preprocessor">#define ASSERTIFCMP(C, X, OP, Y)                    \</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="preprocessor">do {                                    \</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="preprocessor">    if (unlikely((C) &amp;&amp; !((X) OP (Y)))) {               \</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;\n&quot;);                  \</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;AFS: Assertion failed\n&quot;);     \</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;%lu &quot; #OP &quot; %lu is false\n&quot;,       \</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="preprocessor">               (unsigned long)(X), (unsigned long)(Y));     \</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="preprocessor">        printk(KERN_ERR &quot;0x%lx &quot; #OP &quot; 0x%lx is false\n&quot;,   \</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="preprocessor">               (unsigned long)(X), (unsigned long)(Y));     \</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="preprocessor">        BUG();                          \</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="preprocessor">    }                               \</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="preprocessor">} while(0)</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="preprocessor">#define ASSERT(X)               \</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="preprocessor">do {                        \</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="preprocessor">} while(0)</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="preprocessor">#define ASSERTCMP(X, OP, Y)         \</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="preprocessor">do {                        \</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="preprocessor">} while(0)</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="preprocessor">#define ASSERTRANGE(L, OP1, N, OP2, H)      \</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="preprocessor">do {                        \</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="preprocessor">} while(0)</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="preprocessor">#define ASSERTIF(C, X)              \</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="preprocessor">do {                        \</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="preprocessor">} while(0)</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="preprocessor">#define ASSERTIFCMP(C, X, OP, Y)        \</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="preprocessor">do {                        \</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="preprocessor">} while(0)</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* __KDEBUGALL */</span><span class="preprocessor"></span></div><div class="ttc" id="afs_2internal_8h_html_a4b8af249f6ab8fd36a632c17b3392169"><div class="ttname"><a href="afs_2internal_8h.html#a4b8af249f6ab8fd36a632c17b3392169">afs_set_call_state</a></div><div class="ttdeci">static bool afs_set_call_state(struct afs_call *call, enum afs_call_state from, enum afs_call_state to)</div><div class="ttdef"><b>Definition:</b> internal.h:915</div></div>
<div class="ttc" id="afs_2internal_8h_html_ac302952d9136c1a378f99892a114ef0d"><div class="ttname"><a href="afs_2internal_8h.html#ac302952d9136c1a378f99892a114ef0d">afs_put_server</a></div><div class="ttdeci">void afs_put_server(struct afs_net *, struct afs_server *)</div><div class="ttdef"><b>Definition:</b> server.c:350</div></div>
<div class="ttc" id="structafs__read_html_a25a9f1786f80de9ee5614c9a0c0b1e5d"><div class="ttname"><a href="structafs__read.html#a25a9f1786f80de9ee5614c9a0c0b1e5d">afs_read::usage</a></div><div class="ttdeci">refcount_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:179</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae675ffc5a7f7ad9aa6a48d9c49fb3e8e"><div class="ttname"><a href="afs_2internal_8h.html#ae675ffc5a7f7ad9aa6a48d9c49fb3e8e">afs_get_cell</a></div><div class="ttdeci">struct afs_cell * afs_get_cell(struct afs_cell *)</div><div class="ttdef"><b>Definition:</b> cell.c:452</div></div>
<div class="ttc" id="structafs__vldb__entry_html_ad9a5dac8896addebeaae5e6de480c90d"><div class="ttname"><a href="structafs__vldb__entry.html#ad9a5dac8896addebeaae5e6de480c90d">afs_vldb_entry::error</a></div><div class="ttdeci">short error</div><div class="ttdef"><b>Definition:</b> internal.h:366</div></div>
<div class="ttc" id="structafs__permits_html_ab82e8168380789f4b710bc908da26950"><div class="ttname"><a href="structafs__permits.html#ab82e8168380789f4b710bc908da26950">afs_permits::nr_permits</a></div><div class="ttdeci">unsigned short nr_permits</div><div class="ttdef"><b>Definition:</b> internal.h:553</div></div>
<div class="ttc" id="afs_8h_html_ac4d43b1715e16e501c33504e24c4616c"><div class="ttname"><a href="afs_8h.html#ac4d43b1715e16e501c33504e24c4616c">afs_callback_type_t</a></div><div class="ttdeci">afs_callback_type_t</div><div class="ttdef"><b>Definition:</b> afs.h:62</div></div>
<div class="ttc" id="afs_2internal_8h_html_a67cbd494b55a21f431fff7f2d072a2d8"><div class="ttname"><a href="afs_2internal_8h.html#a67cbd494b55a21f431fff7f2d072a2d8">afs_put_cell</a></div><div class="ttdeci">void afs_put_cell(struct afs_net *, struct afs_cell *)</div><div class="ttdef"><b>Definition:</b> cell.c:461</div></div>
<div class="ttc" id="structafs__net_html_a175f730b87ab26e0c805fb8516e4b948"><div class="ttname"><a href="structafs__net.html#a175f730b87ab26e0c805fb8516e4b948">afs_net::fs_lock</a></div><div class="ttdeci">seqlock_t fs_lock</div><div class="ttdef"><b>Definition:</b> internal.h:247</div></div>
<div class="ttc" id="structafs__vldb__entry_html_a79382f8ac03ffa10215d34f568c2f2ce"><div class="ttname"><a href="structafs__vldb__entry.html#a79382f8ac03ffa10215d34f568c2f2ce">afs_vldb_entry::name_len</a></div><div class="ttdeci">u8 name_len</div><div class="ttdef"><b>Definition:</b> internal.h:368</div></div>
<div class="ttc" id="afs_2internal_8h_html_acd12aa3890434c070d201204c7616b73"><div class="ttname"><a href="afs_2internal_8h.html#acd12aa3890434c070d201204c7616b73">afs_fs_give_up_callbacks</a></div><div class="ttdeci">int afs_fs_give_up_callbacks(struct afs_net *, struct afs_server *)</div></div>
<div class="ttc" id="structafs__addr__cursor_html_a813493af528683a3807f43020d084fe0"><div class="ttname"><a href="structafs__addr__cursor.html#a813493af528683a3807f43020d084fe0">afs_addr_cursor::error</a></div><div class="ttdeci">short error</div><div class="ttdef"><b>Definition:</b> internal.h:576</div></div>
<div class="ttc" id="structafs__read_html_ac3ef0fe7a484270f43c53d0b206ae460"><div class="ttname"><a href="structafs__read.html#ac3ef0fe7a484270f43c53d0b206ae460">afs_read::len</a></div><div class="ttdeci">loff_t len</div><div class="ttdef"><b>Definition:</b> internal.h:174</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3bf4c96cedd496b1daca5041d99cc003a990c0383d3a3d12f5703e5ec3afa7f62"><div class="ttname"><a href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a990c0383d3a3d12f5703e5ec3afa7f62">AFS_CELL_ACTIVATING</a></div><div class="ttdef"><b>Definition:</b> internal.h:287</div></div>
<div class="ttc" id="afs_2internal_8h_html_aed0326faa72e46ee0f28a068f878f6b5"><div class="ttname"><a href="afs_2internal_8h.html#aed0326faa72e46ee0f28a068f878f6b5">afs_yfsvl_get_endpoints</a></div><div class="ttdeci">struct afs_addr_list * afs_yfsvl_get_endpoints(struct afs_net *, struct afs_addr_cursor *, struct key *, const uuid_t *)</div><div class="ttdef"><b>Definition:</b> vlclient.c:622</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0c14edf2f9b176b44698afd3b3d802d9a63e80d4a8f31406c58f3aaec163e014b"><div class="ttname"><a href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a63e80d4a8f31406c58f3aaec163e014b">AFS_CALL_CL_PROC_REPLY</a></div><div class="ttdef"><b>Definition:</b> internal.h:57</div></div>
<div class="ttc" id="structafs__server__list_html_a8e05de35e0398cb73badc8b5c9a53a87"><div class="ttname"><a href="structafs__server__list.html#a8e05de35e0398cb73badc8b5c9a53a87">afs_server_list::lock</a></div><div class="ttdeci">rwlock_t lock</div><div class="ttdef"><b>Definition:</b> internal.h:437</div></div>
<div class="ttc" id="afs_2internal_8h_html_a2dc4f3d009ac50bea1c7171049313cb1"><div class="ttname"><a href="afs_2internal_8h.html#a2dc4f3d009ac50bea1c7171049313cb1">afs_send_simple_reply</a></div><div class="ttdeci">void afs_send_simple_reply(struct afs_call *, const void *, size_t)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:854</div></div>
<div class="ttc" id="structafs__vnode_html_afc2bf6c7cef0f363e4c796faf534f563"><div class="ttname"><a href="structafs__vnode.html#afc2bf6c7cef0f363e4c796faf534f563">afs_vnode::permit_cache</a></div><div class="ttdeci">struct afs_permits __rcu * permit_cache</div><div class="ttdef"><b>Definition:</b> internal.h:500</div></div>
<div class="ttc" id="afs_2internal_8h_html_abd3cfe6b37fd5d6790c5dcf035ef6e4c"><div class="ttname"><a href="afs_2internal_8h.html#abd3cfe6b37fd5d6790c5dcf035ef6e4c">afs_clear_callback_interests</a></div><div class="ttdeci">void afs_clear_callback_interests(struct afs_net *, struct afs_server_list *)</div><div class="ttdef"><b>Definition:</b> callback.c:255</div></div>
<div class="ttc" id="structafs__call_html_a26b8ede97b60e498c27d683c92e44297"><div class="ttname"><a href="structafs__call.html#a26b8ede97b60e498c27d683c92e44297">afs_call::type</a></div><div class="ttdeci">const struct afs_call_type * type</div><div class="ttdef"><b>Definition:</b> internal.h:84</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4b1f2de07a03c3b71d6d9761c6e8ed53a599e859dbe2ab024f52003dd1cd2ae2a"><div class="ttname"><a href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a599e859dbe2ab024f52003dd1cd2ae2a">AFS_VNODE_LOCK_NONE</a></div><div class="ttdef"><b>Definition:</b> internal.h:475</div></div>
<div class="ttc" id="afs_2internal_8h_html_a5635fb7a508c5601dcc874fdd2a8d685"><div class="ttname"><a href="afs_2internal_8h.html#a5635fb7a508c5601dcc874fdd2a8d685">afs_cell_init</a></div><div class="ttdeci">int afs_cell_init(struct afs_net *, const char *)</div><div class="ttdef"><b>Definition:</b> cell.c:306</div></div>
<div class="ttc" id="structafs__vnode__cache__aux_html"><div class="ttname"><a href="structafs__vnode__cache__aux.html">afs_vnode_cache_aux</a></div><div class="ttdef"><b>Definition:</b> internal.h:606</div></div>
<div class="ttc" id="structafs__super__info_html_a80c6dc0d0ae65e8e6408ea69ce8edb3d"><div class="ttname"><a href="structafs__super__info.html#a80c6dc0d0ae65e8e6408ea69ce8edb3d">afs_super_info::cell</a></div><div class="ttdeci">struct afs_cell * cell</div><div class="ttdef"><b>Definition:</b> internal.h:193</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3b88b36f03f98170a64bacb2b7e0b92a"><div class="ttname"><a href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a">afs_get_serverlist</a></div><div class="ttdeci">static struct afs_server_list * afs_get_serverlist(struct afs_server_list *slist)</div><div class="ttdef"><b>Definition:</b> internal.h:989</div></div>
<div class="ttc" id="afs_2internal_8h_html_a38be7e1a8eaac71104e2f93763156258"><div class="ttname"><a href="afs_2internal_8h.html#a38be7e1a8eaac71104e2f93763156258">afs_select_current_fileserver</a></div><div class="ttdeci">bool afs_select_current_fileserver(struct afs_fs_cursor *)</div><div class="ttdef"><b>Definition:</b> rotate.c:436</div></div>
<div class="ttc" id="structafs__call_html_a073634bc624b2e1954d1146eac011d9f"><div class="ttname"><a href="structafs__call.html#a073634bc624b2e1954d1146eac011d9f">afs_call::offset</a></div><div class="ttdeci">size_t offset</div><div class="ttdef"><b>Definition:</b> internal.h:99</div></div>
<div class="ttc" id="structafs__vnode_html_a27ae1dfe300500d8d0387762233f25ad"><div class="ttname"><a href="structafs__vnode.html#a27ae1dfe300500d8d0387762233f25ad">afs_vnode::invalid_before</a></div><div class="ttdeci">afs_dataversion_t invalid_before</div><div class="ttdef"><b>Definition:</b> internal.h:496</div></div>
<div class="ttc" id="structafs__file_html_aba8ef2775c6721d35e5d5fb9fed7ac43"><div class="ttname"><a href="structafs__file.html#aba8ef2775c6721d35e5d5fb9fed7ac43">afs_file::wb</a></div><div class="ttdeci">struct afs_wb_key * wb</div><div class="ttdef"><b>Definition:</b> internal.h:159</div></div>
<div class="ttc" id="structafs__net_html_a7bcd21e2969338c785a725f1fd452087"><div class="ttname"><a href="structafs__net.html#a7bcd21e2969338c785a725f1fd452087">afs_net::fs_addr_lock</a></div><div class="ttdeci">seqlock_t fs_addr_lock</div><div class="ttdef"><b>Definition:</b> internal.h:254</div></div>
<div class="ttc" id="structafs__permits_html_a6e0875009bfc248fc233ab0a6d7db075"><div class="ttname"><a href="structafs__permits.html#a6e0875009bfc248fc233ab0a6d7db075">afs_permits::h</a></div><div class="ttdeci">unsigned long h</div><div class="ttdef"><b>Definition:</b> internal.h:551</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0050df2c9aa8ba706087ba28b1a20ec3"><div class="ttname"><a href="afs_2internal_8h.html#a0050df2c9aa8ba706087ba28b1a20ec3">afs_edit_dir_add</a></div><div class="ttdeci">void afs_edit_dir_add(struct afs_vnode *, struct qstr *, struct afs_fid *, enum afs_edit_dir_reason)</div><div class="ttdef"><b>Definition:</b> dir_edit.c:198</div></div>
<div class="ttc" id="afs_2internal_8h_html_aea0f061e2f7bf1a6a62804f3459dfea8"><div class="ttname"><a href="afs_2internal_8h.html#aea0f061e2f7bf1a6a62804f3459dfea8">afs_zap_data</a></div><div class="ttdeci">void afs_zap_data(struct afs_vnode *)</div><div class="ttdef"><b>Definition:</b> inode.c:353</div></div>
<div class="ttc" id="afs_2internal_8h_html_a35b6e9ada7e0de967ed411b75e978ffc"><div class="ttname"><a href="afs_2internal_8h.html#a35b6e9ada7e0de967ed411b75e978ffc">afs_d_release</a></div><div class="ttdeci">void afs_d_release(struct dentry *)</div><div class="ttdef"><b>Definition:</b> dir.c:1079</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0c14edf2f9b176b44698afd3b3d802d9a5f8f9e6adb01bf2918cb2baa341aa647"><div class="ttname"><a href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a5f8f9e6adb01bf2918cb2baa341aa647">AFS_CALL_SV_AWAIT_OP_ID</a></div><div class="ttdef"><b>Definition:</b> internal.h:58</div></div>
<div class="ttc" id="afs_2internal_8h_html_ab24a354689c8e62717613a48bdea9454"><div class="ttname"><a href="afs_2internal_8h.html#ab24a354689c8e62717613a48bdea9454">afs_get_addrlist</a></div><div class="ttdeci">static struct afs_addr_list * afs_get_addrlist(struct afs_addr_list *alist)</div><div class="ttdef"><b>Definition:</b> internal.h:616</div></div>
<div class="ttc" id="afs_2internal_8h_html_a9395dd3f6c5b51ad8c10a7e1515d165e"><div class="ttname"><a href="afs_2internal_8h.html#a9395dd3f6c5b51ad8c10a7e1515d165e">afs_writepages</a></div><div class="ttdeci">int afs_writepages(struct address_space *, struct writeback_control *)</div><div class="ttdef"><b>Definition:</b> write.c:637</div></div>
<div class="ttc" id="afs_2internal_8h_html_a6adf9289842e0cdd6de872328e4a0c75"><div class="ttname"><a href="afs_2internal_8h.html#a6adf9289842e0cdd6de872328e4a0c75">afs_get_server</a></div><div class="ttdeci">static struct afs_server * afs_get_server(struct afs_server *server)</div><div class="ttdef"><b>Definition:</b> internal.h:969</div></div>
<div class="ttc" id="structafs__cb__interest_html_a450f4f8bdc216efbf4a3ac6aced14733"><div class="ttname"><a href="structafs__cb__interest.html#a450f4f8bdc216efbf4a3ac6aced14733">afs_cb_interest::vid</a></div><div class="ttdeci">afs_volid_t vid</div><div class="ttdef"><b>Definition:</b> internal.h:419</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae1db7876b1e51e9a7b61fa2939bf299d"><div class="ttname"><a href="afs_2internal_8h.html#ae1db7876b1e51e9a7b61fa2939bf299d">afs_deactivate_volume</a></div><div class="ttdeci">void afs_deactivate_volume(struct afs_volume *)</div><div class="ttdef"><b>Definition:</b> volume.c:241</div></div>
<div class="ttc" id="structafs__call_html_a2350757972cc39ecd1840fdd9bb74430"><div class="ttname"><a href="structafs__call.html#a2350757972cc39ecd1840fdd9bb74430">afs_call::send_pages</a></div><div class="ttdeci">bool send_pages</div><div class="ttdef"><b>Definition:</b> internal.h:115</div></div>
<div class="ttc" id="structafs__fs__cursor_html_a31fb83f3e3649a63b813b7c57f989367"><div class="ttname"><a href="structafs__fs__cursor.html#a31fb83f3e3649a63b813b7c57f989367">afs_fs_cursor::cb_break_2</a></div><div class="ttdeci">unsigned int cb_break_2</div><div class="ttdef"><b>Definition:</b> internal.h:591</div></div>
<div class="ttc" id="afs_2internal_8h_html_a1a0e9ce89c589ce66e107b750bff5ae0"><div class="ttname"><a href="afs_2internal_8h.html#a1a0e9ce89c589ce66e107b750bff5ae0">afs_fs_give_up_all_callbacks</a></div><div class="ttdeci">int afs_fs_give_up_all_callbacks(struct afs_net *, struct afs_server *, struct afs_addr_cursor *, struct key *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:1963</div></div>
<div class="ttc" id="afs_2internal_8h_html_a023e8df9dfd2f9562706827b627a50cf"><div class="ttname"><a href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf">afs_vnode_commit_status</a></div><div class="ttdeci">static void afs_vnode_commit_status(struct afs_fs_cursor *fc, struct afs_vnode *vnode, unsigned int cb_break)</div><div class="ttdef"><b>Definition:</b> internal.h:1074</div></div>
<div class="ttc" id="structafs__file_html"><div class="ttname"><a href="structafs__file.html">afs_file</a></div><div class="ttdef"><b>Definition:</b> internal.h:157</div></div>
<div class="ttc" id="structafs__cell_html_a0e5411c2b8d0c6aff81ae58ac483a7b4"><div class="ttname"><a href="structafs__cell.html#a0e5411c2b8d0c6aff81ae58ac483a7b4">afs_cell::vl_addrs_lock</a></div><div class="ttdeci">rwlock_t vl_addrs_lock</div><div class="ttdef"><b>Definition:</b> internal.h:340</div></div>
<div class="ttc" id="afs_2internal_8h_html_a801a8077a5c28e59d76febe1b130a54e"><div class="ttname"><a href="afs_2internal_8h.html#a801a8077a5c28e59d76febe1b130a54e">AFS_VNODE_TO_I</a></div><div class="ttdeci">static struct inode * AFS_VNODE_TO_I(struct afs_vnode *vnode)</div><div class="ttdef"><b>Definition:</b> internal.h:1069</div></div>
<div class="ttc" id="structafs__net_html_a8b10aa72544b214b90e1569bcd1b2be6"><div class="ttname"><a href="structafs__net.html#a8b10aa72544b214b90e1569bcd1b2be6">afs_net::proc_cells_lock</a></div><div class="ttdeci">spinlock_t proc_cells_lock</div><div class="ttdef"><b>Definition:</b> internal.h:240</div></div>
<div class="ttc" id="structafs__cell_html_a91ec045e96540b510c981d7b4e732fd2"><div class="ttname"><a href="structafs__cell.html#a91ec045e96540b510c981d7b4e732fd2">afs_cell::usage</a></div><div class="ttdeci">atomic_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:325</div></div>
<div class="ttc" id="afs_8h_html"><div class="ttname"><a href="afs_8h.html">afs.h</a></div></div>
<div class="ttc" id="structafs__server_html_a0c35eb8abe6cfdcd70ee791c69adbe49"><div class="ttname"><a href="structafs__server.html#a0c35eb8abe6cfdcd70ee791c69adbe49">afs_server::update_at</a></div><div class="ttdeci">time64_t update_at</div><div class="ttdef"><b>Definition:</b> internal.h:389</div></div>
<div class="ttc" id="afs_2internal_8h_html_aee7c7f192465803d507bd7a8459bb9e5"><div class="ttname"><a href="afs_2internal_8h.html#aee7c7f192465803d507bd7a8459bb9e5">afs_manage_cells</a></div><div class="ttdeci">void afs_manage_cells(struct work_struct *)</div><div class="ttdef"><b>Definition:</b> cell.c:672</div></div>
<div class="ttc" id="afs_2internal_8h_html_a236fbeb5f98a37481f4f98f473537b00"><div class="ttname"><a href="afs_2internal_8h.html#a236fbeb5f98a37481f4f98f473537b00">afs_fs_fetch_data</a></div><div class="ttdeci">int afs_fs_fetch_data(struct afs_fs_cursor *, struct afs_read *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:666</div></div>
<div class="ttc" id="afs_2internal_8h_html_a66675f42a890bd85ac6a33a8542cc050"><div class="ttname"><a href="afs_2internal_8h.html#a66675f42a890bd85ac6a33a8542cc050">afs_alloc_server_list</a></div><div class="ttdeci">struct afs_server_list * afs_alloc_server_list(struct afs_cell *, struct key *, struct afs_vldb_entry *, u8)</div><div class="ttdef"><b>Definition:</b> server_list.c:32</div></div>
<div class="ttc" id="structafs__iget__data_html"><div class="ttname"><a href="structafs__iget__data.html">afs_iget_data</a></div><div class="ttdef"><b>Definition:</b> internal.h:49</div></div>
<div class="ttc" id="structafs__volume_html_ae870afd3d4e9ec52aab8bf241edfe19b"><div class="ttname"><a href="structafs__volume.html#ae870afd3d4e9ec52aab8bf241edfe19b">afs_volume::servers</a></div><div class="ttdeci">struct afs_server_list * servers</div><div class="ttdef"><b>Definition:</b> internal.h:460</div></div>
<div class="ttc" id="structafs__addr__list_html_a39047da24591773d933f4a70c0684c9d"><div class="ttname"><a href="structafs__addr__list.html#a39047da24591773d933f4a70c0684c9d">afs_addr_list::nr_addrs</a></div><div class="ttdeci">unsigned short nr_addrs</div><div class="ttdef"><b>Definition:</b> internal.h:72</div></div>
<div class="ttc" id="afs_2internal_8h_html_adedb3f91a1777c8b43058aadb72f580f"><div class="ttname"><a href="afs_2internal_8h.html#adedb3f91a1777c8b43058aadb72f580f">afs_iterate_addresses</a></div><div class="ttdeci">bool afs_iterate_addresses(struct afs_addr_cursor *)</div><div class="ttdef"><b>Definition:</b> addr_list.c:311</div></div>
<div class="ttc" id="structafs__call_html_aac8cc76f280847b25c9bda70f7fc5f19"><div class="ttname"><a href="structafs__call.html#aac8cc76f280847b25c9bda70f7fc5f19">afs_call::incoming</a></div><div class="ttdeci">bool incoming</div><div class="ttdef"><b>Definition:</b> internal.h:114</div></div>
<div class="ttc" id="structafs__net_html_a25585c16bd8d3a55680a398d0b70bb11"><div class="ttname"><a href="structafs__net.html#a25585c16bd8d3a55680a398d0b70bb11">afs_net::cells_lock</a></div><div class="ttdeci">seqlock_t cells_lock</div><div class="ttdef"><b>Definition:</b> internal.h:238</div></div>
<div class="ttc" id="structafs__net_html_a3f8e58f70a7ebab56af0cc4518588c9a"><div class="ttname"><a href="structafs__net.html#a3f8e58f70a7ebab56af0cc4518588c9a">afs_net::n_reval</a></div><div class="ttdeci">atomic_t n_reval</div><div class="ttdef"><b>Definition:</b> internal.h:270</div></div>
<div class="ttc" id="afs_2internal_8h_html_a9769f170b1c7cf1ebdc1892d1fd85a0b"><div class="ttname"><a href="afs_2internal_8h.html#a9769f170b1c7cf1ebdc1892d1fd85a0b">afs_getattr</a></div><div class="ttdeci">int afs_getattr(const struct path *, struct kstat *, u32, unsigned int)</div><div class="ttdef"><b>Definition:</b> inode.c:464</div></div>
<div class="ttc" id="structafs__call_html_a2d4496c4c3adae77cf68431615e65d62"><div class="ttname"><a href="structafs__call.html#a2d4496c4c3adae77cf68431615e65d62">afs_call::buffer</a></div><div class="ttdeci">void * buffer</div><div class="ttdef"><b>Definition:</b> internal.h:95</div></div>
<div class="ttc" id="afs_2internal_8h_html_aa59e406dfb30c0f7898d469affbda160"><div class="ttname"><a href="afs_2internal_8h.html#aa59e406dfb30c0f7898d469affbda160">afs_mntpt_file_operations</a></div><div class="ttdeci">const struct file_operations afs_mntpt_file_operations</div><div class="ttdef"><b>Definition:</b> mntpt.c:29</div></div>
<div class="ttc" id="structafs__read_html_a6c0bb2ef267c02e5009a7353ea59f55f"><div class="ttname"><a href="structafs__read.html#a6c0bb2ef267c02e5009a7353ea59f55f">afs_read::pages</a></div><div class="ttdeci">struct page ** pages</div><div class="ttdef"><b>Definition:</b> internal.h:183</div></div>
<div class="ttc" id="structsuper__block_html"><div class="ttname"><a href="structsuper__block.html">super_block</a></div><div class="ttdef"><b>Definition:</b> ubifs.h:968</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad251641ab8d761331cc2eafb4743d617"><div class="ttname"><a href="afs_2internal_8h.html#ad251641ab8d761331cc2eafb4743d617">afs_open</a></div><div class="ttdeci">int afs_open(struct inode *, struct file *)</div><div class="ttdef"><b>Definition:</b> file.c:117</div></div>
<div class="ttc" id="structafs__cell_html_a878b6a339a98682392cfb028be1e962f"><div class="ttname"><a href="structafs__cell.html#a878b6a339a98682392cfb028be1e962f">afs_cell::net</a></div><div class="ttdeci">struct afs_net * net</div><div class="ttdef"><b>Definition:</b> internal.h:316</div></div>
<div class="ttc" id="mds__client_8c_html_a5f584af691004d9ca3bb703c82c071cc"><div class="ttname"><a href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc">delayed_work</a></div><div class="ttdeci">static void delayed_work(struct work_struct *work)</div><div class="ttdef"><b>Definition:</b> mds_client.c:3528</div></div>
<div class="ttc" id="afs_2internal_8h_html_ab171b784b6e3dfb67335c4f35b754836"><div class="ttname"><a href="afs_2internal_8h.html#ab171b784b6e3dfb67335c4f35b754836">AFS_FS_S</a></div><div class="ttdeci">static struct afs_super_info * AFS_FS_S(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> internal.h:198</div></div>
<div class="ttc" id="structafs__fs__cursor_html_a195827c530babafb2ebbf191b3ef7e00"><div class="ttname"><a href="structafs__fs__cursor.html#a195827c530babafb2ebbf191b3ef7e00">afs_fs_cursor::ac</a></div><div class="ttdeci">struct afs_addr_cursor ac</div><div class="ttdef"><b>Definition:</b> internal.h:585</div></div>
<div class="ttc" id="afs_2internal_8h_html_a04645dce87f2ca86da32b2856afe70f5"><div class="ttname"><a href="afs_2internal_8h.html#a04645dce87f2ca86da32b2856afe70f5">afs_queue_call_work</a></div><div class="ttdeci">int afs_queue_call_work(struct afs_call *)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:194</div></div>
<div class="ttc" id="afs_8h_html_a85b5c14d53d23e0691fdb9e4b7436051"><div class="ttname"><a href="afs_8h.html#a85b5c14d53d23e0691fdb9e4b7436051">AFS_MAXVOLNAME</a></div><div class="ttdeci">#define AFS_MAXVOLNAME</div><div class="ttdef"><b>Definition:</b> afs.h:18</div></div>
<div class="ttc" id="structafs__call_html_a5e675e9ebf72ed5b15b4ea5baa5306ce"><div class="ttname"><a href="structafs__call.html#a5e675e9ebf72ed5b15b4ea5baa5306ce">afs_call::cbi</a></div><div class="ttdeci">struct afs_cb_interest * cbi</div><div class="ttdef"><b>Definition:</b> internal.h:92</div></div>
<div class="ttc" id="afs_2internal_8h_html_a72b30a324253b3139fda57ac71550c27"><div class="ttname"><a href="afs_2internal_8h.html#a72b30a324253b3139fda57ac71550c27">afs_wq</a></div><div class="ttdeci">struct workqueue_struct * afs_wq</div><div class="ttdef"><b>Definition:</b> main.c:34</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0662a614c0a5d712d406c8197d253bee"><div class="ttname"><a href="afs_2internal_8h.html#a0662a614c0a5d712d406c8197d253bee">afs_lock_work</a></div><div class="ttdeci">void afs_lock_work(struct work_struct *)</div><div class="ttdef"><b>Definition:</b> flock.c:169</div></div>
<div class="ttc" id="structafs__server_html_a1f8048c48b0dd74038afe6da4bccc102"><div class="ttname"><a href="structafs__server.html#a1f8048c48b0dd74038afe6da4bccc102">afs_server::uuid</a></div><div class="ttdeci">uuid_t uuid</div><div class="ttdef"><b>Definition:</b> internal.h:378</div></div>
<div class="ttc" id="structafs__server_html_a111905de30b8005650399ad3c6d6804b"><div class="ttname"><a href="structafs__server.html#a111905de30b8005650399ad3c6d6804b">afs_server::put_time</a></div><div class="ttdeci">time64_t put_time</div><div class="ttdef"><b>Definition:</b> internal.h:388</div></div>
<div class="ttc" id="afs_2internal_8h_html_ac9752afae5f783a2ee0c28a0db03f627"><div class="ttname"><a href="afs_2internal_8h.html#ac9752afae5f783a2ee0c28a0db03f627">afs_server_peer_lock</a></div><div class="ttdeci">spinlock_t afs_server_peer_lock</div></div>
<div class="ttc" id="structafs__call_html_a7ce247182f6a0a78f6e2bb3e4efcacc5"><div class="ttname"><a href="structafs__call.html#a7ce247182f6a0a78f6e2bb3e4efcacc5">afs_call::debug_id</a></div><div class="ttdeci">unsigned int debug_id</div><div class="ttdef"><b>Definition:</b> internal.h:121</div></div>
<div class="ttc" id="afs_2internal_8h_html_aab6f466b2372adbbece954b8d393972e"><div class="ttname"><a href="afs_2internal_8h.html#aab6f466b2372adbbece954b8d393972e">afs_charge_preallocation</a></div><div class="ttdeci">void afs_charge_preallocation(struct work_struct *)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:718</div></div>
<div class="ttc" id="structafs__net_html_aa8eb0f8c505de5d08d2118181656501b"><div class="ttname"><a href="structafs__net.html#aa8eb0f8c505de5d08d2118181656501b">afs_net::n_relpg</a></div><div class="ttdeci">atomic_t n_relpg</div><div class="ttdef"><b>Definition:</b> internal.h:272</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3bf4c96cedd496b1daca5041d99cc003a5ea8a28c909656b0952e85ddc0a5276f"><div class="ttname"><a href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a5ea8a28c909656b0952e85ddc0a5276f">AFS_CELL_DEACTIVATING</a></div><div class="ttdef"><b>Definition:</b> internal.h:289</div></div>
<div class="ttc" id="afs_2internal_8h_html_a81db2b5b1071b2a8a80251edd4290a91"><div class="ttname"><a href="afs_2internal_8h.html#a81db2b5b1071b2a8a80251edd4290a91">__afs_net</a></div><div class="ttdeci">struct afs_net __afs_net</div><div class="ttdef"><b>Definition:</b> main.c:35</div></div>
<div class="ttc" id="structafs__vnode_html_a35cb7729c03738cd32867df770af004f"><div class="ttname"><a href="structafs__vnode.html#a35cb7729c03738cd32867df770af004f">afs_vnode::cb_type</a></div><div class="ttdeci">afs_callback_type_t cb_type</div><div class="ttdef"><b>Definition:</b> internal.h:533</div></div>
<div class="ttc" id="structafs__server_html_a82ed398173671c540f2975dddcc58faa"><div class="ttname"><a href="structafs__server.html#a82ed398173671c540f2975dddcc58faa">afs_server::cb_s_break</a></div><div class="ttdeci">unsigned cb_s_break</div><div class="ttdef"><b>Definition:</b> internal.h:408</div></div>
<div class="ttc" id="afs_2internal_8h_html_a939c64285a039b19d55d9d3567d358b1"><div class="ttname"><a href="afs_2internal_8h.html#a939c64285a039b19d55d9d3567d358b1">afs_init_sysname</a></div><div class="ttdeci">const char afs_init_sysname[]</div><div class="ttdef"><b>Definition:</b> main.c:64</div></div>
<div class="ttc" id="structafs__server__list_html_a5741d11385e9f465d2e89ba12d0e7381"><div class="ttname"><a href="structafs__server__list.html#a5741d11385e9f465d2e89ba12d0e7381">afs_server_list::usage</a></div><div class="ttdeci">refcount_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:432</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae58e2934d67be415164037e04206c517"><div class="ttname"><a href="afs_2internal_8h.html#ae58e2934d67be415164037e04206c517">afs_fs_create</a></div><div class="ttdeci">int afs_fs_create(struct afs_fs_cursor *, const char *, umode_t, u64, struct afs_fid *, struct afs_file_status *, struct afs_callback *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:755</div></div>
<div class="ttc" id="afs_2internal_8h_html_a536e78f49417b99b9d96f792c1e8ac50"><div class="ttname"><a href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50">afs_setattr</a></div><div class="ttdeci">int afs_setattr(struct dentry *, struct iattr *)</div><div class="ttdef"><b>Definition:</b> inode.c:546</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad59d5284d1eee12db65dba1c046dedc6"><div class="ttname"><a href="afs_2internal_8h.html#ad59d5284d1eee12db65dba1c046dedc6">afs_set_page_dirty</a></div><div class="ttdeci">int afs_set_page_dirty(struct page *)</div><div class="ttdef"><b>Definition:</b> write.c:23</div></div>
<div class="ttc" id="afs_2internal_8h_html_a5321a618b7fb8d3fb9ca27b87aa48f03"><div class="ttname"><a href="afs_2internal_8h.html#a5321a618b7fb8d3fb9ca27b87aa48f03">afs_end_cursor</a></div><div class="ttdeci">int afs_end_cursor(struct afs_addr_cursor *)</div><div class="ttdef"><b>Definition:</b> addr_list.c:338</div></div>
<div class="ttc" id="afs_2internal_8h_html_ac155d76dcc75bb2ee09716da029dafd5"><div class="ttname"><a href="afs_2internal_8h.html#ac155d76dcc75bb2ee09716da029dafd5">afs_clean_up_permit_cache</a></div><div class="ttdeci">void __exit afs_clean_up_permit_cache(void)</div><div class="ttdef"><b>Definition:</b> security.c:414</div></div>
<div class="ttc" id="afs_2internal_8h_html_ac6cbe2772bea1c5fa50ad6a7852721b5"><div class="ttname"><a href="afs_2internal_8h.html#ac6cbe2772bea1c5fa50ad6a7852721b5">afs_manage_servers</a></div><div class="ttdeci">void afs_manage_servers(struct work_struct *)</div><div class="ttdef"><b>Definition:</b> server.c:439</div></div>
<div class="ttc" id="structafs__net_html_a2e1b1c4818cd67b1f673b6d235b72cf9"><div class="ttname"><a href="structafs__net.html#a2e1b1c4818cd67b1f673b6d235b72cf9">afs_net::sysnames</a></div><div class="ttdeci">struct afs_sysnames * sysnames</div><div class="ttdef"><b>Definition:</b> internal.h:265</div></div>
<div class="ttc" id="structafs__server_html_a7392c12695ea77b6e25ed26ff55c254a"><div class="ttname"><a href="structafs__server.html#a7392c12695ea77b6e25ed26ff55c254a">afs_server::flags</a></div><div class="ttdeci">unsigned long flags</div><div class="ttdef"><b>Definition:</b> internal.h:390</div></div>
<div class="ttc" id="afs_2internal_8h_html_a8d376b14ae606fc00f885dec9b66a646"><div class="ttname"><a href="afs_2internal_8h.html#a8d376b14ae606fc00f885dec9b66a646">afs_register_server_cb_interest</a></div><div class="ttdeci">int afs_register_server_cb_interest(struct afs_vnode *, struct afs_server_list *, unsigned int)</div><div class="ttdef"><b>Definition:</b> callback.c:28</div></div>
<div class="ttc" id="structafs__cell_html"><div class="ttname"><a href="structafs__cell.html">afs_cell</a></div><div class="ttdef"><b>Definition:</b> internal.h:311</div></div>
<div class="ttc" id="structafs__call_html"><div class="ttname"><a href="structafs__call.html">afs_call</a></div><div class="ttdef"><b>Definition:</b> internal.h:83</div></div>
<div class="ttc" id="structafs__fid_html"><div class="ttname"><a href="structafs__fid.html">afs_fid</a></div><div class="ttdef"><b>Definition:</b> afs.h:53</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4b1f2de07a03c3b71d6d9761c6e8ed53a9423662c9a6418e0b81071d6f70ff392"><div class="ttname"><a href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a9423662c9a6418e0b81071d6f70ff392">AFS_VNODE_LOCK_GRANTED</a></div><div class="ttdef"><b>Definition:</b> internal.h:478</div></div>
<div class="ttc" id="structafs__cell_html_a2cd7f93ae88ab816202971afa701d153"><div class="ttname"><a href="structafs__cell.html#a2cd7f93ae88ab816202971afa701d153">afs_cell::anonymous_key</a></div><div class="ttdeci">struct key * anonymous_key</div><div class="ttdef"><b>Definition:</b> internal.h:317</div></div>
<div class="ttc" id="structafs__read_html_a775fcbcde72266e4200f298f5171fae6"><div class="ttname"><a href="structafs__read.html#a775fcbcde72266e4200f298f5171fae6">afs_read::nr_pages</a></div><div class="ttdeci">unsigned int nr_pages</div><div class="ttdef"><b>Definition:</b> internal.h:181</div></div>
<div class="ttc" id="afs_2internal_8h_html_ac281e8123d215cdc17251a65f885128d"><div class="ttname"><a href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d">afs_abort_to_error</a></div><div class="ttdeci">int afs_abort_to_error(u32)</div><div class="ttdef"><b>Definition:</b> misc.c:21</div></div>
<div class="ttc" id="structafs__mount__params_html_a3da29671e3b879738886d84632502b4e"><div class="ttname"><a href="structafs__mount__params.html#a3da29671e3b879738886d84632502b4e">afs_mount_params::type</a></div><div class="ttdeci">afs_voltype_t type</div><div class="ttdef"><b>Definition:</b> internal.h:40</div></div>
<div class="ttc" id="structafs__call_html_ab5487dc66c694f50c44e6ec1cf6796b8"><div class="ttname"><a href="structafs__call.html#ab5487dc66c694f50c44e6ec1cf6796b8">afs_call::operation_ID</a></div><div class="ttdeci">u32 operation_ID</div><div class="ttdef"><b>Definition:</b> internal.h:122</div></div>
<div class="ttc" id="structafs__net_html_afb0aa23c1fc143e6af8f533a9b0d2b6d"><div class="ttname"><a href="structafs__net.html#afb0aa23c1fc143e6af8f533a9b0d2b6d">afs_net::sysnames_lock</a></div><div class="ttdeci">rwlock_t sysnames_lock</div><div class="ttdef"><b>Definition:</b> internal.h:266</div></div>
<div class="ttc" id="afs_2internal_8h_html_ab23a073d765a865d84432f1b1441b052"><div class="ttname"><a href="afs_2internal_8h.html#ab23a073d765a865d84432f1b1441b052">afs_async_calls</a></div><div class="ttdeci">struct workqueue_struct * afs_async_calls</div><div class="ttdef"><b>Definition:</b> rxrpc.c:20</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad60d2bfce45061954c0d87d95a604e0d"><div class="ttname"><a href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d">afs_end_vnode_operation</a></div><div class="ttdeci">int afs_end_vnode_operation(struct afs_fs_cursor *)</div><div class="ttdef"><b>Definition:</b> rotate.c:508</div></div>
<div class="ttc" id="structafs__permits_html_aad7016777793db5265a18705360a424d"><div class="ttname"><a href="structafs__permits.html#aad7016777793db5265a18705360a424d">afs_permits::usage</a></div><div class="ttdeci">refcount_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:552</div></div>
<div class="ttc" id="afs_2internal_8h_html_abbf01fda3c7f582e99654448cd122112"><div class="ttname"><a href="afs_2internal_8h.html#abbf01fda3c7f582e99654448cd122112">afs_permission</a></div><div class="ttdeci">int afs_permission(struct inode *, int)</div><div class="ttdef"><b>Definition:</b> security.c:342</div></div>
<div class="ttc" id="afs_8h_html_a3e19cd9d7c90a908385ff4a7eaa647a2"><div class="ttname"><a href="afs_8h.html#a3e19cd9d7c90a908385ff4a7eaa647a2">afs_volid_t</a></div><div class="ttdeci">unsigned afs_volid_t</div><div class="ttdef"><b>Definition:</b> afs.h:26</div></div>
<div class="ttc" id="structafs__vnode_html_a831334b05fafa9a7b12d6f4c76e1fd6d"><div class="ttname"><a href="structafs__vnode.html#a831334b05fafa9a7b12d6f4c76e1fd6d">afs_vnode::cb_version</a></div><div class="ttdeci">unsigned cb_version</div><div class="ttdef"><b>Definition:</b> internal.h:532</div></div>
<div class="ttc" id="afs_2internal_8h_html_a2c7e9b6a4fff6417c6eff6ec1f52d46d"><div class="ttname"><a href="afs_2internal_8h.html#a2c7e9b6a4fff6417c6eff6ec1f52d46d">afs_fs_set_lock</a></div><div class="ttdeci">int afs_fs_set_lock(struct afs_fs_cursor *, afs_lock_type_t)</div><div class="ttdef"><b>Definition:</b> fsclient.c:1851</div></div>
<div class="ttc" id="structafs__call_html_a6e6f6086326dc4931ba75ddbab274a78"><div class="ttname"><a href="structafs__call.html#a6e6f6086326dc4931ba75ddbab274a78">afs_call::abort_code</a></div><div class="ttdeci">u32 abort_code</div><div class="ttdef"><b>Definition:</b> internal.h:104</div></div>
<div class="ttc" id="structafs__mount__params_html_abe777072edeb5768400dcea657ee380c"><div class="ttname"><a href="structafs__mount__params.html#abe777072edeb5768400dcea657ee380c">afs_mount_params::net</a></div><div class="ttdeci">struct afs_net * net</div><div class="ttdef"><b>Definition:</b> internal.h:43</div></div>
<div class="ttc" id="structafs__addr__list_html_a821696b7231c08c502f696c1bb5d07b0"><div class="ttname"><a href="structafs__addr__list.html#a821696b7231c08c502f696c1bb5d07b0">afs_addr_list::yfs</a></div><div class="ttdeci">unsigned long yfs</div><div class="ttdef"><b>Definition:</b> internal.h:76</div></div>
<div class="ttc" id="structafs__addr__cursor_html_a83649b65a8c417604f6bdc84ec3833e2"><div class="ttname"><a href="structafs__addr__cursor.html#a83649b65a8c417604f6bdc84ec3833e2">afs_addr_cursor::alist</a></div><div class="ttdeci">struct afs_addr_list * alist</div><div class="ttdef"><b>Definition:</b> internal.h:571</div></div>
<div class="ttc" id="afs_2internal_8h_html_a287ae101dfd1f065f500dc6acc6b13b8"><div class="ttname"><a href="afs_2internal_8h.html#a287ae101dfd1f065f500dc6acc6b13b8">afs_page_mkwrite</a></div><div class="ttdeci">int afs_page_mkwrite(struct vm_fault *)</div><div class="ttdef"><b>Definition:</b> write.c:756</div></div>
<div class="ttc" id="structafs__permit_html"><div class="ttname"><a href="structafs__permit.html">afs_permit</a></div><div class="ttdef"><b>Definition:</b> internal.h:539</div></div>
<div class="ttc" id="afs_2internal_8h_html_a15f82b400642b9915cb768773a69b0f0"><div class="ttname"><a href="afs_2internal_8h.html#a15f82b400642b9915cb768773a69b0f0">afs_fs_symlink</a></div><div class="ttdeci">int afs_fs_symlink(struct afs_fs_cursor *, const char *, const char *, u64, struct afs_fid *, struct afs_file_status *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:1030</div></div>
<div class="ttc" id="structafs__addr__list_html_ab2527199276b7cca1b00116c8362bb61"><div class="ttname"><a href="structafs__addr__list.html#ab2527199276b7cca1b00116c8362bb61">afs_addr_list::index</a></div><div class="ttdeci">unsigned short index</div><div class="ttdef"><b>Definition:</b> internal.h:73</div></div>
<div class="ttc" id="structafs__volume_html_a5ec25052fffc3cc38ae81fb758fdacd9"><div class="ttname"><a href="structafs__volume.html#a5ec25052fffc3cc38ae81fb758fdacd9">afs_volume::cb_v_break</a></div><div class="ttdeci">unsigned cb_v_break</div><div class="ttdef"><b>Definition:</b> internal.h:464</div></div>
<div class="ttc" id="structafs__vnode_html_ab3f0ea7d5016961208757329037101c1"><div class="ttname"><a href="structafs__vnode.html#ab3f0ea7d5016961208757329037101c1">afs_vnode::lock</a></div><div class="ttdeci">spinlock_t lock</div><div class="ttdef"><b>Definition:</b> internal.h:504</div></div>
<div class="ttc" id="structafs__mount__params_html_a45faf4c05fb8a62a745a6127751ba74a"><div class="ttname"><a href="structafs__mount__params.html#a45faf4c05fb8a62a745a6127751ba74a">afs_mount_params::cell</a></div><div class="ttdeci">struct afs_cell * cell</div><div class="ttdef"><b>Definition:</b> internal.h:44</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0b3bfb36f35c9837597f9f844439149a"><div class="ttname"><a href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a">afs_cb_break_sum</a></div><div class="ttdeci">static unsigned int afs_cb_break_sum(struct afs_vnode *vnode, struct afs_cb_interest *cbi)</div><div class="ttdef"><b>Definition:</b> internal.h:674</div></div>
<div class="ttc" id="afs_2internal_8h_html_a71c538c2f32b68d3516c4a1125e59799"><div class="ttname"><a href="afs_2internal_8h.html#a71c538c2f32b68d3516c4a1125e59799">afs_check_server_record</a></div><div class="ttdeci">bool afs_check_server_record(struct afs_fs_cursor *, struct afs_server *)</div><div class="ttdef"><b>Definition:</b> server.c:656</div></div>
<div class="ttc" id="structafs__mount__params_html_a382a9df212242a1163d17e677d65e077"><div class="ttname"><a href="structafs__mount__params.html#a382a9df212242a1163d17e677d65e077">afs_mount_params::key</a></div><div class="ttdeci">struct key * key</div><div class="ttdef"><b>Definition:</b> internal.h:46</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad88a6cb5871b25e644c8b96682780fc0"><div class="ttname"><a href="afs_2internal_8h.html#ad88a6cb5871b25e644c8b96682780fc0">afs_send_empty_reply</a></div><div class="ttdeci">void afs_send_empty_reply(struct afs_call *)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:819</div></div>
<div class="ttc" id="afs_2internal_8h_html_aa17ecdfdc40e832aab227209a9f0119a"><div class="ttname"><a href="afs_2internal_8h.html#aa17ecdfdc40e832aab227209a9f0119a">__afs_get_volume</a></div><div class="ttdeci">static struct afs_volume * __afs_get_volume(struct afs_volume *volume)</div><div class="ttdef"><b>Definition:</b> internal.h:1022</div></div>
<div class="ttc" id="afs_2internal_8h_html_a24e6d4842ff9d8e2282369008e509278"><div class="ttname"><a href="afs_2internal_8h.html#a24e6d4842ff9d8e2282369008e509278">afs_fs_store_data</a></div><div class="ttdeci">int afs_fs_store_data(struct afs_fs_cursor *, struct address_space *, pgoff_t, pgoff_t, unsigned, unsigned)</div><div class="ttdef"><b>Definition:</b> fsclient.c:1311</div></div>
<div class="ttc" id="structafs__mount__params_html_a7ef49fd199d5993db16e0dd427db0b9d"><div class="ttname"><a href="structafs__mount__params.html#a7ef49fd199d5993db16e0dd427db0b9d">afs_mount_params::rwpath</a></div><div class="ttdeci">bool rwpath</div><div class="ttdef"><b>Definition:</b> internal.h:36</div></div>
<div class="ttc" id="afs_2internal_8h_html_a42c4501a9ee8e1434730955f0f19f76d"><div class="ttname"><a href="afs_2internal_8h.html#a42c4501a9ee8e1434730955f0f19f76d">afs_put_net</a></div><div class="ttdeci">static void afs_put_net(struct afs_net *net)</div><div class="ttdef"><b>Definition:</b> internal.h:835</div></div>
<div class="ttc" id="structafs__read_html_af6f21f40f3a03409bf6e68222b084ca1"><div class="ttname"><a href="structafs__read.html#af6f21f40f3a03409bf6e68222b084ca1">afs_read::file_size</a></div><div class="ttdeci">loff_t file_size</div><div class="ttdef"><b>Definition:</b> internal.h:177</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4b1f2de07a03c3b71d6d9761c6e8ed53a195e48128aadfc70ad3e836a128b93ae"><div class="ttname"><a href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a195e48128aadfc70ad3e836a128b93ae">AFS_VNODE_LOCK_UNLOCKING</a></div><div class="ttdef"><b>Definition:</b> internal.h:481</div></div>
<div class="ttc" id="structafs__net_html_a228be5c5e3f39cae4d070b3a30e9a2d7"><div class="ttname"><a href="structafs__net.html#a228be5c5e3f39cae4d070b3a30e9a2d7">afs_net::n_lookup</a></div><div class="ttdeci">atomic_t n_lookup</div><div class="ttdef"><b>Definition:</b> internal.h:269</div></div>
<div class="ttc" id="structafs__read_html_a0744649b78936504175cfe71955cb395"><div class="ttname"><a href="structafs__read.html#a0744649b78936504175cfe71955cb395">afs_read::pos</a></div><div class="ttdeci">loff_t pos</div><div class="ttdef"><b>Definition:</b> internal.h:173</div></div>
<div class="ttc" id="afs_2internal_8h_html_aeb1fe9d974fa2aec125189049dad59d6"><div class="ttname"><a href="afs_2internal_8h.html#aeb1fe9d974fa2aec125189049dad59d6">afs_alloc_flat_call</a></div><div class="ttdeci">struct afs_call * afs_alloc_flat_call(struct afs_net *, const struct afs_call_type *, size_t, size_t)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:212</div></div>
<div class="ttc" id="afs_2internal_8h_html_a6cbda38e0f13c8267402125ae38d4063"><div class="ttname"><a href="afs_2internal_8h.html#a6cbda38e0f13c8267402125ae38d4063">afs_dir_aops</a></div><div class="ttdeci">const struct address_space_operations afs_dir_aops</div><div class="ttdef"><b>Definition:</b> dir.c:77</div></div>
<div class="ttc" id="afs_2internal_8h_html_ac60dd227c67eb43644cbf893f3a4bf79"><div class="ttname"><a href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79">afs_fetch_data</a></div><div class="ttdeci">int afs_fetch_data(struct afs_vnode *, struct key *, struct afs_read *)</div><div class="ttdef"><b>Definition:</b> file.c:226</div></div>
<div class="ttc" id="afs_2internal_8h_html_ac48db05d2442b8b9c13508a977f013ed"><div class="ttname"><a href="afs_2internal_8h.html#ac48db05d2442b8b9c13508a977f013ed">afs_fs_link</a></div><div class="ttdeci">int afs_fs_link(struct afs_fs_cursor *, struct afs_vnode *, const char *, u64)</div><div class="ttdef"><b>Definition:</b> fsclient.c:943</div></div>
<div class="ttc" id="afs_2internal_8h_html_afab0c53de61868ed9268b06cf830983d"><div class="ttname"><a href="afs_2internal_8h.html#afab0c53de61868ed9268b06cf830983d">afs_put_wb_key</a></div><div class="ttdeci">void afs_put_wb_key(struct afs_wb_key *)</div><div class="ttdef"><b>Definition:</b> file.c:73</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4b1f2de07a03c3b71d6d9761c6e8ed53aaa74ea752307cf025ca79491aa170f17"><div class="ttname"><a href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53aaa74ea752307cf025ca79491aa170f17">AFS_VNODE_LOCK_SETTING</a></div><div class="ttdef"><b>Definition:</b> internal.h:477</div></div>
<div class="ttc" id="afs_2internal_8h_html_af9818b2ae8d5771668707f3f3fc9274c"><div class="ttname"><a href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c">afs_calc_vnode_cb_break</a></div><div class="ttdeci">static unsigned int afs_calc_vnode_cb_break(struct afs_vnode *vnode)</div><div class="ttdef"><b>Definition:</b> internal.h:669</div></div>
<div class="ttc" id="afs_2internal_8h_html_a56aa1c7678288393bed6b22d161afe01"><div class="ttname"><a href="afs_2internal_8h.html#a56aa1c7678288393bed6b22d161afe01">afs_flat_call_destructor</a></div><div class="ttdeci">void afs_flat_call_destructor(struct afs_call *)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:249</div></div>
<div class="ttc" id="afs_2internal_8h_html_ab8af4190ecea7b096b01f9249b68229f"><div class="ttname"><a href="afs_2internal_8h.html#ab8af4190ecea7b096b01f9249b68229f">afs_get_ipv4_interfaces</a></div><div class="ttdeci">int afs_get_ipv4_interfaces(struct afs_interface *, size_t, bool)</div><div class="ttdef"><b>Definition:</b> netdevices.c:20</div></div>
<div class="ttc" id="structafs__mount__params_html"><div class="ttname"><a href="structafs__mount__params.html">afs_mount_params</a></div><div class="ttdef"><b>Definition:</b> internal.h:35</div></div>
<div class="ttc" id="structafs__call_html_a5f0809310c0904380ae23b55d8f3970e"><div class="ttname"><a href="structafs__call.html#a5f0809310c0904380ae23b55d8f3970e">afs_call::async</a></div><div class="ttdeci">bool async</div><div class="ttdef"><b>Definition:</b> internal.h:117</div></div>
<div class="ttc" id="structafs__server__entry_html_af923371ab31d237c97ea95bf4d6eaa86"><div class="ttname"><a href="structafs__server__entry.html#af923371ab31d237c97ea95bf4d6eaa86">afs_server_entry::cb_interest</a></div><div class="ttdeci">struct afs_cb_interest * cb_interest</div><div class="ttdef"><b>Definition:</b> internal.h:428</div></div>
<div class="ttc" id="structafs__server_html_a73b2287680efcde55d1f44bb6e494e24"><div class="ttname"><a href="structafs__server.html#a73b2287680efcde55d1f44bb6e494e24">afs_server::addr_version</a></div><div class="ttdeci">u32 addr_version</div><div class="ttdef"><b>Definition:</b> internal.h:401</div></div>
<div class="ttc" id="structafs__super__info_html_a448c532e1fca17adffec53f11b7b777b"><div class="ttname"><a href="structafs__super__info.html#a448c532e1fca17adffec53f11b7b777b">afs_super_info::dyn_root</a></div><div class="ttdeci">bool dyn_root</div><div class="ttdef"><b>Definition:</b> internal.h:195</div></div>
<div class="ttc" id="afs_2internal_8h_html_a7cf0be4477e3e8ef27df365dd1d7bf82"><div class="ttname"><a href="afs_2internal_8h.html#a7cf0be4477e3e8ef27df365dd1d7bf82">afs_autocell_inode_operations</a></div><div class="ttdeci">const struct inode_operations afs_autocell_inode_operations</div><div class="ttdef"><b>Definition:</b> mntpt.c:41</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0c14edf2f9b176b44698afd3b3d802d9"><div class="ttname"><a href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9">afs_call_state</a></div><div class="ttdeci">afs_call_state</div><div class="ttdef"><b>Definition:</b> internal.h:54</div></div>
<div class="ttc" id="afs_2internal_8h_html_aecebd1d4371408361caef0ecd8d3d402"><div class="ttname"><a href="afs_2internal_8h.html#aecebd1d4371408361caef0ecd8d3d402">afs_prune_wb_keys</a></div><div class="ttdeci">void afs_prune_wb_keys(struct afs_vnode *)</div><div class="ttdef"><b>Definition:</b> write.c:802</div></div>
<div class="ttc" id="afs_2internal_8h_html_a1ce0b0ac76e5bc5df354db41c1417bc2"><div class="ttname"><a href="afs_2internal_8h.html#a1ce0b0ac76e5bc5df354db41c1417bc2">afs_iget</a></div><div class="ttdeci">struct inode * afs_iget(struct super_block *, struct key *, struct afs_fid *, struct afs_file_status *, struct afs_callback *, struct afs_cb_interest *)</div><div class="ttdef"><b>Definition:</b> inode.c:270</div></div>
<div class="ttc" id="structafs__vnode_html_a277763ddcd17d9a217b0a55462a3d999"><div class="ttname"><a href="structafs__vnode.html#a277763ddcd17d9a217b0a55462a3d999">afs_vnode::cb_v_break</a></div><div class="ttdeci">unsigned int cb_v_break</div><div class="ttdef"><b>Definition:</b> internal.h:527</div></div>
<div class="ttc" id="structafs__volume_html_acc96a4f4536d32fdd2d86563d52a0c71"><div class="ttname"><a href="structafs__volume.html#acc96a4f4536d32fdd2d86563d52a0c71">afs_volume::cb_break_lock</a></div><div class="ttdeci">rwlock_t cb_break_lock</div><div class="ttdef"><b>Definition:</b> internal.h:465</div></div>
<div class="ttc" id="structafs__read_html_a9a82b89835999afb7aac7e15ab128258"><div class="ttname"><a href="structafs__read.html#a9a82b89835999afb7aac7e15ab128258">afs_read::index</a></div><div class="ttdeci">unsigned int index</div><div class="ttdef"><b>Definition:</b> internal.h:180</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3ad5d6556a5a27d37a7f2445f69bee7c"><div class="ttname"><a href="afs_2internal_8h.html#a3ad5d6556a5a27d37a7f2445f69bee7c">afs_sock2net</a></div><div class="ttdeci">static struct afs_net * afs_sock2net(struct sock *sk)</div><div class="ttdef"><b>Definition:</b> internal.h:825</div></div>
<div class="ttc" id="afs_2internal_8h_html_a9e16b9bcbaeb566333557418b76d83f0"><div class="ttname"><a href="afs_2internal_8h.html#a9e16b9bcbaeb566333557418b76d83f0">afs_iget_pseudo_dir</a></div><div class="ttdeci">struct inode * afs_iget_pseudo_dir(struct super_block *, bool)</div><div class="ttdef"><b>Definition:</b> inode.c:165</div></div>
<div class="ttc" id="structafs__vnode_html_a67156faf2024f40317ba1f1482c74069"><div class="ttname"><a href="structafs__vnode.html#a67156faf2024f40317ba1f1482c74069">afs_vnode::cb_expires_at</a></div><div class="ttdeci">time64_t cb_expires_at</div><div class="ttdef"><b>Definition:</b> internal.h:531</div></div>
<div class="ttc" id="structafs__fs__cursor_html_ab1a3b132ad78d2bb023fc4dbbe388f93"><div class="ttname"><a href="structafs__fs__cursor.html#ab1a3b132ad78d2bb023fc4dbbe388f93">afs_fs_cursor::vnode</a></div><div class="ttdeci">struct afs_vnode * vnode</div><div class="ttdef"><b>Definition:</b> internal.h:586</div></div>
<div class="ttc" id="structafs__permit_html_ae4a5dd2f511338f326fdd02cddf32bc1"><div class="ttname"><a href="structafs__permit.html#ae4a5dd2f511338f326fdd02cddf32bc1">afs_permit::access</a></div><div class="ttdeci">afs_access_t access</div><div class="ttdef"><b>Definition:</b> internal.h:541</div></div>
<div class="ttc" id="afs_2internal_8h_html_a9078e8bc21cbdf4c7025c351a53e1b81"><div class="ttname"><a href="afs_2internal_8h.html#a9078e8bc21cbdf4c7025c351a53e1b81">afs_get_net</a></div><div class="ttdeci">static struct afs_net * afs_get_net(struct afs_net *net)</div><div class="ttdef"><b>Definition:</b> internal.h:830</div></div>
<div class="ttc" id="structafs__call_html_a15ee81aa9a541f06fcf1e4aef7dad663"><div class="ttname"><a href="structafs__call.html#a15ee81aa9a541f06fcf1e4aef7dad663">afs_call::cm_server</a></div><div class="ttdeci">struct afs_server * cm_server</div><div class="ttdef"><b>Definition:</b> internal.h:91</div></div>
<div class="ttc" id="structafs__mount__params_html_ac10329695e26683d9a7325ad19588677"><div class="ttname"><a href="structafs__mount__params.html#ac10329695e26683d9a7325ad19588677">afs_mount_params::volume</a></div><div class="ttdeci">struct afs_volume * volume</div><div class="ttdef"><b>Definition:</b> internal.h:45</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae77fbf28e8aba94ddf1bc5ab7d55eb63"><div class="ttname"><a href="afs_2internal_8h.html#ae77fbf28e8aba94ddf1bc5ab7d55eb63">afs_evict_inode</a></div><div class="ttdeci">void afs_evict_inode(struct inode *)</div><div class="ttdef"><b>Definition:</b> inode.c:498</div></div>
<div class="ttc" id="structafs__addr__cursor_html"><div class="ttname"><a href="structafs__addr__cursor.html">afs_addr_cursor</a></div><div class="ttdef"><b>Definition:</b> internal.h:570</div></div>
<div class="ttc" id="structafs__call__type_html_a6d36404b5f8995ef3ccbaa4649a83885"><div class="ttname"><a href="structafs__call__type.html#a6d36404b5f8995ef3ccbaa4649a83885">afs_call_type::op</a></div><div class="ttdeci">unsigned int op</div><div class="ttdef"><b>Definition:</b> internal.h:131</div></div>
<div class="ttc" id="structafs__vldb__entry_html_a709653165e7b8f7add62230721ec6717"><div class="ttname"><a href="structafs__vldb__entry.html#a709653165e7b8f7add62230721ec6717">afs_vldb_entry::nr_servers</a></div><div class="ttdeci">u8 nr_servers</div><div class="ttdef"><b>Definition:</b> internal.h:367</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae34d6f6c4728b1ff9d99af81f6a9f855"><div class="ttname"><a href="afs_2internal_8h.html#ae34d6f6c4728b1ff9d99af81f6a9f855">afs_fs_extend_lock</a></div><div class="ttdeci">int afs_fs_extend_lock(struct afs_fs_cursor *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:1883</div></div>
<div class="ttc" id="structafs__net_html"><div class="ttname"><a href="structafs__net.html">afs_net</a></div><div class="ttdef"><b>Definition:</b> internal.h:220</div></div>
<div class="ttc" id="afs_2internal_8h_html_ab08b39c32fa3390fd631cb6483f3128c"><div class="ttname"><a href="afs_2internal_8h.html#ab08b39c32fa3390fd631cb6483f3128c">afs_lookup_cell</a></div><div class="ttdeci">struct afs_cell * afs_lookup_cell(struct afs_net *, const char *, unsigned, const char *, bool)</div></div>
<div class="ttc" id="structafs__cell_html_afdd663aec0766f8f071b68ac717e8900"><div class="ttname"><a href="structafs__cell.html#afdd663aec0766f8f071b68ac717e8900">afs_cell::dns_expiry</a></div><div class="ttdeci">time64_t dns_expiry</div><div class="ttdef"><b>Definition:</b> internal.h:323</div></div>
<div class="ttc" id="structafs__mount__params_html_a65e99990ffd9c25789a48eca9a0b4e11"><div class="ttname"><a href="structafs__mount__params.html#a65e99990ffd9c25789a48eca9a0b4e11">afs_mount_params::volname</a></div><div class="ttdeci">const char * volname</div><div class="ttdef"><b>Definition:</b> internal.h:42</div></div>
<div class="ttc" id="structafs__volume_html_a5bf73c4677b98ec69e78c1caf2ff7c55"><div class="ttname"><a href="structafs__volume.html#a5bf73c4677b98ec69e78c1caf2ff7c55">afs_volume::flags</a></div><div class="ttdeci">unsigned long flags</div><div class="ttdef"><b>Definition:</b> internal.h:450</div></div>
<div class="ttc" id="structafs__server__list_html"><div class="ttname"><a href="structafs__server__list.html">afs_server_list</a></div><div class="ttdef"><b>Definition:</b> internal.h:431</div></div>
<div class="ttc" id="structafs__cell_html_ae3bb6f54eb8e259282d2a2b3afdfa902"><div class="ttname"><a href="structafs__cell.html#ae3bb6f54eb8e259282d2a2b3afdfa902">afs_cell::vl_addrs</a></div><div class="ttdeci">struct afs_addr_list __rcu * vl_addrs</div><div class="ttdef"><b>Definition:</b> internal.h:341</div></div>
<div class="ttc" id="structafs__server__list_html_a7334628fb284f8ab8a5c5228eb0b671e"><div class="ttname"><a href="structafs__server__list.html#a7334628fb284f8ab8a5c5228eb0b671e">afs_server_list::seq</a></div><div class="ttdeci">unsigned int seq</div><div class="ttdef"><b>Definition:</b> internal.h:436</div></div>
<div class="ttc" id="structafs__vnode_html_a8b38163a20b967a96a1d89f9050478c0"><div class="ttname"><a href="structafs__vnode.html#a8b38163a20b967a96a1d89f9050478c0">afs_vnode::vfs_inode</a></div><div class="ttdeci">struct inode vfs_inode</div><div class="ttdef"><b>Definition:</b> internal.h:491</div></div>
<div class="ttc" id="structafs__fs__cursor_html_ae62d230cc4994249aee3778d7b18dd45"><div class="ttname"><a href="structafs__fs__cursor.html#ae62d230cc4994249aee3778d7b18dd45">afs_fs_cursor::server_list</a></div><div class="ttdeci">struct afs_server_list * server_list</div><div class="ttdef"><b>Definition:</b> internal.h:587</div></div>
<div class="ttc" id="afs_2internal_8h_html_a543ab64b81243be165175261a307249e"><div class="ttname"><a href="afs_2internal_8h.html#a543ab64b81243be165175261a307249e">afs_merge_fs_addr6</a></div><div class="ttdeci">void afs_merge_fs_addr6(struct afs_addr_list *, __be32 *, u16)</div><div class="ttdef"><b>Definition:</b> addr_list.c:275</div></div>
<div class="ttc" id="structafs__server_html"><div class="ttname"><a href="structafs__server.html">afs_server</a></div><div class="ttdef"><b>Definition:</b> internal.h:375</div></div>
<div class="ttc" id="structafs__volume_html_aee2b0c5b4e991ddd67d3a9f0e4c792cd"><div class="ttname"><a href="structafs__volume.html#aee2b0c5b4e991ddd67d3a9f0e4c792cd">afs_volume::error</a></div><div class="ttdeci">short error</div><div class="ttdef"><b>Definition:</b> internal.h:468</div></div>
<div class="ttc" id="afs_2internal_8h_html_aaac25a890c99d6fcb4cb429e93727ddc"><div class="ttname"><a href="afs_2internal_8h.html#aaac25a890c99d6fcb4cb429e93727ddc">afs_put_serverlist</a></div><div class="ttdeci">void afs_put_serverlist(struct afs_net *, struct afs_server_list *)</div><div class="ttdef"><b>Definition:</b> server_list.c:16</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0c14edf2f9b176b44698afd3b3d802d9ac17885507e5b031100aaa47fe4b90644"><div class="ttname"><a href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9ac17885507e5b031100aaa47fe4b90644">AFS_CALL_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> internal.h:62</div></div>
<div class="ttc" id="afs_2internal_8h_html_a041bca05693fe761a3bf43e7d8dad13a"><div class="ttname"><a href="afs_2internal_8h.html#a041bca05693fe761a3bf43e7d8dad13a">afs_update_inode_from_status</a></div><div class="ttdeci">void afs_update_inode_from_status(struct afs_vnode *, struct afs_file_status *, const afs_dataversion_t *, u8)</div><div class="ttdef"><b>Definition:</b> fsclient.c:70</div></div>
<div class="ttc" id="structafs__cell_html_a873f96464394f9ea79fa2a1341c42868"><div class="ttname"><a href="structafs__cell.html#a873f96464394f9ea79fa2a1341c42868">afs_cell::name_len</a></div><div class="ttdeci">u8 name_len</div><div class="ttdef"><b>Definition:</b> internal.h:342</div></div>
<div class="ttc" id="afs_2cache_8c_html_a97eb0ad42b0602104cd61eb82870cfef"><div class="ttname"><a href="afs_2cache_8c.html#a97eb0ad42b0602104cd61eb82870cfef">afs_cache_netfs</a></div><div class="ttdeci">struct fscache_netfs afs_cache_netfs</div><div class="ttdef"><b>Definition:</b> cache.c:20</div></div>
<div class="ttc" id="structafs__call_html_a59185c4a3678922bb01f6742fc439e01"><div class="ttname"><a href="structafs__call.html#a59185c4a3678922bb01f6742fc439e01">afs_call::cb_break</a></div><div class="ttdeci">unsigned int cb_break</div><div class="ttdef"><b>Definition:</b> internal.h:108</div></div>
<div class="ttc" id="structafs__fs__cursor_html_aee42ec65d75986e0ffea9520ce632e92"><div class="ttname"><a href="structafs__fs__cursor.html#aee42ec65d75986e0ffea9520ce632e92">afs_fs_cursor::index</a></div><div class="ttdeci">unsigned char index</div><div class="ttdef"><b>Definition:</b> internal.h:593</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae4a771b86216059d0128fd1e7cf7a8c3"><div class="ttname"><a href="afs_2internal_8h.html#ae4a771b86216059d0128fd1e7cf7a8c3">afs_create_volume</a></div><div class="ttdeci">struct afs_volume * afs_create_volume(struct afs_mount_params *)</div><div class="ttdef"><b>Definition:</b> volume.c:152</div></div>
<div class="ttc" id="structafs__addr__cursor_html_adf7a66905fa7820a50ab93137bd46705"><div class="ttname"><a href="structafs__addr__cursor.html#adf7a66905fa7820a50ab93137bd46705">afs_addr_cursor::index</a></div><div class="ttdeci">unsigned short index</div><div class="ttdef"><b>Definition:</b> internal.h:575</div></div>
<div class="ttc" id="afs_8h_html_a38e93ddc172f1f186bd8047fe754c10e"><div class="ttname"><a href="afs_8h.html#a38e93ddc172f1f186bd8047fe754c10e">afs_lock_type_t</a></div><div class="ttdeci">afs_lock_type_t</div><div class="ttdef"><b>Definition:</b> afs.h:43</div></div>
<div class="ttc" id="structafs__server_html_a4c5bd4932d59b498f18394c43fa3aa37"><div class="ttname"><a href="structafs__server.html#a4c5bd4932d59b498f18394c43fa3aa37">afs_server::fs_lock</a></div><div class="ttdeci">rwlock_t fs_lock</div><div class="ttdef"><b>Definition:</b> internal.h:404</div></div>
<div class="ttc" id="afs_2internal_8h_html_a8e1e3f569c568b4a3785e5c3c071f7e3"><div class="ttname"><a href="afs_2internal_8h.html#a8e1e3f569c568b4a3785e5c3c071f7e3">afs_zap_permits</a></div><div class="ttdeci">void afs_zap_permits(struct rcu_head *)</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4ce1b395f96dba53d265d5d12e590670"><div class="ttname"><a href="afs_2internal_8h.html#a4ce1b395f96dba53d265d5d12e590670">afs_file_key</a></div><div class="ttdeci">static struct key * afs_file_key(struct file *file)</div><div class="ttdef"><b>Definition:</b> internal.h:162</div></div>
<div class="ttc" id="structafs__super__info_html"><div class="ttname"><a href="structafs__super__info.html">afs_super_info</a></div><div class="ttdef"><b>Definition:</b> internal.h:191</div></div>
<div class="ttc" id="afs_2internal_8h_html_a9c7a6cfd94b177766abb7f7d388181b0"><div class="ttname"><a href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0">afs_page_filler</a></div><div class="ttdeci">int afs_page_filler(void *, struct page *)</div><div class="ttdef"><b>Definition:</b> file.c:263</div></div>
<div class="ttc" id="structafs__read_html_ab0cc61fd9a5a293e80495eed4673d5ff"><div class="ttname"><a href="structafs__read.html#ab0cc61fd9a5a293e80495eed4673d5ff">afs_read::remain</a></div><div class="ttdeci">loff_t remain</div><div class="ttdef"><b>Definition:</b> internal.h:176</div></div>
<div class="ttc" id="afs_2internal_8h_html_a43ef315c4e2dbe87288f4e9a7f7e93dd"><div class="ttname"><a href="afs_2internal_8h.html#a43ef315c4e2dbe87288f4e9a7f7e93dd">afs_debug</a></div><div class="ttdeci">unsigned afs_debug</div><div class="ttdef"><b>Definition:</b> main.c:25</div></div>
<div class="ttc" id="afs_2internal_8h_html_a81d51f20402483135d26909d85d15e2d"><div class="ttname"><a href="afs_2internal_8h.html#a81d51f20402483135d26909d85d15e2d">afs_proc_init</a></div><div class="ttdeci">int __net_init afs_proc_init(struct afs_net *)</div><div class="ttdef"><b>Definition:</b> proc.c:160</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4b1f2de07a03c3b71d6d9761c6e8ed53a4647d20eb2136dfd4b864a58a3a2071b"><div class="ttname"><a href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a4647d20eb2136dfd4b864a58a3a2071b">AFS_VNODE_LOCK_NEED_UNLOCK</a></div><div class="ttdef"><b>Definition:</b> internal.h:480</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4745ca5041a0fdf0a9c0e71ff4461826"><div class="ttname"><a href="afs_2internal_8h.html#a4745ca5041a0fdf0a9c0e71ff4461826">afs_vl_get_addrs_u</a></div><div class="ttdeci">struct afs_addr_list * afs_vl_get_addrs_u(struct afs_net *, struct afs_addr_cursor *, struct key *, const uuid_t *)</div><div class="ttdef"><b>Definition:</b> vlclient.c:270</div></div>
<div class="ttc" id="structafs__fs__cursor_html_ab6b52e7d25751927dc22595084049381"><div class="ttname"><a href="structafs__fs__cursor.html#ab6b52e7d25751927dc22595084049381">afs_fs_cursor::flags</a></div><div class="ttdeci">unsigned short flags</div><div class="ttdef"><b>Definition:</b> internal.h:594</div></div>
<div class="ttc" id="afs_2internal_8h_html_af1ee7732bdf3bb47391a9c2db2d75def"><div class="ttname"><a href="afs_2internal_8h.html#af1ee7732bdf3bb47391a9c2db2d75def">afs_clear_permits</a></div><div class="ttdeci">void afs_clear_permits(struct afs_vnode *)</div><div class="ttdef"><b>Definition:</b> security.c:82</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0e3cb35ab647d29e891dc242e5ddcfdb"><div class="ttname"><a href="afs_2internal_8h.html#a0e3cb35ab647d29e891dc242e5ddcfdb">afs_break_callbacks</a></div><div class="ttdeci">void afs_break_callbacks(struct afs_server *, size_t, struct afs_callback_break *)</div><div class="ttdef"><b>Definition:</b> callback.c:226</div></div>
<div class="ttc" id="structafs__permits_html"><div class="ttname"><a href="structafs__permits.html">afs_permits</a></div><div class="ttdef"><b>Definition:</b> internal.h:548</div></div>
<div class="ttc" id="structafs__volume_html_a069524c16c621b196392d036d458be10"><div class="ttname"><a href="structafs__volume.html#a069524c16c621b196392d036d458be10">afs_volume::type</a></div><div class="ttdeci">afs_voltype_t type</div><div class="ttdef"><b>Definition:</b> internal.h:467</div></div>
<div class="ttc" id="afs_2internal_8h_html_af40c0b89c86bd9e600473bf5bf316bca"><div class="ttname"><a href="afs_2internal_8h.html#af40c0b89c86bd9e600473bf5bf316bca">afs_put_addrlist</a></div><div class="ttdeci">void afs_put_addrlist(struct afs_addr_list *)</div><div class="ttdef"><b>Definition:</b> addr_list.c:28</div></div>
<div class="ttc" id="afs_2internal_8h_html_a1954fa2a726232f505959f868fa7d0a4"><div class="ttname"><a href="afs_2internal_8h.html#a1954fa2a726232f505959f868fa7d0a4">afs_file_operations</a></div><div class="ttdeci">const struct file_operations afs_file_operations</div><div class="ttdef"><b>Definition:</b> file.c:31</div></div>
<div class="ttc" id="structafs__fs__cursor_html"><div class="ttname"><a href="structafs__fs__cursor.html">afs_fs_cursor</a></div><div class="ttdef"><b>Definition:</b> internal.h:584</div></div>
<div class="ttc" id="structafs__super__info_html_ac2bd6ec5cf8219482b3103b09493a48b"><div class="ttname"><a href="structafs__super__info.html#ac2bd6ec5cf8219482b3103b09493a48b">afs_super_info::volume</a></div><div class="ttdeci">struct afs_volume * volume</div><div class="ttdef"><b>Definition:</b> internal.h:194</div></div>
<div class="ttc" id="structafs__volume_html_a6aef4b3232a13b437b9330487ad2351f"><div class="ttname"><a href="structafs__volume.html#a6aef4b3232a13b437b9330487ad2351f">afs_volume::name_len</a></div><div class="ttdeci">u8 name_len</div><div class="ttdef"><b>Definition:</b> internal.h:470</div></div>
<div class="ttc" id="structafs__sysnames_html_aab5f02f508540af225a50a405f81a0cc"><div class="ttname"><a href="structafs__sysnames.html#aab5f02f508540af225a50a405f81a0cc">afs_sysnames::nr</a></div><div class="ttdeci">unsigned short nr</div><div class="ttdef"><b>Definition:</b> internal.h:212</div></div>
<div class="ttc" id="afs_2internal_8h_html_a9fc8d335b2a5f3762d7552cf06b63d93"><div class="ttname"><a href="afs_2internal_8h.html#a9fc8d335b2a5f3762d7552cf06b63d93">afs_lock_manager</a></div><div class="ttdeci">struct workqueue_struct * afs_lock_manager</div><div class="ttdef"><b>Definition:</b> flock.c:17</div></div>
<div class="ttc" id="structafs__callback__break_html"><div class="ttname"><a href="structafs__callback__break.html">afs_callback_break</a></div><div class="ttdef"><b>Definition:</b> afs.h:75</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae6f103fb7ac4c0f0a3f45ea86314f7e1"><div class="ttname"><a href="afs_2internal_8h.html#ae6f103fb7ac4c0f0a3f45ea86314f7e1">afs_file_write</a></div><div class="ttdeci">ssize_t afs_file_write(struct kiocb *, struct iov_iter *)</div><div class="ttdef"><b>Definition:</b> write.c:711</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae77416aa8c3d397b2c747c0e8428b909"><div class="ttname"><a href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909">afs_set_call_complete</a></div><div class="ttdeci">static void afs_set_call_complete(struct afs_call *call, int error, u32 remote_abort)</div><div class="ttdef"><b>Definition:</b> internal.h:931</div></div>
<div class="ttc" id="summary_8h_html_a63c41f9614ee9a4e1beb75eabad72f22"><div class="ttname"><a href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a></div><div class="ttdeci">jint32_t inode</div><div class="ttdef"><b>Definition:</b> summary.h:848</div></div>
<div class="ttc" id="afs_2internal_8h_html_a13fe29b5fe144a615ccee62dcfed63a9"><div class="ttname"><a href="afs_2internal_8h.html#a13fe29b5fe144a615ccee62dcfed63a9">afs_validate</a></div><div class="ttdeci">int afs_validate(struct afs_vnode *, struct key *)</div><div class="ttdef"><b>Definition:</b> inode.c:379</div></div>
<div class="ttc" id="structafs__super__info_html_abad320f1a89435e6fcc7f1a9fd7505c2"><div class="ttname"><a href="structafs__super__info.html#abad320f1a89435e6fcc7f1a9fd7505c2">afs_super_info::net</a></div><div class="ttdeci">struct afs_net * net</div><div class="ttdef"><b>Definition:</b> internal.h:192</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae20f770d4a7b505a412683c528ecfb0a"><div class="ttname"><a href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a">afs_fetch_status</a></div><div class="ttdeci">int afs_fetch_status(struct afs_vnode *, struct key *, bool)</div><div class="ttdef"><b>Definition:</b> inode.c:98</div></div>
<div class="ttc" id="structafs__call_html_a5f82cdbc23d97f11e116e5b300b7d3b6"><div class="ttname"><a href="structafs__call.html#a5f82cdbc23d97f11e116e5b300b7d3b6">afs_call::reply_max</a></div><div class="ttdeci">unsigned reply_max</div><div class="ttdef"><b>Definition:</b> internal.h:106</div></div>
<div class="ttc" id="afs_2internal_8h_html_a88350058d73f1dbb95f117c46cd14193"><div class="ttname"><a href="afs_2internal_8h.html#a88350058d73f1dbb95f117c46cd14193">afs_try_auto_mntpt</a></div><div class="ttdeci">struct inode * afs_try_auto_mntpt(struct dentry *, struct inode *)</div><div class="ttdef"><b>Definition:</b> dynroot.c:59</div></div>
<div class="ttc" id="structafs__call_html_a3493cbdd7129d6650865606a8d08fa1b"><div class="ttname"><a href="structafs__call.html#a3493cbdd7129d6650865606a8d08fa1b">afs_call::key</a></div><div class="ttdeci">struct key * key</div><div class="ttdef"><b>Definition:</b> internal.h:89</div></div>
<div class="ttc" id="afs_2internal_8h_html_a90b8777c7b642a1704c74033cda95572"><div class="ttname"><a href="afs_2internal_8h.html#a90b8777c7b642a1704c74033cda95572">afs_cache_permit</a></div><div class="ttdeci">void afs_cache_permit(struct afs_vnode *, struct key *, unsigned int)</div><div class="ttdef"><b>Definition:</b> security.c:120</div></div>
<div class="ttc" id="structafs__cell_html_a21dc3c82d58e24abd9f82521d1b86ef3"><div class="ttname"><a href="structafs__cell.html#a21dc3c82d58e24abd9f82521d1b86ef3">afs_cell::flags</a></div><div class="ttdeci">unsigned long flags</div><div class="ttdef"><b>Definition:</b> internal.h:326</div></div>
<div class="ttc" id="afs_2internal_8h_html_afdda08920e7ab4169995ff02559a9c9d"><div class="ttname"><a href="afs_2internal_8h.html#afdda08920e7ab4169995ff02559a9c9d">afs_find_server</a></div><div class="ttdeci">struct afs_server * afs_find_server(struct afs_net *, const struct sockaddr_rxrpc *)</div><div class="ttdef"><b>Definition:</b> server.c:34</div></div>
<div class="ttc" id="afs_2internal_8h_html_aebc4dca57e6987e799c507ed5db328ce"><div class="ttname"><a href="afs_2internal_8h.html#aebc4dca57e6987e799c507ed5db328ce">afs_merge_fs_addr4</a></div><div class="ttdeci">void afs_merge_fs_addr4(struct afs_addr_list *, __be32, u16)</div><div class="ttdef"><b>Definition:</b> addr_list.c:239</div></div>
<div class="ttc" id="structafs__vnode_html_abeebc232111262fceaeb151f47ae8af7"><div class="ttname"><a href="structafs__vnode.html#abeebc232111262fceaeb151f47ae8af7">afs_vnode::lock_type</a></div><div class="ttdeci">afs_lock_type_t lock_type</div><div class="ttdef"><b>Definition:</b> internal.h:522</div></div>
<div class="ttc" id="structafs__vldb__entry_html_a212a64d9d96335c152dd4c3ff3223e4c"><div class="ttname"><a href="structafs__vldb__entry.html#a212a64d9d96335c152dd4c3ff3223e4c">afs_vldb_entry::flags</a></div><div class="ttdeci">unsigned long flags</div><div class="ttdef"><b>Definition:</b> internal.h:354</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0315300baec4a13163f18a797b9c5ca6"><div class="ttname"><a href="afs_2internal_8h.html#a0315300baec4a13163f18a797b9c5ca6">afs_fs_setattr</a></div><div class="ttdeci">int afs_fs_setattr(struct afs_fs_cursor *, struct iattr *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:1528</div></div>
<div class="ttc" id="afs_2internal_8h_html_afbd99b882d0648b79b1be32ec55c5f86"><div class="ttname"><a href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86">afs_transfer_reply</a></div><div class="ttdeci">static int afs_transfer_reply(struct afs_call *call)</div><div class="ttdef"><b>Definition:</b> internal.h:904</div></div>
<div class="ttc" id="afs_2internal_8h_html_acaddcd2e62a511315de0e3e15e0826ae"><div class="ttname"><a href="afs_2internal_8h.html#acaddcd2e62a511315de0e3e15e0826ae">afs_file_inode_operations</a></div><div class="ttdeci">const struct inode_operations afs_file_inode_operations</div><div class="ttdef"><b>Definition:</b> file.c:44</div></div>
<div class="ttc" id="structafs__net_html_a6df87ae04803cb69df61337fcf434ad5"><div class="ttname"><a href="structafs__net.html#a6df87ae04803cb69df61337fcf434ad5">afs_net::ws_cell</a></div><div class="ttdeci">struct afs_cell * ws_cell</div><div class="ttdef"><b>Definition:</b> internal.h:234</div></div>
<div class="ttc" id="structafs__call_html_a2c03f9ac6df3d0919fba93113b804238"><div class="ttname"><a href="structafs__call.html#a2c03f9ac6df3d0919fba93113b804238">afs_call::error</a></div><div class="ttdeci">int error</div><div class="ttdef"><b>Definition:</b> internal.h:103</div></div>
<div class="ttc" id="structafs__vnode_html_ab533447f02f6031785c812e9b513fc87"><div class="ttname"><a href="structafs__vnode.html#ab533447f02f6031785c812e9b513fc87">afs_vnode::cb_lock</a></div><div class="ttdeci">seqlock_t cb_lock</div><div class="ttdef"><b>Definition:</b> internal.h:529</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad32d7a6ab8e1967457659b503829203e"><div class="ttname"><a href="afs_2internal_8h.html#ad32d7a6ab8e1967457659b503829203e">afs_fs_inline_bulk_status</a></div><div class="ttdeci">int afs_fs_inline_bulk_status(struct afs_fs_cursor *, struct afs_net *, struct afs_fid *, struct afs_file_status *, struct afs_callback *, unsigned int, struct afs_volsync *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:2296</div></div>
<div class="ttc" id="afs_2internal_8h_html_af864156d029fbebc3aa6a8e456ace2e4"><div class="ttname"><a href="afs_2internal_8h.html#af864156d029fbebc3aa6a8e456ace2e4">afs_dir_file_operations</a></div><div class="ttdeci">const struct file_operations afs_dir_file_operations</div><div class="ttdef"><b>Definition:</b> dir.c:54</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4b1f2de07a03c3b71d6d9761c6e8ed53a9e5cbb637ea5a85d5f17d7b4398d84b5"><div class="ttname"><a href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a9e5cbb637ea5a85d5f17d7b4398d84b5">AFS_VNODE_LOCK_EXTENDING</a></div><div class="ttdef"><b>Definition:</b> internal.h:479</div></div>
<div class="ttc" id="afs_2internal_8h_html_abf836edf417988fe5d4975d3e9f12813"><div class="ttname"><a href="afs_2internal_8h.html#abf836edf417988fe5d4975d3e9f12813">afs_fs_release_lock</a></div><div class="ttdeci">int afs_fs_release_lock(struct afs_fs_cursor *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:1914</div></div>
<div class="ttc" id="afs_2internal_8h_html_a04b2ca0386df4d4604d5143160b08958"><div class="ttname"><a href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958">afs_lock</a></div><div class="ttdeci">int afs_lock(struct file *, int, struct file_lock *)</div><div class="ttdef"><b>Definition:</b> flock.c:638</div></div>
<div class="ttc" id="afs__vl_8h_html"><div class="ttname"><a href="afs__vl_8h.html">afs_vl.h</a></div></div>
<div class="ttc" id="afs_2internal_8h_html_a15630f5571bd703f349864c0ac0b570a"><div class="ttname"><a href="afs_2internal_8h.html#a15630f5571bd703f349864c0ac0b570a">afs_put_cb_interest</a></div><div class="ttdeci">void afs_put_cb_interest(struct afs_net *, struct afs_cb_interest *)</div><div class="ttdef"><b>Definition:</b> callback.c:127</div></div>
<div class="ttc" id="structafs__iget__data_html_ab989f27ebdca6503eff59cf09f8c7ec3"><div class="ttname"><a href="structafs__iget__data.html#ab989f27ebdca6503eff59cf09f8c7ec3">afs_iget_data::volume</a></div><div class="ttdeci">struct afs_volume * volume</div><div class="ttdef"><b>Definition:</b> internal.h:51</div></div>
<div class="ttc" id="afs_2internal_8h_html_a6fc29945104c0f99fc6ae24bdfcbd827"><div class="ttname"><a href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827">afs_break_callback</a></div><div class="ttdeci">void afs_break_callback(struct afs_vnode *)</div><div class="ttdef"><b>Definition:</b> callback.c:152</div></div>
<div class="ttc" id="ntfs_2debug_8h_html_a65b1b0602e37268ec9bc2c240a676c39"><div class="ttname"><a href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a></div><div class="ttdeci">const struct super_block * sb</div><div class="ttdef"><b>Definition:</b> debug.h:62</div></div>
<div class="ttc" id="structafs__read_html"><div class="ttname"><a href="structafs__read.html">afs_read</a></div><div class="ttdef"><b>Definition:</b> internal.h:172</div></div>
<div class="ttc" id="structafs__cb__interest_html_a8bd419a1e97d5512d0f8c714febd6fc1"><div class="ttname"><a href="structafs__cb__interest.html#a8bd419a1e97d5512d0f8c714febd6fc1">afs_cb_interest::usage</a></div><div class="ttdeci">refcount_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:420</div></div>
<div class="ttc" id="structafs__net_html_a7eb445dd4fea2f914afa36fbd9110c62"><div class="ttname"><a href="structafs__net.html#a7eb445dd4fea2f914afa36fbd9110c62">afs_net::servers_outstanding</a></div><div class="ttdeci">atomic_t servers_outstanding</div><div class="ttdef"><b>Definition:</b> internal.h:258</div></div>
<div class="ttc" id="structafs__volume_html_afc997ca0c0f2ff5f1264144d99adfa9e"><div class="ttname"><a href="structafs__volume.html#afc997ca0c0f2ff5f1264144d99adfa9e">afs_volume::cell</a></div><div class="ttdeci">struct afs_cell * cell</div><div class="ttdef"><b>Definition:</b> internal.h:448</div></div>
<div class="ttc" id="structafs__file_html_a8a2d737fb6dd912b9354b5d4da926ca8"><div class="ttname"><a href="structafs__file.html#a8a2d737fb6dd912b9354b5d4da926ca8">afs_file::key</a></div><div class="ttdeci">struct key * key</div><div class="ttdef"><b>Definition:</b> internal.h:158</div></div>
<div class="ttc" id="structafs__net_html_aadb66bb23d0b84087fe72acb1ba2ed35"><div class="ttname"><a href="structafs__net.html#aadb66bb23d0b84087fe72acb1ba2ed35">afs_net::n_store_bytes</a></div><div class="ttdeci">atomic_long_t n_store_bytes</div><div class="ttdef"><b>Definition:</b> internal.h:277</div></div>
<div class="ttc" id="structafs__addr__cursor_html_a7c5d9c57f8b5cdf35a616c9f9de1965a"><div class="ttname"><a href="structafs__addr__cursor.html#a7c5d9c57f8b5cdf35a616c9f9de1965a">afs_addr_cursor::responded</a></div><div class="ttdeci">bool responded</div><div class="ttdef"><b>Definition:</b> internal.h:578</div></div>
<div class="ttc" id="afs_2internal_8h_html_aa651de265b34059bc7e8ac71a901adba"><div class="ttname"><a href="afs_2internal_8h.html#aa651de265b34059bc7e8ac71a901adba">afs_writepage</a></div><div class="ttdeci">int afs_writepage(struct page *, struct writeback_control *)</div><div class="ttdef"><b>Definition:</b> write.c:549</div></div>
<div class="ttc" id="structafs__call_html_a8b480fba15d32883a7fe39cf8a219e4e"><div class="ttname"><a href="structafs__call.html#a8b480fba15d32883a7fe39cf8a219e4e">afs_call::mapping</a></div><div class="ttdeci">struct address_space * mapping</div><div class="ttdef"><b>Definition:</b> internal.h:94</div></div>
<div class="ttc" id="structafs__cell_html_a24ca49ffc1c7a494401efea161add0ba"><div class="ttname"><a href="structafs__cell.html#a24ca49ffc1c7a494401efea161add0ba">afs_cell::error</a></div><div class="ttdeci">short error</div><div class="ttdef"><b>Definition:</b> internal.h:333</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4319ab62063070e450460f28d1b250f3"><div class="ttname"><a href="afs_2internal_8h.html#a4319ab62063070e450460f28d1b250f3">AFS_FS_I</a></div><div class="ttdeci">static struct afs_vnode * AFS_FS_I(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> internal.h:1064</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad008c7ef77f219f317884729d4905a41"><div class="ttname"><a href="afs_2internal_8h.html#ad008c7ef77f219f317884729d4905a41">afs_servers_timer</a></div><div class="ttdeci">void afs_servers_timer(struct timer_list *)</div><div class="ttdef"><b>Definition:</b> server.c:338</div></div>
<div class="ttc" id="afs_2internal_8h_html_a2fcce8daf390e1c284f7d04dc31beb81"><div class="ttname"><a href="afs_2internal_8h.html#a2fcce8daf390e1c284f7d04dc31beb81">afs_dir_inode_operations</a></div><div class="ttdeci">const struct inode_operations afs_dir_inode_operations</div><div class="ttdef"><b>Definition:</b> dir.c:62</div></div>
<div class="ttc" id="afs_2internal_8h_html_aee9ca28242b49a7d6f92e9a106520094"><div class="ttname"><a href="afs_2internal_8h.html#aee9ca28242b49a7d6f92e9a106520094">afs_dynroot_dentry_operations</a></div><div class="ttdeci">const struct dentry_operations afs_dynroot_dentry_operations</div><div class="ttdef"><b>Definition:</b> dynroot.c:204</div></div>
<div class="ttc" id="structafs__sysnames_html_a3939ebca209adca56563f0e523989f75"><div class="ttname"><a href="structafs__sysnames.html#a3939ebca209adca56563f0e523989f75">afs_sysnames::error</a></div><div class="ttdeci">short error</div><div class="ttdef"><b>Definition:</b> internal.h:213</div></div>
<div class="ttc" id="afs_2internal_8h_html_af557656943ba72da35e9f9232633c200"><div class="ttname"><a href="afs_2internal_8h.html#af557656943ba72da35e9f9232633c200">afs_open_socket</a></div><div class="ttdeci">int __net_init afs_open_socket(struct afs_net *)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:40</div></div>
<div class="ttc" id="afs_8h_html_aab88bfc3233e1bad3f1d01aea9473a9d"><div class="ttname"><a href="afs_8h.html#aab88bfc3233e1bad3f1d01aea9473a9d">afs_dataversion_t</a></div><div class="ttdeci">unsigned long long afs_dataversion_t</div><div class="ttdef"><b>Definition:</b> afs.h:28</div></div>
<div class="ttc" id="structafs__addr__list_html_aef6b5c93c67b353d62d55a8282aea07e"><div class="ttname"><a href="structafs__addr__list.html#aef6b5c93c67b353d62d55a8282aea07e">afs_addr_list::usage</a></div><div class="ttdeci">refcount_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:70</div></div>
<div class="ttc" id="afs_2internal_8h_html_a5c353326206587a68eed919d55343dd5"><div class="ttname"><a href="afs_2internal_8h.html#a5c353326206587a68eed919d55343dd5">AFS_VNODE_DELETED</a></div><div class="ttdeci">#define AFS_VNODE_DELETED</div><div class="ttdef"><b>Definition:</b> internal.h:510</div></div>
<div class="ttc" id="structafs__call_html_ada9e21be2f6de9241b4f1ae433a177ff"><div class="ttname"><a href="structafs__call.html#ada9e21be2f6de9241b4f1ae433a177ff">afs_call::count2</a></div><div class="ttdeci">unsigned count2</div><div class="ttdef"><b>Definition:</b> internal.h:111</div></div>
<div class="ttc" id="structafs__call_html_a4db56fbdac6eba149b2e5c0e759b852a"><div class="ttname"><a href="structafs__call.html#a4db56fbdac6eba149b2e5c0e759b852a">afs_call::expected_version</a></div><div class="ttdeci">afs_dataversion_t expected_version</div><div class="ttdef"><b>Definition:</b> internal.h:125</div></div>
<div class="ttc" id="afs_8h_html_a975ee1160d2a1bb3c3d05ea22e14d92c"><div class="ttname"><a href="afs_8h.html#a975ee1160d2a1bb3c3d05ea22e14d92c">afs_access_t</a></div><div class="ttdeci">u32 afs_access_t</div><div class="ttdef"><b>Definition:</b> afs.h:109</div></div>
<div class="ttc" id="afs_2internal_8h_html_a48942300cc626a94db1d8473eb0b948d"><div class="ttname"><a href="afs_2internal_8h.html#a48942300cc626a94db1d8473eb0b948d">afs_cell_cache_index_def</a></div><div class="ttdeci">#define afs_cell_cache_index_def</div><div class="ttdef"><b>Definition:</b> internal.h:645</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae2ec4df4291711ca4ed143da8956ab18"><div class="ttname"><a href="afs_2internal_8h.html#ae2ec4df4291711ca4ed143da8956ab18">afs_d2net</a></div><div class="ttdeci">static struct afs_net * afs_d2net(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> internal.h:810</div></div>
<div class="ttc" id="afs_2internal_8h_html_a34a5bb56e552244da5d74cd73be192ef"><div class="ttname"><a href="afs_2internal_8h.html#a34a5bb56e552244da5d74cd73be192ef">afs_release</a></div><div class="ttdeci">int afs_release(struct inode *, struct file *)</div><div class="ttdef"><b>Definition:</b> file.c:168</div></div>
<div class="ttc" id="afs_2internal_8h_html_abdab703a1b353bf1ba85cb0dce16f0d7"><div class="ttname"><a href="afs_2internal_8h.html#abdab703a1b353bf1ba85cb0dce16f0d7">afs_drop_inode</a></div><div class="ttdeci">int afs_drop_inode(struct inode *)</div><div class="ttdef"><b>Definition:</b> inode.c:485</div></div>
<div class="ttc" id="structafs__fs__cursor_html_a379686fbe1a224bf83bfea8c42a07d56"><div class="ttname"><a href="structafs__fs__cursor.html#a379686fbe1a224bf83bfea8c42a07d56">afs_fs_cursor::cb_break</a></div><div class="ttdeci">unsigned int cb_break</div><div class="ttdef"><b>Definition:</b> internal.h:590</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3bf4c96cedd496b1daca5041d99cc003a32f3f62ae45c5081c8cbb4911e3d5986"><div class="ttname"><a href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a32f3f62ae45c5081c8cbb4911e3d5986">AFS_CELL_FAILED</a></div><div class="ttdef"><b>Definition:</b> internal.h:291</div></div>
<div class="ttc" id="structafs__net_html_a238b31788c3d93f70c03a40c9521d166"><div class="ttname"><a href="structafs__net.html#a238b31788c3d93f70c03a40c9521d166">afs_net::n_fetches</a></div><div class="ttdeci">atomic_t n_fetches</div><div class="ttdef"><b>Definition:</b> internal.h:279</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4fd74bab52b3e5afe359570b2e539fc8"><div class="ttname"><a href="afs_2internal_8h.html#a4fd74bab52b3e5afe359570b2e539fc8">afs_activate_volume</a></div><div class="ttdeci">void afs_activate_volume(struct afs_volume *)</div><div class="ttdef"><b>Definition:</b> volume.c:223</div></div>
<div class="ttc" id="afs_2internal_8h_html_ab4302cbd2412104c3f1394d707f8d443"><div class="ttname"><a href="afs_2internal_8h.html#ab4302cbd2412104c3f1394d707f8d443">afs_init_callback_state</a></div><div class="ttdeci">void afs_init_callback_state(struct afs_server *)</div><div class="ttdef"><b>Definition:</b> callback.c:143</div></div>
<div class="ttc" id="structafs__cb__interest_html_a06023567e760440598cfef7fe68831d9"><div class="ttname"><a href="structafs__cb__interest.html#a06023567e760440598cfef7fe68831d9">afs_cb_interest::server</a></div><div class="ttdeci">struct afs_server * server</div><div class="ttdef"><b>Definition:</b> internal.h:417</div></div>
<div class="ttc" id="structafs__server_html_a6e5ab7df4c9ec9c273c03ca4203bd1c6"><div class="ttname"><a href="structafs__server.html#a6e5ab7df4c9ec9c273c03ca4203bd1c6">afs_server::cb_break_lock</a></div><div class="ttdeci">rwlock_t cb_break_lock</div><div class="ttdef"><b>Definition:</b> internal.h:409</div></div>
<div class="ttc" id="structafs__addr__list_html_a99d65449d3ab1f21249376f03230407e"><div class="ttname"><a href="structafs__addr__list.html#a99d65449d3ab1f21249376f03230407e">afs_addr_list::probed</a></div><div class="ttdeci">unsigned long probed</div><div class="ttdef"><b>Definition:</b> internal.h:75</div></div>
<div class="ttc" id="afs_2internal_8h_html_a7903104f5ae92cb09d002470375e0f44"><div class="ttname"><a href="afs_2internal_8h.html#a7903104f5ae92cb09d002470375e0f44">afs_check_volume_status</a></div><div class="ttdeci">int afs_check_volume_status(struct afs_volume *, struct key *)</div><div class="ttdef"><b>Definition:</b> volume.c:325</div></div>
<div class="ttc" id="afs_2internal_8h_html_affc2562f0910f382f6da86a39e85514f"><div class="ttname"><a href="afs_2internal_8h.html#affc2562f0910f382f6da86a39e85514f">AFS_NR_SYSNAME</a></div><div class="ttdeci">#define AFS_NR_SYSNAME</div><div class="ttdef"><b>Definition:</b> internal.h:209</div></div>
<div class="ttc" id="structafs__wb__key_html_a0a639b176e4731ae7d603482a50a2788"><div class="ttname"><a href="structafs__wb__key.html#a0a639b176e4731ae7d603482a50a2788">afs_wb_key::key</a></div><div class="ttdeci">struct key * key</div><div class="ttdef"><b>Definition:</b> internal.h:150</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae8872c83870114aac74166f3301c4cad"><div class="ttname"><a href="afs_2internal_8h.html#ae8872c83870114aac74166f3301c4cad">afs_put_call</a></div><div class="ttdeci">void afs_put_call(struct afs_call *)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:156</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0c14edf2f9b176b44698afd3b3d802d9a85264832bd0b3bd7cd4a132ecb1e6564"><div class="ttname"><a href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a85264832bd0b3bd7cd4a132ecb1e6564">AFS_CALL_CL_AWAIT_REPLY</a></div><div class="ttdef"><b>Definition:</b> internal.h:56</div></div>
<div class="ttc" id="afs_2internal_8h_html_ab4496a1659cdf23a52655d7125b1802b"><div class="ttname"><a href="afs_2internal_8h.html#ab4496a1659cdf23a52655d7125b1802b">afs_put_permits</a></div><div class="ttdeci">void afs_put_permits(struct afs_permits *)</div><div class="ttdef"><b>Definition:</b> security.c:69</div></div>
<div class="ttc" id="structafs__volume_html_af9934cf297df9764167aa777b4c8b7eb"><div class="ttname"><a href="structafs__volume.html#af9934cf297df9764167aa777b4c8b7eb">afs_volume::servers_seq</a></div><div class="ttdeci">unsigned int servers_seq</div><div class="ttdef"><b>Definition:</b> internal.h:462</div></div>
<div class="ttc" id="structafs__vnode_html_a12f83cb138b5af49e9c5f4bbfb7be12f"><div class="ttname"><a href="structafs__vnode.html#a12f83cb138b5af49e9c5f4bbfb7be12f">afs_vnode::cb_interest</a></div><div class="ttdeci">struct afs_cb_interest * cb_interest</div><div class="ttdef"><b>Definition:</b> internal.h:525</div></div>
<div class="ttc" id="structafs__call_html_aa9fe68792fec20c140bfcae77b20a217"><div class="ttname"><a href="structafs__call.html#aa9fe68792fec20c140bfcae77b20a217">afs_call::upgrade</a></div><div class="ttdeci">bool upgrade</div><div class="ttdef"><b>Definition:</b> internal.h:119</div></div>
<div class="ttc" id="afs_2internal_8h_html_a9ed207f1629e713531a20dc674198545"><div class="ttname"><a href="afs_2internal_8h.html#a9ed207f1629e713531a20dc674198545">afs_i2net</a></div><div class="ttdeci">static struct afs_net * afs_i2net(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> internal.h:815</div></div>
<div class="ttc" id="structafs__call_html_ac64c5cdaed5442980194994e6729b3c3"><div class="ttname"><a href="structafs__call.html#ac64c5cdaed5442980194994e6729b3c3">afs_call::expected_version_2</a></div><div class="ttdeci">afs_dataversion_t expected_version_2</div><div class="ttdef"><b>Definition:</b> internal.h:126</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad1fa7e06de6c6046b0904b02570e03cd"><div class="ttname"><a href="afs_2internal_8h.html#ad1fa7e06de6c6046b0904b02570e03cd">afs_cm_incoming_call</a></div><div class="ttdeci">bool afs_cm_incoming_call(struct afs_call *)</div><div class="ttdef"><b>Definition:</b> cmservice.c:107</div></div>
<div class="ttc" id="structafs__permits_html_a4ab6d9c2619cba5aabff08b982ac954e"><div class="ttname"><a href="structafs__permits.html#a4ab6d9c2619cba5aabff08b982ac954e">afs_permits::invalidated</a></div><div class="ttdeci">bool invalidated</div><div class="ttdef"><b>Definition:</b> internal.h:554</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4e8be982019024711447ee525b1896ea"><div class="ttname"><a href="afs_2internal_8h.html#a4e8be982019024711447ee525b1896ea">afs_put_volume</a></div><div class="ttdeci">void afs_put_volume(struct afs_cell *, struct afs_volume *)</div><div class="ttdef"><b>Definition:</b> volume.c:210</div></div>
<div class="ttc" id="structafs__fs__cursor_html_aa3c4004020965f1307d26d831f93cf1b"><div class="ttname"><a href="structafs__fs__cursor.html#aa3c4004020965f1307d26d831f93cf1b">afs_fs_cursor::cbi</a></div><div class="ttdeci">struct afs_cb_interest * cbi</div><div class="ttdef"><b>Definition:</b> internal.h:588</div></div>
<div class="ttc" id="structafs__vldb__entry_html"><div class="ttname"><a href="structafs__vldb__entry.html">afs_vldb_entry</a></div><div class="ttdef"><b>Definition:</b> internal.h:351</div></div>
<div class="ttc" id="structafs__net_html_a97d164a0e3af591444d7727f8f4bd9ad"><div class="ttname"><a href="structafs__net.html#a97d164a0e3af591444d7727f8f4bd9ad">afs_net::n_read_dir</a></div><div class="ttdeci">atomic_t n_read_dir</div><div class="ttdef"><b>Definition:</b> internal.h:273</div></div>
<div class="ttc" id="afs_2internal_8h_html_a496e1daf1dcff1dbd413788d695ab991"><div class="ttname"><a href="afs_2internal_8h.html#a496e1daf1dcff1dbd413788d695ab991">afs_volume_cache_index_def</a></div><div class="ttdeci">#define afs_volume_cache_index_def</div><div class="ttdef"><b>Definition:</b> internal.h:646</div></div>
<div class="ttc" id="structafs__vnode_html_ae0aca32033ef20e4538a209e478f5ae2"><div class="ttname"><a href="structafs__vnode.html#ae0aca32033ef20e4538a209e478f5ae2">afs_vnode::cb_break</a></div><div class="ttdeci">unsigned int cb_break</div><div class="ttdef"><b>Definition:</b> internal.h:528</div></div>
<div class="ttc" id="afs_2internal_8h_html_a75c254a28f0518b627a3336b57de87c4"><div class="ttname"><a href="afs_2internal_8h.html#a75c254a28f0518b627a3336b57de87c4">afs_annotate_server_list</a></div><div class="ttdeci">bool afs_annotate_server_list(struct afs_server_list *, struct afs_server_list *)</div><div class="ttdef"><b>Definition:</b> server_list.c:105</div></div>
<div class="ttc" id="structafs__net_html_a6bb75f0d33c04f66ab155da4f83cbd5d"><div class="ttname"><a href="structafs__net.html#a6bb75f0d33c04f66ab155da4f83cbd5d">afs_net::live</a></div><div class="ttdeci">bool live</div><div class="ttdef"><b>Definition:</b> internal.h:222</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad0da2b1acac130ae38fcbf223520a184"><div class="ttname"><a href="afs_2internal_8h.html#ad0da2b1acac130ae38fcbf223520a184">afs_probe_fileserver</a></div><div class="ttdeci">bool afs_probe_fileserver(struct afs_fs_cursor *)</div><div class="ttdef"><b>Definition:</b> server.c:580</div></div>
<div class="ttc" id="structproc__dir__entry_html"><div class="ttname"><a href="structproc__dir__entry.html">proc_dir_entry</a></div><div class="ttdef"><b>Definition:</b> internal.h:34</div></div>
<div class="ttc" id="structafs__net_html_a91c1240d7ab8250ab09a23cb62f80464"><div class="ttname"><a href="structafs__net.html#a91c1240d7ab8250ab09a23cb62f80464">afs_net::spare_incoming_call</a></div><div class="ttdeci">struct afs_call * spare_incoming_call</div><div class="ttdef"><b>Definition:</b> internal.h:226</div></div>
<div class="ttc" id="afs_2internal_8h_html_a731f8547eebd08458c3921fdd50e35ee"><div class="ttname"><a href="afs_2internal_8h.html#a731f8547eebd08458c3921fdd50e35ee">afs_xattr_handlers</a></div><div class="ttdeci">const struct xattr_handler * afs_xattr_handlers[]</div><div class="ttdef"><b>Definition:</b> xattr.c:116</div></div>
<div class="ttc" id="structafs__interface_html"><div class="ttname"><a href="structafs__interface.html">afs_interface</a></div><div class="ttdef"><b>Definition:</b> internal.h:561</div></div>
<div class="ttc" id="structafs__server_html_afb8e741c276f599d97abae0e878f2578"><div class="ttname"><a href="structafs__server.html#afb8e741c276f599d97abae0e878f2578">afs_server::addresses</a></div><div class="ttdeci">struct afs_addr_list __rcu * addresses</div><div class="ttdef"><b>Definition:</b> internal.h:382</div></div>
<div class="ttc" id="structafs__call_html_aea4986d423df6f9e32a30f50d8166fb1"><div class="ttname"><a href="structafs__call.html#aea4986d423df6f9e32a30f50d8166fb1">afs_call::net</a></div><div class="ttdeci">struct afs_net * net</div><div class="ttdef"><b>Definition:</b> internal.h:90</div></div>
<div class="ttc" id="structafs__vnode_html_a2ad24986c3f32a23b9f726981b6e1710"><div class="ttname"><a href="structafs__vnode.html#a2ad24986c3f32a23b9f726981b6e1710">afs_vnode::wb_lock</a></div><div class="ttdeci">spinlock_t wb_lock</div><div class="ttdef"><b>Definition:</b> internal.h:503</div></div>
<div class="ttc" id="structafs__vnode__cache__aux_html_a9b1361ddec92a4c7bfb724065f88073a"><div class="ttname"><a href="structafs__vnode__cache__aux.html#a9b1361ddec92a4c7bfb724065f88073a">afs_vnode_cache_aux::data_version</a></div><div class="ttdeci">u64 data_version</div><div class="ttdef"><b>Definition:</b> internal.h:607</div></div>
<div class="ttc" id="structafs__mount__params_html_aca4c16275ae911d07fc1dc6df6991bc0"><div class="ttname"><a href="structafs__mount__params.html#aca4c16275ae911d07fc1dc6df6991bc0">afs_mount_params::dyn_root</a></div><div class="ttdeci">bool dyn_root</div><div class="ttdef"><b>Definition:</b> internal.h:39</div></div>
<div class="ttc" id="afs_2internal_8h_html_ab59afd7aca3ad37e16fa77a7269166bc"><div class="ttname"><a href="afs_2internal_8h.html#ab59afd7aca3ad37e16fa77a7269166bc">afs_mntpt_kill_timer</a></div><div class="ttdeci">void afs_mntpt_kill_timer(void)</div><div class="ttdef"><b>Definition:</b> mntpt.c:214</div></div>
<div class="ttc" id="afs_2internal_8h_html_aeed68744612ed49ebb9f38dae92533d9"><div class="ttname"><a href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9">afs_v2net</a></div><div class="ttdeci">static struct afs_net * afs_v2net(struct afs_vnode *vnode)</div><div class="ttdef"><b>Definition:</b> internal.h:820</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad677973400c7c916c94b0a310dd4bcec"><div class="ttname"><a href="afs_2internal_8h.html#ad677973400c7c916c94b0a310dd4bcec">afs_find_server_by_uuid</a></div><div class="ttdeci">struct afs_server * afs_find_server_by_uuid(struct afs_net *, const uuid_t *)</div><div class="ttdef"><b>Definition:</b> server.c:104</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3bf4c96cedd496b1daca5041d99cc003"><div class="ttname"><a href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003">afs_cell_state</a></div><div class="ttdeci">afs_cell_state</div><div class="ttdef"><b>Definition:</b> internal.h:285</div></div>
<div class="ttc" id="structafs__call_html_a2a0ab585d0f6205177ae97a567bff832"><div class="ttname"><a href="structafs__call.html#a2a0ab585d0f6205177ae97a567bff832">afs_call::waitq</a></div><div class="ttdeci">wait_queue_head_t waitq</div><div class="ttdef"><b>Definition:</b> internal.h:85</div></div>
<div class="ttc" id="structafs__call_html_a5fbf733c1ec1aaea861a4a8c94a12c7d"><div class="ttname"><a href="structafs__call.html#a5fbf733c1ec1aaea861a4a8c94a12c7d">afs_call::service_id</a></div><div class="ttdeci">u16 service_id</div><div class="ttdef"><b>Definition:</b> internal.h:120</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3345bf5b612581b757a3cc7266415b09"><div class="ttname"><a href="afs_2internal_8h.html#a3345bf5b612581b757a3cc7266415b09">afs_dns_query</a></div><div class="ttdeci">struct afs_addr_list * afs_dns_query(struct afs_cell *, time64_t *)</div><div class="ttdef"><b>Definition:</b> addr_list.c:210</div></div>
<div class="ttc" id="structafs__volume_html_ad503e0e7147ae2d7312770e7756f2a07"><div class="ttname"><a href="structafs__volume.html#ad503e0e7147ae2d7312770e7756f2a07">afs_volume::usage</a></div><div class="ttdeci">atomic_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:446</div></div>
<div class="ttc" id="afs_2internal_8h_html_a60b1aaeba2c7cf4d11fa7620f4ed4322"><div class="ttname"><a href="afs_2internal_8h.html#a60b1aaeba2c7cf4d11fa7620f4ed4322">afs_fs_get_capabilities</a></div><div class="ttdeci">int afs_fs_get_capabilities(struct afs_net *, struct afs_server *, struct afs_addr_cursor *, struct key *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:2055</div></div>
<div class="ttc" id="structafs__cb__interest_html_a4c51d2d2ee3ced45a37cf85cbf2f8520"><div class="ttname"><a href="structafs__cb__interest.html#a4c51d2d2ee3ced45a37cf85cbf2f8520">afs_cb_interest::sb</a></div><div class="ttdeci">struct super_block * sb</div><div class="ttdef"><b>Definition:</b> internal.h:418</div></div>
<div class="ttc" id="structafs__mount__params_html_a993124ac96bc816da2d4b91a9685c7f1"><div class="ttname"><a href="structafs__mount__params.html#a993124ac96bc816da2d4b91a9685c7f1">afs_mount_params::force</a></div><div class="ttdeci">bool force</div><div class="ttdef"><b>Definition:</b> internal.h:37</div></div>
<div class="ttc" id="afs_2internal_8h_html_af79f4fac2041d7339b848eebcf89fc53"><div class="ttname"><a href="afs_2internal_8h.html#af79f4fac2041d7339b848eebcf89fc53">afs_set_vl_cursor</a></div><div class="ttdeci">int afs_set_vl_cursor(struct afs_addr_cursor *, struct afs_cell *)</div><div class="ttdef"><b>Definition:</b> addr_list.c:358</div></div>
<div class="ttc" id="structafs__addr__cursor_html_ae944fb2f87dbaf27057479d3dd3c382b"><div class="ttname"><a href="structafs__addr__cursor.html#ae944fb2f87dbaf27057479d3dd3c382b">afs_addr_cursor::abort_code</a></div><div class="ttdeci">u32 abort_code</div><div class="ttdef"><b>Definition:</b> internal.h:573</div></div>
<div class="ttc" id="afs_2internal_8h_html_a70b72a06652b89ad9da5d68e012e070e"><div class="ttname"><a href="afs_2internal_8h.html#a70b72a06652b89ad9da5d68e012e070e">afs_flock</a></div><div class="ttdeci">int afs_flock(struct file *, int, struct file_lock *)</div><div class="ttdef"><b>Definition:</b> flock.c:661</div></div>
<div class="ttc" id="structafs__call_html_a0be7cc34f77594e2b48df92ccca7d188"><div class="ttname"><a href="structafs__call.html#a0be7cc34f77594e2b48df92ccca7d188">afs_call::rxcall</a></div><div class="ttdeci">struct rxrpc_call * rxcall</div><div class="ttdef"><b>Definition:</b> internal.h:88</div></div>
<div class="ttc" id="structafs__call_html_a4480240c27933892852b09cc2d28e32d"><div class="ttname"><a href="structafs__call.html#a4480240c27933892852b09cc2d28e32d">afs_call::need_attention</a></div><div class="ttdeci">bool need_attention</div><div class="ttdef"><b>Definition:</b> internal.h:116</div></div>
<div class="ttc" id="structafs__net_html_a219dca104dc707c6a19ef35b3054c0d2"><div class="ttname"><a href="structafs__net.html#a219dca104dc707c6a19ef35b3054c0d2">afs_net::n_fetch_bytes</a></div><div class="ttdeci">atomic_long_t n_fetch_bytes</div><div class="ttdef"><b>Definition:</b> internal.h:278</div></div>
<div class="ttc" id="structafs__server__entry_html_abfab0569b34f9a4b8a4b76cc9052e7db"><div class="ttname"><a href="structafs__server__entry.html#abfab0569b34f9a4b8a4b76cc9052e7db">afs_server_entry::server</a></div><div class="ttdeci">struct afs_server * server</div><div class="ttdef"><b>Definition:</b> internal.h:427</div></div>
<div class="ttc" id="structafs__call__type_html_ae7af2df3bc4312ff7ac2cf1b666606ac"><div class="ttname"><a href="structafs__call__type.html#ae7af2df3bc4312ff7ac2cf1b666606ac">afs_call_type::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> internal.h:130</div></div>
<div class="ttc" id="afs_2internal_8h_html_afee73f4aaa33a270d943273aba5df86c"><div class="ttname"><a href="afs_2internal_8h.html#afee73f4aaa33a270d943273aba5df86c">afs_fs_type</a></div><div class="ttdeci">struct file_system_type afs_fs_type</div><div class="ttdef"><b>Definition:</b> super.c:42</div></div>
<div class="ttc" id="structafs__net_html_a849a0d9e84f69ece58f666c4bb300ce2"><div class="ttname"><a href="structafs__net.html#a849a0d9e84f69ece58f666c4bb300ce2">afs_net::n_dir_rm</a></div><div class="ttdeci">atomic_t n_dir_rm</div><div class="ttdef"><b>Definition:</b> internal.h:275</div></div>
<div class="ttc" id="structafs__cell_html_a12ea99603df3b816844e26ea8f5b5922"><div class="ttname"><a href="structafs__cell.html#a12ea99603df3b816844e26ea8f5b5922">afs_cell::proc_lock</a></div><div class="ttdeci">rwlock_t proc_lock</div><div class="ttdef"><b>Definition:</b> internal.h:337</div></div>
<div class="ttc" id="afs_2internal_8h_html_a2c88102c1fad80f24109fc31633536aa"><div class="ttname"><a href="afs_2internal_8h.html#a2c88102c1fad80f24109fc31633536aa">afs_dynroot_inode_operations</a></div><div class="ttdeci">const struct inode_operations afs_dynroot_inode_operations</div><div class="ttdef"><b>Definition:</b> dynroot.c:181</div></div>
<div class="ttc" id="structafs__net_html_acf748360bff9e2a97f842f8f8a69afa6"><div class="ttname"><a href="structafs__net.html#acf748360bff9e2a97f842f8f8a69afa6">afs_net::cells_outstanding</a></div><div class="ttdeci">atomic_t cells_outstanding</div><div class="ttdef"><b>Definition:</b> internal.h:237</div></div>
<div class="ttc" id="send_8h_html_ac6c61fc2d54b5e017432ab28daf5a7a9"><div class="ttname"><a href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a></div><div class="ttdeci">__le32 len</div><div class="ttdef"><b>Definition:</b> send.h:4583</div></div>
<div class="ttc" id="afs_8h_html_a9f07894137cd63346bac9386847a971c"><div class="ttname"><a href="afs_8h.html#a9f07894137cd63346bac9386847a971c">AFS_NMAXNSERVERS</a></div><div class="ttdeci">#define AFS_NMAXNSERVERS</div><div class="ttdef"><b>Definition:</b> afs.h:20</div></div>
<div class="ttc" id="structafs__volsync_html"><div class="ttname"><a href="structafs__volsync.html">afs_volsync</a></div><div class="ttdef"><b>Definition:</b> afs.h:160</div></div>
<div class="ttc" id="structafs__wb__key_html"><div class="ttname"><a href="structafs__wb__key.html">afs_wb_key</a></div><div class="ttdef"><b>Definition:</b> internal.h:148</div></div>
<div class="ttc" id="structafs__vnode_html_af674bbc5d2043539fcdbb41e4cd132b9"><div class="ttname"><a href="structafs__vnode.html#af674bbc5d2043539fcdbb41e4cd132b9">afs_vnode::flags</a></div><div class="ttdeci">unsigned long flags</div><div class="ttdef"><b>Definition:</b> internal.h:505</div></div>
<div class="ttc" id="structafs__call_html_a5dae7d38d3222bcae7ba018097492b79"><div class="ttname"><a href="structafs__call.html#a5dae7d38d3222bcae7ba018097492b79">afs_call::work</a></div><div class="ttdeci">struct work_struct work</div><div class="ttdef"><b>Definition:</b> internal.h:87</div></div>
<div class="ttc" id="structafs__call_html_a9eb8e6c5febc46ffc41f209c7491d750"><div class="ttname"><a href="structafs__call.html#a9eb8e6c5febc46ffc41f209c7491d750">afs_call::tmp</a></div><div class="ttdeci">__be32 tmp</div><div class="ttdef"><b>Definition:</b> internal.h:124</div></div>
<div class="ttc" id="structafs__net_html_aa59d91e392f8a806acd2e40ba4623b8b"><div class="ttname"><a href="structafs__net.html#aa59d91e392f8a806acd2e40ba4623b8b">afs_net::nr_superblocks</a></div><div class="ttdeci">atomic_t nr_superblocks</div><div class="ttdef"><b>Definition:</b> internal.h:230</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4b1f2de07a03c3b71d6d9761c6e8ed53a92d5033519fac4405b2e58015798a68c"><div class="ttname"><a href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53a92d5033519fac4405b2e58015798a68c">AFS_VNODE_LOCK_WAITING_FOR_CB</a></div><div class="ttdef"><b>Definition:</b> internal.h:476</div></div>
<div class="ttc" id="afs_2internal_8h_html_a784c06db75c7f27f9d477002026dd7b2"><div class="ttname"><a href="afs_2internal_8h.html#a784c06db75c7f27f9d477002026dd7b2">afs_fs_aops</a></div><div class="ttdeci">const struct address_space_operations afs_fs_aops</div><div class="ttdef"><b>Definition:</b> file.c:51</div></div>
<div class="ttc" id="afs_2internal_8h_html_ac4faff52cdeb4be2e945f2de4519d0e1"><div class="ttname"><a href="afs_2internal_8h.html#ac4faff52cdeb4be2e945f2de4519d0e1">afs_pages_written_back</a></div><div class="ttdeci">void afs_pages_written_back(struct afs_vnode *, struct afs_call *)</div><div class="ttdef"><b>Definition:</b> write.c:671</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3b0088c57ca2716e744068cf34120bb9"><div class="ttname"><a href="afs_2internal_8h.html#a3b0088c57ca2716e744068cf34120bb9">afs_cells_timer</a></div><div class="ttdeci">void afs_cells_timer(struct timer_list *)</div><div class="ttdef"><b>Definition:</b> cell.c:440</div></div>
<div class="ttc" id="afs_2internal_8h_html_abdbac84be4c1930d5b4e73f001b9271f"><div class="ttname"><a href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f">afs_get_cb_interest</a></div><div class="ttdeci">static struct afs_cb_interest * afs_get_cb_interest(struct afs_cb_interest *cbi)</div><div class="ttdef"><b>Definition:</b> internal.h:662</div></div>
<div class="ttc" id="structafs__server__list_html_ac9815bfca38b34fcf4571b1f308a616e"><div class="ttname"><a href="structafs__server__list.html#ac9815bfca38b34fcf4571b1f308a616e">afs_server_list::nr_servers</a></div><div class="ttdeci">unsigned short nr_servers</div><div class="ttdef"><b>Definition:</b> internal.h:433</div></div>
<div class="ttc" id="structafs__net_html_ab66247162fad11be715221b1bab959e1"><div class="ttname"><a href="structafs__net.html#ab66247162fad11be715221b1bab959e1">afs_net::n_dir_cr</a></div><div class="ttdeci">atomic_t n_dir_cr</div><div class="ttdef"><b>Definition:</b> internal.h:274</div></div>
<div class="ttc" id="structafs__call_html_a9c909871cbc011d729fddb593c045e48"><div class="ttname"><a href="structafs__call.html#a9c909871cbc011d729fddb593c045e48">afs_call::count</a></div><div class="ttdeci">u32 count</div><div class="ttdef"><b>Definition:</b> internal.h:123</div></div>
<div class="ttc" id="structafs__call_html_aa19b48ee5c90eef4e96d1b85a975fbe6"><div class="ttname"><a href="structafs__call.html#aa19b48ee5c90eef4e96d1b85a975fbe6">afs_call::request_size</a></div><div class="ttdeci">unsigned request_size</div><div class="ttdef"><b>Definition:</b> internal.h:105</div></div>
<div class="ttc" id="structafs__addr__cursor_html_a1546416e8c780153d16f400a54b22bb9"><div class="ttname"><a href="structafs__addr__cursor.html#a1546416e8c780153d16f400a54b22bb9">afs_addr_cursor::begun</a></div><div class="ttdeci">bool begun</div><div class="ttdef"><b>Definition:</b> internal.h:577</div></div>
<div class="ttc" id="structafs__call_html_aba03b47752ce7da5107ae86344491458"><div class="ttname"><a href="structafs__call.html#aba03b47752ce7da5107ae86344491458">afs_call::ret_reply0</a></div><div class="ttdeci">bool ret_reply0</div><div class="ttdef"><b>Definition:</b> internal.h:118</div></div>
<div class="ttc" id="afs_2internal_8h_html_a1805bf949a65312306f7b4a1933c2a0a"><div class="ttname"><a href="afs_2internal_8h.html#a1805bf949a65312306f7b4a1933c2a0a">afs_fs_remove</a></div><div class="ttdeci">int afs_fs_remove(struct afs_fs_cursor *, const char *, bool, u64)</div><div class="ttdef"><b>Definition:</b> fsclient.c:859</div></div>
<div class="ttc" id="structafs__addr__cursor_html_a6f67a6fbe6d914759bf6081391a554a2"><div class="ttname"><a href="structafs__addr__cursor.html#a6f67a6fbe6d914759bf6081391a554a2">afs_addr_cursor::addr</a></div><div class="ttdeci">struct sockaddr_rxrpc * addr</div><div class="ttdef"><b>Definition:</b> internal.h:572</div></div>
<div class="ttc" id="structafs__call_html_a1268f0c11021b062bd9dbfd7274b1f35"><div class="ttname"><a href="structafs__call.html#a1268f0c11021b062bd9dbfd7274b1f35">afs_call::state</a></div><div class="ttdeci">enum afs_call_state state</div><div class="ttdef"><b>Definition:</b> internal.h:101</div></div>
<div class="ttc" id="afs_2internal_8h_html_a5922fbbc282b207b1fed1577794415e6"><div class="ttname"><a href="afs_2internal_8h.html#a5922fbbc282b207b1fed1577794415e6">afs_iget5_test</a></div><div class="ttdeci">int afs_iget5_test(struct inode *, void *)</div><div class="ttdef"><b>Definition:</b> inode.c:127</div></div>
<div class="ttc" id="structafs__call_html_a3dfde6704a3381b96061cf596d43f2ad"><div class="ttname"><a href="structafs__call.html#a3dfde6704a3381b96061cf596d43f2ad">afs_call::state_lock</a></div><div class="ttdeci">spinlock_t state_lock</div><div class="ttdef"><b>Definition:</b> internal.h:102</div></div>
<div class="ttc" id="structafs__addr__list_html"><div class="ttname"><a href="structafs__addr__list.html">afs_addr_list</a></div><div class="ttdef"><b>Definition:</b> internal.h:68</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad051f62d36e5d198179569ebe8140810"><div class="ttname"><a href="afs_2internal_8h.html#ad051f62d36e5d198179569ebe8140810">afs_fs_init</a></div><div class="ttdeci">int __init afs_fs_init(void)</div><div class="ttdef"><b>Definition:</b> super.c:85</div></div>
<div class="ttc" id="structafs__volume__status_html"><div class="ttname"><a href="structafs__volume__status.html">afs_volume_status</a></div><div class="ttdef"><b>Definition:</b> afs.h:167</div></div>
<div class="ttc" id="afs_2internal_8h_html_a38408dd1eaa8799b226105a9d4b6c643"><div class="ttname"><a href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643">afs_begin_vnode_operation</a></div><div class="ttdeci">bool afs_begin_vnode_operation(struct afs_fs_cursor *, struct afs_vnode *, struct key *)</div><div class="ttdef"><b>Definition:</b> rotate.c:35</div></div>
<div class="ttc" id="afs_2internal_8h_html_a2b90db46b0e6af81dcd88f07bf22e224"><div class="ttname"><a href="afs_2internal_8h.html#a2b90db46b0e6af81dcd88f07bf22e224">afs_extract_data</a></div><div class="ttdeci">int afs_extract_data(struct afs_call *, void *, size_t, bool)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:893</div></div>
<div class="ttc" id="afs_2internal_8h_html_acf7938d3628f5124fd2c81ab2fa30c0a"><div class="ttname"><a href="afs_2internal_8h.html#acf7938d3628f5124fd2c81ab2fa30c0a">afs_proc_cell_setup</a></div><div class="ttdeci">int afs_proc_cell_setup(struct afs_net *, struct afs_cell *)</div><div class="ttdef"><b>Definition:</b> proc.c:423</div></div>
<div class="ttc" id="afs_2internal_8h_html_a49b043bb8b2bf96b7f1d8e85383cdb04"><div class="ttname"><a href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04">afs_check_for_remote_deletion</a></div><div class="ttdeci">static void afs_check_for_remote_deletion(struct afs_fs_cursor *fc, struct afs_vnode *vnode)</div><div class="ttdef"><b>Definition:</b> internal.h:1082</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3bf4c96cedd496b1daca5041d99cc003ae69ddd36c01b30f6ea61e00b3d6fd42e"><div class="ttname"><a href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003ae69ddd36c01b30f6ea61e00b3d6fd42e">AFS_CELL_UNSET</a></div><div class="ttdef"><b>Definition:</b> internal.h:286</div></div>
<div class="ttc" id="structafs__sysnames_html"><div class="ttname"><a href="structafs__sysnames.html">afs_sysnames</a></div><div class="ttdef"><b>Definition:</b> internal.h:208</div></div>
<div class="ttc" id="structafs__volume_html_adf000529382e84cfb05aab68f4bcc5ae"><div class="ttname"><a href="structafs__volume.html#adf000529382e84cfb05aab68f4bcc5ae">afs_volume::update_at</a></div><div class="ttdeci">time64_t update_at</div><div class="ttdef"><b>Definition:</b> internal.h:447</div></div>
<div class="ttc" id="afs_2internal_8h_html_a444208b650e75047e70e8fa2ee2b5d2a"><div class="ttname"><a href="afs_2internal_8h.html#a444208b650e75047e70e8fa2ee2b5d2a">afs_edit_dir_remove</a></div><div class="ttdeci">void afs_edit_dir_remove(struct afs_vnode *, struct qstr *, enum afs_edit_dir_reason)</div><div class="ttdef"><b>Definition:</b> dir_edit.c:379</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3fab4a96dd3d7ee5af672ce4ea7451b5"><div class="ttname"><a href="afs_2internal_8h.html#a3fab4a96dd3d7ee5af672ce4ea7451b5">afs_vl_get_entry_by_name_u</a></div><div class="ttdeci">struct afs_vldb_entry * afs_vl_get_entry_by_name_u(struct afs_net *, struct afs_addr_cursor *, struct key *, const char *, int)</div><div class="ttdef"><b>Definition:</b> vlclient.c:131</div></div>
<div class="ttc" id="afs_2internal_8h_html_ab1dcb8d6e953d7f80ecd7151215fe4f1"><div class="ttname"><a href="afs_2internal_8h.html#ab1dcb8d6e953d7f80ecd7151215fe4f1">afs_fs_dentry_operations</a></div><div class="ttdeci">const struct dentry_operations afs_fs_dentry_operations</div><div class="ttdef"><b>Definition:</b> dir.c:83</div></div>
<div class="ttc" id="structafs__call_html_a49accce386c94e3003e774cfc3d97f29"><div class="ttname"><a href="structafs__call.html#a49accce386c94e3003e774cfc3d97f29">afs_call::last_to</a></div><div class="ttdeci">unsigned last_to</div><div class="ttdef"><b>Definition:</b> internal.h:110</div></div>
<div class="ttc" id="afs_2internal_8h_html_abe07e59a4887ada063022985cf284387"><div class="ttname"><a href="afs_2internal_8h.html#abe07e59a4887ada063022985cf284387">afs_listxattr</a></div><div class="ttdeci">ssize_t afs_listxattr(struct dentry *, char *, size_t)</div><div class="ttdef"><b>Definition:</b> xattr.c:26</div></div>
<div class="ttc" id="structafs__volume_html_aa0ac68fff28efd0f35278ed92ceb3ecd"><div class="ttname"><a href="structafs__volume.html#aa0ac68fff28efd0f35278ed92ceb3ecd">afs_volume::type_force</a></div><div class="ttdeci">char type_force</div><div class="ttdef"><b>Definition:</b> internal.h:469</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3768e51c28fd980bbad37640ef410191"><div class="ttname"><a href="afs_2internal_8h.html#a3768e51c28fd980bbad37640ef410191">afs_fs_get_volume_status</a></div><div class="ttdeci">int afs_fs_get_volume_status(struct afs_fs_cursor *, struct afs_volume_status *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:1760</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0c14edf2f9b176b44698afd3b3d802d9a0c8efc1f47dcf53dbb74964fa92ea820"><div class="ttname"><a href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a0c8efc1f47dcf53dbb74964fa92ea820">AFS_CALL_SV_REPLYING</a></div><div class="ttdef"><b>Definition:</b> internal.h:60</div></div>
<div class="ttc" id="afs_2internal_8h_html_a587b9db00afd95f1543b36ef304d6a5d"><div class="ttname"><a href="afs_2internal_8h.html#a587b9db00afd95f1543b36ef304d6a5d">afs_put_read</a></div><div class="ttdeci">void afs_put_read(struct afs_read *)</div><div class="ttdef"><b>Definition:</b> file.c:191</div></div>
<div class="ttc" id="structafs__interface_html_a41ddd37d3c1e4b4b27b8d168083431b0"><div class="ttname"><a href="structafs__interface.html#a41ddd37d3c1e4b4b27b8d168083431b0">afs_interface::mtu</a></div><div class="ttdeci">unsigned mtu</div><div class="ttdef"><b>Definition:</b> internal.h:564</div></div>
<div class="ttc" id="structafs__file__status_html"><div class="ttname"><a href="structafs__file__status.html">afs_file_status</a></div><div class="ttdef"><b>Definition:</b> afs.h:129</div></div>
<div class="ttc" id="structafs__net_html_a555fafd68e49a848434825645bdce93d"><div class="ttname"><a href="structafs__net.html#a555fafd68e49a848434825645bdce93d">afs_net::n_inval</a></div><div class="ttdeci">atomic_t n_inval</div><div class="ttdef"><b>Definition:</b> internal.h:271</div></div>
<div class="ttc" id="structafs__call__type_html"><div class="ttname"><a href="structafs__call__type.html">afs_call_type</a></div><div class="ttdef"><b>Definition:</b> internal.h:129</div></div>
<div class="ttc" id="structafs__mount__params_html_aca2119e3b1dada68b1393625f9b9a198"><div class="ttname"><a href="structafs__mount__params.html#aca2119e3b1dada68b1393625f9b9a198">afs_mount_params::volnamesz</a></div><div class="ttdeci">int volnamesz</div><div class="ttdef"><b>Definition:</b> internal.h:41</div></div>
<div class="ttc" id="afs_2internal_8h_html_a1fd5e2579124c1017f1f67611d902cb8"><div class="ttname"><a href="afs_2internal_8h.html#a1fd5e2579124c1017f1f67611d902cb8">afs_write_begin</a></div><div class="ttdeci">int afs_write_begin(struct file *file, struct address_space *mapping, loff_t pos, unsigned len, unsigned flags, struct page **pagep, void **fsdata)</div><div class="ttdef"><b>Definition:</b> write.c:71</div></div>
<div class="ttc" id="structafs__sysnames_html_a3a1153250e29711440486c5cc56b014a"><div class="ttname"><a href="structafs__sysnames.html#a3a1153250e29711440486c5cc56b014a">afs_sysnames::usage</a></div><div class="ttdeci">refcount_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:211</div></div>
<div class="ttc" id="afs_2internal_8h_html_a2a311a706c21b17e188075601985bfda"><div class="ttname"><a href="afs_2internal_8h.html#a2a311a706c21b17e188075601985bfda">afs_lock_may_be_available</a></div><div class="ttdeci">void afs_lock_may_be_available(struct afs_vnode *)</div><div class="ttdef"><b>Definition:</b> flock.c:30</div></div>
<div class="ttc" id="afs_2internal_8h_html_a6620d98750cc9d45ac7bf9a1fb037133"><div class="ttname"><a href="afs_2internal_8h.html#a6620d98750cc9d45ac7bf9a1fb037133">afs_vl_get_capabilities</a></div><div class="ttdeci">int afs_vl_get_capabilities(struct afs_net *, struct afs_addr_cursor *, struct key *)</div><div class="ttdef"><b>Definition:</b> vlclient.c:386</div></div>
<div class="ttc" id="afs_2internal_8h_html_a5f75115c846143c2f0ade735da97cb92"><div class="ttname"><a href="afs_2internal_8h.html#a5f75115c846143c2f0ade735da97cb92">afs_parse_text_addrs</a></div><div class="ttdeci">struct afs_addr_list * afs_parse_text_addrs(const char *, size_t, char, unsigned short, unsigned short)</div><div class="ttdef"><b>Definition:</b> addr_list.c:69</div></div>
<div class="ttc" id="structafs__mount__params_html_ada002de068b1d4ee0f8a1b4074a0d676"><div class="ttname"><a href="structafs__mount__params.html#ada002de068b1d4ee0f8a1b4074a0d676">afs_mount_params::autocell</a></div><div class="ttdeci">bool autocell</div><div class="ttdef"><b>Definition:</b> internal.h:38</div></div>
<div class="ttc" id="structafs__vnode_html_a72338f16fc6c88ff53ad74861c534565"><div class="ttname"><a href="structafs__vnode.html#a72338f16fc6c88ff53ad74861c534565">afs_vnode::lock_key</a></div><div class="ttdeci">struct key * lock_key</div><div class="ttdef"><b>Definition:</b> internal.h:520</div></div>
<div class="ttc" id="afs_2internal_8h_html_a5c8a0e46cca2c9610f46ae4eb7ab6f6e"><div class="ttname"><a href="afs_2internal_8h.html#a5c8a0e46cca2c9610f46ae4eb7ab6f6e">afs_fsync</a></div><div class="ttdeci">int afs_fsync(struct file *, loff_t, loff_t, int)</div><div class="ttdef"><b>Definition:</b> write.c:740</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0555e5f1a904cbd5d3a5ca99524aa939"><div class="ttname"><a href="afs_2internal_8h.html#a0555e5f1a904cbd5d3a5ca99524aa939">afs_dynroot_file_operations</a></div><div class="ttdeci">const struct file_operations afs_dynroot_file_operations</div><div class="ttdef"><b>Definition:</b> dynroot.c:17</div></div>
<div class="ttc" id="structafs__vnode_html"><div class="ttname"><a href="structafs__vnode.html">afs_vnode</a></div><div class="ttdef"><b>Definition:</b> internal.h:490</div></div>
<div class="ttc" id="structafs__uuid_html"><div class="ttname"><a href="structafs__uuid.html">afs_uuid</a></div><div class="ttdef"><b>Definition:</b> afs.h:82</div></div>
<div class="ttc" id="afs_2internal_8h_html_a6a867efca100d8320f83fa31db998355"><div class="ttname"><a href="afs_2internal_8h.html#a6a867efca100d8320f83fa31db998355">afs_lookup_cell_rcu</a></div><div class="ttdeci">struct afs_cell * afs_lookup_cell_rcu(struct afs_net *, const char *, unsigned)</div></div>
<div class="ttc" id="structafs__addr__cursor_html_ae9ee8f560217cb4e4043342b10cdbbf8"><div class="ttname"><a href="structafs__addr__cursor.html#ae9ee8f560217cb4e4043342b10cdbbf8">afs_addr_cursor::start</a></div><div class="ttdeci">unsigned short start</div><div class="ttdef"><b>Definition:</b> internal.h:574</div></div>
<div class="ttc" id="mount__clnt_8c_html_a088e3e37581e2ecb5079c1d75067923f"><div class="ttname"><a href="mount__clnt_8c.html#a088e3e37581e2ecb5079c1d75067923f">status</a></div><div class="ttdeci">u32 status</div><div class="ttdef"><b>Definition:</b> mount_clnt.c:83</div></div>
<div class="ttc" id="structafs__volume_html"><div class="ttname"><a href="structafs__volume.html">afs_volume</a></div><div class="ttdef"><b>Definition:</b> internal.h:444</div></div>
<div class="ttc" id="afs_2internal_8h_html_a105fdee4b920ba59a26550abc7bfc419"><div class="ttname"><a href="afs_2internal_8h.html#a105fdee4b920ba59a26550abc7bfc419">afs_select_fileserver</a></div><div class="ttdeci">bool afs_select_fileserver(struct afs_fs_cursor *)</div><div class="ttdef"><b>Definition:</b> rotate.c:141</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae9367f096a55629dcd2da3575ab0da5d"><div class="ttname"><a href="afs_2internal_8h.html#ae9367f096a55629dcd2da3575ab0da5d">afs_request_key</a></div><div class="ttdeci">struct key * afs_request_key(struct afs_cell *)</div><div class="ttdef"><b>Definition:</b> security.c:27</div></div>
<div class="ttc" id="structafs__vnode_html_a43f0c90c194847255214663eb5c3242e"><div class="ttname"><a href="structafs__vnode.html#a43f0c90c194847255214663eb5c3242e">afs_vnode::cb_s_break</a></div><div class="ttdeci">unsigned int cb_s_break</div><div class="ttdef"><b>Definition:</b> internal.h:526</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0c14edf2f9b176b44698afd3b3d802d9a291ca2a9358d6e2799576bde8f40496a"><div class="ttname"><a href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a291ca2a9358d6e2799576bde8f40496a">AFS_CALL_SV_AWAIT_ACK</a></div><div class="ttdef"><b>Definition:</b> internal.h:61</div></div>
<div class="ttc" id="structafs__server__list_html_ade94eefb5e2ab1f808fba1017c7999a0"><div class="ttname"><a href="structafs__server__list.html#ade94eefb5e2ab1f808fba1017c7999a0">afs_server_list::index</a></div><div class="ttdeci">unsigned short index</div><div class="ttdef"><b>Definition:</b> internal.h:434</div></div>
<div class="ttc" id="structafs__call_html_ae02192c6d6b5e9506fcbd45ed6b04142"><div class="ttname"><a href="structafs__call.html#ae02192c6d6b5e9506fcbd45ed6b04142">afs_call::usage</a></div><div class="ttdeci">atomic_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:100</div></div>
<div class="ttc" id="structafs__server_html_a14444add4078f67d9767afe1a5223129"><div class="ttname"><a href="structafs__server.html#a14444add4078f67d9767afe1a5223129">afs_server::gc_next</a></div><div class="ttdeci">struct afs_server * gc_next</div><div class="ttdef"><b>Definition:</b> internal.h:387</div></div>
<div class="ttc" id="structafs__volume_html_a9adf116d0cb998c2854eea5bf5a3f2d6"><div class="ttname"><a href="structafs__volume.html#a9adf116d0cb998c2854eea5bf5a3f2d6">afs_volume::servers_lock</a></div><div class="ttdeci">rwlock_t servers_lock</div><div class="ttdef"><b>Definition:</b> internal.h:461</div></div>
<div class="ttc" id="structafs__vnode_html_abadd25d3e525e257f08913fe6e3ade30"><div class="ttname"><a href="structafs__vnode.html#abadd25d3e525e257f08913fe6e3ade30">afs_vnode::volume</a></div><div class="ttdeci">struct afs_volume * volume</div><div class="ttdef"><b>Definition:</b> internal.h:493</div></div>
<div class="ttc" id="afs_2internal_8h_html_a50cc8fdfbae0a33d3a8d7d278af4ec42"><div class="ttname"><a href="afs_2internal_8h.html#a50cc8fdfbae0a33d3a8d7d278af4ec42">afs_fs_rename</a></div><div class="ttdeci">int afs_fs_rename(struct afs_fs_cursor *, const char *, struct afs_vnode *, const char *, u64, u64)</div><div class="ttdef"><b>Definition:</b> fsclient.c:1139</div></div>
<div class="ttc" id="structafs__call_html_a2da3f9ce796433fc4a60bc2f95e0c90e"><div class="ttname"><a href="structafs__call.html#a2da3f9ce796433fc4a60bc2f95e0c90e">afs_call::request</a></div><div class="ttdeci">void * request</div><div class="ttdef"><b>Definition:</b> internal.h:93</div></div>
<div class="ttc" id="structflags_html"><div class="ttname"><a href="structflags.html">flags</a></div><div class="ttdef"><b>Definition:</b> export.c:1089</div></div>
<div class="ttc" id="structafs__net_html_a74af83a4fb7111d9eec48b724e1a94dc"><div class="ttname"><a href="structafs__net.html#a74af83a4fb7111d9eec48b724e1a94dc">afs_net::n_stores</a></div><div class="ttdeci">atomic_t n_stores</div><div class="ttdef"><b>Definition:</b> internal.h:276</div></div>
<div class="ttc" id="structafs__server_html_a86fd08cf4c31a2c1976c4702b16e6e85"><div class="ttname"><a href="structafs__server.html#a86fd08cf4c31a2c1976c4702b16e6e85">afs_server::usage</a></div><div class="ttdeci">atomic_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:400</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4129cc463c65921e87b654e8bafa651a"><div class="ttname"><a href="afs_2internal_8h.html#a4129cc463c65921e87b654e8bafa651a">afs_vnode_cache_index_def</a></div><div class="ttdeci">#define afs_vnode_cache_index_def</div><div class="ttdef"><b>Definition:</b> internal.h:647</div></div>
<div class="ttc" id="afs_2internal_8h_html_a05322bfaac406bc8d74ac1e82971429a"><div class="ttname"><a href="afs_2internal_8h.html#a05322bfaac406bc8d74ac1e82971429a">afs_put_sysnames</a></div><div class="ttdeci">void afs_put_sysnames(struct afs_sysnames *)</div><div class="ttdef"><b>Definition:</b> proc.c:709</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3bf4c96cedd496b1daca5041d99cc003ac906450d654434791922a12c62695d54"><div class="ttname"><a href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003ac906450d654434791922a12c62695d54">AFS_CELL_INACTIVE</a></div><div class="ttdef"><b>Definition:</b> internal.h:290</div></div>
<div class="ttc" id="afs_2internal_8h_html_ae188c6756637314a94890655d840014c"><div class="ttname"><a href="afs_2internal_8h.html#ae188c6756637314a94890655d840014c">afs_fs_exit</a></div><div class="ttdeci">void __exit afs_fs_exit(void)</div><div class="ttdef"><b>Definition:</b> super.c:120</div></div>
<div class="ttc" id="structafs__net_html_a152fe91f8ee8dc7197c7d5b52eeebf8d"><div class="ttname"><a href="structafs__net.html#a152fe91f8ee8dc7197c7d5b52eeebf8d">afs_net::socket</a></div><div class="ttdeci">struct socket * socket</div><div class="ttdef"><b>Definition:</b> internal.h:225</div></div>
<div class="ttc" id="afs_2internal_8h_html_a9f11733b71112d1a5eae719097a57978"><div class="ttname"><a href="afs_2internal_8h.html#a9f11733b71112d1a5eae719097a57978">afs_protocol_error</a></div><div class="ttdeci">int afs_protocol_error(struct afs_call *, int)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:939</div></div>
<div class="ttc" id="structafs__callback_html"><div class="ttname"><a href="structafs__callback.html">afs_callback</a></div><div class="ttdef"><b>Definition:</b> afs.h:69</div></div>
<div class="ttc" id="structafs__read_html_a66422fe118d3093094cd3bdcf9a2f13b"><div class="ttname"><a href="structafs__read.html#a66422fe118d3093094cd3bdcf9a2f13b">afs_read::data_version</a></div><div class="ttdeci">afs_dataversion_t data_version</div><div class="ttdef"><b>Definition:</b> internal.h:178</div></div>
<div class="ttc" id="afs_2internal_8h_html_adb84a1a68225abcfda83632c3277373e"><div class="ttname"><a href="afs_2internal_8h.html#adb84a1a68225abcfda83632c3277373e">afs_alloc_addrlist</a></div><div class="ttdeci">struct afs_addr_list * afs_alloc_addrlist(unsigned int, unsigned short, unsigned short)</div><div class="ttdef"><b>Definition:</b> addr_list.c:37</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad797c9747d3a4467e02f386f3f969e02"><div class="ttname"><a href="afs_2internal_8h.html#ad797c9747d3a4467e02f386f3f969e02">afs_make_call</a></div><div class="ttdeci">long afs_make_call(struct afs_addr_cursor *, struct afs_call *, gfp_t, bool)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:342</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0c14edf2f9b176b44698afd3b3d802d9a32e5d6acf247f319b2a01e73dfe00a7a"><div class="ttname"><a href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a32e5d6acf247f319b2a01e73dfe00a7a">AFS_CALL_CL_REQUESTING</a></div><div class="ttdef"><b>Definition:</b> internal.h:55</div></div>
<div class="ttc" id="afs_2internal_8h_html_a48864a94b4c9ffada2edff8198d85811"><div class="ttname"><a href="afs_2internal_8h.html#a48864a94b4c9ffada2edff8198d85811">afs_write_end</a></div><div class="ttdeci">int afs_write_end(struct file *file, struct address_space *mapping, loff_t pos, unsigned len, unsigned copied, struct page *page, void *fsdata)</div><div class="ttdef"><b>Definition:</b> write.c:175</div></div>
<div class="ttc" id="structafs__call_html_a7fcecb47bc4c154a85a0fb466d15fa1b"><div class="ttname"><a href="structafs__call.html#a7fcecb47bc4c154a85a0fb466d15fa1b">afs_call::first_offset</a></div><div class="ttdeci">unsigned first_offset</div><div class="ttdef"><b>Definition:</b> internal.h:107</div></div>
<div class="ttc" id="afs_2internal_8h_html_af4a96f397e3df26191311448d291fd0e"><div class="ttname"><a href="afs_2internal_8h.html#af4a96f397e3df26191311448d291fd0e">afs_proc_cell_remove</a></div><div class="ttdeci">void afs_proc_cell_remove(struct afs_net *, struct afs_cell *)</div><div class="ttdef"><b>Definition:</b> proc.c:452</div></div>
<div class="ttc" id="afs_2internal_8h_html_aaac092b05d8eff4b59f37a228767af05"><div class="ttname"><a href="afs_2internal_8h.html#aaac092b05d8eff4b59f37a228767af05">afs_d_automount</a></div><div class="ttdeci">struct vfsmount * afs_d_automount(struct path *)</div><div class="ttdef"><b>Definition:</b> mntpt.c:177</div></div>
<div class="ttc" id="structafs__volume_html_a0037e8177a38a316a00e5eb8f08bdc97"><div class="ttname"><a href="structafs__volume.html#a0037e8177a38a316a00e5eb8f08bdc97">afs_volume::vid</a></div><div class="ttdeci">afs_volid_t vid</div><div class="ttdef"><b>Definition:</b> internal.h:445</div></div>
<div class="ttc" id="structafs__net_html_a1fd89ec47f4605ad76f9e071ef8023c2"><div class="ttname"><a href="structafs__net.html#a1fd89ec47f4605ad76f9e071ef8023c2">afs_net::proc_afs</a></div><div class="ttdeci">struct proc_dir_entry * proc_afs</div><div class="ttdef"><b>Definition:</b> internal.h:264</div></div>
<div class="ttc" id="structafs__addr__list_html_ac21c2cef674899c367fd907e58dab3a2"><div class="ttname"><a href="structafs__addr__list.html#ac21c2cef674899c367fd907e58dab3a2">afs_addr_list::version</a></div><div class="ttdeci">u32 version</div><div class="ttdef"><b>Definition:</b> internal.h:71</div></div>
<div class="ttc" id="afs_2internal_8h_html_a3bf4c96cedd496b1daca5041d99cc003a9b2379be1469439abea47d91a5ab1dc6"><div class="ttname"><a href="afs_2internal_8h.html#a3bf4c96cedd496b1daca5041d99cc003a9b2379be1469439abea47d91a5ab1dc6">AFS_CELL_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> internal.h:288</div></div>
<div class="ttc" id="afs_2internal_8h_html_ad39c11403d9001047670cc174a003a69"><div class="ttname"><a href="afs_2internal_8h.html#ad39c11403d9001047670cc174a003a69">afs_purge_servers</a></div><div class="ttdeci">void __net_exit afs_purge_servers(struct afs_net *)</div><div class="ttdef"><b>Definition:</b> server.c:512</div></div>
<div class="ttc" id="structafs__call_html_ae8fb18d70feb2d925406103b25e3edbf"><div class="ttname"><a href="structafs__call.html#ae8fb18d70feb2d925406103b25e3edbf">afs_call::unmarshall</a></div><div class="ttdeci">unsigned char unmarshall</div><div class="ttdef"><b>Definition:</b> internal.h:113</div></div>
<div class="ttc" id="afs_2internal_8h_html_af449be59e75c104b0cfa7afb2802a4d7"><div class="ttname"><a href="afs_2internal_8h.html#af449be59e75c104b0cfa7afb2802a4d7">afs_check_call_state</a></div><div class="ttdeci">static bool afs_check_call_state(struct afs_call *call, enum afs_call_state state)</div><div class="ttdef"><b>Definition:</b> internal.h:909</div></div>
<div class="ttc" id="afs_2internal_8h_html_a758135b2eeb68fbe579d4a4e2ffa1c42"><div class="ttname"><a href="afs_2internal_8h.html#a758135b2eeb68fbe579d4a4e2ffa1c42">afs_close_socket</a></div><div class="ttdeci">void __net_exit afs_close_socket(struct afs_net *)</div><div class="ttdef"><b>Definition:</b> rxrpc.c:100</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0af183ad8c9ad8ae04a053f7b739128d"><div class="ttname"><a href="afs_2internal_8h.html#a0af183ad8c9ad8ae04a053f7b739128d">afs_proc_cleanup</a></div><div class="ttdeci">void __net_exit afs_proc_cleanup(struct afs_net *)</div><div class="ttdef"><b>Definition:</b> proc.c:188</div></div>
<div class="ttc" id="structafs__net_html_a8faaf0c420fe6261f0c682259364809b"><div class="ttname"><a href="structafs__net.html#a8faaf0c420fe6261f0c682259364809b">afs_net::nr_outstanding_calls</a></div><div class="ttdeci">atomic_t nr_outstanding_calls</div><div class="ttdef"><b>Definition:</b> internal.h:229</div></div>
<div class="ttc" id="afs_2internal_8h_html_a633b7923c4b70fc8b7ee010f9fffb544"><div class="ttname"><a href="afs_2internal_8h.html#a633b7923c4b70fc8b7ee010f9fffb544">afs_launder_page</a></div><div class="ttdeci">int afs_launder_page(struct page *)</div><div class="ttdef"><b>Definition:</b> write.c:830</div></div>
<div class="ttc" id="structafs__fs__cursor_html_ac86dd87360b9d86e63852b884aeb2537"><div class="ttname"><a href="structafs__fs__cursor.html#ac86dd87360b9d86e63852b884aeb2537">afs_fs_cursor::start</a></div><div class="ttdeci">unsigned char start</div><div class="ttdef"><b>Definition:</b> internal.h:592</div></div>
<div class="ttc" id="afs_2internal_8h_html_a5d15a8f1e3585ad13c891a9858ee7768"><div class="ttname"><a href="afs_2internal_8h.html#a5d15a8f1e3585ad13c891a9858ee7768">afs_fs_fetch_file_status</a></div><div class="ttdeci">int afs_fs_fetch_file_status(struct afs_fs_cursor *, struct afs_volsync *, bool)</div><div class="ttdef"><b>Definition:</b> fsclient.c:414</div></div>
<div class="ttc" id="structafs__server__entry_html"><div class="ttname"><a href="structafs__server__entry.html">afs_server_entry</a></div><div class="ttdef"><b>Definition:</b> internal.h:426</div></div>
<div class="ttc" id="afs_2internal_8h_html_aeb885f57877949add1b6fa5be6f99037"><div class="ttname"><a href="afs_2internal_8h.html#aeb885f57877949add1b6fa5be6f99037">afs_fs_fetch_status</a></div><div class="ttdeci">int afs_fs_fetch_status(struct afs_fs_cursor *, struct afs_net *, struct afs_fid *, struct afs_file_status *, struct afs_callback *, struct afs_volsync *)</div><div class="ttdef"><b>Definition:</b> fsclient.c:2129</div></div>
<div class="ttc" id="cifspdu_8h_html_a4a06ef9aaffd2c58a6d395fd433cde26"><div class="ttname"><a href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a></div><div class="ttdeci">char name[16]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:457</div></div>
<div class="ttc" id="afs_2internal_8h_html_a6d2d95dd9beb5050bac90de314de9bff"><div class="ttname"><a href="afs_2internal_8h.html#a6d2d95dd9beb5050bac90de314de9bff">afs_mntpt_inode_operations</a></div><div class="ttdeci">const struct inode_operations afs_mntpt_inode_operations</div><div class="ttdef"><b>Definition:</b> mntpt.c:34</div></div>
<div class="ttc" id="structafs__call_html_a0ae25249639881f8dc74838aa997b8c9"><div class="ttname"><a href="structafs__call.html#a0ae25249639881f8dc74838aa997b8c9">afs_call::last</a></div><div class="ttdeci">pgoff_t last</div><div class="ttdef"><b>Definition:</b> internal.h:98</div></div>
<div class="ttc" id="structafs__call__type_html_ac4c96abb95cc782f96a9c3d5f595fe21"><div class="ttname"><a href="structafs__call__type.html#ac4c96abb95cc782f96a9c3d5f595fe21">afs_call_type::work</a></div><div class="ttdeci">void(* work)(struct work_struct *work)</div><div class="ttdef"><b>Definition:</b> internal.h:142</div></div>
<div class="ttc" id="structafs__wb__key_html_ab43c7a46c50a68456a60aee18c7b67c4"><div class="ttname"><a href="structafs__wb__key.html#ab43c7a46c50a68456a60aee18c7b67c4">afs_wb_key::usage</a></div><div class="ttdeci">refcount_t usage</div><div class="ttdef"><b>Definition:</b> internal.h:149</div></div>
<div class="ttc" id="afs_2internal_8h_html_a5f603b6326c18fbfe21a8386acae0c17"><div class="ttname"><a href="afs_2internal_8h.html#a5f603b6326c18fbfe21a8386acae0c17">__packed</a></div><div class="ttdeci">struct afs_vnode_cache_aux __packed</div></div>
<div class="ttc" id="structafs__fs__cursor_html_a731ea535f17729b8479f1dde9f67e337"><div class="ttname"><a href="structafs__fs__cursor.html#a731ea535f17729b8479f1dde9f67e337">afs_fs_cursor::key</a></div><div class="ttdeci">struct key * key</div><div class="ttdef"><b>Definition:</b> internal.h:589</div></div>
<div class="ttc" id="structafs__cell_html_af40aacc50d0ee47218e54f159cc15123"><div class="ttname"><a href="structafs__cell.html#af40aacc50d0ee47218e54f159cc15123">afs_cell::last_inactive</a></div><div class="ttdeci">time64_t last_inactive</div><div class="ttdef"><b>Definition:</b> internal.h:324</div></div>
<div class="ttc" id="afs_2internal_8h_html_a1d5bdae54d23475ed9e1873127414d12"><div class="ttname"><a href="afs_2internal_8h.html#a1d5bdae54d23475ed9e1873127414d12">afs_check_permit</a></div><div class="ttdeci">int afs_check_permit(struct afs_vnode *, struct key *, afs_access_t *)</div><div class="ttdef"><b>Definition:</b> security.c:285</div></div>
<div class="ttc" id="structafs__server__list_html_a151959345c144c0b816d6838d6971912"><div class="ttname"><a href="structafs__server__list.html#a151959345c144c0b816d6838d6971912">afs_server_list::vnovol_mask</a></div><div class="ttdeci">unsigned short vnovol_mask</div><div class="ttdef"><b>Definition:</b> internal.h:435</div></div>
<div class="ttc" id="structafs__permit_html_a1b97c2420be53477bf23b24047c23603"><div class="ttname"><a href="structafs__permit.html#a1b97c2420be53477bf23b24047c23603">afs_permit::key</a></div><div class="ttdeci">struct key * key</div><div class="ttdef"><b>Definition:</b> internal.h:540</div></div>
<div class="ttc" id="afs_2internal_8h_html_a4b1f2de07a03c3b71d6d9761c6e8ed53"><div class="ttname"><a href="afs_2internal_8h.html#a4b1f2de07a03c3b71d6d9761c6e8ed53">afs_lock_state</a></div><div class="ttdeci">afs_lock_state</div><div class="ttdef"><b>Definition:</b> internal.h:474</div></div>
<div class="ttc" id="structafs__call_html_a244ed48778114b6a976e28d846ec4c71"><div class="ttname"><a href="structafs__call.html#a244ed48778114b6a976e28d846ec4c71">afs_call::first</a></div><div class="ttdeci">pgoff_t first</div><div class="ttdef"><b>Definition:</b> internal.h:97</div></div>
<div class="ttc" id="afs_2internal_8h_html_a47d0657b8729657161187009934b122f"><div class="ttname"><a href="afs_2internal_8h.html#a47d0657b8729657161187009934b122f">afs_cache_wb_key</a></div><div class="ttdeci">int afs_cache_wb_key(struct afs_vnode *, struct afs_file *)</div><div class="ttdef"><b>Definition:</b> file.c:84</div></div>
<div class="ttc" id="structafs__addr__list_html_a2123d73976e4d0dc4b192d2183d1f747"><div class="ttname"><a href="structafs__addr__list.html#a2123d73976e4d0dc4b192d2183d1f747">afs_addr_list::nr_ipv4</a></div><div class="ttdeci">unsigned short nr_ipv4</div><div class="ttdef"><b>Definition:</b> internal.h:74</div></div>
<div class="ttc" id="structafs__read_html_a124e8f426cecc7578a0dd63d2f70a0bb"><div class="ttname"><a href="structafs__read.html#a124e8f426cecc7578a0dd63d2f70a0bb">afs_read::actual_len</a></div><div class="ttdeci">loff_t actual_len</div><div class="ttdef"><b>Definition:</b> internal.h:175</div></div>
<div class="ttc" id="afs_2internal_8h_html_aa0f0a46d146dd40392a6f2d6a438d8e9"><div class="ttname"><a href="afs_2internal_8h.html#aa0f0a46d146dd40392a6f2d6a438d8e9">afs_lookup_server</a></div><div class="ttdeci">struct afs_server * afs_lookup_server(struct afs_cell *, struct key *, const uuid_t *)</div><div class="ttdef"><b>Definition:</b> server.c:289</div></div>
<div class="ttc" id="afs_2internal_8h_html_a0c14edf2f9b176b44698afd3b3d802d9a13649277c1c6b2f30474fe026641542a"><div class="ttname"><a href="afs_2internal_8h.html#a0c14edf2f9b176b44698afd3b3d802d9a13649277c1c6b2f30474fe026641542a">AFS_CALL_SV_AWAIT_REQUEST</a></div><div class="ttdef"><b>Definition:</b> internal.h:59</div></div>
<div class="ttc" id="afs_2internal_8h_html_a7c3a3cec44db2c8b4b9ba949fe5762af"><div class="ttname"><a href="afs_2internal_8h.html#a7c3a3cec44db2c8b4b9ba949fe5762af">__afs_stat</a></div><div class="ttdeci">static void __afs_stat(atomic_t *s)</div><div class="ttdef"><b>Definition:</b> internal.h:839</div></div>
<div class="ttc" id="structafs__cb__interest_html"><div class="ttname"><a href="structafs__cb__interest.html">afs_cb_interest</a></div><div class="ttdef"><b>Definition:</b> internal.h:415</div></div>
<div class="ttc" id="afs_2internal_8h_html_ac3873556b1be6d386f49d8dfc74977ad"><div class="ttname"><a href="afs_2internal_8h.html#ac3873556b1be6d386f49d8dfc74977ad">afs_cell_purge</a></div><div class="ttdeci">void __net_exit afs_cell_purge(struct afs_net *)</div><div class="ttdef"><b>Definition:</b> cell.c:751</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ffa8011cbb6779b73c9e45f2b5eaeb12.html">afs</a></li><li class="navelem"><a class="el" href="afs_2internal_8h.html">internal.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
