<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/cpfile.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cpfile_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cpfile.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/nilfs2_api.h&gt;</code><br />
<code>#include &lt;linux/nilfs2_ondisk.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for cpfile.h:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h__incl.png" border="0" usemap="#nilfs2_2cpfile_8h" alt=""/></div>
<map name="nilfs2_2cpfile_8h" id="nilfs2_2cpfile_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h__dep__incl.png" border="0" usemap="#nilfs2_2cpfile_8hdep" alt=""/></div>
<map name="nilfs2_2cpfile_8hdep" id="nilfs2_2cpfile_8hdep">
<area shape="rect" id="node2" href="cpfile_8c.html" title="nilfs2/cpfile.c" alt="" coords="5,80,104,107"/>
<area shape="rect" id="node3" href="nilfs2_2inode_8c.html" title="nilfs2/inode.c" alt="" coords="128,80,227,107"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html" title="nilfs2/ioctl.c" alt="" coords="251,80,343,107"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html" title="nilfs2/segment.c" alt="" coords="367,80,486,107"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html" title="nilfs2/super.c" alt="" coords="510,80,610,107"/>
<area shape="rect" id="node7" href="nilfs2_2sysfs_8c.html" title="nilfs2/sysfs.c" alt="" coords="634,80,734,107"/>
<area shape="rect" id="node8" href="the__nilfs_8c.html" title="nilfs2/the_nilfs.c" alt="" coords="757,80,875,107"/>
</map>
</div>
</div>
<p><a href="cpfile_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8008085b3c0f288ec4d3332f6c3a61cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc">nilfs_cpfile_get_checkpoint</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, __u64, int, struct nilfs_checkpoint **, struct buffer_head **)</td></tr>
<tr class="separator:a8008085b3c0f288ec4d3332f6c3a61cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2524aee2a9405b63cf1bb1007392d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8h.html#a7b2524aee2a9405b63cf1bb1007392d2">nilfs_cpfile_put_checkpoint</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, __u64, struct buffer_head *)</td></tr>
<tr class="separator:a7b2524aee2a9405b63cf1bb1007392d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e57280f967700ddccaf2fe883e430e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9">nilfs_cpfile_delete_checkpoints</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, __u64, __u64)</td></tr>
<tr class="separator:a4e57280f967700ddccaf2fe883e430e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e990efd59118351015faa42bdd10540"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540">nilfs_cpfile_delete_checkpoint</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, __u64)</td></tr>
<tr class="separator:a6e990efd59118351015faa42bdd10540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee267b790478d6d538483b5e672876df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df">nilfs_cpfile_change_cpmode</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, __u64, int)</td></tr>
<tr class="separator:aee267b790478d6d538483b5e672876df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44962d0686d471deea4f0f55285ffe86"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8h.html#a44962d0686d471deea4f0f55285ffe86">nilfs_cpfile_is_snapshot</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, __u64)</td></tr>
<tr class="separator:a44962d0686d471deea4f0f55285ffe86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3449472f483c42ad36c89de01f0204d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8h.html#a3449472f483c42ad36c89de01f0204d5">nilfs_cpfile_get_stat</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, struct nilfs_cpstat *)</td></tr>
<tr class="separator:a3449472f483c42ad36c89de01f0204d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a3238ead93e98a3649d9894bdb2697"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697">nilfs_cpfile_get_cpinfo</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, __u64 *, int, void *, unsigned int, size_t)</td></tr>
<tr class="separator:af8a3238ead93e98a3649d9894bdb2697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2e663c9b54bd6b3fc4a9f57c6e98a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpfile_8h.html#afc2e663c9b54bd6b3fc4a9f57c6e98a0">nilfs_cpfile_read</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, size_t cpsize, struct nilfs_inode *raw_inode, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> **inodep)</td></tr>
<tr class="separator:afc2e663c9b54bd6b3fc4a9f57c6e98a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aee267b790478d6d538483b5e672876df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee267b790478d6d538483b5e672876df">&#9670;&nbsp;</a></span>nilfs_cpfile_change_cpmode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_change_cpmode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_change_cpmode - change checkpoint mode : inode of checkpoint file : checkpoint number : mode of checkpoint</p>
<p>Description: nilfs_change_cpmode() changes the mode of the checkpoint specified by . The mode  is NILFS_CHECKPOINT or NILFS_SNAPSHOT.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-ENOENT - No such checkpoint. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_aee267b790478d6d538483b5e672876df_cgraph.png" border="0" usemap="#cpfile_8h_aee267b790478d6d538483b5e672876df_cgraph" alt=""/></div>
<map name="cpfile_8h_aee267b790478d6d538483b5e672876df_cgraph" id="cpfile_8h_aee267b790478d6d538483b5e672876df_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a796f3b9955c39e7c656354e47b79362e" title="nilfs_checkpoint_is\l_mounted" alt="" coords="205,353,338,394"/>
<area shape="rect" id="node33" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="212,813,331,854"/>
<area shape="rect" id="node50" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="187,969,356,996"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#ade82c185e7dd753033a0bc34b0a14bc9" title="nilfs_last_cno" alt="" coords="442,360,545,387"/>
<area shape="rect" id="node4" href="the__nilfs_8c.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="433,411,553,437"/>
<area shape="rect" id="node5" href="nilfs2_2inode_8c.html#a4f88fdc579c23ff4f443113fe7066b31" title="nilfs_ilookup" alt="" coords="446,512,541,539"/>
<area shape="rect" id="node9" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="881,411,924,437"/>
<area shape="rect" id="node14" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="448,208,539,235"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a3048287dba544c5960a5968dbf586839" title="nilfs_tree_is_busy" alt="" coords="430,157,557,184"/>
<area shape="rect" id="node29" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="682,259,729,285"/>
<area shape="rect" id="node31" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="443,309,543,336"/>
<area shape="rect" id="node6" href="inode_8c.html#a3ce24c611eed82b98fb4775b3db0a8b6" title="ilookup5" alt="" coords="670,512,741,539"/>
<area shape="rect" id="node12" href="nilfs2_2inode_8c.html#a42350b0b59e53776755f5a0b17efd97f" title="nilfs_iget_test" alt="" coords="654,563,757,589"/>
<area shape="rect" id="node7" href="inode_8c.html#aa28e352a61659eb916065442f9393d3d" title="ilookup5_nowait" alt="" coords="845,461,960,488"/>
<area shape="rect" id="node8" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1037,461,1175,488"/>
<area shape="rect" id="node10" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1069,411,1143,437"/>
<area shape="rect" id="node11" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1235,411,1337,437"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="867,563,938,589"/>
<area shape="rect" id="node15" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="653,56,758,83"/>
<area shape="rect" id="node17" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="833,208,972,235"/>
<area shape="rect" id="node16" href="dcache_8c.html#ab9c0fece5c680f2c592413b6d3239ae9" title="__dget_dlock" alt="" coords="853,5,952,32"/>
<area shape="rect" id="node19" href="dcache_8c.html#aee4ccc28fb68e9b5566fc16cdbb69bc0" title="shrink_dcache_parent" alt="" coords="631,157,780,184"/>
<area shape="rect" id="node20" href="dcache_8c.html#ab1f5df0a669df3b2e700c6f79db0f4b9" title="d_walk" alt="" coords="871,157,934,184"/>
<area shape="rect" id="node21" href="dcache_8c.html#a7043ab7e8420be1ae9f3fb80145671f9" title="select_collect" alt="" coords="851,56,954,83"/>
<area shape="rect" id="node22" href="dcache_8c.html#adb55902ac86827c11aada2fa2490bd92" title="shrink_dentry_list" alt="" coords="841,107,965,133"/>
<area shape="rect" id="node23" href="dcache_8c.html#a051b3970369269b3c6fcc1a19be37bed" title="__dentry_kill" alt="" coords="1239,136,1333,163"/>
<area shape="rect" id="node24" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="1065,219,1147,245"/>
<area shape="rect" id="node25" href="dcache_8c.html#aa89b23ccc5b34160480a5b0541255a2e" title="__lock_parent" alt="" coords="1385,231,1488,257"/>
<area shape="rect" id="node26" href="dcache_8c.html#a6a36af9be383e7cbabb89162ff8af440" title="lock_parent" alt="" coords="1241,244,1331,271"/>
<area shape="rect" id="node27" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="1237,307,1335,333"/>
<area shape="rect" id="node28" href="dcache_8c.html#a3b177069d047c319ff2309aa5be9342e" title="d_lru_add" alt="" coords="1397,307,1476,333"/>
<area shape="rect" id="node30" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="865,360,941,387"/>
<area shape="rect" id="node32" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="642,310,769,351"/>
<area shape="rect" id="node34" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1238,960,1334,987"/>
<area shape="rect" id="node35" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="404,1050,583,1091"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="644,869,767,910"/>
<area shape="rect" id="node42" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="416,933,571,974"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a4e272672608da2a064e85f8db0d38e32" title="nilfs_cpfile_block\l_get_snapshot_list" alt="" coords="428,867,559,909"/>
<area shape="rect" id="node44" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="644,803,767,845"/>
<area shape="rect" id="node45" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="432,1116,555,1143"/>
<area shape="rect" id="node49" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="422,715,565,741"/>
<area shape="rect" id="node36" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="636,937,775,964"/>
<area shape="rect" id="node37" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="829,1053,977,1080"/>
<area shape="rect" id="node39" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="829,988,976,1015"/>
<area shape="rect" id="node38" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="1025,953,1187,994"/>
<area shape="rect" id="node41" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="828,901,977,928"/>
<area shape="rect" id="node46" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="645,1191,766,1217"/>
<area shape="rect" id="node47" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="638,1089,773,1116"/>
<area shape="rect" id="node48" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="636,1140,775,1167"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_aee267b790478d6d538483b5e672876df_icgraph.png" border="0" usemap="#cpfile_8h_aee267b790478d6d538483b5e672876df_icgraph" alt=""/></div>
<map name="cpfile_8h_aee267b790478d6d538483b5e672876df_icgraph" id="cpfile_8h_aee267b790478d6d538483b5e672876df_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="187,99,313,141"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="361,107,439,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="487,81,607,108"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="663,81,777,108"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="655,132,785,159"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="838,5,927,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="837,56,929,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="833,107,932,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="840,157,925,184"/>
</map>
</div>

</div>
</div>
<a id="a6e990efd59118351015faa42bdd10540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e990efd59118351015faa42bdd10540">&#9670;&nbsp;</a></span>nilfs_cpfile_delete_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_delete_checkpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_delete_checkpoint - : : </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a6e990efd59118351015faa42bdd10540_cgraph.png" border="0" usemap="#cpfile_8h_a6e990efd59118351015faa42bdd10540_cgraph" alt=""/></div>
<map name="cpfile_8h_a6e990efd59118351015faa42bdd10540_cgraph" id="cpfile_8h_a6e990efd59118351015faa42bdd10540_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="180,152,311,194"/>
<area shape="rect" id="node20" href="cpfile_8c.html#a741424beec629d3d2eb990ebf4ba1da4" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="182,531,309,572"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1037,205,1133,232"/>
<area shape="rect" id="node4" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="399,36,501,62"/>
<area shape="rect" id="node5" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="359,283,541,324"/>
<area shape="rect" id="node16" href="cpfile_8c.html#aee514232b0632a21e05f667f33704ade" title="nilfs_cpfile_checkpoints\l_in_block" alt="" coords="369,152,531,194"/>
<area shape="rect" id="node18" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="389,218,511,259"/>
<area shape="rect" id="node19" href="cpfile_8c.html#accc61d49896374c113383a0f8eb50db2" title="nilfs_cpfile_checkpoint\l_to_cpinfo" alt="" coords="373,87,527,128"/>
<area shape="rect" id="node6" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="593,336,741,362"/>
<area shape="rect" id="node8" href="mdt_8c.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="596,462,737,489"/>
<area shape="rect" id="node15" href="cpfile_8c.html#a064a874e7effb026597d663177f77af0" title="nilfs_cpfile_first\l_checkpoint_in_block" alt="" coords="593,118,740,159"/>
<area shape="rect" id="node7" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="792,168,953,210"/>
<area shape="rect" id="node9" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="800,538,945,565"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1441,785,1511,812"/>
<area shape="rect" id="node13" href="nilfs2_2bmap_8c.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="799,488,947,514"/>
<area shape="rect" id="node10" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1005,532,1164,558"/>
<area shape="rect" id="node11" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1228,582,1347,609"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1017,466,1152,507"/>
<area shape="rect" id="node17" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="592,66,741,93"/>
<area shape="rect" id="node21" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="639,773,694,800"/>
<area shape="rect" id="node23" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="373,531,527,572"/>
<area shape="rect" id="node28" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1226,981,1349,1008"/>
<area shape="rect" id="node39" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1216,894,1359,921"/>
<area shape="rect" id="node42" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="361,466,539,507"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="391,400,509,442"/>
<area shape="rect" id="node45" href="cpfile_8c.html#a637e7231d3a234bdf6405fc8aa2bde40" title="nilfs_cpfile_block\l_sub_valid_checkpoints" alt="" coords="369,662,531,703"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="385,596,515,638"/>
<area shape="rect" id="node50" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="389,779,511,820"/>
<area shape="rect" id="node22" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="813,920,932,946"/>
<area shape="rect" id="node24" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="597,538,736,565"/>
<area shape="rect" id="node25" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="795,677,951,704"/>
<area shape="rect" id="node26" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1007,633,1162,660"/>
<area shape="rect" id="node27" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1012,836,1157,878"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1001,734,1168,761"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1008,684,1161,710"/>
<area shape="rect" id="node29" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1415,981,1537,1008"/>
<area shape="rect" id="node31" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1409,1061,1543,1088"/>
<area shape="rect" id="node38" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1407,930,1545,957"/>
<area shape="rect" id="node30" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1597,952,1769,978"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1593,1054,1773,1095"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1613,1119,1753,1160"/>
<area shape="rect" id="node36" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1617,1184,1750,1226"/>
<area shape="rect" id="node37" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1614,1002,1753,1029"/>
<area shape="rect" id="node33" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1821,1036,1912,1062"/>
<area shape="rect" id="node34" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1843,1086,1890,1113"/>
<area shape="rect" id="node43" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="593,386,740,413"/>
<area shape="rect" id="node47" href="mdt_8c.html#a920f1cd6bb101e5f43a349fe7531e096" title="nilfs_mdt_delete_block" alt="" coords="589,722,744,749"/>
<area shape="rect" id="node48" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="809,601,936,628"/>
<area shape="rect" id="node49" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d" title="nilfs_mdt_forget_block" alt="" coords="796,869,949,896"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a6e990efd59118351015faa42bdd10540_icgraph.png" border="0" usemap="#cpfile_8h_a6e990efd59118351015faa42bdd10540_icgraph" alt=""/></div>
<map name="cpfile_8h_a6e990efd59118351015faa42bdd10540_icgraph" id="cpfile_8h_a6e990efd59118351015faa42bdd10540_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="180,99,299,141"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="347,107,424,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="472,81,592,108"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="648,81,763,108"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="640,132,771,159"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="823,5,913,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="822,56,914,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="819,107,917,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="825,157,911,184"/>
</map>
</div>

</div>
</div>
<a id="a4e57280f967700ddccaf2fe883e430e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e57280f967700ddccaf2fe883e430e9">&#9670;&nbsp;</a></span>nilfs_cpfile_delete_checkpoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_delete_checkpoints </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_delete_checkpoints - delete checkpoints : inode of checkpoint file : start checkpoint number : end checkpoint numer</p>
<p>Description: <a class="el" href="cpfile_8c.html#a741424beec629d3d2eb990ebf4ba1da4">nilfs_cpfile_delete_checkpoints()</a> deletes the checkpoints in the period from  to , excluding  itself. The checkpoints which have been already deleted are ignored.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-EINVAL - invalid checkpoints. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a4e57280f967700ddccaf2fe883e430e9_cgraph.png" border="0" usemap="#cpfile_8h_a4e57280f967700ddccaf2fe883e430e9_cgraph" alt=""/></div>
<map name="cpfile_8h_a4e57280f967700ddccaf2fe883e430e9_cgraph" id="cpfile_8h_a4e57280f967700ddccaf2fe883e430e9_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="854,363,950,390"/>
<area shape="rect" id="node3" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="457,825,511,851"/>
<area shape="rect" id="node5" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="192,633,347,675"/>
<area shape="rect" id="node18" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1047,785,1170,811"/>
<area shape="rect" id="node30" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1037,415,1180,442"/>
<area shape="rect" id="node33" href="cpfile_8c.html#aee514232b0632a21e05f667f33704ade" title="nilfs_cpfile_checkpoints\l_in_block" alt="" coords="189,400,350,441"/>
<area shape="rect" id="node36" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="180,335,359,376"/>
<area shape="rect" id="node39" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="208,465,331,507"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="210,269,329,311"/>
<area shape="rect" id="node41" href="cpfile_8c.html#a637e7231d3a234bdf6405fc8aa2bde40" title="nilfs_cpfile_block\l_sub_valid_checkpoints" alt="" coords="189,847,350,888"/>
<area shape="rect" id="node42" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="204,204,335,245"/>
<area shape="rect" id="node50" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="208,912,331,953"/>
<area shape="rect" id="node4" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="631,825,749,851"/>
<area shape="rect" id="node6" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="415,637,553,663"/>
<area shape="rect" id="node7" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="617,695,763,722"/>
<area shape="rect" id="node15" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="612,633,768,659"/>
<area shape="rect" id="node8" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="823,734,981,761"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1049,633,1168,659"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1059,582,1159,609"/>
<area shape="rect" id="node12" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1043,835,1174,862"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1266,443,1337,470"/>
<area shape="rect" id="node14" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1033,734,1184,761"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1232,734,1371,761"/>
<area shape="rect" id="node16" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="825,531,979,558"/>
<area shape="rect" id="node17" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="829,465,975,507"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="819,582,985,609"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="825,633,979,659"/>
<area shape="rect" id="node19" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1241,871,1362,898"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1234,785,1369,811"/>
<area shape="rect" id="node20" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1423,909,1595,935"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1419,712,1599,753"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1439,777,1579,819"/>
<area shape="rect" id="node26" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1442,843,1575,884"/>
<area shape="rect" id="node29" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1439,661,1578,687"/>
<area shape="rect" id="node23" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1683,694,1774,721"/>
<area shape="rect" id="node24" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1705,745,1752,771"/>
<area shape="rect" id="node27" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="1653,825,1804,851"/>
<area shape="rect" id="node28" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1647,875,1811,902"/>
<area shape="rect" id="node34" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="609,364,771,405"/>
<area shape="rect" id="node35" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="409,430,559,457"/>
<area shape="rect" id="node37" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="410,277,558,303"/>
<area shape="rect" id="node38" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="411,329,557,355"/>
<area shape="rect" id="node43" href="mdt_8c.html#a920f1cd6bb101e5f43a349fe7531e096" title="nilfs_mdt_delete_block" alt="" coords="407,161,561,187"/>
<area shape="rect" id="node44" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="627,110,753,137"/>
<area shape="rect" id="node47" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d" title="nilfs_mdt_forget_block" alt="" coords="613,211,767,238"/>
<area shape="rect" id="node45" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964" title="nilfs_bmap_do_delete" alt="" coords="828,110,976,137"/>
<area shape="rect" id="node46" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="835,44,969,85"/>
<area shape="rect" id="node48" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="837,212,967,253"/>
<area shape="rect" id="node49" href="nilfs2_2page_8c.html#a866283c71b48e2aec59af06e7dd9d0ac" title="nilfs_forget_buffer" alt="" coords="839,295,965,322"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a4e57280f967700ddccaf2fe883e430e9_icgraph.png" border="0" usemap="#cpfile_8h_a4e57280f967700ddccaf2fe883e430e9_icgraph" alt=""/></div>
<map name="cpfile_8h_a4e57280f967700ddccaf2fe883e430e9_icgraph" id="cpfile_8h_a4e57280f967700ddccaf2fe883e430e9_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="180,97,299,138"/>
<area shape="rect" id="node14" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="347,159,473,201"/>
<area shape="rect" id="node3" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="347,94,473,135"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="521,108,669,135"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1069,81,1189,108"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="717,109,896,136"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="944,132,1021,159"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1245,81,1360,108"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1237,132,1368,159"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1421,5,1510,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1419,56,1511,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1416,107,1515,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1423,157,1508,184"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="536,159,655,201"/>
</map>
</div>

</div>
</div>
<a id="a8008085b3c0f288ec4d3332f6c3a61cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8008085b3c0f288ec4d3332f6c3a61cc">&#9670;&nbsp;</a></span>nilfs_cpfile_get_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_get_checkpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_checkpoint **&#160;</td>
          <td class="paramname"><em>cpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bhp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_get_checkpoint - get a checkpoint : inode of checkpoint file : checkpoint number : create flag : pointer to a checkpoint : pointer to a buffer head</p>
<p>Description: <a class="el" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec">nilfs_cpfile_get_checkpoint()</a> acquires the checkpoint specified by . A new checkpoint will be created if  is the current checkpoint number and  is nonzero.</p>
<p>Return Value: On success, 0 is returned, and the checkpoint and the buffer head of the buffer on which the checkpoint is located are stored in the place pointed by  and , respectively. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-ENOENT - No such checkpoint.</p>
<p>%-EINVAL - invalid checkpoint. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a8008085b3c0f288ec4d3332f6c3a61cc_cgraph.png" border="0" usemap="#cpfile_8h_a8008085b3c0f288ec4d3332f6c3a61cc_cgraph" alt=""/></div>
<map name="cpfile_8h_a8008085b3c0f288ec4d3332f6c3a61cc_cgraph" id="cpfile_8h_a8008085b3c0f288ec4d3332f6c3a61cc_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="270,5,373,32"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="901,93,997,120"/>
<area shape="rect" id="node4" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="244,305,399,346"/>
<area shape="rect" id="node22" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1111,499,1233,525"/>
<area shape="rect" id="node34" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1101,397,1243,424"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="232,122,411,163"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="260,187,383,229"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="262,57,381,98"/>
<area shape="rect" id="node47" href="cpfile_8c.html#a447cee523bd7bc37ca3dda45ab0b5fa1" title="nilfs_cpfile_block\l_add_valid_checkpoints" alt="" coords="241,558,402,599"/>
<area shape="rect" id="node50" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="260,623,383,665"/>
<area shape="rect" id="node5" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="464,308,603,335"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="664,355,809,381"/>
<area shape="rect" id="node16" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="659,304,815,331"/>
<area shape="rect" id="node7" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="869,600,1028,627"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1113,549,1231,576"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1122,600,1222,627"/>
<area shape="rect" id="node12" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1107,752,1237,779"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1356,397,1427,424"/>
<area shape="rect" id="node14" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1097,651,1247,677"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1131,701,1213,728"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1312,549,1471,576"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1322,625,1461,652"/>
<area shape="rect" id="node17" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="871,144,1026,171"/>
<area shape="rect" id="node20" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="876,289,1021,330"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="865,216,1032,243"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="872,355,1025,381"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1080,77,1264,104"/>
<area shape="rect" id="node19" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1105,27,1239,53"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1110,296,1234,323"/>
<area shape="rect" id="node23" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1331,499,1452,525"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1324,448,1459,475"/>
<area shape="rect" id="node24" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1523,572,1695,599"/>
<area shape="rect" id="node26" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1519,375,1699,417"/>
<area shape="rect" id="node29" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1539,441,1679,482"/>
<area shape="rect" id="node30" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1542,506,1675,547"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1539,324,1678,351"/>
<area shape="rect" id="node27" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="1783,364,1874,391"/>
<area shape="rect" id="node28" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1805,415,1852,441"/>
<area shape="rect" id="node31" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="1753,480,1904,507"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1747,531,1911,557"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1107,129,1237,170"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1096,195,1248,221"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1090,245,1254,272"/>
<area shape="rect" id="node41" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="459,51,607,77"/>
<area shape="rect" id="node43" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="460,101,607,128"/>
<area shape="rect" id="node42" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="656,86,817,127"/>
<area shape="rect" id="node45" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="459,152,608,179"/>
<area shape="rect" id="node48" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="506,565,561,592"/>
<area shape="rect" id="node49" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="677,565,796,592"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a8008085b3c0f288ec4d3332f6c3a61cc_icgraph.png" border="0" usemap="#cpfile_8h_a8008085b3c0f288ec4d3332f6c3a61cc_icgraph" alt=""/></div>
<map name="cpfile_8h_a8008085b3c0f288ec4d3332f6c3a61cc_icgraph" id="cpfile_8h_a8008085b3c0f288ec4d3332f6c3a61cc_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="2131,132,2289,159"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="232,365,371,406"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="431,303,547,345"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="2560,5,2709,32"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3974,132,4079,159"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2337,195,2512,221"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="4145,132,4234,159"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2596,245,2673,272"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2757,296,2875,323"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2952,296,3051,323"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2923,347,3080,373"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="3132,413,3280,440"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="3137,347,3275,389"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="3128,296,3284,323"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="3332,445,3511,472"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3597,476,3675,503"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="3777,577,3897,604"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3969,577,4084,604"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3961,513,4092,540"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="4145,653,4234,680"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="4143,501,4235,528"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="4140,552,4239,579"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="4147,603,4232,629"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="3352,339,3491,365"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="3571,317,3701,358"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="3761,309,3913,336"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3977,259,4077,285"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="3348,284,3495,311"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="3559,157,3713,184"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="3782,208,3893,235"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="419,369,560,410"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="608,376,749,403"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="797,376,976,403"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="3131,646,3281,687"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1024,398,1208,439"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="3583,653,3689,680"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="3363,628,3479,655"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1256,529,1395,570"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2927,397,3075,424"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1443,616,1581,643"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1629,616,1729,643"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1777,729,1896,756"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1777,540,1896,567"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2379,596,2470,623"/>
<area shape="rect" id="node42" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1954,515,2073,541"/>
<area shape="rect" id="node43" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1944,449,2083,490"/>
<area shape="rect" id="node44" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2139,220,2281,247"/>
</map>
</div>

</div>
</div>
<a id="af8a3238ead93e98a3649d9894bdb2697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8a3238ead93e98a3649d9894bdb2697">&#9670;&nbsp;</a></span>nilfs_cpfile_get_cpinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t nilfs_cpfile_get_cpinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>cnop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cisz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_get_cpinfo - : : : : </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_af8a3238ead93e98a3649d9894bdb2697_cgraph.png" border="0" usemap="#cpfile_8h_af8a3238ead93e98a3649d9894bdb2697_cgraph" alt=""/></div>
<map name="cpfile_8h_af8a3238ead93e98a3649d9894bdb2697_cgraph" id="cpfile_8h_af8a3238ead93e98a3649d9894bdb2697_cgraph">
<area shape="rect" id="node2" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="204,838,335,879"/>
<area shape="rect" id="node32" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="204,613,335,654"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1055,832,1151,859"/>
<area shape="rect" id="node4" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="423,904,525,931"/>
<area shape="rect" id="node5" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="383,773,565,814"/>
<area shape="rect" id="node28" href="cpfile_8c.html#aee514232b0632a21e05f667f33704ade" title="nilfs_cpfile_checkpoints\l_in_block" alt="" coords="393,955,555,997"/>
<area shape="rect" id="node30" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="413,838,535,879"/>
<area shape="rect" id="node31" href="cpfile_8c.html#accc61d49896374c113383a0f8eb50db2" title="nilfs_cpfile_checkpoint\l_to_cpinfo" alt="" coords="397,707,551,749"/>
<area shape="rect" id="node6" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="614,727,762,753"/>
<area shape="rect" id="node8" href="mdt_8c.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="617,600,759,627"/>
<area shape="rect" id="node27" href="cpfile_8c.html#a064a874e7effb026597d663177f77af0" title="nilfs_cpfile_first\l_checkpoint_in_block" alt="" coords="615,829,761,870"/>
<area shape="rect" id="node7" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="811,829,972,870"/>
<area shape="rect" id="node9" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="819,575,964,601"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1523,384,1593,411"/>
<area shape="rect" id="node26" href="nilfs2_2bmap_8c.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="817,625,965,652"/>
<area shape="rect" id="node10" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1024,577,1183,604"/>
<area shape="rect" id="node11" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1267,308,1386,335"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1715,628,1815,655"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1261,577,1392,604"/>
<area shape="rect" id="node22" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1251,628,1402,655"/>
<area shape="rect" id="node24" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1285,729,1368,756"/>
<area shape="rect" id="node12" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1479,308,1637,335"/>
<area shape="rect" id="node14" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1880,603,2019,629"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1484,461,1632,502"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1491,527,1625,553"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1697,461,1832,502"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1903,468,1996,495"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="2067,468,2171,495"/>
<area shape="rect" id="node23" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1467,628,1649,655"/>
<area shape="rect" id="node25" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1501,729,1615,756"/>
<area shape="rect" id="node29" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="613,945,763,972"/>
<area shape="rect" id="node33" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="397,459,551,501"/>
<area shape="rect" id="node48" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="413,642,535,683"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="385,525,563,566"/>
<area shape="rect" id="node34" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="619,499,757,525"/>
<area shape="rect" id="node35" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="813,283,969,309"/>
<area shape="rect" id="node36" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1026,207,1181,233"/>
<area shape="rect" id="node39" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1031,47,1176,89"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1020,359,1187,385"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1027,308,1180,335"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1235,156,1419,183"/>
<area shape="rect" id="node38" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1260,207,1393,233"/>
<area shape="rect" id="node40" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1496,131,1620,157"/>
<area shape="rect" id="node41" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1703,181,1826,208"/>
<area shape="rect" id="node42" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1255,55,1398,81"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1262,410,1391,451"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1251,257,1403,284"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1245,359,1409,385"/>
<area shape="rect" id="node50" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="615,676,761,703"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_af8a3238ead93e98a3649d9894bdb2697_icgraph.png" border="0" usemap="#cpfile_8h_af8a3238ead93e98a3649d9894bdb2697_icgraph" alt=""/></div>
<map name="cpfile_8h_af8a3238ead93e98a3649d9894bdb2697_icgraph" id="cpfile_8h_af8a3238ead93e98a3649d9894bdb2697_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="204,99,327,141"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="375,107,452,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="500,81,620,108"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="676,81,791,108"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="668,132,799,159"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="851,5,941,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="850,56,942,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="847,107,945,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="853,157,939,184"/>
</map>
</div>

</div>
</div>
<a id="a3449472f483c42ad36c89de01f0204d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3449472f483c42ad36c89de01f0204d5">&#9670;&nbsp;</a></span>nilfs_cpfile_get_stat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_get_stat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_cpstat *&#160;</td>
          <td class="paramname"><em>cpstat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_get_stat - get checkpoint statistics : inode of checkpoint file : pointer to a structure of checkpoint statistics</p>
<p>Description: <a class="el" href="cpfile_8c.html#a929716373573b8e3682a2081e6b99a56">nilfs_cpfile_get_stat()</a> returns information about checkpoints.</p>
<p>Return Value: On success, 0 is returned, and checkpoints information is stored in the place pointed by . On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a3449472f483c42ad36c89de01f0204d5_cgraph.png" border="0" usemap="#cpfile_8h_a3449472f483c42ad36c89de01f0204d5_cgraph" alt=""/></div>
<map name="cpfile_8h_a3449472f483c42ad36c89de01f0204d5_cgraph" id="cpfile_8h_a3449472f483c42ad36c89de01f0204d5_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1680,20,1776,47"/>
<area shape="rect" id="node3" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="192,199,347,241"/>
<area shape="rect" id="node49" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="208,265,331,306"/>
<area shape="rect" id="node50" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="218,331,321,357"/>
<area shape="rect" id="node4" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="395,363,533,389"/>
<area shape="rect" id="node5" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="587,637,732,664"/>
<area shape="rect" id="node29" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="581,363,737,389"/>
<area shape="rect" id="node6" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="789,832,948,859"/>
<area shape="rect" id="node7" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1033,701,1151,728"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1487,963,1587,989"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1027,832,1157,859"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1288,312,1359,339"/>
<area shape="rect" id="node23" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1017,912,1167,939"/>
<area shape="rect" id="node25" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1051,1064,1133,1091"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1244,701,1403,728"/>
<area shape="rect" id="node9" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1463,643,1611,669"/>
<area shape="rect" id="node12" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1471,694,1602,735"/>
<area shape="rect" id="node13" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1489,760,1584,787"/>
<area shape="rect" id="node10" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1663,643,1793,669"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1659,836,1797,863"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1249,795,1397,837"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1256,861,1391,888"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1469,577,1604,618"/>
<area shape="rect" id="node19" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1473,811,1601,837"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1469,861,1604,888"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1681,584,1775,611"/>
<area shape="rect" id="node24" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1232,963,1415,989"/>
<area shape="rect" id="node26" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1267,1064,1380,1091"/>
<area shape="rect" id="node27" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1467,1064,1607,1091"/>
<area shape="rect" id="node28" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1483,1013,1590,1040"/>
<area shape="rect" id="node30" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="791,261,946,288"/>
<area shape="rect" id="node35" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="796,355,941,397"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="785,123,952,149"/>
<area shape="rect" id="node48" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="792,472,945,499"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1000,261,1184,288"/>
<area shape="rect" id="node32" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1025,211,1159,237"/>
<area shape="rect" id="node33" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1232,184,1415,211"/>
<area shape="rect" id="node34" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1491,129,1582,156"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1030,519,1154,545"/>
<area shape="rect" id="node39" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1031,464,1153,491"/>
<area shape="rect" id="node42" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1021,363,1163,389"/>
<area shape="rect" id="node37" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1251,519,1396,545"/>
<area shape="rect" id="node38" href="nilfs2_2btree_8c.html#a6f8ff0cabbdb9b0241bf032c6a5ac11d" title="nilfs_btree_convert\l_and_insert" alt="" coords="1471,511,1603,553"/>
<area shape="rect" id="node40" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1263,413,1384,440"/>
<area shape="rect" id="node41" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1256,363,1391,389"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1027,145,1157,186"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1016,43,1168,69"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1010,93,1174,120"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="1258,93,1389,120"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a3449472f483c42ad36c89de01f0204d5_icgraph.png" border="0" usemap="#cpfile_8h_a3449472f483c42ad36c89de01f0204d5_icgraph" alt=""/></div>
<map name="cpfile_8h_a3449472f483c42ad36c89de01f0204d5_icgraph" id="cpfile_8h_a3449472f483c42ad36c89de01f0204d5_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a39cf54b1fc6701f6616f08fefcf4260b" title="nilfs_ioctl_get_cpstat" alt="" coords="219,107,365,133"/>
<area shape="rect" id="node11" href="nilfs2_2sysfs_8c.html#afa186f47a96aaf919fc4c5faa1891f19" title="nilfs_checkpoints_checkpoints\l_number_show" alt="" coords="192,158,392,199"/>
<area shape="rect" id="node12" href="nilfs2_2sysfs_8c.html#a3b4893fe04d5a74b5b772943685e5ac7" title="nilfs_checkpoints_snapshots\l_number_show" alt="" coords="197,223,387,265"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="440,107,517,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="565,81,685,108"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="741,81,856,108"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="733,132,864,159"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="917,5,1006,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="915,56,1007,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="912,107,1011,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="919,157,1004,184"/>
</map>
</div>

</div>
</div>
<a id="a44962d0686d471deea4f0f55285ffe86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44962d0686d471deea4f0f55285ffe86">&#9670;&nbsp;</a></span>nilfs_cpfile_is_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_is_snapshot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_is_snapshot - : inode of checkpoint file : checkpoint number</p>
<p>Description:</p>
<p>Return Value: On success, 1 is returned if the checkpoint specified by  is a snapshot, or 0 if not. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-ENOENT - No such checkpoint. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a44962d0686d471deea4f0f55285ffe86_cgraph.png" border="0" usemap="#cpfile_8h_a44962d0686d471deea4f0f55285ffe86_cgraph" alt=""/></div>
<map name="cpfile_8h_a44962d0686d471deea4f0f55285ffe86_cgraph" id="cpfile_8h_a44962d0686d471deea4f0f55285ffe86_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="253,97,355,124"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="879,274,975,301"/>
<area shape="rect" id="node4" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="215,351,393,392"/>
<area shape="rect" id="node49" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="243,199,365,240"/>
<area shape="rect" id="node5" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="447,468,585,494"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a67d134834f89f92295956bc0532ebc00" title="nilfs_cpfile_get_blkoff" alt="" coords="442,333,590,360"/>
<area shape="rect" id="node48" href="cpfile_8c.html#ad532d334d0ba51974d655e439bbd513c" title="nilfs_cpfile_block_init" alt="" coords="443,384,589,410"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="647,468,792,494"/>
<area shape="rect" id="node28" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="849,774,1005,801"/>
<area shape="rect" id="node7" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="848,384,1007,410"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1079,464,1197,490"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1543,50,1643,77"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1073,384,1203,410"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1557,893,1628,920"/>
<area shape="rect" id="node22" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1063,101,1213,128"/>
<area shape="rect" id="node24" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1097,228,1179,254"/>
<area shape="rect" id="node9" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1282,464,1441,490"/>
<area shape="rect" id="node10" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1519,522,1667,549"/>
<area shape="rect" id="node12" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1527,456,1658,498"/>
<area shape="rect" id="node13" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1545,405,1640,432"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1732,278,1871,305"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1287,347,1435,388"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1294,413,1429,440"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1525,624,1660,666"/>
<area shape="rect" id="node18" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1529,304,1657,330"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1525,354,1660,381"/>
<area shape="rect" id="node23" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1270,50,1453,77"/>
<area shape="rect" id="node25" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1305,228,1418,254"/>
<area shape="rect" id="node26" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1523,202,1663,229"/>
<area shape="rect" id="node27" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1539,253,1646,280"/>
<area shape="rect" id="node29" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1061,949,1215,976"/>
<area shape="rect" id="node33" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1065,832,1211,874"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1055,610,1221,637"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1061,898,1215,925"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1269,998,1453,1025"/>
<area shape="rect" id="node31" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1295,948,1428,974"/>
<area shape="rect" id="node32" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1501,948,1684,974"/>
<area shape="rect" id="node34" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1299,690,1423,717"/>
<area shape="rect" id="node36" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1300,741,1423,768"/>
<area shape="rect" id="node39" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1290,893,1433,920"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1520,690,1665,717"/>
<area shape="rect" id="node37" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1532,741,1653,768"/>
<area shape="rect" id="node38" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1525,792,1660,818"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1297,574,1426,615"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1285,640,1437,666"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1279,522,1443,549"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="1527,573,1658,600"/>
<area shape="rect" id="node47" href="cpfile_8c.html#aeabb5bf5c2379caa588e3302673b1a30" title="nilfs_cpfile_checkpoints\l_per_block" alt="" coords="639,351,800,392"/>
<area shape="rect" id="node50" href="cpfile_8c.html#af3192909ddb88c2575bb1828d746310a" title="nilfs_cpfile_get_offset" alt="" coords="441,249,591,276"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a44962d0686d471deea4f0f55285ffe86_icgraph.png" border="0" usemap="#cpfile_8h_a44962d0686d471deea4f0f55285ffe86_icgraph" alt=""/></div>
<map name="cpfile_8h_a44962d0686d471deea4f0f55285ffe86_icgraph" id="cpfile_8h_a44962d0686d471deea4f0f55285ffe86_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="215,5,364,32"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="412,5,501,32"/>
</map>
</div>

</div>
</div>
<a id="a7b2524aee2a9405b63cf1bb1007392d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2524aee2a9405b63cf1bb1007392d2">&#9670;&nbsp;</a></span>nilfs_cpfile_put_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_cpfile_put_checkpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>cpfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_put_checkpoint - put a checkpoint : inode of checkpoint file : checkpoint number : buffer head</p>
<p>Description: <a class="el" href="cpfile_8c.html#a72e48092c22cb4deae815d7073201249">nilfs_cpfile_put_checkpoint()</a> releases the checkpoint specified by .  must be the buffer head which has been returned by a previous call to <a class="el" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec">nilfs_cpfile_get_checkpoint()</a> with . </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_a7b2524aee2a9405b63cf1bb1007392d2_icgraph.png" border="0" usemap="#cpfile_8h_a7b2524aee2a9405b63cf1bb1007392d2_icgraph" alt=""/></div>
<map name="cpfile_8h_a7b2524aee2a9405b63cf1bb1007392d2_icgraph" id="cpfile_8h_a7b2524aee2a9405b63cf1bb1007392d2_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="2131,132,2289,159"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a8e41f513f78a1d22d3ecdb5387101abf" title="nilfs_segctor_create\l_checkpoint" alt="" coords="232,365,371,406"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="431,303,547,345"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="2560,5,2709,32"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="3974,132,4079,159"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2337,195,2512,221"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="4145,132,4234,159"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2596,245,2673,272"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2757,296,2875,323"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2952,296,3051,323"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2923,347,3080,373"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="3132,413,3280,440"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="3137,347,3275,389"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="3128,296,3284,323"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="3332,445,3511,472"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="3597,476,3675,503"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="3777,577,3897,604"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="3969,577,4084,604"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="3961,513,4092,540"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="4145,653,4234,680"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="4143,501,4235,528"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="4140,552,4239,579"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="4147,603,4232,629"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="3352,339,3491,365"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="3571,317,3701,358"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="3761,309,3913,336"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="3977,259,4077,285"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="3348,284,3495,311"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="3559,157,3713,184"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="3782,208,3893,235"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="419,369,560,410"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="608,376,749,403"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="797,376,976,403"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="3131,646,3281,687"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1024,398,1208,439"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="3583,653,3689,680"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="3363,628,3479,655"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1256,529,1395,570"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="2927,397,3075,424"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1443,616,1581,643"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1629,616,1729,643"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1777,729,1896,756"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1777,540,1896,567"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2379,596,2470,623"/>
<area shape="rect" id="node42" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1954,515,2073,541"/>
<area shape="rect" id="node43" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1944,449,2083,490"/>
<area shape="rect" id="node44" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2139,220,2281,247"/>
</map>
</div>

</div>
</div>
<a id="afc2e663c9b54bd6b3fc4a9f57c6e98a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc2e663c9b54bd6b3fc4a9f57c6e98a0">&#9670;&nbsp;</a></span>nilfs_cpfile_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_cpfile_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cpsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_inode *&#160;</td>
          <td class="paramname"><em>raw_inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> **&#160;</td>
          <td class="paramname"><em>inodep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_cpfile_read - read or get cpfile inode : super block instance : size of a checkpoint entry : on-disk cpfile inode : buffer to store the inode </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_afc2e663c9b54bd6b3fc4a9f57c6e98a0_cgraph.png" border="0" usemap="#cpfile_8h_afc2e663c9b54bd6b3fc4a9f57c6e98a0_cgraph" alt=""/></div>
<map name="cpfile_8h_afc2e663c9b54bd6b3fc4a9f57c6e98a0_cgraph" id="cpfile_8h_afc2e663c9b54bd6b3fc4a9f57c6e98a0_cgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="193,418,312,445"/>
<area shape="rect" id="node29" href="mdt_8c.html#a9d24c6e56a98e581fc30fd8a65841e2a" title="nilfs_mdt_init" alt="" coords="203,480,302,506"/>
<area shape="rect" id="node30" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="169,632,336,658"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#affec0e84c605c1d9028332974ba58cd3" title="nilfs_read_inode_common" alt="" coords="384,524,557,550"/>
<area shape="rect" id="node46" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="605,684,735,710"/>
<area shape="rect" id="node47" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="430,684,511,710"/>
<area shape="rect" id="node3" href="inode_8c.html#a0e9a0440646ab0424be87f1ee6387c64" title="iget5_locked" alt="" coords="423,189,518,216"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a42350b0b59e53776755f5a0b17efd97f" title="nilfs_iget_test" alt="" coords="419,468,522,494"/>
<area shape="rect" id="node27" href="nilfs2_2inode_8c.html#ab596c6b27b262ff881fb811a5d25990a" title="nilfs_iget_set" alt="" coords="421,417,520,444"/>
<area shape="rect" id="node4" href="inode_8c.html#aa1822403d896f1040c371de082022045" title="hash" alt="" coords="645,113,695,140"/>
<area shape="rect" id="node5" href="inode_8c.html#af827e753dda790b4b798f86e933bb380" title="find_inode" alt="" coords="629,164,711,190"/>
<area shape="rect" id="node8" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="649,366,691,393"/>
<area shape="rect" id="node14" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="1231,88,1333,114"/>
<area shape="rect" id="node18" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1581,420,1720,446"/>
<area shape="rect" id="node20" href="inode_8c.html#a6328f7a2621c5365a1df969e8c7ab998" title="alloc_inode" alt="" coords="627,214,713,241"/>
<area shape="rect" id="node23" href="inode_8c.html#a1871c58d9c393006e24f7fea1bcc288d" title="inode_sb_list_add" alt="" coords="607,62,733,89"/>
<area shape="rect" id="node6" href="inode_8c.html#a6bdbb5661dff23968a2a67170a4ffccf" title="__wait_on_freeing_inode" alt="" coords="786,164,951,190"/>
<area shape="rect" id="node7" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="840,113,897,140"/>
<area shape="rect" id="node9" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="831,366,906,393"/>
<area shape="rect" id="node10" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1030,316,1133,342"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1022,366,1141,393"/>
<area shape="rect" id="node12" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1020,417,1143,444"/>
<area shape="rect" id="node13" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1056,214,1107,241"/>
<area shape="rect" id="node15" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="1404,62,1521,89"/>
<area shape="rect" id="node19" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="1423,113,1503,140"/>
<area shape="rect" id="node16" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1587,37,1715,64"/>
<area shape="rect" id="node17" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1569,88,1732,114"/>
<area shape="rect" id="node21" href="inode_8c.html#a844185001176cf3da6e2195a24931015" title="inode_init_always" alt="" coords="806,214,931,241"/>
<area shape="rect" id="node22" href="inode_8c.html#a585882dc429befcbe4638a49bc11dff6" title="no_open" alt="" coords="1046,113,1117,140"/>
<area shape="rect" id="node24" href="debugfs_2inode_8c.html#ab0e32a685998ab4f1be52f66ddedfca1" title="EXPORT_SYMBOL_GPL" alt="" coords="783,62,955,89"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="635,468,705,494"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a4af5a977af148ee222180ae10226f487" title="nilfs_get_root" alt="" coords="620,417,720,444"/>
<area shape="rect" id="node31" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="423,632,519,658"/>
<area shape="rect" id="node33" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="1245,445,1319,472"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#a1dab812b511c175bcc95dd9221f82172" title="nilfs_bmap_read" alt="" coords="611,594,729,621"/>
<area shape="rect" id="node34" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="1421,496,1505,522"/>
<area shape="rect" id="node36" href="nilfs_8h.html#ab02aecb562f6c74a04aad6d769ac9f1e" title="NILFS_BMAP_I" alt="" coords="811,569,927,596"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a8e12be4abec0ec1530a707fea17e7298" title="nilfs_btree_init" alt="" coords="815,620,922,646"/>
<area shape="rect" id="node45" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="814,670,923,697"/>
<area shape="rect" id="node38" href="nilfs2_2btree_8c.html#a60fb1455ef3bef9737a4de47cbc2641a" title="__nilfs_btree_init" alt="" coords="1021,569,1141,596"/>
<area shape="rect" id="node40" href="nilfs2_2btree_8c.html#a89d82007326260ecfcb26412f299297a" title="nilfs_btree_root_broken" alt="" coords="1003,620,1160,646"/>
<area shape="rect" id="node44" href="nilfs2_2btree_8c.html#a17a122f397fd12734d718b7264231e4d" title="nilfs_btree_get_root" alt="" coords="1013,670,1149,697"/>
<area shape="rect" id="node39" href="nilfs2_2btree_8c.html#a6b425e1129c6131fb5f0d7018d2c6bb4" title="nilfs_btree_node_size" alt="" coords="1208,496,1356,522"/>
<area shape="rect" id="node41" href="nilfs2_2btree_8c.html#a427bb91c91c14dc89a2bfdcbadace0c9" title="nilfs_btree_node_get\l_level" alt="" coords="1211,612,1353,654"/>
<area shape="rect" id="node42" href="nilfs2_2btree_8c.html#acd55e7ca4162de408cc1094902494abd" title="nilfs_btree_node_get\l_flags" alt="" coords="1211,678,1353,719"/>
<area shape="rect" id="node43" href="nilfs2_2btree_8c.html#a55d2c414d2839e3ab8aa38e93df992e8" title="nilfs_btree_node_get\l_nchildren" alt="" coords="1211,547,1353,588"/>
<area shape="rect" id="node48" href="bad__inode_8c.html#ab9cc2af6161530b35e5f86e29f977033" title="make_bad_inode" alt="" coords="610,792,730,818"/>
<area shape="rect" id="node50" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="799,792,938,818"/>
<area shape="rect" id="node49" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="1415,820,1510,846"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpfile_8h_afc2e663c9b54bd6b3fc4a9f57c6e98a0_icgraph.png" border="0" usemap="#cpfile_8h_afc2e663c9b54bd6b3fc4a9f57c6e98a0_icgraph" alt=""/></div>
<map name="cpfile_8h_afc2e663c9b54bd6b3fc4a9f57c6e98a0_icgraph" id="cpfile_8h_afc2e663c9b54bd6b3fc4a9f57c6e98a0_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="169,229,315,256"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="363,229,440,256"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1727,196,1832,223"/>
<area shape="rect" id="node6" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="488,229,605,256"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1919,233,2009,260"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="683,204,781,231"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="653,255,811,281"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="863,196,1011,223"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="867,247,1006,289"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="859,313,1015,340"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1063,196,1241,223"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1328,95,1405,121"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1508,95,1628,121"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1722,95,1837,121"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1714,44,1845,71"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1919,107,2009,133"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1918,157,2010,184"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1915,5,2013,32"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1921,56,2007,83"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1083,251,1221,277"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1302,241,1431,282"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1492,247,1644,273"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1729,247,1829,273"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1692,399,1867,425"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1079,309,1225,336"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1289,308,1444,335"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1513,348,1623,375"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="cpfile_8h.html">cpfile.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
