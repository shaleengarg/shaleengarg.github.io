<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ocfs2/dlm/dlmlock.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dlmlock_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dlmlock.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/module.h&gt;</code><br />
<code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/types.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/highmem.h&gt;</code><br />
<code>#include &lt;linux/init.h&gt;</code><br />
<code>#include &lt;linux/sysctl.h&gt;</code><br />
<code>#include &lt;linux/random.h&gt;</code><br />
<code>#include &lt;linux/blkdev.h&gt;</code><br />
<code>#include &lt;linux/socket.h&gt;</code><br />
<code>#include &lt;linux/inet.h&gt;</code><br />
<code>#include &lt;linux/spinlock.h&gt;</code><br />
<code>#include &lt;linux/delay.h&gt;</code><br />
<code>#include &quot;<a class="el" href="cluster_2heartbeat_8h_source.html">cluster/heartbeat.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nodemanager_8h_source.html">cluster/nodemanager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tcp_8h_source.html">cluster/tcp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dlmapi_8h_source.html">dlmapi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dlmcommon_8h_source.html">dlmcommon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dlmconvert_8h_source.html">dlmconvert.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="masklog_8h_source.html">cluster/masklog.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for dlmlock.c:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c__incl.png" border="0" usemap="#ocfs2_2dlm_2dlmlock_8c" alt=""/></div>
<map name="ocfs2_2dlm_2dlmlock_8c" id="ocfs2_2dlm_2dlmlock_8c">
<area shape="rect" id="node15" href="cluster_2heartbeat_8h.html" title="cluster/heartbeat.h" alt="" coords="1573,80,1704,107"/>
<area shape="rect" id="node17" href="nodemanager_8h.html" title="cluster/nodemanager.h" alt="" coords="1728,80,1883,107"/>
<area shape="rect" id="node21" href="tcp_8h.html" title="cluster/tcp.h" alt="" coords="1198,80,1293,107"/>
<area shape="rect" id="node24" href="dlmapi_8h.html" title="dlmapi.h" alt="" coords="1907,80,1978,107"/>
<area shape="rect" id="node25" href="dlmcommon_8h.html" title="dlmcommon.h" alt="" coords="2003,80,2107,107"/>
<area shape="rect" id="node27" href="dlmconvert_8h.html" title="dlmconvert.h" alt="" coords="2131,80,2229,107"/>
<area shape="rect" id="node28" href="masklog_8h.html" title="cluster/masklog.h" alt="" coords="2253,80,2379,107"/>
<area shape="rect" id="node16" href="ocfs2__heartbeat_8h.html" title="ocfs2_heartbeat.h" alt="" coords="1447,155,1574,181"/>
<area shape="rect" id="node18" href="ocfs2__nodemanager_8h.html" title="ocfs2_nodemanager.h" alt="" coords="1598,155,1749,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8f5c2fd949b123374cc5fd21ea4e06a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a8f5c2fd949b123374cc5fd21ea4e06a2">MLOG_MASK_PREFIX</a>&#160;&#160;&#160;<a class="el" href="masklog_8h.html#a78130fd8bd60cb5499c1b3b23b92058b">ML_DLM</a></td></tr>
<tr class="separator:a8f5c2fd949b123374cc5fd21ea4e06a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3b531d3ce28ed986f5e8cc8a80c8881a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a3b531d3ce28ed986f5e8cc8a80c8881a">DEFINE_SPINLOCK</a> (dlm_cookie_lock)</td></tr>
<tr class="separator:a3b531d3ce28ed986f5e8cc8a80c8881a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad433bd0e7dd150ff473bd060baffef04"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#ad433bd0e7dd150ff473bd060baffef04">dlm_send_remote_lock_request</a> (struct <a class="el" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res, struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *lock, int <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:ad433bd0e7dd150ff473bd060baffef04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c4728eafad7834836ea00a3f531886"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a41c4728eafad7834836ea00a3f531886">dlm_init_lock</a> (struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *newlock, int <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>, u8 node, u64 cookie)</td></tr>
<tr class="separator:a41c4728eafad7834836ea00a3f531886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ebad340d76b52b7e0edc7b54ff3aa8d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a5ebad340d76b52b7e0edc7b54ff3aa8d">dlm_lock_release</a> (struct kref *kref)</td></tr>
<tr class="separator:a5ebad340d76b52b7e0edc7b54ff3aa8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45c368aea5ffcf5c96f379551136b2d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#ac45c368aea5ffcf5c96f379551136b2d">dlm_lock_detach_lockres</a> (struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *lock)</td></tr>
<tr class="separator:ac45c368aea5ffcf5c96f379551136b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33bde48be8aa227e228e92e17fe88146"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a33bde48be8aa227e228e92e17fe88146">dlm_init_lock_cache</a> (void)</td></tr>
<tr class="separator:a33bde48be8aa227e228e92e17fe88146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab914948a4f4bf335b9ae47dc3ceec8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a1ab914948a4f4bf335b9ae47dc3ceec8">dlm_destroy_lock_cache</a> (void)</td></tr>
<tr class="separator:a1ab914948a4f4bf335b9ae47dc3ceec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abccaee0f650b509975a28af4ab59587a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#abccaee0f650b509975a28af4ab59587a">dlm_can_grant_new_lock</a> (struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res, struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *lock)</td></tr>
<tr class="separator:abccaee0f650b509975a28af4ab59587a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa817aa926a1cd9499a2aa6cca19a12"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12">dlmlock_master</a> (struct <a class="el" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res, struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *lock, int <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:acaa817aa926a1cd9499a2aa6cca19a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1595fa19e5e16d32aeeca3227173476f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a1595fa19e5e16d32aeeca3227173476f">dlm_revert_pending_lock</a> (struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res, struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *lock)</td></tr>
<tr class="separator:a1595fa19e5e16d32aeeca3227173476f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf34dc369cd4fd92b98a1224233ef45"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#afdf34dc369cd4fd92b98a1224233ef45">dlmlock_remote</a> (struct <a class="el" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res, struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *lock, int <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:afdf34dc369cd4fd92b98a1224233ef45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84cd601553d99a8a3618edd0fb9c6c76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a84cd601553d99a8a3618edd0fb9c6c76">dlm_lock_get</a> (struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *lock)</td></tr>
<tr class="separator:a84cd601553d99a8a3618edd0fb9c6c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c6cdb477b5d634636fe8805b4c75c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#ae9c6cdb477b5d634636fe8805b4c75c5">dlm_lock_put</a> (struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *lock)</td></tr>
<tr class="separator:ae9c6cdb477b5d634636fe8805b4c75c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2a426185562b36aae11782380f7a25e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e">dlm_lock_attach_lockres</a> (struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *lock, struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res)</td></tr>
<tr class="separator:ac2a426185562b36aae11782380f7a25e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4b87c51307a6fb69d9c27b5ad394e54"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#aa4b87c51307a6fb69d9c27b5ad394e54">dlm_new_lock</a> (int <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>, u8 node, u64 cookie, struct <a class="el" href="structdlm__lockstatus.html">dlm_lockstatus</a> *lksb)</td></tr>
<tr class="separator:aa4b87c51307a6fb69d9c27b5ad394e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff4377248f6d39ae909620bb757b2130"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130">dlm_create_lock_handler</a> (struct <a class="el" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, void *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>, void **ret_data)</td></tr>
<tr class="separator:aff4377248f6d39ae909620bb757b2130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8dcac35697e5f03a9896ced5e229eff"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#ab8dcac35697e5f03a9896ced5e229eff">dlm_get_next_cookie</a> (u8 node_num, u64 *cookie)</td></tr>
<tr class="separator:ab8dcac35697e5f03a9896ced5e229eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e5233f1ea70df1eed77a148b79a937"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937">dlmlock</a> (struct <a class="el" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, int mode, struct <a class="el" href="structdlm__lockstatus.html">dlm_lockstatus</a> *lksb, int <a class="el" href="structflags.html">flags</a>, const char *<a class="el" href="ocfs2__fs_8h.html#ada19f4aad235f71d075b50e38c5bbbd7">name</a>, int namelen, <a class="el" href="dlmapi_8h.html#aaf7fd5b9504a2234d0d8225c833d5d39">dlm_astlockfunc_t</a> *ast, void *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>, <a class="el" href="dlmapi_8h.html#afd3872305415df41a8efb40cce506b3a">dlm_bastlockfunc_t</a> *bast)</td></tr>
<tr class="separator:a13e5233f1ea70df1eed77a148b79a937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c6d3f827130492829026a171789897"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a48c6d3f827130492829026a171789897">EXPORT_SYMBOL_GPL</a> (<a class="el" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937">dlmlock</a>)</td></tr>
<tr class="separator:a48c6d3f827130492829026a171789897"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae8a3061051f5dc25b17e17b3f093f60c"><td class="memItemLeft" align="right" valign="top">static struct kmem_cache *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#ae8a3061051f5dc25b17e17b3f093f60c">dlm_lock_cache</a></td></tr>
<tr class="separator:ae8a3061051f5dc25b17e17b3f093f60c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60629d04740c982cde8fc2f1dfdc1bfb"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlmlock_8c.html#a60629d04740c982cde8fc2f1dfdc1bfb">dlm_next_cookie</a> = 1</td></tr>
<tr class="separator:a60629d04740c982cde8fc2f1dfdc1bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8f5c2fd949b123374cc5fd21ea4e06a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f5c2fd949b123374cc5fd21ea4e06a2">&#9670;&nbsp;</a></span>MLOG_MASK_PREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MLOG_MASK_PREFIX&#160;&#160;&#160;<a class="el" href="masklog_8h.html#a78130fd8bd60cb5499c1b3b23b92058b">ML_DLM</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3b531d3ce28ed986f5e8cc8a80c8881a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b531d3ce28ed986f5e8cc8a80c8881a">&#9670;&nbsp;</a></span>DEFINE_SPINLOCK()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static DEFINE_SPINLOCK </td>
          <td>(</td>
          <td class="paramtype">dlm_cookie_lock&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abccaee0f650b509975a28af4ab59587a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abccaee0f650b509975a28af4ab59587a">&#9670;&nbsp;</a></span>dlm_can_grant_new_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dlm_can_grant_new_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_abccaee0f650b509975a28af4ab59587a_cgraph.png" border="0" usemap="#dlmlock_8c_abccaee0f650b509975a28af4ab59587a_cgraph" alt=""/></div>
<map name="dlmlock_8c_abccaee0f650b509975a28af4ab59587a_cgraph" id="dlmlock_8c_abccaee0f650b509975a28af4ab59587a_cgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#a91affc63da616dadcdc244bf45682340" title="dlm_lock_compatible" alt="" coords="223,5,367,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_abccaee0f650b509975a28af4ab59587a_icgraph.png" border="0" usemap="#dlmlock_8c_abccaee0f650b509975a28af4ab59587a_icgraph" alt=""/></div>
<map name="dlmlock_8c_abccaee0f650b509975a28af4ab59587a_icgraph" id="dlmlock_8c_abccaee0f650b509975a28af4ab59587a_icgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="223,93,337,120"/>
<area shape="rect" id="node3" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="385,444,552,471"/>
<area shape="rect" id="node17" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1966,188,2033,215"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="600,709,772,736"/>
<area shape="rect" id="node12" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2365,1011,2508,1053"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="827,409,951,436"/>
<area shape="rect" id="node8" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1474,701,1605,728"/>
<area shape="rect" id="node27" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1675,397,1860,424"/>
<area shape="rect" id="node31" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1231,1060,1404,1087"/>
<area shape="rect" id="node32" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1035,549,1155,576"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="824,477,955,504"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="828,899,951,925"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1017,955,1173,981"/>
<area shape="rect" id="node37" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="1039,853,1150,880"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="821,680,957,707"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="824,848,955,875"/>
<area shape="rect" id="node40" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1473,245,1606,272"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="829,579,949,605"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1007,245,1183,272"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="820,731,959,773"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="820,1024,959,1051"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1233,1171,1401,1197"/>
<area shape="rect" id="node6" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="1039,347,1150,373"/>
<area shape="rect" id="node7" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1259,473,1376,500"/>
<area shape="rect" id="node30" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1701,99,1834,125"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1467,397,1612,424"/>
<area shape="rect" id="node23" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2143,549,2313,576"/>
<area shape="rect" id="node24" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1452,499,1627,525"/>
<area shape="rect" id="node25" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1464,195,1615,221"/>
<area shape="rect" id="node26" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1456,144,1623,171"/>
<area shape="rect" id="node29" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1496,752,1583,779"/>
<area shape="rect" id="node9" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="1712,752,1823,779"/>
<area shape="rect" id="node10" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="1922,840,2077,867"/>
<area shape="rect" id="node11" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="1908,707,2091,733"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="1928,764,2071,791"/>
<area shape="rect" id="node16" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1689,499,1845,525"/>
<area shape="rect" id="node13" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2568,1019,2687,1045"/>
<area shape="rect" id="node14" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="2747,1019,2889,1045"/>
<area shape="rect" id="node18" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="2139,163,2317,189"/>
<area shape="rect" id="node21" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="2173,213,2283,240"/>
<area shape="rect" id="node19" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="2376,163,2497,189"/>
<area shape="rect" id="node20" href="dlmrecovery_8c.html#a1d6223f27e371e3a2510d21a6a857efc" title="dlm_recovery_thread" alt="" coords="2556,163,2699,189"/>
<area shape="rect" id="node28" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="1916,397,2083,424"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="1036,499,1153,525"/>
<area shape="rect" id="node42" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1243,585,1391,626"/>
<area shape="rect" id="node44" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="1250,245,1385,272"/>
<area shape="rect" id="node46" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="1017,752,1173,779"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1031,1131,1159,1157"/>
<area shape="rect" id="node50" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1031,1005,1159,1032"/>
</map>
</div>

</div>
</div>
<a id="aff4377248f6d39ae909620bb757b2130"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff4377248f6d39ae909620bb757b2130">&#9670;&nbsp;</a></span>dlm_create_lock_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlm_create_lock_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structo2net__msg.html">o2net_msg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ret_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_aff4377248f6d39ae909620bb757b2130_cgraph.png" border="0" usemap="#dlmlock_8c_aff4377248f6d39ae909620bb757b2130_cgraph" alt=""/></div>
<map name="dlmlock_8c_aff4377248f6d39ae909620bb757b2130_cgraph" id="dlmlock_8c_aff4377248f6d39ae909620bb757b2130_cgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#a443ec7266a4e91e1c207127c2ff377e9" title="dlm_grab" alt="" coords="265,5,339,32"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#a9f8ef0519749d7bfe7879a377f8feee7" title="dlm_domain_fully_joined" alt="" coords="220,56,384,83"/>
<area shape="rect" id="node5" href="dlmlock_8c.html#aa4b87c51307a6fb69d9c27b5ad394e54" title="dlm_new_lock" alt="" coords="249,107,355,133"/>
<area shape="rect" id="node7" href="dlmcommon_8h.html#ab4ec333709fe49ff933c13cfad732d63" title="dlm_lookup_lockres" alt="" coords="233,309,371,336"/>
<area shape="rect" id="node12" href="dlmcommon_8h.html#a1e34fbd5f9532d770b3a6d0a9c43b2ed" title="dlm_lockres_put" alt="" coords="1293,233,1411,260"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#ae02d978b3a4f4a1c59c96eaf8f79dd71" title="__dlm_lockres_state\l_to_status" alt="" coords="1281,1641,1423,1682"/>
<area shape="rect" id="node39" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="635,717,801,744"/>
<area shape="rect" id="node40" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1059,1463,1173,1489"/>
<area shape="rect" id="node47" href="dlmlock_8c.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="253,1564,351,1591"/>
<area shape="rect" id="node49" href="dlmcommon_8h.html#a018fd62fa8f63ca78bc06a1e6ac24286" title="dlm_put" alt="" coords="268,1615,336,1641"/>
<area shape="rect" id="node3" href="dlmdomain_8c.html#a842f816a5c56f74b7208e946fdc23ad9" title="__dlm_get" alt="" coords="466,5,549,32"/>
<area shape="rect" id="node6" href="dlmlock_8c.html#a41c4728eafad7834836ea00a3f531886" title="dlm_init_lock" alt="" coords="458,107,557,133"/>
<area shape="rect" id="node8" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="1327,436,1377,463"/>
<area shape="rect" id="node9" href="dlmdomain_8c.html#a1a4a44a0c416ba22754129aa0029a6fa" title="__dlm_lookup_lockres" alt="" coords="432,233,583,260"/>
<area shape="rect" id="node10" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="631,233,805,260"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="853,764,971,791"/>
<area shape="rect" id="node14" href="dlmcommon_8h.html#a9314de9625fc9ba31710f31e7b30b1c0" title="__dlm_unhash_lockres" alt="" coords="1039,335,1193,361"/>
<area shape="rect" id="node15" href="dlmcommon_8h.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1279,1041,1425,1068"/>
<area shape="rect" id="node16" href="dlmcommon_8h.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1265,701,1439,728"/>
<area shape="rect" id="node17" href="dlmcommon_8h.html#a1a4a44a0c416ba22754129aa0029a6fa" title="__dlm_lookup_lockres" alt="" coords="1041,233,1191,260"/>
<area shape="rect" id="node18" href="dlmcommon_8h.html#ab013ec9b983e65ab5b8a59f4744797c5" title="dlm_is_host_down" alt="" coords="1051,487,1181,513"/>
<area shape="rect" id="node19" href="dlmcommon_8h.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1038,983,1194,1009"/>
<area shape="rect" id="node23" href="dlmcommon_8h.html#af84b4854d72c195f508de5044bcf1539" title="dlm_new_lockres" alt="" coords="1055,537,1177,564"/>
<area shape="rect" id="node24" href="dlmcommon_8h.html#a7596aaf9419a5517e36b9833886d093c" title="dlm_lockres_set_refmap_bit" alt="" coords="1023,588,1209,615"/>
<area shape="rect" id="node25" href="dlmcommon_8h.html#a20ba52e420952c008a4603f9d149aacc" title="dlm_lockres_clear_refmap_bit" alt="" coords="1019,639,1213,665"/>
<area shape="rect" id="node26" href="dlmcommon_8h.html#a39f04b047ae6225e0b0a61a1d099a955" title="dlm_lockres_drop_inflight_ref" alt="" coords="1021,764,1211,791"/>
<area shape="rect" id="node27" href="dlmcommon_8h.html#af8f1cfdebed47ccf631f300ef65b58ad" title="dlm_lockres_grab_inflight_ref" alt="" coords="1021,815,1211,841"/>
<area shape="rect" id="node28" href="dlmcommon_8h.html#a4fd1866e731c1d1cee28128df271388d" title="__dlm_lockres_grab\l_inflight_worker" alt="" coords="1047,866,1185,907"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="1061,932,1171,959"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="1057,1108,1175,1135"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="1054,1412,1178,1439"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1051,1159,1181,1185"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1055,1209,1177,1236"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1048,1260,1184,1287"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1051,1311,1181,1337"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a9ee4079a72538256c51fff9af62be5bf" title="dlm_send_proxy_ast_msg" alt="" coords="1029,1361,1203,1388"/>
<area shape="rect" id="node13" href="dlmmaster_8c.html#a1eda4db47d3611569b720b231ccd37ca" title="dlm_lockres_release" alt="" coords="1499,233,1641,260"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#a75eccd63d933ef4c9819494238b962cd" title="__dlm_wait_on_lockres" alt="" coords="1273,1092,1431,1119"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a5327b4bda47dbdee1a589f8112045b31" title="__dlm_wait_on_lockres\l_flags" alt="" coords="1491,1031,1649,1073"/>
<area shape="rect" id="node22" href="dlmcommon_8h.html#a810a1b5decb1b256034d7493d83ac391" title="dlm_is_recovery_lock" alt="" coords="1278,1180,1426,1207"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a8f413f31d419f11b1b6d1b97dff83747" title="dlm_lockres_release_ast" alt="" coords="1269,1285,1435,1312"/>
<area shape="rect" id="node41" href="dlmcommon_8h.html#a7576e0d163acfcf2a6dd3b9a11159701" title="__dlm_lockres_reserve_ast" alt="" coords="1261,1488,1443,1515"/>
<area shape="rect" id="node42" href="dlmlock_8c.html#abccaee0f650b509975a28af4ab59587a" title="dlm_can_grant_new_lock" alt="" coords="1267,1539,1437,1565"/>
<area shape="rect" id="node43" href="dlmlock_8c.html#a84cd601553d99a8a3618edd0fb9c6c76" title="dlm_lock_get" alt="" coords="1303,1589,1401,1616"/>
<area shape="rect" id="node44" href="dlmast_8c.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="1297,1336,1407,1363"/>
<area shape="rect" id="node45" href="dlmcommon_8h.html#a50f02f902f36f2c0f78a6de9d0d16263" title="dlm_lockres_calc_usage" alt="" coords="1269,1387,1435,1413"/>
<area shape="rect" id="node46" href="dlmcommon_8h.html#aac3c67ad9759229029b5c161c631a93b" title="dlm_kick_thread" alt="" coords="1293,1437,1411,1464"/>
<area shape="rect" id="node48" href="dlmlock_8c.html#a5ebad340d76b52b7e0edc7b54ff3aa8d" title="dlm_lock_release" alt="" coords="446,1564,569,1591"/>
<area shape="rect" id="node50" href="dlmdomain_8c.html#a15b482ab18b6b2bd7062b8773211b831" title="dlm_ctxt_release" alt="" coords="447,1615,568,1641"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_aff4377248f6d39ae909620bb757b2130_icgraph.png" border="0" usemap="#dlmlock_8c_aff4377248f6d39ae909620bb757b2130_icgraph" alt=""/></div>
<map name="dlmlock_8c_aff4377248f6d39ae909620bb757b2130_icgraph" id="dlmlock_8c_aff4377248f6d39ae909620bb757b2130_icgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="220,608,392,635"/>
<area shape="rect" id="node10" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="1993,263,2136,305"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="466,735,590,761"/>
<area shape="rect" id="node6" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1111,245,1242,272"/>
<area shape="rect" id="node21" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1312,1405,1497,1432"/>
<area shape="rect" id="node30" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="868,301,1041,328"/>
<area shape="rect" id="node32" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="682,1013,802,1040"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="463,811,593,837"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="467,659,589,685"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="664,444,820,471"/>
<area shape="rect" id="node37" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="687,912,797,939"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="460,912,596,939"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="463,608,593,635"/>
<area shape="rect" id="node40" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1338,1299,1471,1325"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="895,1240,1015,1267"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="440,507,616,533"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="459,1393,597,1434"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="459,200,597,227"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="871,87,1039,113"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="687,709,797,736"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="896,784,1013,811"/>
<area shape="rect" id="node29" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="888,961,1021,988"/>
<area shape="rect" id="node31" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="897,403,1012,429"/>
<area shape="rect" id="node15" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1603,1088,1670,1115"/>
<area shape="rect" id="node16" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1104,885,1249,912"/>
<area shape="rect" id="node17" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="1776,784,1945,811"/>
<area shape="rect" id="node18" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1089,784,1264,811"/>
<area shape="rect" id="node19" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1329,499,1480,525"/>
<area shape="rect" id="node20" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1093,1408,1260,1435"/>
<area shape="rect" id="node23" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="1102,718,1251,759"/>
<area shape="rect" id="node24" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="1327,667,1482,709"/>
<area shape="rect" id="node25" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="1108,550,1245,591"/>
<area shape="rect" id="node26" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="1111,987,1242,1013"/>
<area shape="rect" id="node27" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1361,1113,1448,1140"/>
<area shape="rect" id="node28" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="1107,1037,1246,1064"/>
<area shape="rect" id="node7" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="1349,144,1460,171"/>
<area shape="rect" id="node8" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="1559,105,1714,132"/>
<area shape="rect" id="node9" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="1545,245,1728,272"/>
<area shape="rect" id="node13" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="1565,181,1708,208"/>
<area shape="rect" id="node14" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1327,835,1483,861"/>
<area shape="rect" id="node11" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2184,271,2303,297"/>
<area shape="rect" id="node12" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="2351,271,2493,297"/>
<area shape="rect" id="node22" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="1553,1351,1720,1377"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="683,811,801,837"/>
<area shape="rect" id="node42" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1103,1291,1251,1333"/>
<area shape="rect" id="node44" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="887,471,1022,497"/>
<area shape="rect" id="node46" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="664,1400,820,1427"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="678,149,806,176"/>
<area shape="rect" id="node50" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="678,200,806,227"/>
</map>
</div>

</div>
</div>
<a id="a1ab914948a4f4bf335b9ae47dc3ceec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ab914948a4f4bf335b9ae47dc3ceec8">&#9670;&nbsp;</a></span>dlm_destroy_lock_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dlm_destroy_lock_cache </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_a1ab914948a4f4bf335b9ae47dc3ceec8_icgraph.png" border="0" usemap="#dlmlock_8c_a1ab914948a4f4bf335b9ae47dc3ceec8_icgraph" alt=""/></div>
<map name="dlmlock_8c_a1ab914948a4f4bf335b9ae47dc3ceec8_icgraph" id="dlmlock_8c_a1ab914948a4f4bf335b9ae47dc3ceec8_icgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#a75eccd63d933ef4c9819494238b962cd" title="__dlm_wait_on_lockres" alt="" coords="220,218,379,244"/>
<area shape="rect" id="node49" href="dlmdomain_8c.html#addbf35211d5ebd40c5524f13ab9b65c0" title="dlm_init" alt="" coords="266,1314,333,1340"/>
<area shape="rect" id="node50" href="dlmdomain_8c.html#a3113f67c1f3d6ef0188e7b5bd9716e23" title="dlm_exit" alt="" coords="449,1364,519,1391"/>
<area shape="rect" id="node3" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="606,218,739,244"/>
<area shape="rect" id="node8" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1045,116,1179,143"/>
<area shape="rect" id="node9" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="427,268,541,295"/>
<area shape="rect" id="node17" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1689,680,1845,707"/>
<area shape="rect" id="node44" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1043,1214,1181,1240"/>
<area shape="rect" id="node48" href="dlmlock_8c.html#afdf34dc369cd4fd92b98a1224233ef45" title="dlmlock_remote" alt="" coords="833,15,947,42"/>
<area shape="rect" id="node4" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1952,199,2019,226"/>
<area shape="rect" id="node5" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="2111,747,2289,774"/>
<area shape="rect" id="node7" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="2145,199,2255,226"/>
<area shape="rect" id="node6" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="2337,747,2459,774"/>
<area shape="rect" id="node10" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="589,530,756,556"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="804,791,976,818"/>
<area shape="rect" id="node20" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="1914,1264,2057,1305"/>
<area shape="rect" id="node12" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="1050,690,1174,716"/>
<area shape="rect" id="node14" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1474,1111,1605,1138"/>
<area shape="rect" id="node25" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1675,294,1860,320"/>
<area shape="rect" id="node33" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1266,698,1386,724"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1047,740,1177,767"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1051,842,1173,868"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1248,1056,1404,1083"/>
<area shape="rect" id="node37" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="1271,892,1381,919"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1044,791,1180,818"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1047,892,1177,919"/>
<area shape="rect" id="node40" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1025,1119,1199,1146"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1052,370,1172,396"/>
<area shape="rect" id="node42" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1024,420,1200,447"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1043,472,1181,513"/>
<area shape="rect" id="node46" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1455,1314,1623,1340"/>
<area shape="rect" id="node13" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1267,752,1385,779"/>
<area shape="rect" id="node18" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1467,756,1612,783"/>
<area shape="rect" id="node19" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="1683,807,1852,834"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1452,706,1627,732"/>
<area shape="rect" id="node23" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1692,450,1843,476"/>
<area shape="rect" id="node24" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1456,268,1623,295"/>
<area shape="rect" id="node26" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="1465,589,1614,630"/>
<area shape="rect" id="node27" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="1690,530,1845,572"/>
<area shape="rect" id="node28" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="1471,472,1608,513"/>
<area shape="rect" id="node29" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="1474,908,1605,935"/>
<area shape="rect" id="node30" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1724,959,1811,986"/>
<area shape="rect" id="node31" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="1470,1010,1609,1036"/>
<area shape="rect" id="node32" href="dlmunlock_8c.html#abaa6a39a02373efdf79d5533032f6fcb" title="dlmunlock" alt="" coords="1499,1212,1580,1239"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="1712,1060,1823,1087"/>
<area shape="rect" id="node16" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="1908,1086,2063,1112"/>
<area shape="rect" id="node21" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2141,1271,2259,1298"/>
<area shape="rect" id="node45" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1262,1239,1390,1266"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1262,1188,1390,1215"/>
</map>
</div>

</div>
</div>
<a id="ab8dcac35697e5f03a9896ced5e229eff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8dcac35697e5f03a9896ced5e229eff">&#9670;&nbsp;</a></span>dlm_get_next_cookie()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dlm_get_next_cookie </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>node_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_ab8dcac35697e5f03a9896ced5e229eff_icgraph.png" border="0" usemap="#dlmlock_8c_ab8dcac35697e5f03a9896ced5e229eff_icgraph" alt=""/></div>
<map name="dlmlock_8c_ab8dcac35697e5f03a9896ced5e229eff_icgraph" id="dlmlock_8c_ab8dcac35697e5f03a9896ced5e229eff_icgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="199,1179,265,1205"/>
<area shape="rect" id="node3" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="313,495,492,521"/>
<area shape="rect" id="node50" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="348,1432,457,1459"/>
<area shape="rect" id="node4" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="540,493,661,520"/>
<area shape="rect" id="node5" href="dlmrecovery_8c.html#a1d6223f27e371e3a2510d21a6a857efc" title="dlm_recovery_thread" alt="" coords="709,489,852,516"/>
<area shape="rect" id="node6" href="dlmrecovery_8c.html#a70ab66f50a1a5bc76e3e91945a83c1d6" title="dlm_launch_recovery\l_thread" alt="" coords="900,481,1045,522"/>
<area shape="rect" id="node7" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1093,628,1265,655"/>
<area shape="rect" id="node16" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2840,181,2959,208"/>
<area shape="rect" id="node8" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="1339,1052,1463,1079"/>
<area shape="rect" id="node11" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1985,1408,2115,1435"/>
<area shape="rect" id="node25" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="2185,471,2371,497"/>
<area shape="rect" id="node29" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1741,369,1915,396"/>
<area shape="rect" id="node31" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1555,925,1675,952"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1336,976,1467,1003"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1340,773,1463,800"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1537,672,1693,699"/>
<area shape="rect" id="node36" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="1560,824,1671,851"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1333,875,1469,901"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1336,723,1467,749"/>
<area shape="rect" id="node39" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1761,319,1895,345"/>
<area shape="rect" id="node40" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1341,496,1461,523"/>
<area shape="rect" id="node42" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1313,1179,1489,1205"/>
<area shape="rect" id="node44" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1332,254,1471,295"/>
<area shape="rect" id="node46" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1332,152,1471,179"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1744,85,1912,112"/>
<area shape="rect" id="node9" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="1560,1128,1671,1155"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1769,1036,1887,1063"/>
<area shape="rect" id="node28" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1761,1139,1895,1165"/>
<area shape="rect" id="node30" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1771,1200,1885,1227"/>
<area shape="rect" id="node21" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1977,1137,2123,1164"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1963,1036,2137,1063"/>
<area shape="rect" id="node23" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1975,1225,2125,1252"/>
<area shape="rect" id="node24" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1967,623,2133,649"/>
<area shape="rect" id="node27" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="2007,863,2093,889"/>
<area shape="rect" id="node12" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="2223,1352,2333,1379"/>
<area shape="rect" id="node13" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="2433,1364,2587,1391"/>
<area shape="rect" id="node14" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="2419,977,2601,1004"/>
<area shape="rect" id="node19" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="2439,1440,2581,1467"/>
<area shape="rect" id="node20" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="2200,1137,2356,1164"/>
<area shape="rect" id="node15" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2649,362,2792,403"/>
<area shape="rect" id="node17" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3007,181,3149,208"/>
<area shape="rect" id="node18" href="stack__o2cb_8c.html#a6fbec0ac0199f1beacbae9a3ad9d23ef" title="o2cb_cluster_connect" alt="" coords="3197,181,3347,208"/>
<area shape="rect" id="node26" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="2427,471,2593,497"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="1557,1027,1674,1053"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1541,497,1689,538"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="1761,1271,1895,1297"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="1537,269,1693,296"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1551,117,1679,144"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1551,168,1679,195"/>
</map>
</div>

</div>
</div>
<a id="a41c4728eafad7834836ea00a3f531886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41c4728eafad7834836ea00a3f531886">&#9670;&nbsp;</a></span>dlm_init_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dlm_init_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td>
          <td class="paramname"><em>newlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_a41c4728eafad7834836ea00a3f531886_icgraph.png" border="0" usemap="#dlmlock_8c_a41c4728eafad7834836ea00a3f531886_icgraph" alt=""/></div>
<map name="dlmlock_8c_a41c4728eafad7834836ea00a3f531886_icgraph" id="dlmlock_8c_a41c4728eafad7834836ea00a3f531886_icgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#aa4b87c51307a6fb69d9c27b5ad394e54" title="dlm_new_lock" alt="" coords="152,965,257,992"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="305,660,477,687"/>
<area shape="rect" id="node15" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1671,1049,1738,1076"/>
<area shape="rect" id="node24" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="1389,1201,1556,1228"/>
<area shape="rect" id="node25" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1380,324,1565,351"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="533,812,657,839"/>
<area shape="rect" id="node7" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1179,527,1310,553"/>
<area shape="rect" id="node30" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="936,944,1109,971"/>
<area shape="rect" id="node32" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="740,577,860,604"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="529,660,660,687"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="533,761,656,788"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="722,1007,878,1033"/>
<area shape="rect" id="node37" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="745,527,855,553"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="527,508,663,535"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="529,711,660,737"/>
<area shape="rect" id="node40" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1178,999,1311,1025"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="535,387,655,413"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="712,324,888,351"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="525,219,664,261"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="525,93,664,120"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="939,156,1107,183"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="745,881,855,908"/>
<area shape="rect" id="node6" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="964,679,1081,705"/>
<area shape="rect" id="node29" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1406,1100,1539,1127"/>
<area shape="rect" id="node31" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1187,1151,1302,1177"/>
<area shape="rect" id="node19" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1172,628,1317,655"/>
<area shape="rect" id="node20" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="1849,679,2018,705"/>
<area shape="rect" id="node21" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1157,679,1332,705"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1169,425,1320,452"/>
<area shape="rect" id="node23" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1161,1049,1328,1076"/>
<area shape="rect" id="node27" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="1170,730,1319,771"/>
<area shape="rect" id="node28" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1201,476,1288,503"/>
<area shape="rect" id="node8" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="1417,527,1528,553"/>
<area shape="rect" id="node9" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="1627,571,1782,597"/>
<area shape="rect" id="node10" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="1613,451,1796,477"/>
<area shape="rect" id="node13" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="1633,508,1776,535"/>
<area shape="rect" id="node14" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1395,729,1551,756"/>
<area shape="rect" id="node11" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2071,755,2213,797"/>
<area shape="rect" id="node12" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2261,763,2380,789"/>
<area shape="rect" id="node16" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="1844,1075,2023,1101"/>
<area shape="rect" id="node18" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="1879,1024,1988,1051"/>
<area shape="rect" id="node17" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="2081,1075,2203,1101"/>
<area shape="rect" id="node26" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="1621,361,1788,388"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="741,679,859,705"/>
<area shape="rect" id="node42" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="949,375,1097,417"/>
<area shape="rect" id="node44" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="955,324,1090,351"/>
<area shape="rect" id="node46" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="722,223,878,249"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="736,43,864,69"/>
<area shape="rect" id="node50" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="736,93,864,120"/>
</map>
</div>

</div>
</div>
<a id="a33bde48be8aa227e228e92e17fe88146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33bde48be8aa227e228e92e17fe88146">&#9670;&nbsp;</a></span>dlm_init_lock_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlm_init_lock_cache </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_a33bde48be8aa227e228e92e17fe88146_icgraph.png" border="0" usemap="#dlmlock_8c_a33bde48be8aa227e228e92e17fe88146_icgraph" alt=""/></div>
<map name="dlmlock_8c_a33bde48be8aa227e228e92e17fe88146_icgraph" id="dlmlock_8c_a33bde48be8aa227e228e92e17fe88146_icgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#a75eccd63d933ef4c9819494238b962cd" title="__dlm_wait_on_lockres" alt="" coords="193,218,352,244"/>
<area shape="rect" id="node49" href="dlmdomain_8c.html#addbf35211d5ebd40c5524f13ab9b65c0" title="dlm_init" alt="" coords="239,754,306,780"/>
<area shape="rect" id="node3" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="579,218,713,244"/>
<area shape="rect" id="node8" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1019,116,1152,143"/>
<area shape="rect" id="node9" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="400,268,515,295"/>
<area shape="rect" id="node17" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1663,680,1819,707"/>
<area shape="rect" id="node44" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1016,1214,1155,1240"/>
<area shape="rect" id="node48" href="dlmlock_8c.html#afdf34dc369cd4fd92b98a1224233ef45" title="dlmlock_remote" alt="" coords="806,15,921,42"/>
<area shape="rect" id="node4" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1925,199,1992,226"/>
<area shape="rect" id="node5" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="2084,754,2263,780"/>
<area shape="rect" id="node7" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="2119,199,2228,226"/>
<area shape="rect" id="node6" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="2311,754,2432,780"/>
<area shape="rect" id="node10" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="563,530,729,556"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="777,791,949,818"/>
<area shape="rect" id="node20" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="1887,1264,2030,1305"/>
<area shape="rect" id="node12" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="1023,690,1147,716"/>
<area shape="rect" id="node14" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1447,1111,1578,1138"/>
<area shape="rect" id="node25" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1648,307,1833,334"/>
<area shape="rect" id="node33" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1239,694,1359,720"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1020,740,1151,767"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1024,842,1147,868"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1221,1056,1377,1083"/>
<area shape="rect" id="node37" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="1244,892,1355,919"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1017,791,1153,818"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1020,892,1151,919"/>
<area shape="rect" id="node40" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="999,1119,1172,1146"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1025,370,1145,396"/>
<area shape="rect" id="node42" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="997,420,1173,447"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1016,472,1155,513"/>
<area shape="rect" id="node46" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1429,1314,1597,1340"/>
<area shape="rect" id="node13" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1241,752,1358,779"/>
<area shape="rect" id="node18" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1440,756,1585,783"/>
<area shape="rect" id="node19" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="1656,807,1825,834"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1425,706,1600,732"/>
<area shape="rect" id="node23" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1665,450,1816,476"/>
<area shape="rect" id="node24" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1429,268,1596,295"/>
<area shape="rect" id="node26" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="1438,589,1587,630"/>
<area shape="rect" id="node27" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="1663,530,1818,572"/>
<area shape="rect" id="node28" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="1444,472,1581,513"/>
<area shape="rect" id="node29" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="1447,908,1578,935"/>
<area shape="rect" id="node30" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1697,959,1784,986"/>
<area shape="rect" id="node31" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="1443,1010,1582,1036"/>
<area shape="rect" id="node32" href="dlmunlock_8c.html#abaa6a39a02373efdf79d5533032f6fcb" title="dlmunlock" alt="" coords="1472,1212,1553,1239"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="1685,1060,1796,1087"/>
<area shape="rect" id="node16" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="1881,1086,2036,1112"/>
<area shape="rect" id="node21" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2114,1271,2233,1298"/>
<area shape="rect" id="node45" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1235,1239,1363,1266"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1235,1188,1363,1215"/>
<area shape="rect" id="node50" href="dlmdomain_8c.html#a3113f67c1f3d6ef0188e7b5bd9716e23" title="dlm_exit" alt="" coords="422,1364,493,1391"/>
</map>
</div>

</div>
</div>
<a id="ac2a426185562b36aae11782380f7a25e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2a426185562b36aae11782380f7a25e">&#9670;&nbsp;</a></span>dlm_lock_attach_lockres()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dlm_lock_attach_lockres </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_ac2a426185562b36aae11782380f7a25e_cgraph.png" border="0" usemap="#dlmlock_8c_ac2a426185562b36aae11782380f7a25e_cgraph" alt=""/></div>
<map name="dlmlock_8c_ac2a426185562b36aae11782380f7a25e_cgraph" id="dlmlock_8c_ac2a426185562b36aae11782380f7a25e_cgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="220,631,337,657"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#a1e34fbd5f9532d770b3a6d0a9c43b2ed" title="dlm_lockres_put" alt="" coords="895,176,1013,203"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#a9314de9625fc9ba31710f31e7b30b1c0" title="__dlm_unhash_lockres" alt="" coords="405,125,560,152"/>
<area shape="rect" id="node6" href="dlmcommon_8h.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="651,328,796,355"/>
<area shape="rect" id="node8" href="dlmcommon_8h.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="636,379,811,405"/>
<area shape="rect" id="node9" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="929,455,979,481"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#a1a4a44a0c416ba22754129aa0029a6fa" title="__dlm_lookup_lockres" alt="" coords="648,75,799,101"/>
<area shape="rect" id="node12" href="dlmcommon_8h.html#ab4ec333709fe49ff933c13cfad732d63" title="dlm_lookup_lockres" alt="" coords="414,176,551,203"/>
<area shape="rect" id="node14" href="dlmcommon_8h.html#ab013ec9b983e65ab5b8a59f4744797c5" title="dlm_is_host_down" alt="" coords="417,453,548,480"/>
<area shape="rect" id="node15" href="dlmcommon_8h.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="405,757,561,784"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#af84b4854d72c195f508de5044bcf1539" title="dlm_new_lockres" alt="" coords="421,555,544,581"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a7596aaf9419a5517e36b9833886d093c" title="dlm_lockres_set_refmap_bit" alt="" coords="390,605,575,632"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a20ba52e420952c008a4603f9d149aacc" title="dlm_lockres_clear_refmap_bit" alt="" coords="385,656,580,683"/>
<area shape="rect" id="node40" href="dlmcommon_8h.html#a39f04b047ae6225e0b0a61a1d099a955" title="dlm_lockres_drop_inflight_ref" alt="" coords="387,707,578,733"/>
<area shape="rect" id="node41" href="dlmcommon_8h.html#af8f1cfdebed47ccf631f300ef65b58ad" title="dlm_lockres_grab_inflight_ref" alt="" coords="387,1459,578,1485"/>
<area shape="rect" id="node42" href="dlmcommon_8h.html#a4fd1866e731c1d1cee28128df271388d" title="__dlm_lockres_grab\l_inflight_worker" alt="" coords="413,809,552,850"/>
<area shape="rect" id="node43" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="427,875,538,901"/>
<area shape="rect" id="node44" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="424,925,541,952"/>
<area shape="rect" id="node45" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="421,976,545,1003"/>
<area shape="rect" id="node46" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="417,1027,548,1053"/>
<area shape="rect" id="node47" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="421,1077,544,1104"/>
<area shape="rect" id="node48" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="415,1128,551,1155"/>
<area shape="rect" id="node49" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="417,1179,548,1205"/>
<area shape="rect" id="node50" href="dlmcommon_8h.html#a9ee4079a72538256c51fff9af62be5bf" title="dlm_send_proxy_ast_msg" alt="" coords="395,1229,570,1256"/>
<area shape="rect" id="node4" href="dlmmaster_8c.html#a1eda4db47d3611569b720b231ccd37ca" title="dlm_lockres_release" alt="" coords="1089,731,1231,757"/>
<area shape="rect" id="node7" href="dlmcommon_8h.html#ae6b5b04a326832ea9439f7abb3353774" title="dlm_lockres_hash" alt="" coords="1097,328,1223,355"/>
<area shape="rect" id="node11" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="867,100,1041,127"/>
<area shape="rect" id="node13" href="dlmdomain_8c.html#a1a4a44a0c416ba22754129aa0029a6fa" title="__dlm_lookup_lockres" alt="" coords="648,176,799,203"/>
<area shape="rect" id="node16" href="dlmmaster_8c.html#a1e34fbd5f9532d770b3a6d0a9c43b2ed" title="dlm_lockres_put" alt="" coords="895,1083,1013,1109"/>
<area shape="rect" id="node17" href="dlmcommon_8h.html#a75eccd63d933ef4c9819494238b962cd" title="__dlm_wait_on_lockres" alt="" coords="644,1155,803,1181"/>
<area shape="rect" id="node18" href="dlmcommon_8h.html#a5327b4bda47dbdee1a589f8112045b31" title="__dlm_wait_on_lockres\l_flags" alt="" coords="875,1173,1033,1214"/>
<area shape="rect" id="node19" href="dlmmaster_8c.html#af8f1cfdebed47ccf631f300ef65b58ad" title="dlm_lockres_grab_inflight_ref" alt="" coords="628,1373,819,1400"/>
<area shape="rect" id="node20" href="dlmmaster_8c.html#a23b027baff56222a9b8da3cb99d4abc2" title="__dlm_lockres_grab\l_inflight_ref" alt="" coords="885,1569,1023,1610"/>
<area shape="rect" id="node21" href="dlmmaster_8c.html#af84b4854d72c195f508de5044bcf1539" title="dlm_new_lockres" alt="" coords="662,1256,785,1283"/>
<area shape="rect" id="node22" href="dlmcommon_8h.html#a0b58292fb3b080ef6d174b6cb3e3faf7" title="dlm_change_lockres\l_owner" alt="" coords="653,1307,794,1349"/>
<area shape="rect" id="node23" href="dlmmaster_8c.html#a5c54246ef7feaf9418ac5b92072515c2" title="dlm_find_mle" alt="" coords="674,480,773,507"/>
<area shape="rect" id="node24" href="dlmmaster_8c.html#afa645049f2e9ca9e8c7000b23d8a3dd3" title="dlm_mle_detach_hb_events" alt="" coords="631,1424,815,1451"/>
<area shape="rect" id="node25" href="dlmmaster_8c.html#ae84abb1b0f04932c2f722c5f2bf010bc" title="dlm_put_mle" alt="" coords="675,1475,771,1501"/>
<area shape="rect" id="node26" href="dlmmaster_8c.html#a7f36c2b3fbd23ef39d1e6cb8d4e46b66" title="dlm_init_mle" alt="" coords="676,1525,771,1552"/>
<area shape="rect" id="node27" href="dlmmaster_8c.html#a7036a81449ebfe5144f613ee00c64f69" title="__dlm_insert_mle" alt="" coords="661,531,785,557"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a7e30d18e8a5a55b51d528cd64cdd77a7" title="dlm_get_mle_inuse" alt="" coords="656,581,791,608"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a810a1b5decb1b256034d7493d83ac391" title="dlm_is_recovery_lock" alt="" coords="649,632,797,659"/>
<area shape="rect" id="node30" href="dlmmaster_8c.html#a754e63497ffe6ee85fbde1a2e3dd4c7b" title="dlm_pre_master_reco\l_lockres" alt="" coords="650,987,797,1029"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#af5cdb7a61affe8a799d35d5576c579c9" title="dlm_node_iter_init" alt="" coords="891,952,1017,979"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#ab829dbce70bac03c9cff8eaff2004f2a" title="dlm_node_iter_next" alt="" coords="887,1020,1021,1047"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a5ec47e281e88544932aabe7012e257b1" title="dlm_kick_recovery_thread" alt="" coords="636,733,811,760"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a26e00298ba02974bb812eabda2d18408" title="dlm_wait_for_recovery" alt="" coords="647,784,800,811"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a3fcef7966941b8b6ef48ddbdb19f9c57" title="dlm_wait_for_node_recovery" alt="" coords="629,835,817,861"/>
<area shape="rect" id="node36" href="dlmmaster_8c.html#a623882333c7d7881cf44444b8e98452c" title="dlm_do_master_request" alt="" coords="643,885,804,912"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_ac2a426185562b36aae11782380f7a25e_icgraph.png" border="0" usemap="#dlmlock_8c_ac2a426185562b36aae11782380f7a25e_icgraph" alt=""/></div>
<map name="dlmlock_8c_ac2a426185562b36aae11782380f7a25e_icgraph" id="dlmlock_8c_ac2a426185562b36aae11782380f7a25e_icgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="220,575,392,601"/>
<area shape="rect" id="node14" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1599,891,1666,917"/>
<area shape="rect" id="node29" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="1105,161,1272,188"/>
<area shape="rect" id="node41" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="868,549,1053,576"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="466,967,590,993"/>
<area shape="rect" id="node6" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1123,569,1254,596"/>
<area shape="rect" id="node27" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="874,63,1047,89"/>
<area shape="rect" id="node30" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="682,971,802,997"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="463,1043,593,1069"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="467,701,589,728"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="664,448,820,475"/>
<area shape="rect" id="node35" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="687,667,797,693"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="460,853,596,880"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="463,651,593,677"/>
<area shape="rect" id="node38" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="894,651,1027,677"/>
<area shape="rect" id="node39" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="468,600,588,627"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="440,1144,616,1171"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="459,177,597,218"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="459,248,597,275"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="877,316,1045,343"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="687,768,797,795"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="902,1005,1019,1032"/>
<area shape="rect" id="node26" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1342,828,1475,855"/>
<area shape="rect" id="node28" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="903,701,1018,728"/>
<area shape="rect" id="node18" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1116,1005,1261,1032"/>
<area shape="rect" id="node19" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="1324,904,1493,931"/>
<area shape="rect" id="node20" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1101,955,1276,981"/>
<area shape="rect" id="node21" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1333,1220,1484,1247"/>
<area shape="rect" id="node22" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="1114,1158,1263,1199"/>
<area shape="rect" id="node23" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="1331,1271,1486,1313"/>
<area shape="rect" id="node24" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="1120,1326,1257,1367"/>
<area shape="rect" id="node25" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1145,853,1232,880"/>
<area shape="rect" id="node7" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="1353,569,1464,596"/>
<area shape="rect" id="node8" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="1555,443,1710,469"/>
<area shape="rect" id="node9" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="1541,507,1724,533"/>
<area shape="rect" id="node12" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="1561,595,1704,621"/>
<area shape="rect" id="node13" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1331,955,1487,981"/>
<area shape="rect" id="node10" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="1790,334,1933,375"/>
<area shape="rect" id="node11" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2000,341,2119,368"/>
<area shape="rect" id="node15" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="1772,916,1951,943"/>
<area shape="rect" id="node17" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="1807,865,1916,892"/>
<area shape="rect" id="node16" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="1999,916,2120,943"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="683,1123,801,1149"/>
<area shape="rect" id="node40" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="668,601,816,642"/>
<area shape="rect" id="node42" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="1105,752,1272,779"/>
<area shape="rect" id="node44" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="893,1173,1028,1200"/>
<area shape="rect" id="node46" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="664,171,820,197"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="678,221,806,248"/>
<area shape="rect" id="node50" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="678,272,806,299"/>
</map>
</div>

</div>
</div>
<a id="ac45c368aea5ffcf5c96f379551136b2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac45c368aea5ffcf5c96f379551136b2d">&#9670;&nbsp;</a></span>dlm_lock_detach_lockres()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dlm_lock_detach_lockres </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_ac45c368aea5ffcf5c96f379551136b2d_cgraph.png" border="0" usemap="#dlmlock_8c_ac45c368aea5ffcf5c96f379551136b2d_cgraph" alt=""/></div>
<map name="dlmlock_8c_ac45c368aea5ffcf5c96f379551136b2d_cgraph" id="dlmlock_8c_ac45c368aea5ffcf5c96f379551136b2d_cgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#a1e34fbd5f9532d770b3a6d0a9c43b2ed" title="dlm_lockres_put" alt="" coords="223,1159,340,1185"/>
<area shape="rect" id="node3" href="dlmmaster_8c.html#a1eda4db47d3611569b720b231ccd37ca" title="dlm_lockres_release" alt="" coords="388,1188,529,1215"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#ab1cad48be435485bbbff5979d421eb42" title="dlm_print_one_lock\l_resource" alt="" coords="577,1185,712,1226"/>
<area shape="rect" id="node5" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="760,1185,908,1226"/>
<area shape="rect" id="node6" href="dlmdebug_8c.html#af0251b4e4e8e37b8c77a150ac56d0776" title="stringify_lockname" alt="" coords="976,1184,1107,1211"/>
<area shape="rect" id="node7" href="dlmdebug_8c.html#af18f629afe43733e226c806e68fd692f" title="dlm_print_lockres_refmap" alt="" coords="956,1235,1127,1261"/>
<area shape="rect" id="node8" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="981,732,1101,759"/>
<area shape="rect" id="node9" href="dlmcommon_8h.html#ab090478ae1ea3aab2e70f8b494357df7" title="dlm_get_lock_cookie_node" alt="" coords="1631,195,1809,221"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1175,732,1347,759"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#aa4b87c51307a6fb69d9c27b5ad394e54" title="dlm_new_lock" alt="" coords="1667,397,1773,424"/>
<area shape="rect" id="node13" href="dlmcommon_8h.html#a84cd601553d99a8a3618edd0fb9c6c76" title="dlm_lock_get" alt="" coords="1671,448,1769,475"/>
<area shape="rect" id="node14" href="dlmcommon_8h.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="1671,245,1769,272"/>
<area shape="rect" id="node16" href="dlmcommon_8h.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1637,1488,1803,1515"/>
<area shape="rect" id="node19" href="dlmcommon_8h.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="1405,1336,1572,1363"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#a443ec7266a4e91e1c207127c2ff377e9" title="dlm_grab" alt="" coords="1683,728,1757,755"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a9f8ef0519749d7bfe7879a377f8feee7" title="dlm_domain_fully_joined" alt="" coords="1638,499,1802,525"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a50f02f902f36f2c0f78a6de9d0d16263" title="dlm_lockres_calc_usage" alt="" coords="1865,347,2031,373"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a018fd62fa8f63ca78bc06a1e6ac24286" title="dlm_put" alt="" coords="1686,779,1754,805"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1402,1285,1575,1312"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1411,195,1567,221"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#aa005fb0766c187b6de6932e0a5d8fe2a" title="dlm_revert_pending\l_convert" alt="" coords="1421,986,1556,1027"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a1595fa19e5e16d32aeeca3227173476f" title="dlm_revert_pending_lock" alt="" coords="1405,1052,1572,1079"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1405,93,1573,120"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a02dd9e91522a22b1b51bf7021eff3b3f" title="dlm_commit_pending\l_cancel" alt="" coords="1416,1103,1561,1145"/>
<area shape="rect" id="node40" href="dlmcommon_8h.html#aa30579bb55ba65df5d4ca3be7d1b7ef8" title="dlm_commit_pending\l_unlock" alt="" coords="1416,1169,1561,1210"/>
<area shape="rect" id="node41" href="dlmcommon_8h.html#afd78890587a1059dd5fda24cebffbdf3" title="dlm_launch_thread" alt="" coords="1423,245,1554,272"/>
<area shape="rect" id="node42" href="dlmcommon_8h.html#a5565e204e32e5d70d90e9f13ff0c9848" title="dlm_complete_thread" alt="" coords="1415,296,1562,323"/>
<area shape="rect" id="node43" href="dlmcommon_8h.html#a70ab66f50a1a5bc76e3e91945a83c1d6" title="dlm_launch_recovery\l_thread" alt="" coords="1416,550,1561,591"/>
<area shape="rect" id="node44" href="dlmcommon_8h.html#ac7b07b886d4de4d0cb303471f3c6cff4" title="dlm_complete_recovery\l_thread" alt="" coords="1409,615,1569,657"/>
<area shape="rect" id="node45" href="dlmcommon_8h.html#a26e00298ba02974bb812eabda2d18408" title="dlm_wait_for_recovery" alt="" coords="1412,681,1565,708"/>
<area shape="rect" id="node46" href="dlmcommon_8h.html#a5ec47e281e88544932aabe7012e257b1" title="dlm_kick_recovery_thread" alt="" coords="1401,732,1576,759"/>
<area shape="rect" id="node47" href="dlmcommon_8h.html#ae365ae431f9fba6b50ee73b564f45610" title="dlm_is_node_dead" alt="" coords="1423,783,1554,809"/>
<area shape="rect" id="node48" href="dlmcommon_8h.html#a2842524d2f810359181d86c42734a300" title="dlm_wait_for_node_death" alt="" coords="1403,833,1574,860"/>
<area shape="rect" id="node49" href="dlmcommon_8h.html#a3fcef7966941b8b6ef48ddbdb19f9c57" title="dlm_wait_for_node_recovery" alt="" coords="1395,884,1583,911"/>
<area shape="rect" id="node50" href="dlmcommon_8h.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="1420,1438,1557,1479"/>
<area shape="rect" id="node12" href="dlmlock_8c.html#a41c4728eafad7834836ea00a3f531886" title="dlm_init_lock" alt="" coords="1899,588,1997,615"/>
<area shape="rect" id="node15" href="dlmlock_8c.html#a5ebad340d76b52b7e0edc7b54ff3aa8d" title="dlm_lock_release" alt="" coords="1887,245,2009,272"/>
<area shape="rect" id="node17" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1889,1488,2007,1515"/>
<area shape="rect" id="node18" href="dlmcommon_8h.html#ab4ec333709fe49ff933c13cfad732d63" title="dlm_lookup_lockres" alt="" coords="2087,1235,2224,1261"/>
<area shape="rect" id="node22" href="dlmlock_8c.html#aa4b87c51307a6fb69d9c27b5ad394e54" title="dlm_new_lock" alt="" coords="1667,1032,1773,1059"/>
<area shape="rect" id="node23" href="dlmcommon_8h.html#ae02d978b3a4f4a1c59c96eaf8f79dd71" title="__dlm_lockres_state\l_to_status" alt="" coords="1877,1286,2019,1327"/>
<area shape="rect" id="node24" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1637,1437,1803,1464"/>
<area shape="rect" id="node25" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1663,1083,1777,1109"/>
<area shape="rect" id="node31" href="dlmlock_8c.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="1671,981,1769,1008"/>
<area shape="rect" id="node26" href="dlmcommon_8h.html#a7576e0d163acfcf2a6dd3b9a11159701" title="__dlm_lockres_reserve_ast" alt="" coords="1857,981,2039,1008"/>
<area shape="rect" id="node27" href="dlmast_8c.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="1893,1095,2003,1121"/>
<area shape="rect" id="node28" href="dlmcommon_8h.html#a8f413f31d419f11b1b6d1b97dff83747" title="dlm_lockres_release_ast" alt="" coords="1865,1171,2031,1197"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#aac3c67ad9759229029b5c161c631a93b" title="dlm_kick_thread" alt="" coords="1889,829,2007,856"/>
<area shape="rect" id="node34" href="dlmconvert_8c.html#a752fc3df9cbedd8f856b4ea98ed72533" title="__dlmconvert_master" alt="" coords="1647,880,1793,907"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_ac45c368aea5ffcf5c96f379551136b2d_icgraph.png" border="0" usemap="#dlmlock_8c_ac45c368aea5ffcf5c96f379551136b2d_icgraph" alt=""/></div>
<map name="dlmlock_8c_ac45c368aea5ffcf5c96f379551136b2d_icgraph" id="dlmlock_8c_ac45c368aea5ffcf5c96f379551136b2d_icgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#a5ebad340d76b52b7e0edc7b54ff3aa8d" title="dlm_lock_release" alt="" coords="223,1424,345,1451"/>
<area shape="rect" id="node3" href="dlmlock_8c.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="393,1424,492,1451"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="554,816,678,843"/>
<area shape="rect" id="node12" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1557,640,1729,667"/>
<area shape="rect" id="node19" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2033,296,2144,323"/>
<area shape="rect" id="node23" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2055,1247,2122,1273"/>
<area shape="rect" id="node26" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1783,1019,1957,1045"/>
<area shape="rect" id="node31" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1801,1069,1939,1096"/>
<area shape="rect" id="node33" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="2215,460,2383,487"/>
<area shape="rect" id="node34" href="dlmunlock_8c.html#abaa6a39a02373efdf79d5533032f6fcb" title="dlmunlock" alt="" coords="2258,1120,2339,1147"/>
<area shape="rect" id="node37" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="1343,765,1509,792"/>
<area shape="rect" id="node38" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="1133,1307,1282,1349"/>
<area shape="rect" id="node41" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="1349,1678,1503,1719"/>
<area shape="rect" id="node45" href="dlmlock_8c.html#afdf34dc369cd4fd92b98a1224233ef45" title="dlmlock_remote" alt="" coords="948,1475,1063,1501"/>
<area shape="rect" id="node46" href="dlmmaster_8c.html#a57a1eca7e820204d64164f23745809db" title="dlm_remove_nonlocal\l_locks" alt="" coords="542,1779,690,1821"/>
<area shape="rect" id="node48" href="dlmrecovery_8c.html#a0d7e5da5f6806d302b6008c4077015cd" title="dlm_move_reco_locks\l_to_list" alt="" coords="540,1845,692,1886"/>
<area shape="rect" id="node50" href="dlmrecovery_8c.html#a2309e7ebb270f3deca9394d4fa274768" title="dlm_free_dead_locks" alt="" coords="743,1677,888,1704"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="760,1120,871,1147"/>
<area shape="rect" id="node6" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="947,816,1064,843"/>
<area shape="rect" id="node14" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="2029,195,2149,221"/>
<area shape="rect" id="node43" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="939,1239,1072,1265"/>
<area shape="rect" id="node44" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1150,1171,1265,1197"/>
<area shape="rect" id="node7" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1805,968,1935,995"/>
<area shape="rect" id="node8" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1135,765,1280,792"/>
<area shape="rect" id="node9" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1120,816,1295,843"/>
<area shape="rect" id="node10" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1132,867,1283,893"/>
<area shape="rect" id="node11" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1124,715,1291,741"/>
<area shape="rect" id="node15" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="2255,195,2342,221"/>
<area shape="rect" id="node30" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1777,867,1963,893"/>
<area shape="rect" id="node13" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1805,195,1935,221"/>
<area shape="rect" id="node16" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1809,765,1931,792"/>
<area shape="rect" id="node17" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="2011,703,2167,729"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1802,245,1938,272"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1805,347,1935,373"/>
<area shape="rect" id="node22" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1803,816,1937,843"/>
<area shape="rect" id="node27" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1810,589,1930,616"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1782,640,1958,667"/>
<area shape="rect" id="node29" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1801,523,1939,565"/>
<area shape="rect" id="node18" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2449,843,2591,885"/>
<area shape="rect" id="node24" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="2431,1196,2609,1223"/>
<area shape="rect" id="node25" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="2244,1196,2353,1223"/>
<area shape="rect" id="node32" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="2025,1019,2153,1045"/>
<area shape="rect" id="node36" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="2025,1069,2153,1096"/>
<area shape="rect" id="node35" href="stack__o2cb_8c.html#a61d4ca19a791f9a6f1e20050ea5f3d41" title="o2cb_dlm_unlock" alt="" coords="2459,1120,2581,1147"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1572,589,1715,616"/>
<area shape="rect" id="node40" href="dlmmaster_8c.html#aaa78134f682829bf365728a9066a17e6" title="dlm_reset_mleres_owner" alt="" coords="1343,1323,1509,1349"/>
<area shape="rect" id="node42" href="dlmrecovery_8c.html#a1a8233dbb9c0cf9b91d30e307cacb94c" title="__dlm_hb_node_down" alt="" coords="1568,1685,1719,1712"/>
<area shape="rect" id="node47" href="dlmmaster_8c.html#a49f63fd5f40369a5a3c55ed8b270f812" title="dlm_migrate_lockres" alt="" coords="744,1787,887,1813"/>
<area shape="rect" id="node49" href="dlmrecovery_8c.html#a95d07b78537b9befe24a02502492e777" title="dlm_request_all_locks\l_worker" alt="" coords="740,1845,891,1886"/>
</map>
</div>

</div>
</div>
<a id="a84cd601553d99a8a3618edd0fb9c6c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84cd601553d99a8a3618edd0fb9c6c76">&#9670;&nbsp;</a></span>dlm_lock_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dlm_lock_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_a84cd601553d99a8a3618edd0fb9c6c76_icgraph.png" border="0" usemap="#dlmlock_8c_a84cd601553d99a8a3618edd0fb9c6c76_icgraph" alt=""/></div>
<map name="dlmlock_8c_a84cd601553d99a8a3618edd0fb9c6c76_icgraph" id="dlmlock_8c_a84cd601553d99a8a3618edd0fb9c6c76_icgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="152,1335,276,1361"/>
<area shape="rect" id="node15" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2787,487,2897,513"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1089,1220,1261,1247"/>
<area shape="rect" id="node22" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1332,1501,1463,1528"/>
<area shape="rect" id="node29" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1311,1805,1484,1832"/>
<area shape="rect" id="node32" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1737,752,1923,779"/>
<area shape="rect" id="node36" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1328,1957,1467,1984"/>
<area shape="rect" id="node38" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1746,2121,1914,2148"/>
<area shape="rect" id="node39" href="dlmunlock_8c.html#abaa6a39a02373efdf79d5533032f6fcb" title="dlmunlock" alt="" coords="1789,1957,1871,1984"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="661,331,810,373"/>
<area shape="rect" id="node49" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="488,1805,603,1832"/>
<area shape="rect" id="node50" href="dlmlock_8c.html#afdf34dc369cd4fd92b98a1224233ef45" title="dlmlock_remote" alt="" coords="324,1957,439,1984"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="326,1755,437,1781"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="487,800,604,827"/>
<area shape="rect" id="node24" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1551,1177,1671,1204"/>
<area shape="rect" id="node48" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1109,1704,1242,1731"/>
<area shape="rect" id="node5" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1332,752,1463,779"/>
<area shape="rect" id="node9" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2021,1679,2087,1705"/>
<area shape="rect" id="node11" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1103,803,1248,829"/>
<area shape="rect" id="node12" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2190,448,2359,475"/>
<area shape="rect" id="node16" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="2945,259,3032,285"/>
<area shape="rect" id="node18" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="867,905,1041,932"/>
<area shape="rect" id="node19" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="879,667,1029,693"/>
<area shape="rect" id="node20" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="652,1183,819,1209"/>
<area shape="rect" id="node44" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="877,550,1031,591"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="667,601,804,642"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="2605,43,2736,69"/>
<area shape="rect" id="node47" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="2205,144,2344,171"/>
<area shape="rect" id="node6" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="1556,752,1667,779"/>
<area shape="rect" id="node8" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1533,1119,1689,1145"/>
<area shape="rect" id="node7" href="dlmmaster_8c.html#aaa78134f682829bf365728a9066a17e6" title="dlm_reset_mleres_owner" alt="" coords="1747,701,1913,728"/>
<area shape="rect" id="node10" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="2185,1907,2364,1933"/>
<area shape="rect" id="node13" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2412,347,2555,373"/>
<area shape="rect" id="node17" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2412,1393,2555,1434"/>
<area shape="rect" id="node14" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2603,321,2739,348"/>
<area shape="rect" id="node42" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="871,1400,1037,1427"/>
<area shape="rect" id="node25" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1336,600,1459,627"/>
<area shape="rect" id="node26" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1533,1068,1689,1095"/>
<area shape="rect" id="node27" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1332,701,1463,728"/>
<area shape="rect" id="node28" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1763,1501,1897,1528"/>
<area shape="rect" id="node30" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1337,1005,1457,1032"/>
<area shape="rect" id="node34" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1309,1232,1485,1259"/>
<area shape="rect" id="node35" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1328,1283,1467,1325"/>
<area shape="rect" id="node23" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="1553,1501,1670,1528"/>
<area shape="rect" id="node31" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1537,999,1685,1041"/>
<area shape="rect" id="node33" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="1971,713,2137,740"/>
<area shape="rect" id="node37" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1547,2059,1675,2085"/>
<area shape="rect" id="node41" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1547,1957,1675,1984"/>
<area shape="rect" id="node40" href="stack__o2cb_8c.html#a61d4ca19a791f9a6f1e20050ea5f3d41" title="o2cb_dlm_unlock" alt="" coords="1993,1957,2115,1984"/>
</map>
</div>

</div>
</div>
<a id="ae9c6cdb477b5d634636fe8805b4c75c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9c6cdb477b5d634636fe8805b4c75c5">&#9670;&nbsp;</a></span>dlm_lock_put()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dlm_lock_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_ae9c6cdb477b5d634636fe8805b4c75c5_cgraph.png" border="0" usemap="#dlmlock_8c_ae9c6cdb477b5d634636fe8805b4c75c5_cgraph" alt=""/></div>
<map name="dlmlock_8c_ae9c6cdb477b5d634636fe8805b4c75c5_cgraph" id="dlmlock_8c_ae9c6cdb477b5d634636fe8805b4c75c5_cgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#a5ebad340d76b52b7e0edc7b54ff3aa8d" title="dlm_lock_release" alt="" coords="152,1285,275,1312"/>
<area shape="rect" id="node3" href="dlmlock_8c.html#ac45c368aea5ffcf5c96f379551136b2d" title="dlm_lock_detach_lockres" alt="" coords="323,1285,492,1312"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#a1e34fbd5f9532d770b3a6d0a9c43b2ed" title="dlm_lockres_put" alt="" coords="540,1285,657,1312"/>
<area shape="rect" id="node5" href="dlmmaster_8c.html#a1eda4db47d3611569b720b231ccd37ca" title="dlm_lockres_release" alt="" coords="705,1231,847,1257"/>
<area shape="rect" id="node6" href="dlmcommon_8h.html#ab1cad48be435485bbbff5979d421eb42" title="dlm_print_one_lock\l_resource" alt="" coords="895,1219,1029,1261"/>
<area shape="rect" id="node7" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1077,971,1225,1013"/>
<area shape="rect" id="node8" href="dlmdebug_8c.html#af0251b4e4e8e37b8c77a150ac56d0776" title="stringify_lockname" alt="" coords="1293,953,1424,980"/>
<area shape="rect" id="node9" href="dlmdebug_8c.html#af18f629afe43733e226c806e68fd692f" title="dlm_print_lockres_refmap" alt="" coords="1273,1004,1444,1031"/>
<area shape="rect" id="node10" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1299,732,1419,759"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#ab090478ae1ea3aab2e70f8b494357df7" title="dlm_get_lock_cookie_node" alt="" coords="1948,347,2127,373"/>
<area shape="rect" id="node12" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1492,732,1664,759"/>
<area shape="rect" id="node13" href="dlmcommon_8h.html#aa4b87c51307a6fb69d9c27b5ad394e54" title="dlm_new_lock" alt="" coords="1985,144,2090,171"/>
<area shape="rect" id="node15" href="dlmcommon_8h.html#a84cd601553d99a8a3618edd0fb9c6c76" title="dlm_lock_get" alt="" coords="1988,631,2087,657"/>
<area shape="rect" id="node16" href="dlmcommon_8h.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="1988,296,2087,323"/>
<area shape="rect" id="node17" href="dlmcommon_8h.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1954,1515,2121,1541"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="1723,1336,1889,1363"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a443ec7266a4e91e1c207127c2ff377e9" title="dlm_grab" alt="" coords="2000,704,2075,731"/>
<area shape="rect" id="node22" href="dlmcommon_8h.html#a9f8ef0519749d7bfe7879a377f8feee7" title="dlm_domain_fully_joined" alt="" coords="1955,755,2119,781"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a50f02f902f36f2c0f78a6de9d0d16263" title="dlm_lockres_calc_usage" alt="" coords="2183,856,2348,883"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a018fd62fa8f63ca78bc06a1e6ac24286" title="dlm_put" alt="" coords="2003,805,2071,832"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1719,1285,1893,1312"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1728,195,1884,221"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#aa005fb0766c187b6de6932e0a5d8fe2a" title="dlm_revert_pending\l_convert" alt="" coords="1739,885,1873,926"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a1595fa19e5e16d32aeeca3227173476f" title="dlm_revert_pending_lock" alt="" coords="1723,951,1889,977"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1722,144,1890,171"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a02dd9e91522a22b1b51bf7021eff3b3f" title="dlm_commit_pending\l_cancel" alt="" coords="1733,1002,1879,1043"/>
<area shape="rect" id="node40" href="dlmcommon_8h.html#aa30579bb55ba65df5d4ca3be7d1b7ef8" title="dlm_commit_pending\l_unlock" alt="" coords="1733,1067,1879,1109"/>
<area shape="rect" id="node41" href="dlmcommon_8h.html#afd78890587a1059dd5fda24cebffbdf3" title="dlm_launch_thread" alt="" coords="1741,1133,1871,1160"/>
<area shape="rect" id="node42" href="dlmcommon_8h.html#a5565e204e32e5d70d90e9f13ff0c9848" title="dlm_complete_thread" alt="" coords="1733,245,1879,272"/>
<area shape="rect" id="node43" href="dlmcommon_8h.html#a70ab66f50a1a5bc76e3e91945a83c1d6" title="dlm_launch_recovery\l_thread" alt="" coords="1733,297,1879,338"/>
<area shape="rect" id="node44" href="dlmcommon_8h.html#ac7b07b886d4de4d0cb303471f3c6cff4" title="dlm_complete_recovery\l_thread" alt="" coords="1726,362,1886,403"/>
<area shape="rect" id="node45" href="dlmcommon_8h.html#a26e00298ba02974bb812eabda2d18408" title="dlm_wait_for_recovery" alt="" coords="1729,428,1883,455"/>
<area shape="rect" id="node46" href="dlmcommon_8h.html#a5ec47e281e88544932aabe7012e257b1" title="dlm_kick_recovery_thread" alt="" coords="1719,479,1893,505"/>
<area shape="rect" id="node47" href="dlmcommon_8h.html#ae365ae431f9fba6b50ee73b564f45610" title="dlm_is_node_dead" alt="" coords="1741,529,1871,556"/>
<area shape="rect" id="node48" href="dlmcommon_8h.html#a2842524d2f810359181d86c42734a300" title="dlm_wait_for_node_death" alt="" coords="1721,681,1891,708"/>
<area shape="rect" id="node49" href="dlmcommon_8h.html#a3fcef7966941b8b6ef48ddbdb19f9c57" title="dlm_wait_for_node_recovery" alt="" coords="1712,783,1900,809"/>
<area shape="rect" id="node50" href="dlmcommon_8h.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="1737,1439,1875,1481"/>
<area shape="rect" id="node14" href="dlmlock_8c.html#a41c4728eafad7834836ea00a3f531886" title="dlm_init_lock" alt="" coords="2216,633,2315,660"/>
<area shape="rect" id="node18" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2207,1515,2324,1541"/>
<area shape="rect" id="node19" href="dlmcommon_8h.html#ab4ec333709fe49ff933c13cfad732d63" title="dlm_lookup_lockres" alt="" coords="2404,1261,2541,1288"/>
<area shape="rect" id="node23" href="dlmlock_8c.html#aa4b87c51307a6fb69d9c27b5ad394e54" title="dlm_new_lock" alt="" coords="1985,1109,2090,1136"/>
<area shape="rect" id="node24" href="dlmcommon_8h.html#ae02d978b3a4f4a1c59c96eaf8f79dd71" title="__dlm_lockres_state\l_to_status" alt="" coords="2194,1313,2337,1354"/>
<area shape="rect" id="node25" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1954,1464,2121,1491"/>
<area shape="rect" id="node26" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1980,1160,2095,1187"/>
<area shape="rect" id="node27" href="dlmcommon_8h.html#a7576e0d163acfcf2a6dd3b9a11159701" title="__dlm_lockres_reserve_ast" alt="" coords="2175,1192,2356,1219"/>
<area shape="rect" id="node28" href="dlmast_8c.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="2210,995,2321,1021"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a8f413f31d419f11b1b6d1b97dff83747" title="dlm_lockres_release_ast" alt="" coords="2182,1065,2349,1092"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#aac3c67ad9759229029b5c161c631a93b" title="dlm_kick_thread" alt="" coords="2207,907,2324,933"/>
<area shape="rect" id="node34" href="dlmconvert_8c.html#a752fc3df9cbedd8f856b4ea98ed72533" title="__dlmconvert_master" alt="" coords="1964,1059,2111,1085"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_ae9c6cdb477b5d634636fe8805b4c75c5_icgraph.png" border="0" usemap="#dlmlock_8c_ae9c6cdb477b5d634636fe8805b4c75c5_icgraph" alt=""/></div>
<map name="dlmlock_8c_ae9c6cdb477b5d634636fe8805b4c75c5_icgraph" id="dlmlock_8c_ae9c6cdb477b5d634636fe8805b4c75c5_icgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="166,985,290,1012"/>
<area shape="rect" id="node10" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="1660,1008,1771,1034"/>
<area shape="rect" id="node16" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1184,730,1356,757"/>
<area shape="rect" id="node23" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1682,336,1749,362"/>
<area shape="rect" id="node26" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1410,158,1583,185"/>
<area shape="rect" id="node31" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1427,1388,1566,1414"/>
<area shape="rect" id="node33" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1841,576,2009,602"/>
<area shape="rect" id="node34" href="dlmunlock_8c.html#abaa6a39a02373efdf79d5533032f6fcb" title="dlmunlock" alt="" coords="1885,1508,1966,1534"/>
<area shape="rect" id="node37" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="968,361,1135,388"/>
<area shape="rect" id="node38" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="757,1391,906,1432"/>
<area shape="rect" id="node40" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="974,1442,1129,1483"/>
<area shape="rect" id="node45" href="dlmlock_8c.html#afdf34dc369cd4fd92b98a1224233ef45" title="dlmlock_remote" alt="" coords="370,57,485,84"/>
<area shape="rect" id="node46" href="dlmmaster_8c.html#a57a1eca7e820204d64164f23745809db" title="dlm_remove_nonlocal\l_locks" alt="" coords="154,1762,302,1803"/>
<area shape="rect" id="node48" href="dlmrecovery_8c.html#a0d7e5da5f6806d302b6008c4077015cd" title="dlm_move_reco_locks\l_to_list" alt="" coords="152,1827,304,1868"/>
<area shape="rect" id="node50" href="dlmrecovery_8c.html#a2309e7ebb270f3deca9394d4fa274768" title="dlm_free_dead_locks" alt="" coords="551,1568,696,1594"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="372,412,483,438"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="565,985,682,1012"/>
<area shape="rect" id="node18" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1655,1236,1775,1262"/>
<area shape="rect" id="node43" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="557,361,690,388"/>
<area shape="rect" id="node44" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="774,361,889,388"/>
<area shape="rect" id="node5" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1431,1134,1562,1161"/>
<area shape="rect" id="node6" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="759,1036,904,1062"/>
<area shape="rect" id="node7" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="967,985,1136,1012"/>
<area shape="rect" id="node11" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1882,1236,1969,1262"/>
<area shape="rect" id="node13" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="744,934,919,961"/>
<area shape="rect" id="node14" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="976,718,1127,745"/>
<area shape="rect" id="node15" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="748,462,915,489"/>
<area shape="rect" id="node42" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="763,767,900,808"/>
<area shape="rect" id="node8" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1199,1086,1341,1113"/>
<area shape="rect" id="node12" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2075,568,2218,610"/>
<area shape="rect" id="node9" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1429,1185,1565,1212"/>
<area shape="rect" id="node30" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1404,462,1589,489"/>
<area shape="rect" id="node17" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1431,1236,1562,1262"/>
<area shape="rect" id="node19" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1435,982,1558,1009"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1637,818,1793,845"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1431,932,1562,958"/>
<area shape="rect" id="node22" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1430,513,1563,540"/>
<area shape="rect" id="node27" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1437,705,1557,732"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1409,756,1585,782"/>
<area shape="rect" id="node29" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1427,639,1566,680"/>
<area shape="rect" id="node24" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="2057,1045,2236,1072"/>
<area shape="rect" id="node25" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="1871,336,1980,362"/>
<area shape="rect" id="node32" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1651,1388,1779,1414"/>
<area shape="rect" id="node36" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1651,1508,1779,1534"/>
<area shape="rect" id="node35" href="stack__o2cb_8c.html#a61d4ca19a791f9a6f1e20050ea5f3d41" title="o2cb_dlm_unlock" alt="" coords="2085,1508,2208,1534"/>
<area shape="rect" id="node39" href="dlmmaster_8c.html#aaa78134f682829bf365728a9066a17e6" title="dlm_reset_mleres_owner" alt="" coords="968,1390,1135,1417"/>
<area shape="rect" id="node41" href="dlmrecovery_8c.html#a1a8233dbb9c0cf9b91d30e307cacb94c" title="__dlm_hb_node_down" alt="" coords="1195,1449,1345,1476"/>
<area shape="rect" id="node47" href="dlmmaster_8c.html#a49f63fd5f40369a5a3c55ed8b270f812" title="dlm_migrate_lockres" alt="" coords="356,1769,499,1796"/>
<area shape="rect" id="node49" href="dlmrecovery_8c.html#a95d07b78537b9befe24a02502492e777" title="dlm_request_all_locks\l_worker" alt="" coords="352,1827,503,1868"/>
</map>
</div>

</div>
</div>
<a id="a5ebad340d76b52b7e0edc7b54ff3aa8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ebad340d76b52b7e0edc7b54ff3aa8d">&#9670;&nbsp;</a></span>dlm_lock_release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dlm_lock_release </td>
          <td>(</td>
          <td class="paramtype">struct kref *&#160;</td>
          <td class="paramname"><em>kref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_a5ebad340d76b52b7e0edc7b54ff3aa8d_cgraph.png" border="0" usemap="#dlmlock_8c_a5ebad340d76b52b7e0edc7b54ff3aa8d_cgraph" alt=""/></div>
<map name="dlmlock_8c_a5ebad340d76b52b7e0edc7b54ff3aa8d_cgraph" id="dlmlock_8c_a5ebad340d76b52b7e0edc7b54ff3aa8d_cgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#ac45c368aea5ffcf5c96f379551136b2d" title="dlm_lock_detach_lockres" alt="" coords="176,1065,345,1092"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#a1e34fbd5f9532d770b3a6d0a9c43b2ed" title="dlm_lockres_put" alt="" coords="393,1065,511,1092"/>
<area shape="rect" id="node4" href="dlmmaster_8c.html#a1eda4db47d3611569b720b231ccd37ca" title="dlm_lockres_release" alt="" coords="559,1065,700,1092"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#ab1cad48be435485bbbff5979d421eb42" title="dlm_print_one_lock\l_resource" alt="" coords="748,1058,883,1099"/>
<area shape="rect" id="node6" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="931,1033,1079,1074"/>
<area shape="rect" id="node7" href="dlmdebug_8c.html#af0251b4e4e8e37b8c77a150ac56d0776" title="stringify_lockname" alt="" coords="1147,989,1277,1016"/>
<area shape="rect" id="node8" href="dlmdebug_8c.html#af18f629afe43733e226c806e68fd692f" title="dlm_print_lockres_refmap" alt="" coords="1127,1040,1297,1067"/>
<area shape="rect" id="node9" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1152,1091,1272,1117"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#ab090478ae1ea3aab2e70f8b494357df7" title="dlm_get_lock_cookie_node" alt="" coords="1801,1301,1980,1328"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1345,879,1517,905"/>
<area shape="rect" id="node12" href="dlmcommon_8h.html#aa4b87c51307a6fb69d9c27b5ad394e54" title="dlm_new_lock" alt="" coords="1838,304,1943,331"/>
<area shape="rect" id="node14" href="dlmcommon_8h.html#a84cd601553d99a8a3618edd0fb9c6c76" title="dlm_lock_get" alt="" coords="1841,1352,1940,1379"/>
<area shape="rect" id="node15" href="dlmcommon_8h.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="1841,1605,1940,1632"/>
<area shape="rect" id="node16" href="dlmcommon_8h.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1807,152,1974,179"/>
<area shape="rect" id="node19" href="dlmcommon_8h.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="1576,261,1743,288"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#a443ec7266a4e91e1c207127c2ff377e9" title="dlm_grab" alt="" coords="1853,896,1928,923"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a9f8ef0519749d7bfe7879a377f8feee7" title="dlm_domain_fully_joined" alt="" coords="1809,997,1973,1024"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a50f02f902f36f2c0f78a6de9d0d16263" title="dlm_lockres_calc_usage" alt="" coords="2036,1453,2201,1480"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a018fd62fa8f63ca78bc06a1e6ac24286" title="dlm_put" alt="" coords="1857,845,1925,872"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1573,1251,1746,1277"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1581,1149,1737,1176"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#aa005fb0766c187b6de6932e0a5d8fe2a" title="dlm_revert_pending\l_convert" alt="" coords="1592,901,1727,942"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a1595fa19e5e16d32aeeca3227173476f" title="dlm_revert_pending_lock" alt="" coords="1576,967,1743,993"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1575,1403,1743,1429"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a02dd9e91522a22b1b51bf7021eff3b3f" title="dlm_commit_pending\l_cancel" alt="" coords="1587,1018,1732,1059"/>
<area shape="rect" id="node40" href="dlmcommon_8h.html#aa30579bb55ba65df5d4ca3be7d1b7ef8" title="dlm_commit_pending\l_unlock" alt="" coords="1587,1083,1732,1125"/>
<area shape="rect" id="node41" href="dlmcommon_8h.html#afd78890587a1059dd5fda24cebffbdf3" title="dlm_launch_thread" alt="" coords="1594,312,1725,339"/>
<area shape="rect" id="node42" href="dlmcommon_8h.html#a5565e204e32e5d70d90e9f13ff0c9848" title="dlm_complete_thread" alt="" coords="1586,363,1733,389"/>
<area shape="rect" id="node43" href="dlmcommon_8h.html#a70ab66f50a1a5bc76e3e91945a83c1d6" title="dlm_launch_recovery\l_thread" alt="" coords="1587,414,1732,455"/>
<area shape="rect" id="node44" href="dlmcommon_8h.html#ac7b07b886d4de4d0cb303471f3c6cff4" title="dlm_complete_recovery\l_thread" alt="" coords="1579,479,1739,521"/>
<area shape="rect" id="node45" href="dlmcommon_8h.html#a26e00298ba02974bb812eabda2d18408" title="dlm_wait_for_recovery" alt="" coords="1583,545,1736,572"/>
<area shape="rect" id="node46" href="dlmcommon_8h.html#a5ec47e281e88544932aabe7012e257b1" title="dlm_kick_recovery_thread" alt="" coords="1572,596,1747,623"/>
<area shape="rect" id="node47" href="dlmcommon_8h.html#ae365ae431f9fba6b50ee73b564f45610" title="dlm_is_node_dead" alt="" coords="1594,647,1725,673"/>
<area shape="rect" id="node48" href="dlmcommon_8h.html#a2842524d2f810359181d86c42734a300" title="dlm_wait_for_node_death" alt="" coords="1574,697,1745,724"/>
<area shape="rect" id="node49" href="dlmcommon_8h.html#a3fcef7966941b8b6ef48ddbdb19f9c57" title="dlm_wait_for_node_recovery" alt="" coords="1565,748,1753,775"/>
<area shape="rect" id="node50" href="dlmcommon_8h.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="1591,94,1728,135"/>
<area shape="rect" id="node13" href="dlmlock_8c.html#a41c4728eafad7834836ea00a3f531886" title="dlm_init_lock" alt="" coords="2069,329,2168,356"/>
<area shape="rect" id="node17" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2060,152,2177,179"/>
<area shape="rect" id="node18" href="dlmcommon_8h.html#ab4ec333709fe49ff933c13cfad732d63" title="dlm_lookup_lockres" alt="" coords="2257,947,2395,973"/>
<area shape="rect" id="node22" href="dlmlock_8c.html#aa4b87c51307a6fb69d9c27b5ad394e54" title="dlm_new_lock" alt="" coords="1838,355,1943,381"/>
<area shape="rect" id="node23" href="dlmcommon_8h.html#ae02d978b3a4f4a1c59c96eaf8f79dd71" title="__dlm_lockres_state\l_to_status" alt="" coords="2047,686,2190,727"/>
<area shape="rect" id="node24" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1807,253,1974,280"/>
<area shape="rect" id="node25" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1833,795,1948,821"/>
<area shape="rect" id="node31" href="dlmlock_8c.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="1841,203,1940,229"/>
<area shape="rect" id="node26" href="dlmcommon_8h.html#a7576e0d163acfcf2a6dd3b9a11159701" title="__dlm_lockres_reserve_ast" alt="" coords="2028,773,2209,800"/>
<area shape="rect" id="node27" href="dlmast_8c.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="2063,871,2174,897"/>
<area shape="rect" id="node28" href="dlmcommon_8h.html#a8f413f31d419f11b1b6d1b97dff83747" title="dlm_lockres_release_ast" alt="" coords="2035,1048,2202,1075"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#aac3c67ad9759229029b5c161c631a93b" title="dlm_kick_thread" alt="" coords="2060,1200,2177,1227"/>
<area shape="rect" id="node34" href="dlmconvert_8c.html#a752fc3df9cbedd8f856b4ea98ed72533" title="__dlmconvert_master" alt="" coords="1817,1149,1964,1176"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_a5ebad340d76b52b7e0edc7b54ff3aa8d_icgraph.png" border="0" usemap="#dlmlock_8c_a5ebad340d76b52b7e0edc7b54ff3aa8d_icgraph" alt=""/></div>
<map name="dlmlock_8c_a5ebad340d76b52b7e0edc7b54ff3aa8d_icgraph" id="dlmlock_8c_a5ebad340d76b52b7e0edc7b54ff3aa8d_icgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="176,1389,275,1416"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="337,655,461,681"/>
<area shape="rect" id="node11" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="1831,261,1941,288"/>
<area shape="rect" id="node17" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1355,719,1527,745"/>
<area shape="rect" id="node24" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1853,1136,1919,1163"/>
<area shape="rect" id="node27" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1581,1237,1754,1264"/>
<area shape="rect" id="node32" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1598,1440,1737,1467"/>
<area shape="rect" id="node34" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="2012,845,2180,872"/>
<area shape="rect" id="node35" href="dlmunlock_8c.html#abaa6a39a02373efdf79d5533032f6fcb" title="dlmunlock" alt="" coords="2055,1440,2137,1467"/>
<area shape="rect" id="node38" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="1139,883,1305,909"/>
<area shape="rect" id="node39" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="927,1222,1077,1263"/>
<area shape="rect" id="node41" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="1145,1513,1299,1554"/>
<area shape="rect" id="node45" href="dlmlock_8c.html#afdf34dc369cd4fd92b98a1224233ef45" title="dlmlock_remote" alt="" coords="541,1339,655,1365"/>
<area shape="rect" id="node46" href="dlmmaster_8c.html#a57a1eca7e820204d64164f23745809db" title="dlm_remove_nonlocal\l_locks" alt="" coords="325,1745,473,1786"/>
<area shape="rect" id="node48" href="dlmrecovery_8c.html#a0d7e5da5f6806d302b6008c4077015cd" title="dlm_move_reco_locks\l_to_list" alt="" coords="323,1810,475,1851"/>
<area shape="rect" id="node50" href="dlmrecovery_8c.html#a2309e7ebb270f3deca9394d4fa274768" title="dlm_free_dead_locks" alt="" coords="721,1592,867,1619"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="543,1069,653,1096"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="735,503,853,529"/>
<area shape="rect" id="node19" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1826,160,1946,187"/>
<area shape="rect" id="node43" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="727,1145,861,1172"/>
<area shape="rect" id="node44" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="945,1069,1059,1096"/>
<area shape="rect" id="node6" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1602,413,1733,440"/>
<area shape="rect" id="node7" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="929,300,1075,327"/>
<area shape="rect" id="node8" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="1137,275,1307,301"/>
<area shape="rect" id="node12" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="2053,160,2139,187"/>
<area shape="rect" id="node14" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="915,351,1089,377"/>
<area shape="rect" id="node15" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="927,553,1077,580"/>
<area shape="rect" id="node16" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="919,781,1085,808"/>
<area shape="rect" id="node9" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1369,275,1512,301"/>
<area shape="rect" id="node13" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2246,775,2389,817"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1599,211,1735,237"/>
<area shape="rect" id="node31" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1575,464,1760,491"/>
<area shape="rect" id="node18" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1602,160,1733,187"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1606,312,1729,339"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1808,577,1964,604"/>
<area shape="rect" id="node22" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1602,363,1733,389"/>
<area shape="rect" id="node23" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1601,883,1734,909"/>
<area shape="rect" id="node28" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1607,781,1727,808"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1579,832,1755,859"/>
<area shape="rect" id="node30" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1598,641,1737,682"/>
<area shape="rect" id="node25" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="2228,1288,2407,1315"/>
<area shape="rect" id="node26" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="2041,1136,2151,1163"/>
<area shape="rect" id="node33" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1822,1389,1950,1416"/>
<area shape="rect" id="node37" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1822,1440,1950,1467"/>
<area shape="rect" id="node36" href="stack__o2cb_8c.html#a61d4ca19a791f9a6f1e20050ea5f3d41" title="o2cb_dlm_unlock" alt="" coords="2256,1440,2379,1467"/>
<area shape="rect" id="node40" href="dlmmaster_8c.html#aaa78134f682829bf365728a9066a17e6" title="dlm_reset_mleres_owner" alt="" coords="1139,1237,1305,1264"/>
<area shape="rect" id="node42" href="dlmrecovery_8c.html#a1a8233dbb9c0cf9b91d30e307cacb94c" title="__dlm_hb_node_down" alt="" coords="1365,1520,1516,1547"/>
<area shape="rect" id="node47" href="dlmmaster_8c.html#a49f63fd5f40369a5a3c55ed8b270f812" title="dlm_migrate_lockres" alt="" coords="527,1752,669,1779"/>
<area shape="rect" id="node49" href="dlmrecovery_8c.html#a95d07b78537b9befe24a02502492e777" title="dlm_request_all_locks\l_worker" alt="" coords="523,1810,673,1851"/>
</map>
</div>

</div>
</div>
<a id="aa4b87c51307a6fb69d9c27b5ad394e54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4b87c51307a6fb69d9c27b5ad394e54">&#9670;&nbsp;</a></span>dlm_new_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdlm__lock.html">dlm_lock</a>* dlm_new_lock </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lockstatus.html">dlm_lockstatus</a> *&#160;</td>
          <td class="paramname"><em>lksb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_aa4b87c51307a6fb69d9c27b5ad394e54_cgraph.png" border="0" usemap="#dlmlock_8c_aa4b87c51307a6fb69d9c27b5ad394e54_cgraph" alt=""/></div>
<map name="dlmlock_8c_aa4b87c51307a6fb69d9c27b5ad394e54_cgraph" id="dlmlock_8c_aa4b87c51307a6fb69d9c27b5ad394e54_cgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#a41c4728eafad7834836ea00a3f531886" title="dlm_init_lock" alt="" coords="159,5,257,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_aa4b87c51307a6fb69d9c27b5ad394e54_icgraph.png" border="0" usemap="#dlmlock_8c_aa4b87c51307a6fb69d9c27b5ad394e54_icgraph" alt=""/></div>
<map name="dlmlock_8c_aa4b87c51307a6fb69d9c27b5ad394e54_icgraph" id="dlmlock_8c_aa4b87c51307a6fb69d9c27b5ad394e54_icgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="159,589,331,616"/>
<area shape="rect" id="node14" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1525,1056,1591,1083"/>
<area shape="rect" id="node23" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="1243,1005,1409,1032"/>
<area shape="rect" id="node24" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1233,153,1419,180"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="386,944,510,971"/>
<area shape="rect" id="node6" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1033,280,1163,307"/>
<area shape="rect" id="node30" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="789,1120,963,1147"/>
<area shape="rect" id="node32" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="593,893,713,920"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="383,817,513,844"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="387,589,509,616"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="575,387,731,413"/>
<area shape="rect" id="node37" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="598,691,709,717"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="380,741,516,768"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="383,640,513,667"/>
<area shape="rect" id="node40" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1031,1157,1165,1184"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="388,995,508,1021"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="565,488,741,515"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="379,43,517,85"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="379,237,517,264"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="792,268,960,295"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="598,1045,709,1072"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="817,685,935,712"/>
<area shape="rect" id="node29" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="809,1069,943,1096"/>
<area shape="rect" id="node31" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1041,1056,1155,1083"/>
<area shape="rect" id="node18" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1025,685,1171,712"/>
<area shape="rect" id="node19" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="1702,483,1871,509"/>
<area shape="rect" id="node20" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1011,584,1185,611"/>
<area shape="rect" id="node21" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1023,432,1173,459"/>
<area shape="rect" id="node22" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1015,483,1181,509"/>
<area shape="rect" id="node26" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="1023,787,1173,829"/>
<area shape="rect" id="node27" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="1249,817,1403,858"/>
<area shape="rect" id="node28" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1055,904,1141,931"/>
<area shape="rect" id="node7" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="1271,255,1381,281"/>
<area shape="rect" id="node8" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="1481,204,1635,231"/>
<area shape="rect" id="node9" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="1467,356,1649,383"/>
<area shape="rect" id="node12" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="1487,280,1629,307"/>
<area shape="rect" id="node13" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1248,635,1404,661"/>
<area shape="rect" id="node10" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="1924,438,2067,479"/>
<area shape="rect" id="node11" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2115,445,2233,472"/>
<area shape="rect" id="node15" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="1697,1081,1876,1108"/>
<area shape="rect" id="node17" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="1732,1031,1841,1057"/>
<area shape="rect" id="node16" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="1935,1081,2056,1108"/>
<area shape="rect" id="node25" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="1475,153,1641,180"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="595,792,712,819"/>
<area shape="rect" id="node42" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="802,953,950,994"/>
<area shape="rect" id="node44" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="809,473,943,500"/>
<area shape="rect" id="node46" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="575,51,731,77"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="589,261,717,288"/>
<area shape="rect" id="node50" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="589,211,717,237"/>
</map>
</div>

</div>
</div>
<a id="a1595fa19e5e16d32aeeca3227173476f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1595fa19e5e16d32aeeca3227173476f">&#9670;&nbsp;</a></span>dlm_revert_pending_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dlm_revert_pending_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_a1595fa19e5e16d32aeeca3227173476f_icgraph.png" border="0" usemap="#dlmlock_8c_a1595fa19e5e16d32aeeca3227173476f_icgraph" alt=""/></div>
<map name="dlmlock_8c_a1595fa19e5e16d32aeeca3227173476f_icgraph" id="dlmlock_8c_a1595fa19e5e16d32aeeca3227173476f_icgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="220,1022,392,1048"/>
<area shape="rect" id="node27" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="1330,48,1479,89"/>
<area shape="rect" id="node50" href="dlmlock_8c.html#afdf34dc369cd4fd92b98a1224233ef45" title="dlmlock_remote" alt="" coords="249,148,363,175"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="466,680,590,707"/>
<area shape="rect" id="node6" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1111,250,1242,276"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2012,975,2148,1002"/>
<area shape="rect" id="node12" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2225,1323,2336,1350"/>
<area shape="rect" id="node29" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="868,1022,1041,1048"/>
<area shape="rect" id="node31" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="682,503,802,530"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="463,579,593,606"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="681,1436,803,1463"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="877,1374,1033,1400"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="677,1311,807,1338"/>
<area shape="rect" id="node37" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1338,772,1471,799"/>
<area shape="rect" id="node38" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="468,908,588,935"/>
<area shape="rect" id="node40" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1312,1252,1497,1279"/>
<area shape="rect" id="node42" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="440,858,616,884"/>
<area shape="rect" id="node44" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="459,1153,597,1194"/>
<area shape="rect" id="node46" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="459,1084,597,1111"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="871,1140,1039,1167"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="687,706,797,732"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="896,554,1013,580"/>
<area shape="rect" id="node28" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1110,807,1243,834"/>
<area shape="rect" id="node30" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1347,620,1462,647"/>
<area shape="rect" id="node13" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="2404,570,2491,596"/>
<area shape="rect" id="node17" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2003,106,2157,148"/>
<area shape="rect" id="node21" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1603,595,1670,622"/>
<area shape="rect" id="node24" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1104,452,1249,479"/>
<area shape="rect" id="node25" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1089,503,1264,530"/>
<area shape="rect" id="node26" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1101,756,1252,783"/>
<area shape="rect" id="node7" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="1349,164,1460,191"/>
<area shape="rect" id="node8" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="1559,215,1714,242"/>
<area shape="rect" id="node9" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="1545,874,1728,900"/>
<area shape="rect" id="node19" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="1565,114,1708,140"/>
<area shape="rect" id="node20" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1327,519,1483,546"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#aaa78134f682829bf365728a9066a17e6" title="dlm_reset_mleres_owner" alt="" coords="1553,63,1720,90"/>
<area shape="rect" id="node16" href="dlmmaster_8c.html#a10fcd66e648ca3402b4e7067a0e5c1c9" title="dlm_clean_master_list" alt="" coords="1789,114,1941,140"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1794,924,1937,951"/>
<area shape="rect" id="node14" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="1794,1104,1937,1145"/>
<area shape="rect" id="node18" href="dlmrecovery_8c.html#a1a8233dbb9c0cf9b91d30e307cacb94c" title="__dlm_hb_node_down" alt="" coords="2205,114,2356,140"/>
<area shape="rect" id="node22" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="1776,570,1955,596"/>
<area shape="rect" id="node23" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="1811,620,1920,647"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="683,554,801,580"/>
<area shape="rect" id="node39" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1103,909,1251,950"/>
<area shape="rect" id="node41" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="1553,1252,1720,1279"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="887,858,1022,884"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="664,1186,820,1212"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="678,1135,806,1162"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="678,1084,806,1111"/>
</map>
</div>

</div>
</div>
<a id="ad433bd0e7dd150ff473bd060baffef04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad433bd0e7dd150ff473bd060baffef04">&#9670;&nbsp;</a></span>dlm_send_remote_lock_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a> dlm_send_remote_lock_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__ctxt.html">dlm_ctxt</a> *&#160;</td>
          <td class="paramname"><em>dlm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_ad433bd0e7dd150ff473bd060baffef04_cgraph.png" border="0" usemap="#dlmlock_8c_ad433bd0e7dd150ff473bd060baffef04_cgraph" alt=""/></div>
<map name="dlmlock_8c_ad433bd0e7dd150ff473bd060baffef04_cgraph" id="dlmlock_8c_ad433bd0e7dd150ff473bd060baffef04_cgraph">
<area shape="rect" id="node2" href="tcp_8c.html#a2e1a8aefbe7ab41d71dbeec8eca4ec8e" title="o2net_send_message" alt="" coords="212,309,361,336"/>
<area shape="rect" id="node23" href="dlmcommon_8h.html#ab1cad48be435485bbbff5979d421eb42" title="dlm_print_one_lock\l_resource" alt="" coords="219,695,354,737"/>
<area shape="rect" id="node48" href="dlmcommon_8h.html#ab013ec9b983e65ab5b8a59f4744797c5" title="dlm_is_host_down" alt="" coords="221,761,352,788"/>
<area shape="rect" id="node49" href="dlmcommon_8h.html#ad13bcb40e8ab852309972e8579e7aa7f" title="dlm_err_to_dlm_status" alt="" coords="209,813,364,840"/>
<area shape="rect" id="node3" href="tcp_8c.html#a271f325bf27199f9506395b8d5e926c0" title="o2net_send_message_vec" alt="" coords="412,309,589,336"/>
<area shape="rect" id="node22" href="tcp_8c.html#ace0fde64403cc841ecc2b48730eaa29b" title="EXPORT_SYMBOL_GPL" alt="" coords="637,5,809,32"/>
<area shape="rect" id="node4" href="tcp_8c.html#a88b8ae01d2df7ec5ed971285551834ad" title="o2net_nn_from_num" alt="" coords="653,259,793,285"/>
<area shape="rect" id="node5" href="nodemanager_8c.html#a7d562fbd374c60d7b62e5429c6e9c889" title="o2nm_this_node" alt="" coords="885,153,1002,180"/>
<area shape="rect" id="node7" href="tcp_8h.html#a5bec4625815ffb4586414423d07715dc" title="o2net_debug_add_nst" alt="" coords="649,360,798,387"/>
<area shape="rect" id="node8" href="tcp_8c.html#aa34aa8e71018e7b041a112f05c1c4a15" title="o2net_tx_can_proceed" alt="" coords="647,411,800,437"/>
<area shape="rect" id="node9" href="tcp_8c.html#a773991b88eb2e53bb2e677de64736b81" title="o2net_init_msg" alt="" coords="668,461,779,488"/>
<area shape="rect" id="node10" href="tcp_8c.html#ae94ac6d9329eec92feadc74e3e2d2b72" title="o2net_prep_nsw" alt="" coords="665,512,782,539"/>
<area shape="rect" id="node11" href="tcp_8c.html#a895bc5aa782fe076e02474efba57877a" title="o2net_send_tcp_msg" alt="" coords="650,563,797,589"/>
<area shape="rect" id="node12" href="tcp_8c.html#a70acc478fa637115fe764489e4c6006c" title="o2net_nsw_completed" alt="" coords="647,613,799,640"/>
<area shape="rect" id="node13" href="tcp_8c.html#a8cbd13f658f6cba12128d72242506a95" title="o2net_sys_err_to_errno" alt="" coords="644,56,803,83"/>
<area shape="rect" id="node14" href="tcp_8h.html#ad509dd4d06fa35978d9fa9fba0cf9e44" title="o2net_debug_del_nst" alt="" coords="651,107,796,133"/>
<area shape="rect" id="node15" href="tcp_8c.html#a660bce3f4a2f656d76649a251ae8d097" title="sc_put" alt="" coords="693,309,754,336"/>
<area shape="rect" id="node20" href="tcp_8c.html#afbd98f12684c5873725d3051c6f3b798" title="o2net_complete_nsw" alt="" coords="651,208,796,235"/>
<area shape="rect" id="node6" href="nodemanager_8c.html#a67edc90e86a794e89a46a885ca1a16da" title="EXPORT_SYMBOL_GPL" alt="" coords="1303,241,1475,268"/>
<area shape="rect" id="node16" href="tcp_8c.html#a9c86606bd0ca1cd271a9ae5057311f23" title="sc_kref_release" alt="" coords="886,288,1001,315"/>
<area shape="rect" id="node17" href="nodemanager_8c.html#a1591b6575841947b85cb323060f6dbf3" title="o2nm_undepend_item" alt="" coords="1090,255,1239,281"/>
<area shape="rect" id="node18" href="nodemanager_8c.html#a8d7b3ea21a9b60872a394bddd27de7fb" title="o2nm_node_put" alt="" coords="1107,329,1222,356"/>
<area shape="rect" id="node19" href="tcp_8h.html#aae4cd4cb0e64ea97716a961dbe3a5e08" title="o2net_debug_del_sc" alt="" coords="1094,204,1235,231"/>
<area shape="rect" id="node21" href="tcp_8c.html#a56e839b4928c9875e50896e99751f965" title="o2net_complete_nsw\l_locked" alt="" coords="871,205,1016,246"/>
<area shape="rect" id="node24" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="427,819,575,861"/>
<area shape="rect" id="node25" href="dlmdebug_8c.html#af0251b4e4e8e37b8c77a150ac56d0776" title="stringify_lockname" alt="" coords="658,877,789,904"/>
<area shape="rect" id="node26" href="dlmdebug_8c.html#af18f629afe43733e226c806e68fd692f" title="dlm_print_lockres_refmap" alt="" coords="638,928,809,955"/>
<area shape="rect" id="node27" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="663,827,783,853"/>
<area shape="rect" id="node28" href="dlmcommon_8h.html#ab090478ae1ea3aab2e70f8b494357df7" title="dlm_get_lock_cookie_node" alt="" coords="1300,1103,1479,1129"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="857,847,1029,873"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#aa4b87c51307a6fb69d9c27b5ad394e54" title="dlm_new_lock" alt="" coords="1112,816,1217,843"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a84cd601553d99a8a3618edd0fb9c6c76" title="dlm_lock_get" alt="" coords="1340,431,1439,457"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="1340,867,1439,893"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1081,917,1248,944"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="1081,968,1248,995"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1078,431,1251,457"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1087,1187,1243,1213"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#aa005fb0766c187b6de6932e0a5d8fe2a" title="dlm_revert_pending\l_convert" alt="" coords="1097,1070,1232,1111"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a1595fa19e5e16d32aeeca3227173476f" title="dlm_revert_pending_lock" alt="" coords="1081,1136,1248,1163"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1081,1019,1249,1045"/>
<area shape="rect" id="node40" href="dlmcommon_8h.html#a02dd9e91522a22b1b51bf7021eff3b3f" title="dlm_commit_pending\l_cancel" alt="" coords="1092,1238,1237,1279"/>
<area shape="rect" id="node41" href="dlmcommon_8h.html#aa30579bb55ba65df5d4ca3be7d1b7ef8" title="dlm_commit_pending\l_unlock" alt="" coords="1092,1303,1237,1345"/>
<area shape="rect" id="node42" href="dlmcommon_8h.html#afd78890587a1059dd5fda24cebffbdf3" title="dlm_launch_thread" alt="" coords="1099,481,1230,508"/>
<area shape="rect" id="node43" href="dlmcommon_8h.html#a5565e204e32e5d70d90e9f13ff0c9848" title="dlm_complete_thread" alt="" coords="1091,532,1238,559"/>
<area shape="rect" id="node44" href="dlmcommon_8h.html#a70ab66f50a1a5bc76e3e91945a83c1d6" title="dlm_launch_recovery\l_thread" alt="" coords="1092,583,1237,625"/>
<area shape="rect" id="node45" href="dlmcommon_8h.html#ac7b07b886d4de4d0cb303471f3c6cff4" title="dlm_complete_recovery\l_thread" alt="" coords="1085,649,1245,690"/>
<area shape="rect" id="node46" href="dlmcommon_8h.html#a26e00298ba02974bb812eabda2d18408" title="dlm_wait_for_recovery" alt="" coords="1088,715,1241,741"/>
<area shape="rect" id="node47" href="dlmcommon_8h.html#a5ec47e281e88544932aabe7012e257b1" title="dlm_kick_recovery_thread" alt="" coords="1077,765,1252,792"/>
<area shape="rect" id="node50" href="tcp_8h.html#ae950a2818b848da1399a572845854a0c" title="o2net_link_down" alt="" coords="441,885,560,912"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_ad433bd0e7dd150ff473bd060baffef04_icgraph.png" border="0" usemap="#dlmlock_8c_ad433bd0e7dd150ff473bd060baffef04_icgraph" alt=""/></div>
<map name="dlmlock_8c_ad433bd0e7dd150ff473bd060baffef04_icgraph" id="dlmlock_8c_ad433bd0e7dd150ff473bd060baffef04_icgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#afdf34dc369cd4fd92b98a1224233ef45" title="dlmlock_remote" alt="" coords="209,965,324,992"/>
<area shape="rect" id="node3" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="372,965,439,992"/>
<area shape="rect" id="node4" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="487,965,665,992"/>
<area shape="rect" id="node50" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="521,1373,631,1400"/>
<area shape="rect" id="node5" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="713,965,835,992"/>
<area shape="rect" id="node6" href="dlmrecovery_8c.html#a1d6223f27e371e3a2510d21a6a857efc" title="dlm_recovery_thread" alt="" coords="883,965,1025,992"/>
<area shape="rect" id="node7" href="dlmrecovery_8c.html#a70ab66f50a1a5bc76e3e91945a83c1d6" title="dlm_launch_recovery\l_thread" alt="" coords="1073,958,1219,999"/>
<area shape="rect" id="node8" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1267,717,1439,744"/>
<area shape="rect" id="node17" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2996,1049,3115,1076"/>
<area shape="rect" id="node9" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="1513,493,1637,520"/>
<area shape="rect" id="node12" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2170,327,2301,353"/>
<area shape="rect" id="node27" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1921,389,2094,416"/>
<area shape="rect" id="node29" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1729,624,1849,651"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1509,565,1640,592"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1513,768,1636,795"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1711,877,1867,904"/>
<area shape="rect" id="node34" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="1733,776,1844,803"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1507,667,1643,693"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1509,819,1640,845"/>
<area shape="rect" id="node37" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1941,1027,2074,1053"/>
<area shape="rect" id="node38" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1515,944,1635,971"/>
<area shape="rect" id="node40" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1915,656,2100,683"/>
<area shape="rect" id="node42" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1487,93,1663,120"/>
<area shape="rect" id="node44" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1505,297,1644,338"/>
<area shape="rect" id="node46" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1505,1045,1644,1072"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1923,1179,2091,1205"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="1733,421,1844,448"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1949,525,2066,552"/>
<area shape="rect" id="node26" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1941,43,2074,69"/>
<area shape="rect" id="node28" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1950,976,2065,1003"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2163,479,2308,505"/>
<area shape="rect" id="node23" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2148,529,2323,556"/>
<area shape="rect" id="node24" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2160,184,2311,211"/>
<area shape="rect" id="node25" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="2192,707,2279,733"/>
<area shape="rect" id="node13" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="2393,327,2504,353"/>
<area shape="rect" id="node14" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="2589,327,2743,353"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="2575,377,2757,404"/>
<area shape="rect" id="node20" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="2595,251,2737,277"/>
<area shape="rect" id="node21" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="2371,479,2527,505"/>
<area shape="rect" id="node16" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2805,817,2948,858"/>
<area shape="rect" id="node18" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3163,1049,3305,1076"/>
<area shape="rect" id="node19" href="stack__o2cb_8c.html#a6fbec0ac0199f1beacbae9a3ad9d23ef" title="o2cb_cluster_connect" alt="" coords="3353,1049,3503,1076"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="1730,573,1847,600"/>
<area shape="rect" id="node39" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1715,929,1863,970"/>
<area shape="rect" id="node41" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="2152,656,2319,683"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="1940,93,2075,120"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="1711,296,1867,323"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1725,1147,1853,1173"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1725,1045,1853,1072"/>
</map>
</div>

</div>
</div>
<a id="a13e5233f1ea70df1eed77a148b79a937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13e5233f1ea70df1eed77a148b79a937">&#9670;&nbsp;</a></span>dlmlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a> dlmlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__ctxt.html">dlm_ctxt</a> *&#160;</td>
          <td class="paramname"><em>dlm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lockstatus.html">dlm_lockstatus</a> *&#160;</td>
          <td class="paramname"><em>lksb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlmapi_8h.html#aaf7fd5b9504a2234d0d8225c833d5d39">dlm_astlockfunc_t</a> *&#160;</td>
          <td class="paramname"><em>ast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlmapi_8h.html#afd3872305415df41a8efb40cce506b3a">dlm_bastlockfunc_t</a> *&#160;</td>
          <td class="paramname"><em>bast</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_a13e5233f1ea70df1eed77a148b79a937_cgraph.png" border="0" usemap="#dlmlock_8c_a13e5233f1ea70df1eed77a148b79a937_cgraph" alt=""/></div>
<map name="dlmlock_8c_a13e5233f1ea70df1eed77a148b79a937_cgraph" id="dlmlock_8c_a13e5233f1ea70df1eed77a148b79a937_cgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#a810a1b5decb1b256034d7493d83ac391" title="dlm_is_recovery_lock" alt="" coords="765,1733,913,1760"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="340,699,457,725"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#a1e34fbd5f9532d770b3a6d0a9c43b2ed" title="dlm_lockres_put" alt="" coords="780,169,897,196"/>
<area shape="rect" id="node12" href="dlmcommon_8h.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="525,472,681,499"/>
<area shape="rect" id="node14" href="dlmcommon_8h.html#a26e00298ba02974bb812eabda2d18408" title="dlm_wait_for_recovery" alt="" coords="986,472,1139,499"/>
<area shape="rect" id="node19" href="dlmcommon_8h.html#a39f04b047ae6225e0b0a61a1d099a955" title="dlm_lockres_drop_inflight_ref" alt="" coords="507,93,698,120"/>
<area shape="rect" id="node27" href="dlmcommon_8h.html#a2842524d2f810359181d86c42734a300" title="dlm_wait_for_node_death" alt="" coords="977,1145,1148,1172"/>
<area shape="rect" id="node28" href="dlmcommon_8h.html#a50f02f902f36f2c0f78a6de9d0d16263" title="dlm_lockres_calc_usage" alt="" coords="980,1733,1145,1760"/>
<area shape="rect" id="node35" href="dlmconvert_8c.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="536,1480,669,1507"/>
<area shape="rect" id="node40" href="dlmcommon_8h.html#aac3c67ad9759229029b5c161c631a93b" title="dlm_kick_thread" alt="" coords="780,1632,897,1659"/>
<area shape="rect" id="node41" href="dlmconvert_8c.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="536,1373,669,1400"/>
<area shape="rect" id="node44" href="dlmlock_8c.html#ab8dcac35697e5f03a9896ced5e229eff" title="dlm_get_next_cookie" alt="" coords="133,1632,279,1659"/>
<area shape="rect" id="node45" href="dlmlock_8c.html#aa4b87c51307a6fb69d9c27b5ad394e54" title="dlm_new_lock" alt="" coords="153,1683,259,1709"/>
<area shape="rect" id="node46" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="123,1011,289,1037"/>
<area shape="rect" id="node47" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="545,1531,660,1557"/>
<area shape="rect" id="node48" href="dlmlock_8c.html#afdf34dc369cd4fd92b98a1224233ef45" title="dlmlock_remote" alt="" coords="545,1784,660,1811"/>
<area shape="rect" id="node49" href="dlmlock_8c.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="789,1835,888,1861"/>
<area shape="rect" id="node50" href="dlmlock_8c.html#a48c6d3f827130492829026a171789897" title="EXPORT_SYMBOL_GPL" alt="" coords="120,1936,292,1963"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#a9314de9625fc9ba31710f31e7b30b1c0" title="__dlm_unhash_lockres" alt="" coords="525,195,680,221"/>
<area shape="rect" id="node6" href="dlmcommon_8h.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="766,308,911,335"/>
<area shape="rect" id="node7" href="dlmcommon_8h.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="751,535,926,561"/>
<area shape="rect" id="node8" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="813,421,864,448"/>
<area shape="rect" id="node9" href="dlmcommon_8h.html#a1a4a44a0c416ba22754129aa0029a6fa" title="__dlm_lookup_lockres" alt="" coords="527,245,678,272"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#ab4ec333709fe49ff933c13cfad732d63" title="dlm_lookup_lockres" alt="" coords="534,421,671,448"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#ab013ec9b983e65ab5b8a59f4744797c5" title="dlm_is_host_down" alt="" coords="997,1200,1128,1227"/>
<area shape="rect" id="node16" href="dlmcommon_8h.html#af84b4854d72c195f508de5044bcf1539" title="dlm_new_lockres" alt="" coords="541,597,664,624"/>
<area shape="rect" id="node17" href="dlmcommon_8h.html#a7596aaf9419a5517e36b9833886d093c" title="dlm_lockres_set_refmap_bit" alt="" coords="510,648,695,675"/>
<area shape="rect" id="node18" href="dlmcommon_8h.html#a20ba52e420952c008a4603f9d149aacc" title="dlm_lockres_clear_refmap_bit" alt="" coords="505,699,700,725"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#af8f1cfdebed47ccf631f300ef65b58ad" title="dlm_lockres_grab_inflight_ref" alt="" coords="507,749,698,776"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a4fd1866e731c1d1cee28128df271388d" title="__dlm_lockres_grab\l_inflight_worker" alt="" coords="533,801,672,842"/>
<area shape="rect" id="node22" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="547,968,658,995"/>
<area shape="rect" id="node23" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="544,1120,661,1147"/>
<area shape="rect" id="node24" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="541,1221,665,1248"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="537,917,668,944"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="541,1069,664,1096"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="535,867,671,893"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="537,1019,668,1045"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a9ee4079a72538256c51fff9af62be5bf" title="dlm_send_proxy_ast_msg" alt="" coords="515,1171,690,1197"/>
<area shape="rect" id="node13" href="dlmcommon_8h.html#a75eccd63d933ef4c9819494238b962cd" title="__dlm_wait_on_lockres" alt="" coords="759,1480,918,1507"/>
<area shape="rect" id="node15" href="dlmrecovery_8c.html#a6e151495c6df5fe963a1e3dac24097b9" title="dlm_in_recovery" alt="" coords="1196,472,1313,499"/>
<area shape="rect" id="node25" href="dlmcommon_8h.html#ab090478ae1ea3aab2e70f8b494357df7" title="dlm_get_lock_cookie_node" alt="" coords="749,1044,928,1071"/>
<area shape="rect" id="node26" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="753,993,925,1020"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a8f413f31d419f11b1b6d1b97dff83747" title="dlm_lockres_release_ast" alt="" coords="755,1429,922,1456"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a7576e0d163acfcf2a6dd3b9a11159701" title="__dlm_lockres_reserve_ast" alt="" coords="748,1531,929,1557"/>
<area shape="rect" id="node38" href="dlmconvert_8c.html#a752fc3df9cbedd8f856b4ea98ed72533" title="__dlmconvert_master" alt="" coords="765,1379,912,1405"/>
<area shape="rect" id="node39" href="dlmast_8c.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="783,1581,894,1608"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="989,1371,1137,1413"/>
<area shape="rect" id="node42" href="dlmconvert_8c.html#a71cbe6c26b16b671ec725adcf895874a" title="dlm_send_remote_convert\l_request" alt="" coords="751,1197,926,1238"/>
<area shape="rect" id="node43" href="dlmconvert_8c.html#aa005fb0766c187b6de6932e0a5d8fe2a" title="dlm_revert_pending\l_convert" alt="" coords="771,1262,906,1303"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_a13e5233f1ea70df1eed77a148b79a937_icgraph.png" border="0" usemap="#dlmlock_8c_a13e5233f1ea70df1eed77a148b79a937_icgraph" alt=""/></div>
<map name="dlmlock_8c_a13e5233f1ea70df1eed77a148b79a937_icgraph" id="dlmlock_8c_a13e5233f1ea70df1eed77a148b79a937_icgraph">
<area shape="rect" id="node2" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="120,1231,299,1257"/>
<area shape="rect" id="node50" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="155,1077,264,1104"/>
<area shape="rect" id="node3" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="347,1235,468,1261"/>
<area shape="rect" id="node4" href="dlmrecovery_8c.html#a1d6223f27e371e3a2510d21a6a857efc" title="dlm_recovery_thread" alt="" coords="516,1236,659,1263"/>
<area shape="rect" id="node5" href="dlmrecovery_8c.html#a70ab66f50a1a5bc76e3e91945a83c1d6" title="dlm_launch_recovery\l_thread" alt="" coords="707,1230,852,1271"/>
<area shape="rect" id="node6" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="900,545,1072,572"/>
<area shape="rect" id="node15" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2864,968,2983,995"/>
<area shape="rect" id="node7" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="1146,951,1270,977"/>
<area shape="rect" id="node10" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1791,464,1922,491"/>
<area shape="rect" id="node25" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1992,1117,2177,1144"/>
<area shape="rect" id="node29" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1548,261,1721,288"/>
<area shape="rect" id="node31" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1362,824,1482,851"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1143,875,1273,901"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1147,723,1269,749"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1344,403,1500,429"/>
<area shape="rect" id="node36" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="1367,672,1477,699"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1140,773,1276,800"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1143,621,1273,648"/>
<area shape="rect" id="node39" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1568,211,1701,237"/>
<area shape="rect" id="node40" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1148,520,1268,547"/>
<area shape="rect" id="node42" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1120,571,1296,597"/>
<area shape="rect" id="node44" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1139,278,1277,319"/>
<area shape="rect" id="node46" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1139,152,1277,179"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1551,87,1719,113"/>
<area shape="rect" id="node8" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="1367,1027,1477,1053"/>
<area shape="rect" id="node9" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1576,903,1693,929"/>
<area shape="rect" id="node28" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1568,1027,1701,1053"/>
<area shape="rect" id="node30" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1577,1179,1692,1205"/>
<area shape="rect" id="node20" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1784,1004,1929,1031"/>
<area shape="rect" id="node21" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2456,903,2625,929"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1769,903,1944,929"/>
<area shape="rect" id="node23" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1781,801,1932,828"/>
<area shape="rect" id="node24" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1773,1204,1940,1231"/>
<area shape="rect" id="node27" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1813,735,1900,761"/>
<area shape="rect" id="node11" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="2029,413,2140,440"/>
<area shape="rect" id="node12" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="2239,439,2394,465"/>
<area shape="rect" id="node13" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="2225,503,2408,529"/>
<area shape="rect" id="node18" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="2245,363,2388,389"/>
<area shape="rect" id="node19" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="2007,953,2163,980"/>
<area shape="rect" id="node14" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2673,357,2816,398"/>
<area shape="rect" id="node16" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3031,968,3173,995"/>
<area shape="rect" id="node17" href="stack__o2cb_8c.html#a6fbec0ac0199f1beacbae9a3ad9d23ef" title="o2cb_cluster_connect" alt="" coords="3221,968,3371,995"/>
<area shape="rect" id="node26" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="2233,1096,2400,1123"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="1363,925,1481,952"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1348,505,1496,546"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="1567,819,1702,845"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="1344,293,1500,320"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1358,117,1486,144"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1358,168,1486,195"/>
</map>
</div>

</div>
</div>
<a id="acaa817aa926a1cd9499a2aa6cca19a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaa817aa926a1cd9499a2aa6cca19a12">&#9670;&nbsp;</a></span>dlmlock_master()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a> dlmlock_master </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__ctxt.html">dlm_ctxt</a> *&#160;</td>
          <td class="paramname"><em>dlm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_acaa817aa926a1cd9499a2aa6cca19a12_cgraph.png" border="0" usemap="#dlmlock_8c_acaa817aa926a1cd9499a2aa6cca19a12_cgraph" alt=""/></div>
<map name="dlmlock_8c_acaa817aa926a1cd9499a2aa6cca19a12_cgraph" id="dlmlock_8c_acaa817aa926a1cd9499a2aa6cca19a12_cgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#ae02d978b3a4f4a1c59c96eaf8f79dd71" title="__dlm_lockres_state\l_to_status" alt="" coords="187,402,330,443"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#a75eccd63d933ef4c9819494238b962cd" title="__dlm_wait_on_lockres" alt="" coords="179,468,338,495"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a7576e0d163acfcf2a6dd3b9a11159701" title="__dlm_lockres_reserve_ast" alt="" coords="168,779,349,805"/>
<area shape="rect" id="node40" href="dlmlock_8c.html#abccaee0f650b509975a28af4ab59587a" title="dlm_can_grant_new_lock" alt="" coords="174,829,343,856"/>
<area shape="rect" id="node42" href="dlmlock_8c.html#a84cd601553d99a8a3618edd0fb9c6c76" title="dlm_lock_get" alt="" coords="209,880,308,907"/>
<area shape="rect" id="node43" href="dlmcommon_8h.html#a810a1b5decb1b256034d7493d83ac391" title="dlm_is_recovery_lock" alt="" coords="185,931,333,957"/>
<area shape="rect" id="node44" href="dlmast_8c.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="203,981,314,1008"/>
<area shape="rect" id="node46" href="dlmcommon_8h.html#a8f413f31d419f11b1b6d1b97dff83747" title="dlm_lockres_release_ast" alt="" coords="620,1007,787,1033"/>
<area shape="rect" id="node47" href="dlmcommon_8h.html#a50f02f902f36f2c0f78a6de9d0d16263" title="dlm_lockres_calc_usage" alt="" coords="176,1087,341,1113"/>
<area shape="rect" id="node49" href="dlmcommon_8h.html#aac3c67ad9759229029b5c161c631a93b" title="dlm_kick_thread" alt="" coords="200,1145,317,1172"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#a5327b4bda47dbdee1a589f8112045b31" title="__dlm_wait_on_lockres\l_flags" alt="" coords="404,107,563,149"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#a49780eb60f10c4985597828e8861efea" title="__dlm_unlink_mle" alt="" coords="420,173,547,200"/>
<area shape="rect" id="node6" href="dlmcommon_8h.html#a7036a81449ebfe5144f613ee00c64f69" title="__dlm_insert_mle" alt="" coords="1061,60,1185,87"/>
<area shape="rect" id="node8" href="dlmcommon_8h.html#af29515288060f4ce40ed0b3de0f605a3" title="dlm_init_master_caches" alt="" coords="402,645,565,672"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#aff2b3ed1bab55a82ebd314d9a8886671" title="dlm_destroy_master\l_caches" alt="" coords="413,326,553,367"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#a33bde48be8aa227e228e92e17fe88146" title="dlm_init_lock_cache" alt="" coords="413,392,553,419"/>
<area shape="rect" id="node12" href="dlmcommon_8h.html#a1ab914948a4f4bf335b9ae47dc3ceec8" title="dlm_destroy_lock_cache" alt="" coords="400,443,567,469"/>
<area shape="rect" id="node13" href="dlmcommon_8h.html#a65b499273255cec98af64a905936a85c" title="dlm_init_mle_cache" alt="" coords="415,493,552,520"/>
<area shape="rect" id="node14" href="dlmcommon_8h.html#acff94899d610011466104893a3336ad3" title="dlm_destroy_mle_cache" alt="" coords="402,544,565,571"/>
<area shape="rect" id="node15" href="dlmcommon_8h.html#ab7f6133937aa9754576d68f2efec216f" title="dlm_hb_event_notify\l_attached" alt="" coords="412,697,555,738"/>
<area shape="rect" id="node18" href="dlmcommon_8h.html#aecf1149444e17decd7ab1f130eff5300" title="dlm_drop_lockres_ref" alt="" coords="410,763,557,789"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a10fcd66e648ca3402b4e7067a0e5c1c9" title="dlm_clean_master_list" alt="" coords="407,275,559,301"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="632,224,775,251"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#ae0eba6f5489b558e3dffdca83356b52a" title="dlm_lock_basts_flushed" alt="" coords="402,813,565,840"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a8f151a810a2867342844ad803783dbfe" title="__dlm_lockres_has_locks" alt="" coords="397,5,569,32"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a67364f4eb7ef88a419121f0e983de76c" title="__dlm_lockres_unused" alt="" coords="406,595,561,621"/>
<area shape="rect" id="node7" href="dlmcommon_8h.html#a246b3831e0961d0ac3dd1e564b772c25" title="dlm_master_hash" alt="" coords="1283,144,1408,171"/>
<area shape="rect" id="node9" href="dlmmaster_8c.html#aff2b3ed1bab55a82ebd314d9a8886671" title="dlm_destroy_master\l_caches" alt="" coords="633,571,773,613"/>
<area shape="rect" id="node16" href="dlmmaster_8c.html#a5ddf0606af50673395109053a48e7200" title="dlm_mle_node_up" alt="" coords="640,637,767,664"/>
<area shape="rect" id="node17" href="dlmmaster_8c.html#a5d31da4449dd929d67b2e00ddf7011f9" title="dlm_mle_node_down" alt="" coords="631,688,775,715"/>
<area shape="rect" id="node19" href="tcp_8c.html#a2e1a8aefbe7ab41d71dbeec8eca4ec8e" title="o2net_send_message" alt="" coords="629,829,778,856"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#ab1cad48be435485bbbff5979d421eb42" title="dlm_print_one_lock\l_resource" alt="" coords="636,739,771,781"/>
<area shape="rect" id="node22" href="dlmmaster_8c.html#aa53c226e940612fde13908a550474542" title="dlm_clean_block_mle" alt="" coords="630,325,777,352"/>
<area shape="rect" id="node24" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="858,388,969,415"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a260decab482296f198fee9f8e5ab5dbf" title="dlm_clean_migration_mle" alt="" coords="619,275,788,301"/>
<area shape="rect" id="node30" href="dlmmaster_8c.html#aaa78134f682829bf365728a9066a17e6" title="dlm_reset_mleres_owner" alt="" coords="620,376,787,403"/>
<area shape="rect" id="node23" href="dlmmaster_8c.html#aaf36cf803a66a596b8e580bec4707252" title="__dlm_mle_detach_hb\l_events" alt="" coords="837,322,989,363"/>
<area shape="rect" id="node25" href="dlmdebug_8c.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1057,388,1188,415"/>
<area shape="rect" id="node26" href="dlmdebug_8c.html#af0251b4e4e8e37b8c77a150ac56d0776" title="stringify_lockname" alt="" coords="1280,456,1411,483"/>
<area shape="rect" id="node27" href="dlmcommon_8h.html#ab090478ae1ea3aab2e70f8b494357df7" title="dlm_get_lock_cookie_node" alt="" coords="1256,792,1435,819"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a49780eb60f10c4985597828e8861efea" title="__dlm_unlink_mle" alt="" coords="850,271,977,297"/>
<area shape="rect" id="node35" href="dlmthread_8c.html#a8f151a810a2867342844ad803783dbfe" title="__dlm_lockres_has_locks" alt="" coords="617,520,789,547"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="839,759,987,801"/>
<area shape="rect" id="node38" href="dlmdebug_8c.html#af18f629afe43733e226c806e68fd692f" title="dlm_print_lockres_refmap" alt="" coords="1037,741,1208,768"/>
<area shape="rect" id="node39" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1063,792,1183,819"/>
<area shape="rect" id="node41" href="dlmcommon_8h.html#a91affc63da616dadcdc244bf45682340" title="dlm_lock_compatible" alt="" coords="411,931,555,957"/>
<area shape="rect" id="node45" href="dlmast_8c.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="421,981,545,1008"/>
<area shape="rect" id="node48" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="415,1083,552,1125"/>
<area shape="rect" id="node50" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="414,1149,553,1176"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_acaa817aa926a1cd9499a2aa6cca19a12_icgraph.png" border="0" usemap="#dlmlock_8c_acaa817aa926a1cd9499a2aa6cca19a12_icgraph" alt=""/></div>
<map name="dlmlock_8c_acaa817aa926a1cd9499a2aa6cca19a12_icgraph" id="dlmlock_8c_acaa817aa926a1cd9499a2aa6cca19a12_icgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#aff4377248f6d39ae909620bb757b2130" title="dlm_create_lock_handler" alt="" coords="168,328,335,355"/>
<area shape="rect" id="node16" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="1749,1021,1815,1048"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="383,637,555,664"/>
<area shape="rect" id="node11" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2148,383,2291,425"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="610,663,734,689"/>
<area shape="rect" id="node7" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1257,163,1387,189"/>
<area shape="rect" id="node26" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="1457,391,1643,417"/>
<area shape="rect" id="node31" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1013,1092,1187,1119"/>
<area shape="rect" id="node32" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="817,624,937,651"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="607,561,737,588"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="611,865,733,892"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="799,928,955,955"/>
<area shape="rect" id="node37" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="822,827,933,853"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="604,713,740,740"/>
<area shape="rect" id="node39" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="607,815,737,841"/>
<area shape="rect" id="node40" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1255,1072,1389,1099"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="612,991,732,1017"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="789,245,965,272"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="603,145,741,186"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="603,421,741,448"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1016,315,1184,341"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="822,1029,933,1056"/>
<area shape="rect" id="node6" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1041,573,1159,600"/>
<area shape="rect" id="node30" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1483,1021,1617,1048"/>
<area shape="rect" id="node21" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1249,517,1395,544"/>
<area shape="rect" id="node22" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="1926,467,2095,493"/>
<area shape="rect" id="node23" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1235,568,1409,595"/>
<area shape="rect" id="node24" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1247,416,1397,443"/>
<area shape="rect" id="node25" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1239,365,1405,392"/>
<area shape="rect" id="node28" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="1247,619,1397,661"/>
<area shape="rect" id="node29" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1279,787,1365,813"/>
<area shape="rect" id="node8" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="1495,163,1605,189"/>
<area shape="rect" id="node9" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="1705,112,1859,139"/>
<area shape="rect" id="node10" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="1691,264,1873,291"/>
<area shape="rect" id="node14" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="1711,188,1853,215"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="1472,669,1628,696"/>
<area shape="rect" id="node12" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2351,391,2469,417"/>
<area shape="rect" id="node13" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="2529,391,2672,417"/>
<area shape="rect" id="node17" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="1921,1224,2100,1251"/>
<area shape="rect" id="node20" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="1956,1021,2065,1048"/>
<area shape="rect" id="node18" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="2159,1224,2280,1251"/>
<area shape="rect" id="node19" href="dlmrecovery_8c.html#a1d6223f27e371e3a2510d21a6a857efc" title="dlm_recovery_thread" alt="" coords="2339,1224,2481,1251"/>
<area shape="rect" id="node27" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="1699,403,1865,429"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="819,523,936,549"/>
<area shape="rect" id="node42" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1026,873,1174,914"/>
<area shape="rect" id="node44" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="1033,264,1167,291"/>
<area shape="rect" id="node46" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="799,144,955,171"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="813,421,941,448"/>
<area shape="rect" id="node50" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="813,371,941,397"/>
</map>
</div>

</div>
</div>
<a id="afdf34dc369cd4fd92b98a1224233ef45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdf34dc369cd4fd92b98a1224233ef45">&#9670;&nbsp;</a></span>dlmlock_remote()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a> dlmlock_remote </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdlm__ctxt.html">dlm_ctxt</a> *&#160;</td>
          <td class="paramname"><em>dlm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock__resource.html">dlm_lock_resource</a> *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdlm__lock.html">dlm_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_afdf34dc369cd4fd92b98a1224233ef45_cgraph.png" border="0" usemap="#dlmlock_8c_afdf34dc369cd4fd92b98a1224233ef45_cgraph" alt=""/></div>
<map name="dlmlock_8c_afdf34dc369cd4fd92b98a1224233ef45_cgraph" id="dlmlock_8c_afdf34dc369cd4fd92b98a1224233ef45_cgraph">
<area shape="rect" id="node2" href="dlmcommon_8h.html#a75eccd63d933ef4c9819494238b962cd" title="__dlm_wait_on_lockres" alt="" coords="172,555,331,581"/>
<area shape="rect" id="node39" href="dlmlock_8c.html#a84cd601553d99a8a3618edd0fb9c6c76" title="dlm_lock_get" alt="" coords="202,504,301,531"/>
<area shape="rect" id="node40" href="dlmlock_8c.html#ad433bd0e7dd150ff473bd060baffef04" title="dlm_send_remote_lock\l_request" alt="" coords="391,51,547,93"/>
<area shape="rect" id="node43" href="dlmcommon_8h.html#a810a1b5decb1b256034d7493d83ac391" title="dlm_is_recovery_lock" alt="" coords="177,605,325,632"/>
<area shape="rect" id="node44" href="dlmlock_8c.html#a1595fa19e5e16d32aeeca3227173476f" title="dlm_revert_pending_lock" alt="" coords="168,656,335,683"/>
<area shape="rect" id="node45" href="dlmlock_8c.html#ae9c6cdb477b5d634636fe8805b4c75c5" title="dlm_lock_put" alt="" coords="202,1003,301,1029"/>
<area shape="rect" id="node48" href="dlmcommon_8h.html#a50f02f902f36f2c0f78a6de9d0d16263" title="dlm_lockres_calc_usage" alt="" coords="169,788,334,815"/>
<area shape="rect" id="node3" href="dlmcommon_8h.html#a5327b4bda47dbdee1a589f8112045b31" title="__dlm_wait_on_lockres\l_flags" alt="" coords="389,321,548,362"/>
<area shape="rect" id="node4" href="dlmcommon_8h.html#a49780eb60f10c4985597828e8861efea" title="__dlm_unlink_mle" alt="" coords="405,387,532,413"/>
<area shape="rect" id="node5" href="dlmcommon_8h.html#a7036a81449ebfe5144f613ee00c64f69" title="__dlm_insert_mle" alt="" coords="1069,365,1193,392"/>
<area shape="rect" id="node7" href="dlmcommon_8h.html#af29515288060f4ce40ed0b3de0f605a3" title="dlm_init_master_caches" alt="" coords="387,808,550,835"/>
<area shape="rect" id="node9" href="dlmcommon_8h.html#aff2b3ed1bab55a82ebd314d9a8886671" title="dlm_destroy_master\l_caches" alt="" coords="399,489,539,530"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#a33bde48be8aa227e228e92e17fe88146" title="dlm_init_lock_cache" alt="" coords="399,605,539,632"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#a1ab914948a4f4bf335b9ae47dc3ceec8" title="dlm_destroy_lock_cache" alt="" coords="385,656,552,683"/>
<area shape="rect" id="node12" href="dlmcommon_8h.html#a65b499273255cec98af64a905936a85c" title="dlm_init_mle_cache" alt="" coords="400,707,537,733"/>
<area shape="rect" id="node13" href="dlmcommon_8h.html#acff94899d610011466104893a3336ad3" title="dlm_destroy_mle_cache" alt="" coords="387,757,550,784"/>
<area shape="rect" id="node14" href="dlmcommon_8h.html#ab7f6133937aa9754576d68f2efec216f" title="dlm_hb_event_notify\l_attached" alt="" coords="397,859,540,901"/>
<area shape="rect" id="node17" href="dlmcommon_8h.html#aecf1149444e17decd7ab1f130eff5300" title="dlm_drop_lockres_ref" alt="" coords="395,219,542,245"/>
<area shape="rect" id="node23" href="dlmcommon_8h.html#a10fcd66e648ca3402b4e7067a0e5c1c9" title="dlm_clean_master_list" alt="" coords="393,437,545,464"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="616,555,759,581"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#ae0eba6f5489b558e3dffdca83356b52a" title="dlm_lock_basts_flushed" alt="" coords="387,117,550,144"/>
<area shape="rect" id="node36" href="dlmcommon_8h.html#a8f151a810a2867342844ad803783dbfe" title="__dlm_lockres_has_locks" alt="" coords="383,168,555,195"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a67364f4eb7ef88a419121f0e983de76c" title="__dlm_lockres_unused" alt="" coords="610,883,765,909"/>
<area shape="rect" id="node6" href="dlmcommon_8h.html#a246b3831e0961d0ac3dd1e564b772c25" title="dlm_master_hash" alt="" coords="1287,613,1413,640"/>
<area shape="rect" id="node8" href="dlmmaster_8c.html#aff2b3ed1bab55a82ebd314d9a8886671" title="dlm_destroy_master\l_caches" alt="" coords="617,715,757,757"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#a5ddf0606af50673395109053a48e7200" title="dlm_mle_node_up" alt="" coords="624,832,751,859"/>
<area shape="rect" id="node16" href="dlmmaster_8c.html#a5d31da4449dd929d67b2e00ddf7011f9" title="dlm_mle_node_down" alt="" coords="615,781,759,808"/>
<area shape="rect" id="node18" href="tcp_8c.html#a2e1a8aefbe7ab41d71dbeec8eca4ec8e" title="o2net_send_message" alt="" coords="613,201,762,228"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#ab1cad48be435485bbbff5979d421eb42" title="dlm_print_one_lock\l_resource" alt="" coords="620,94,755,135"/>
<area shape="rect" id="node19" href="tcp_8c.html#a271f325bf27199f9506395b8d5e926c0" title="o2net_send_message_vec" alt="" coords="820,184,997,211"/>
<area shape="rect" id="node20" href="tcp_8c.html#ace0fde64403cc841ecc2b48730eaa29b" title="EXPORT_SYMBOL_GPL" alt="" coords="1045,209,1217,236"/>
<area shape="rect" id="node22" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="835,94,983,135"/>
<area shape="rect" id="node24" href="dlmmaster_8c.html#aa53c226e940612fde13908a550474542" title="dlm_clean_block_mle" alt="" coords="614,403,761,429"/>
<area shape="rect" id="node26" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="853,395,964,421"/>
<area shape="rect" id="node31" href="dlmmaster_8c.html#a260decab482296f198fee9f8e5ab5dbf" title="dlm_clean_migration_mle" alt="" coords="603,504,772,531"/>
<area shape="rect" id="node33" href="dlmmaster_8c.html#aaa78134f682829bf365728a9066a17e6" title="dlm_reset_mleres_owner" alt="" coords="604,453,771,480"/>
<area shape="rect" id="node25" href="dlmmaster_8c.html#aaf36cf803a66a596b8e580bec4707252" title="__dlm_mle_detach_hb\l_events" alt="" coords="833,446,985,487"/>
<area shape="rect" id="node27" href="dlmdebug_8c.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1066,563,1197,589"/>
<area shape="rect" id="node28" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1291,824,1409,851"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a1e34fbd5f9532d770b3a6d0a9c43b2ed" title="dlm_lockres_put" alt="" coords="1489,1035,1607,1061"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#ab013ec9b983e65ab5b8a59f4744797c5" title="dlm_is_host_down" alt="" coords="1483,416,1613,443"/>
<area shape="rect" id="node32" href="dlmmaster_8c.html#a49780eb60f10c4985597828e8861efea" title="__dlm_unlink_mle" alt="" coords="845,512,972,539"/>
<area shape="rect" id="node38" href="dlmthread_8c.html#a8f151a810a2867342844ad803783dbfe" title="__dlm_lockres_has_locks" alt="" coords="823,908,995,935"/>
<area shape="rect" id="node41" href="dlmcommon_8h.html#ad13bcb40e8ab852309972e8579e7aa7f" title="dlm_err_to_dlm_status" alt="" coords="610,43,765,69"/>
<area shape="rect" id="node42" href="tcp_8h.html#ae950a2818b848da1399a572845854a0c" title="o2net_link_down" alt="" coords="849,43,968,69"/>
<area shape="rect" id="node46" href="dlmlock_8c.html#a5ebad340d76b52b7e0edc7b54ff3aa8d" title="dlm_lock_release" alt="" coords="1070,1085,1193,1112"/>
<area shape="rect" id="node47" href="dlmlock_8c.html#ac45c368aea5ffcf5c96f379551136b2d" title="dlm_lock_detach_lockres" alt="" coords="1265,1085,1435,1112"/>
<area shape="rect" id="node49" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="400,977,537,1018"/>
<area shape="rect" id="node50" href="dlmthread_8c.html#a67364f4eb7ef88a419121f0e983de76c" title="__dlm_lockres_unused" alt="" coords="610,933,765,960"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_afdf34dc369cd4fd92b98a1224233ef45_icgraph.png" border="0" usemap="#dlmlock_8c_afdf34dc369cd4fd92b98a1224233ef45_icgraph" alt=""/></div>
<map name="dlmlock_8c_afdf34dc369cd4fd92b98a1224233ef45_icgraph" id="dlmlock_8c_afdf34dc369cd4fd92b98a1224233ef45_icgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="168,1179,235,1205"/>
<area shape="rect" id="node3" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="283,495,461,521"/>
<area shape="rect" id="node50" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="317,1432,427,1459"/>
<area shape="rect" id="node4" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="509,493,631,520"/>
<area shape="rect" id="node5" href="dlmrecovery_8c.html#a1d6223f27e371e3a2510d21a6a857efc" title="dlm_recovery_thread" alt="" coords="679,489,821,516"/>
<area shape="rect" id="node6" href="dlmrecovery_8c.html#a70ab66f50a1a5bc76e3e91945a83c1d6" title="dlm_launch_recovery\l_thread" alt="" coords="869,481,1015,522"/>
<area shape="rect" id="node7" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1063,628,1235,655"/>
<area shape="rect" id="node16" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2809,181,2928,208"/>
<area shape="rect" id="node8" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="1309,1052,1433,1079"/>
<area shape="rect" id="node11" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="1954,1408,2085,1435"/>
<area shape="rect" id="node25" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="2155,471,2340,497"/>
<area shape="rect" id="node29" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1711,369,1884,396"/>
<area shape="rect" id="node31" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1525,925,1645,952"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1305,976,1436,1003"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1309,773,1432,800"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1507,672,1663,699"/>
<area shape="rect" id="node36" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="1529,824,1640,851"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1303,875,1439,901"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1305,723,1436,749"/>
<area shape="rect" id="node39" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1731,319,1864,345"/>
<area shape="rect" id="node40" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1311,496,1431,523"/>
<area shape="rect" id="node42" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1283,1179,1459,1205"/>
<area shape="rect" id="node44" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1301,254,1440,295"/>
<area shape="rect" id="node46" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1301,152,1440,179"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1713,85,1881,112"/>
<area shape="rect" id="node9" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="1529,1128,1640,1155"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1739,1036,1856,1063"/>
<area shape="rect" id="node28" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1731,1139,1864,1165"/>
<area shape="rect" id="node30" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1740,1200,1855,1227"/>
<area shape="rect" id="node21" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="1947,1137,2092,1164"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1932,1036,2107,1063"/>
<area shape="rect" id="node23" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="1944,1225,2095,1252"/>
<area shape="rect" id="node24" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1936,623,2103,649"/>
<area shape="rect" id="node27" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="1976,863,2063,889"/>
<area shape="rect" id="node12" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="2192,1352,2303,1379"/>
<area shape="rect" id="node13" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="2402,1364,2557,1391"/>
<area shape="rect" id="node14" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="2388,977,2571,1004"/>
<area shape="rect" id="node19" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="2408,1440,2551,1467"/>
<area shape="rect" id="node20" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="2169,1137,2325,1164"/>
<area shape="rect" id="node15" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2619,362,2761,403"/>
<area shape="rect" id="node17" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="2976,181,3119,208"/>
<area shape="rect" id="node18" href="stack__o2cb_8c.html#a6fbec0ac0199f1beacbae9a3ad9d23ef" title="o2cb_cluster_connect" alt="" coords="3167,181,3316,208"/>
<area shape="rect" id="node26" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="2396,471,2563,497"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="1526,1027,1643,1053"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1511,497,1659,538"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="1730,1271,1865,1297"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="1507,269,1663,296"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1521,117,1649,144"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1521,168,1649,195"/>
</map>
</div>

</div>
</div>
<a id="a48c6d3f827130492829026a171789897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48c6d3f827130492829026a171789897">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937">dlmlock</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dlmlock_8c_a48c6d3f827130492829026a171789897_icgraph.png" border="0" usemap="#dlmlock_8c_a48c6d3f827130492829026a171789897_icgraph" alt=""/></div>
<map name="dlmlock_8c_a48c6d3f827130492829026a171789897_icgraph" id="dlmlock_8c_a48c6d3f827130492829026a171789897_icgraph">
<area shape="rect" id="node2" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="225,1179,292,1205"/>
<area shape="rect" id="node3" href="dlmrecovery_8c.html#ab2eaf259699cb1b24305241e6e0334ab" title="dlm_pick_recovery_master" alt="" coords="340,495,519,521"/>
<area shape="rect" id="node50" href="stack__o2cb_8c.html#a53f4a920d47c10c8492cd62aa6a47c87" title="o2cb_dlm_lock" alt="" coords="375,1432,484,1459"/>
<area shape="rect" id="node4" href="dlmrecovery_8c.html#ac85a98263402da347eccf5a4e05ee746" title="dlm_do_recovery" alt="" coords="567,493,688,520"/>
<area shape="rect" id="node5" href="dlmrecovery_8c.html#a1d6223f27e371e3a2510d21a6a857efc" title="dlm_recovery_thread" alt="" coords="736,489,879,516"/>
<area shape="rect" id="node6" href="dlmrecovery_8c.html#a70ab66f50a1a5bc76e3e91945a83c1d6" title="dlm_launch_recovery\l_thread" alt="" coords="927,481,1072,522"/>
<area shape="rect" id="node7" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e" title="dlm_get_lock_cookie_seq" alt="" coords="1120,628,1292,655"/>
<area shape="rect" id="node16" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2867,181,2985,208"/>
<area shape="rect" id="node8" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a" title="__dlm_queue_ast" alt="" coords="1366,1052,1490,1079"/>
<area shape="rect" id="node11" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2011,1408,2142,1435"/>
<area shape="rect" id="node25" href="dlmrecovery_8c.html#a088a21f704d856ebfc2052cc1c19fe31" title="dlm_process_recovery_data" alt="" coords="2212,471,2397,497"/>
<area shape="rect" id="node29" href="dlmconvert_8c.html#a91f92e4d51fb2193a8612545fb410491" title="dlm_convert_lock_handler" alt="" coords="1768,369,1941,396"/>
<area shape="rect" id="node31" href="dlmthread_8c.html#a01b487998d79b673764290bda1ac773d" title="dlm_shuffle_lists" alt="" coords="1582,925,1702,952"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9" title="__dlm_queue_bast" alt="" coords="1363,976,1493,1003"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38" title="dlm_do_local_ast" alt="" coords="1367,773,1489,800"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7" title="dlm_proxy_ast_handler" alt="" coords="1564,672,1720,699"/>
<area shape="rect" id="node36" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="1587,824,1697,851"/>
<area shape="rect" id="node37" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1360,875,1496,901"/>
<area shape="rect" id="node38" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a" title="dlm_do_local_bast" alt="" coords="1363,723,1493,749"/>
<area shape="rect" id="node39" href="dlmconvert_8h.html#ab1b678974d16c0a2870b2356e947dc54" title="dlmconvert_remote" alt="" coords="1788,319,1921,345"/>
<area shape="rect" id="node40" href="dlmdebug_8c.html#a1d1116e32490884d50eb6c5b6e31ae62" title="__dlm_print_lock" alt="" coords="1368,496,1488,523"/>
<area shape="rect" id="node42" href="dlmmaster_8c.html#a65f9a414063f66682afececd92699321" title="dlm_is_lockres_migratable" alt="" coords="1340,1179,1516,1205"/>
<area shape="rect" id="node44" href="dlmrecovery_8c.html#a8c24b7e090475110ebbc9c0048514f10" title="dlm_prepare_lvb_for\l_migration" alt="" coords="1359,254,1497,295"/>
<area shape="rect" id="node46" href="dlmunlock_8c.html#aecb5fd9d53be117a96d404b1ec30dc05" title="dlmunlock_common" alt="" coords="1359,152,1497,179"/>
<area shape="rect" id="node48" href="dlmunlock_8c.html#a090351848838012686c2bc29bf67005f" title="dlm_unlock_lock_handler" alt="" coords="1771,85,1939,112"/>
<area shape="rect" id="node9" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b" title="dlm_queue_ast" alt="" coords="1587,1128,1697,1155"/>
<area shape="rect" id="node10" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="1796,1036,1913,1063"/>
<area shape="rect" id="node28" href="dlmconvert_8h.html#a5e531f91142675180bae4e969b4ebd53" title="dlmconvert_master" alt="" coords="1788,1139,1921,1165"/>
<area shape="rect" id="node30" href="dlmlock_8c.html#acaa817aa926a1cd9499a2aa6cca19a12" title="dlmlock_master" alt="" coords="1797,1200,1912,1227"/>
<area shape="rect" id="node21" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2004,1137,2149,1164"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="1989,1036,2164,1063"/>
<area shape="rect" id="node23" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2001,1225,2152,1252"/>
<area shape="rect" id="node24" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="1993,623,2160,649"/>
<area shape="rect" id="node27" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="2033,863,2120,889"/>
<area shape="rect" id="node12" href="dlmmaster_8c.html#a62ac114d06be03c3fca5b8fcd7429047" title="__dlm_put_mle" alt="" coords="2249,1352,2360,1379"/>
<area shape="rect" id="node13" href="dlmmaster_8c.html#aa04f8315937b92ea308212733b1512af" title="dlm_do_assert_master" alt="" coords="2459,1364,2614,1391"/>
<area shape="rect" id="node14" href="dlmmaster_8c.html#aba99757320810aa0b0be4cfaa5b1f324" title="dlm_assert_master_handler" alt="" coords="2445,977,2628,1004"/>
<area shape="rect" id="node19" href="dlmmaster_8c.html#a4670c04dfc3106b07062c045c7ef9627" title="dlm_force_free_mles" alt="" coords="2465,1440,2608,1467"/>
<area shape="rect" id="node20" href="dlmmaster_8c.html#a76a197f358861cc174f4dfaa0b595665" title="dlm_get_lock_resource" alt="" coords="2227,1137,2383,1164"/>
<area shape="rect" id="node15" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2676,362,2819,403"/>
<area shape="rect" id="node17" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3033,181,3176,208"/>
<area shape="rect" id="node18" href="stack__o2cb_8c.html#a6fbec0ac0199f1beacbae9a3ad9d23ef" title="o2cb_cluster_connect" alt="" coords="3224,181,3373,208"/>
<area shape="rect" id="node26" href="dlmrecovery_8c.html#a2a89239bfd2aa86c24e7bb3ef2c72190" title="dlm_mig_lockres_worker" alt="" coords="2453,471,2620,497"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07" title="dlm_queue_bast" alt="" coords="1583,1027,1701,1053"/>
<area shape="rect" id="node41" href="dlmdebug_8c.html#a2f8b5f86f31c821e8c2277c0d96756b1" title="__dlm_print_one_lock\l_resource" alt="" coords="1568,497,1716,538"/>
<area shape="rect" id="node43" href="dlmmaster_8c.html#a66e161bd596eab7030ccca17c587be94" title="dlm_empty_lockres" alt="" coords="1787,1271,1922,1297"/>
<area shape="rect" id="node45" href="dlmrecovery_8c.html#ae6b53af02be8e1367f77ae8d118cc872" title="dlm_add_lock_to_array" alt="" coords="1564,269,1720,296"/>
<area shape="rect" id="node47" href="dlmunlock_8c.html#af483a4d3912acfc96d88a96e4d227893" title="dlmunlock_master" alt="" coords="1578,117,1706,144"/>
<area shape="rect" id="node49" href="dlmunlock_8c.html#a14f890017cab7a9c50f280e9ae769e31" title="dlmunlock_remote" alt="" coords="1578,168,1706,195"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae8a3061051f5dc25b17e17b3f093f60c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a3061051f5dc25b17e17b3f093f60c">&#9670;&nbsp;</a></span>dlm_lock_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* dlm_lock_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a60629d04740c982cde8fc2f1dfdc1bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60629d04740c982cde8fc2f1dfdc1bfb">&#9670;&nbsp;</a></span>dlm_next_cookie</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u64 dlm_next_cookie = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_be0bb2a89c3680926f7eb84069ee534c.html">ocfs2</a></li><li class="navelem"><a class="el" href="dir_eaaa279294f07d0e352ac8bb34d3fddd.html">dlm</a></li><li class="navelem"><a class="el" href="dlmlock_8c.html">dlmlock.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
