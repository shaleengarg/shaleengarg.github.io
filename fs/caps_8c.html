<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ceph/caps.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('caps_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">caps.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/ceph/ceph_debug.h&gt;</code><br />
<code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/kernel.h&gt;</code><br />
<code>#include &lt;linux/sched/signal.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/vmalloc.h&gt;</code><br />
<code>#include &lt;linux/wait.h&gt;</code><br />
<code>#include &lt;linux/writeback.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ceph_2super_8h_source.html">super.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mds__client_8h_source.html">mds_client.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ceph_2cache_8h_source.html">cache.h</a>&quot;</code><br />
<code>#include &lt;linux/ceph/decode.h&gt;</code><br />
<code>#include &lt;linux/ceph/messenger.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for caps.c:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c__incl.png" border="0" usemap="#ceph_2caps_8c" alt=""/></div>
<map name="ceph_2caps_8c" id="ceph_2caps_8c">
<area shape="rect" id="node10" href="ceph_2super_8h.html" title="super.h" alt="" coords="967,80,1032,107"/>
<area shape="rect" id="node20" href="mds__client_8h.html" title="mds_client.h" alt="" coords="2075,80,2171,107"/>
<area shape="rect" id="node31" href="ceph_2cache_8h.html" title="cache.h" alt="" coords="2665,80,2733,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcap__msg__args.html">cap_msg_args</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3f8e99f76715889aa9c4196729a5a4ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a3f8e99f76715889aa9c4196729a5a4ae">MAX_CAP_STR</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a3f8e99f76715889aa9c4196729a5a4ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abdbe61407898cf516422dd4986fb3cec"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec">__get_oldest_flush_tid</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc)</td></tr>
<tr class="separator:abdbe61407898cf516422dd4986fb3cec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0722049a17a37d1b37e1e1875a28283"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283">__kick_flushing_caps</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session, struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, u64 oldest_flush_tid)</td></tr>
<tr class="separator:af0722049a17a37d1b37e1e1875a28283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ea58b477ded631d977f1f770178490"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a34ea58b477ded631d977f1f770178490">DEFINE_SPINLOCK</a> (cap_str_lock)</td></tr>
<tr class="separator:a34ea58b477ded631d977f1f770178490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa158fde50093f72901e1c22ecf24fc99"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99">gcap_string</a> (char *s, int c)</td></tr>
<tr class="separator:aa158fde50093f72901e1c22ecf24fc99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee4ad867f02c07e329a4e9328fec14a2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2">ceph_cap_string</a> (int caps)</td></tr>
<tr class="separator:aee4ad867f02c07e329a4e9328fec14a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f4b8bf5f373d9da87366991864e8ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a00f4b8bf5f373d9da87366991864e8ee">ceph_caps_init</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc)</td></tr>
<tr class="separator:a00f4b8bf5f373d9da87366991864e8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accedc6bcd1f101ba36dac6b75bab925a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#accedc6bcd1f101ba36dac6b75bab925a">ceph_caps_finalize</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc)</td></tr>
<tr class="separator:accedc6bcd1f101ba36dac6b75bab925a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f4c120b3687dc1d6292006a41a2cfdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a9f4c120b3687dc1d6292006a41a2cfdc">ceph_adjust_min_caps</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, int delta)</td></tr>
<tr class="separator:a9f4c120b3687dc1d6292006a41a2cfdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46539bd751416a6b35d9d3501d07f719"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a46539bd751416a6b35d9d3501d07f719">ceph_reserve_caps</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct ceph_cap_reservation *ctx, int need)</td></tr>
<tr class="separator:a46539bd751416a6b35d9d3501d07f719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c2dceef782397de5b4d26c5cb8ef08"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a70c2dceef782397de5b4d26c5cb8ef08">ceph_unreserve_caps</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct ceph_cap_reservation *ctx)</td></tr>
<tr class="separator:a70c2dceef782397de5b4d26c5cb8ef08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcbbb494674f4af87ee2b85f5c9fc44c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#afcbbb494674f4af87ee2b85f5c9fc44c">ceph_get_cap</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct ceph_cap_reservation *ctx)</td></tr>
<tr class="separator:afcbbb494674f4af87ee2b85f5c9fc44c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1371d64310a98228399613df3e3980bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a1371d64310a98228399613df3e3980bb">ceph_put_cap</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__cap.html">ceph_cap</a> *cap)</td></tr>
<tr class="separator:a1371d64310a98228399613df3e3980bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef7daf25a74c428892acf86efd6a9c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a3ef7daf25a74c428892acf86efd6a9c5">ceph_reservation_status</a> (struct <a class="el" href="structceph__fs__client.html">ceph_fs_client</a> *fsc, int *total, int *avail, int *used, int *<a class="el" href="layout_8h.html#a57e72680e59888de0e9146fe4e18eb22">reserved</a>, int *min)</td></tr>
<tr class="separator:a3ef7daf25a74c428892acf86efd6a9c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3599ad9f5e90dfe60883ad06ff23447a"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a3599ad9f5e90dfe60883ad06ff23447a">__get_cap_for_mds</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int mds)</td></tr>
<tr class="separator:a3599ad9f5e90dfe60883ad06ff23447a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea107c56ab60d0dd1c00ad9c5da4231b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aea107c56ab60d0dd1c00ad9c5da4231b">ceph_get_cap_for_mds</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int mds)</td></tr>
<tr class="separator:aea107c56ab60d0dd1c00ad9c5da4231b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2bb280de283924445a4ac5410608e36"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#ae2bb280de283924445a4ac5410608e36">__ceph_get_cap_mds</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:ae2bb280de283924445a4ac5410608e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1c8bbbb77d21ae3c52345575801614"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a0f1c8bbbb77d21ae3c52345575801614">ceph_get_cap_mds</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a0f1c8bbbb77d21ae3c52345575801614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a691cfabb3a30f4cf2b352e5c0c93ef19"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a691cfabb3a30f4cf2b352e5c0c93ef19">__insert_cap_node</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, struct <a class="el" href="structceph__cap.html">ceph_cap</a> *new)</td></tr>
<tr class="separator:a691cfabb3a30f4cf2b352e5c0c93ef19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d48a717560cedd294fb9a1caaa18197"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197">__cap_set_timeouts</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:a2d48a717560cedd294fb9a1caaa18197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234d8e25900d63b468b2487f98052f5c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c">__cap_delay_requeue</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:a234d8e25900d63b468b2487f98052f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f69a824222786a2a19fbb862d691850"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a3f69a824222786a2a19fbb862d691850">__cap_delay_requeue_front</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:a3f69a824222786a2a19fbb862d691850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a541b8471ba4dd9821ebbb2be062252a5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5">__cap_delay_cancel</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:a541b8471ba4dd9821ebbb2be062252a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e4e74cdbc2c77f30be222b9e242858"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a67e4e74cdbc2c77f30be222b9e242858">__check_cap_issue</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, struct <a class="el" href="structceph__cap.html">ceph_cap</a> *cap, unsigned issued)</td></tr>
<tr class="separator:a67e4e74cdbc2c77f30be222b9e242858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15095a42706db3f23498c2815247bf00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a15095a42706db3f23498c2815247bf00">ceph_add_cap</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session, u64 cap_id, int fmode, unsigned issued, unsigned wanted, unsigned seq, unsigned mseq, u64 realmino, int <a class="el" href="structflags.html">flags</a>, struct <a class="el" href="structceph__cap.html">ceph_cap</a> **new_cap)</td></tr>
<tr class="separator:a15095a42706db3f23498c2815247bf00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c397ce599c93d8d9ac5589d4fa5f1d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d">__cap_is_valid</a> (struct <a class="el" href="structceph__cap.html">ceph_cap</a> *cap)</td></tr>
<tr class="separator:a35c397ce599c93d8d9ac5589d4fa5f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14fa9810320f300977cd7b7d04175893"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893">__ceph_caps_issued</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int *implemented)</td></tr>
<tr class="separator:a14fa9810320f300977cd7b7d04175893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31adc6bf9cfe343a24fe87de99e0a3ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff">__ceph_caps_issued_other</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, struct <a class="el" href="structceph__cap.html">ceph_cap</a> *ocap)</td></tr>
<tr class="separator:a31adc6bf9cfe343a24fe87de99e0a3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9fdf4d7e2830f3179d4ead0bac94f4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aba9fdf4d7e2830f3179d4ead0bac94f4">__touch_cap</a> (struct <a class="el" href="structceph__cap.html">ceph_cap</a> *cap)</td></tr>
<tr class="separator:aba9fdf4d7e2830f3179d4ead0bac94f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5729c4a88baa72c702f711b65b9e2a02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a5729c4a88baa72c702f711b65b9e2a02">__ceph_caps_issued_mask</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int <a class="el" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>, int touch)</td></tr>
<tr class="separator:a5729c4a88baa72c702f711b65b9e2a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa988278ebb5545c57e9a0bb568c84537"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aa988278ebb5545c57e9a0bb568c84537">__ceph_caps_revoking_other</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, struct <a class="el" href="structceph__cap.html">ceph_cap</a> *ocap, int <a class="el" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>)</td></tr>
<tr class="separator:aa988278ebb5545c57e9a0bb568c84537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac074b45edbc3aa7056f5bc2852862a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a2ac074b45edbc3aa7056f5bc2852862a">ceph_caps_revoking</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int <a class="el" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>)</td></tr>
<tr class="separator:a2ac074b45edbc3aa7056f5bc2852862a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f57922fd9b23d3ccea0004c3772b67e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e">__ceph_caps_used</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:a8f57922fd9b23d3ccea0004c3772b67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257847d3c72f3657e8f7c964223ea362"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362">__ceph_caps_file_wanted</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:a257847d3c72f3657e8f7c964223ea362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa559b6659f3383f2272424bc07176ce9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aa559b6659f3383f2272424bc07176ce9">__ceph_caps_mds_wanted</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, bool check)</td></tr>
<tr class="separator:aa559b6659f3383f2272424bc07176ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bceac7de4d0c61179ba53f8c0ac043e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e">__ceph_is_single_caps</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:a3bceac7de4d0c61179ba53f8c0ac043e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8118ce932726b21b4a6479dde4d24b6f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f">__ceph_is_any_caps</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:a8118ce932726b21b4a6479dde4d24b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25eb5883d59e9610b60324b37606daa5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a25eb5883d59e9610b60324b37606daa5">ceph_is_any_caps</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a25eb5883d59e9610b60324b37606daa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146c9d08e79a8871a4af9aad8513d7fd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a146c9d08e79a8871a4af9aad8513d7fd">drop_inode_snap_realm</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:a146c9d08e79a8871a4af9aad8513d7fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a74fb531b951f4f09aeebb8c06cdd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6">__ceph_remove_cap</a> (struct <a class="el" href="structceph__cap.html">ceph_cap</a> *cap, bool queue_release)</td></tr>
<tr class="separator:af8a74fb531b951f4f09aeebb8c06cdd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab872835e860bc99116998e95a5677b4e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e">send_cap_msg</a> (struct <a class="el" href="structcap__msg__args.html">cap_msg_args</a> *arg)</td></tr>
<tr class="separator:ab872835e860bc99116998e95a5677b4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca3135e93d8f4b8e084194afc73d55d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aca3135e93d8f4b8e084194afc73d55d2">ceph_queue_caps_release</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:aca3135e93d8f4b8e084194afc73d55d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309eeb79bf13e09946de9d0efdee5fb4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4">__send_cap</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__cap.html">ceph_cap</a> *cap, int op, bool sync, int used, int want, int retain, int flushing, u64 flush_tid, u64 oldest_flush_tid) __releases(cap -&gt; ci-&gt;i_ceph_lock)</td></tr>
<tr class="separator:a309eeb79bf13e09946de9d0efdee5fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961185677a43a7b232f84483351b4c91"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a961185677a43a7b232f84483351b4c91">__send_flush_snap</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session, struct <a class="el" href="structceph__cap__snap.html">ceph_cap_snap</a> *capsnap, u32 mseq, u64 oldest_flush_tid)</td></tr>
<tr class="separator:a961185677a43a7b232f84483351b4c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ca9cc7df05e63a42fc68d57c130527"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527">__ceph_flush_snaps</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session) __releases(ci -&gt; i_ceph_lock) __acquires(ci-&gt;i_ceph_lock)</td></tr>
<tr class="separator:a48ca9cc7df05e63a42fc68d57c130527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff673efc250bb6a90c368456bef28623"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aff673efc250bb6a90c368456bef28623">ceph_flush_snaps</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> **psession)</td></tr>
<tr class="separator:aff673efc250bb6a90c368456bef28623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc57aadec20fb5ea588583dbb0eee1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#affc57aadec20fb5ea588583dbb0eee1e">__ceph_mark_dirty_caps</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int <a class="el" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>, struct <a class="el" href="structceph__cap__flush.html">ceph_cap_flush</a> **pcf)</td></tr>
<tr class="separator:affc57aadec20fb5ea588583dbb0eee1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632aa9c7466a172b0e77e6273d9db571"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structceph__cap__flush.html">ceph_cap_flush</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a632aa9c7466a172b0e77e6273d9db571">ceph_alloc_cap_flush</a> (void)</td></tr>
<tr class="separator:a632aa9c7466a172b0e77e6273d9db571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a601c896d9f4041c016b957b081192090"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a601c896d9f4041c016b957b081192090">ceph_free_cap_flush</a> (struct <a class="el" href="structceph__cap__flush.html">ceph_cap_flush</a> *cf)</td></tr>
<tr class="separator:a601c896d9f4041c016b957b081192090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5108bbacad06be2134fec92d5fccbcbf"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a5108bbacad06be2134fec92d5fccbcbf">__finish_cap_flush</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, struct <a class="el" href="structceph__cap__flush.html">ceph_cap_flush</a> *cf)</td></tr>
<tr class="separator:a5108bbacad06be2134fec92d5fccbcbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36f2019c9ab4e108e9ba7a9cb49b1e9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9">__mark_caps_flushing</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session, bool wake, u64 *flush_tid, u64 *oldest_flush_tid)</td></tr>
<tr class="separator:aa36f2019c9ab4e108e9ba7a9cb49b1e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d7ec2890507f40790cfe0699a49476"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476">try_nonblocking_invalidate</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a01d7ec2890507f40790cfe0699a49476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a363ce909719906dbb051956f48f2544d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a363ce909719906dbb051956f48f2544d">__ceph_should_report_size</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci)</td></tr>
<tr class="separator:a363ce909719906dbb051956f48f2544d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957b777cb29cc87b2701fd646d3c8fad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad">ceph_check_caps</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int <a class="el" href="structflags.html">flags</a>, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session)</td></tr>
<tr class="separator:a957b777cb29cc87b2701fd646d3c8fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2f0750ed714d1492735832b74a9044"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044">try_flush_caps</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 *ptid)</td></tr>
<tr class="separator:a3e2f0750ed714d1492735832b74a9044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacd62e121ebb5e03853b0c8450e94c8f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aacd62e121ebb5e03853b0c8450e94c8f">caps_are_flushed</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 flush_tid)</td></tr>
<tr class="separator:aacd62e121ebb5e03853b0c8450e94c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b434522cf419570a5de5728a11abe87"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87">unsafe_request_wait</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a9b434522cf419570a5de5728a11abe87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5abe1e50407952feaf4ecbad451a65b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#ad5abe1e50407952feaf4ecbad451a65b">ceph_fsync</a> (struct file *file, loff_t <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, loff_t end, int datasync)</td></tr>
<tr class="separator:ad5abe1e50407952feaf4ecbad451a65b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819aecf518d6cdaa6e9afcad9f44253f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a819aecf518d6cdaa6e9afcad9f44253f">ceph_write_inode</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct writeback_control *wbc)</td></tr>
<tr class="separator:a819aecf518d6cdaa6e9afcad9f44253f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac34d2058d3a01568930600ac796893d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#ac34d2058d3a01568930600ac796893d2">ceph_early_kick_flushing_caps</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session)</td></tr>
<tr class="separator:ac34d2058d3a01568930600ac796893d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4deabf017814e4cc027b9b2534addb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a8a4deabf017814e4cc027b9b2534addb">ceph_kick_flushing_caps</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session)</td></tr>
<tr class="separator:a8a4deabf017814e4cc027b9b2534addb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00570c82c24035ec21e95a29febad86e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e">kick_flushing_inode_caps</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>) __releases(ci -&gt; i_ceph_lock)</td></tr>
<tr class="separator:a00570c82c24035ec21e95a29febad86e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b133dd4cf88c7ec0f8ece1d528e6ca7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a7b133dd4cf88c7ec0f8ece1d528e6ca7">__take_cap_refs</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int got, bool snap_rwsem_locked)</td></tr>
<tr class="separator:a7b133dd4cf88c7ec0f8ece1d528e6ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa85072bfd218d07b477a49b86adb0d7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7">try_get_cap_refs</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int need, int want, loff_t endoff, bool nonblock, int *got, int *err)</td></tr>
<tr class="separator:aaa85072bfd218d07b477a49b86adb0d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6239e600c935463a4c7fec060fcc16"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16">check_max_size</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, loff_t endoff)</td></tr>
<tr class="separator:aac6239e600c935463a4c7fec060fcc16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e463cceffd035561247e77ac9058681"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a2e463cceffd035561247e77ac9058681">ceph_try_get_caps</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int need, int want, int *got)</td></tr>
<tr class="separator:a2e463cceffd035561247e77ac9058681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd47c982944f6921a553278746103eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#abfd47c982944f6921a553278746103eb">ceph_get_caps</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int need, int want, loff_t endoff, int *got, struct page **pinned_page)</td></tr>
<tr class="separator:abfd47c982944f6921a553278746103eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411cba14144ccc6cbedfe602a4a87208"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a411cba14144ccc6cbedfe602a4a87208">ceph_get_cap_refs</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int caps)</td></tr>
<tr class="separator:a411cba14144ccc6cbedfe602a4a87208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3286643c6716b4bad722b3274dd51eaf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a3286643c6716b4bad722b3274dd51eaf">ceph_try_drop_cap_snap</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, struct <a class="el" href="structceph__cap__snap.html">ceph_cap_snap</a> *capsnap)</td></tr>
<tr class="separator:a3286643c6716b4bad722b3274dd51eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0280a2c437f4b42116fdd5de7b16707f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a0280a2c437f4b42116fdd5de7b16707f">ceph_put_cap_refs</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int had)</td></tr>
<tr class="separator:a0280a2c437f4b42116fdd5de7b16707f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5769af53a40da684c0bf915920ba71d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#ab5769af53a40da684c0bf915920ba71d">ceph_put_wrbuffer_cap_refs</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int nr, struct ceph_snap_context *snapc)</td></tr>
<tr class="separator:ab5769af53a40da684c0bf915920ba71d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0a51814b138f105a74a0684c747e0e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aec0a51814b138f105a74a0684c747e0e">invalidate_aliases</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:aec0a51814b138f105a74a0684c747e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f931cd55da6e3be6088d15ed4623ea"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea">handle_cap_grant</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct ceph_mds_caps *grant, struct ceph_string **pns, u64 inline_version, void *inline_data, u32 inline_len, struct ceph_buffer *xattr_buf, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session, struct <a class="el" href="structceph__cap.html">ceph_cap</a> *cap, int issued) __releases(ci -&gt; i_ceph_lock) __releases(mdsc-&gt;snap_rwsem)</td></tr>
<tr class="separator:a51f931cd55da6e3be6088d15ed4623ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72f347ec4391b08b3c709c7c4fc984b6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a72f347ec4391b08b3c709c7c4fc984b6">handle_cap_flush_ack</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 flush_tid, struct ceph_mds_caps *m, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session, struct <a class="el" href="structceph__cap.html">ceph_cap</a> *cap) __releases(ci -&gt; i_ceph_lock)</td></tr>
<tr class="separator:a72f347ec4391b08b3c709c7c4fc984b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7626108cc91a746cbc8484c120583cb4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a7626108cc91a746cbc8484c120583cb4">handle_cap_flushsnap_ack</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 flush_tid, struct ceph_mds_caps *m, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session)</td></tr>
<tr class="separator:a7626108cc91a746cbc8484c120583cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a241aed40da853c59fb0ab47fb4368d80"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80">handle_cap_trunc</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct ceph_mds_caps *trunc, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session) __releases(ci -&gt; i_ceph_lock)</td></tr>
<tr class="separator:a241aed40da853c59fb0ab47fb4368d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f33d9a04bb17be66a76f93fdb1e527"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527">handle_cap_export</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct ceph_mds_caps *ex, struct ceph_mds_cap_peer *ph, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session)</td></tr>
<tr class="separator:ac9f33d9a04bb17be66a76f93fdb1e527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b35dca0caab54f271a624c8ddd3918"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918">handle_cap_import</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct ceph_mds_caps *im, struct ceph_mds_cap_peer *ph, struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session, struct <a class="el" href="structceph__cap.html">ceph_cap</a> **target_cap, int *old_issued) __acquires(ci -&gt; i_ceph_lock)</td></tr>
<tr class="separator:a83b35dca0caab54f271a624c8ddd3918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d88899cab3708cdb67a67595749d91a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a2d88899cab3708cdb67a67595749d91a">ceph_handle_caps</a> (struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *session, struct ceph_msg *msg)</td></tr>
<tr class="separator:a2d88899cab3708cdb67a67595749d91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7438a50c9c666127a23abbb136741a77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a7438a50c9c666127a23abbb136741a77">ceph_check_delayed_caps</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc)</td></tr>
<tr class="separator:a7438a50c9c666127a23abbb136741a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2bc4dffab60c9ee6f3b9e44b94f0af0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0">ceph_flush_dirty_caps</a> (struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *mdsc)</td></tr>
<tr class="separator:aa2bc4dffab60c9ee6f3b9e44b94f0af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534a1ab7f2261195c99d0bf016ae9fa8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a534a1ab7f2261195c99d0bf016ae9fa8">__ceph_get_fmode</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int fmode)</td></tr>
<tr class="separator:a534a1ab7f2261195c99d0bf016ae9fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f831f901526eabd9afd198de7beebd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a5f831f901526eabd9afd198de7beebd6">ceph_put_fmode</a> (struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *ci, int fmode)</td></tr>
<tr class="separator:a5f831f901526eabd9afd198de7beebd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd76b7f6104d31de284dff28168768b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#abdd76b7f6104d31de284dff28168768b">ceph_drop_caps_for_unlink</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:abdd76b7f6104d31de284dff28168768b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f255ba3d81507a50fe1add9d3030f35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a7f255ba3d81507a50fe1add9d3030f35">ceph_encode_inode_release</a> (void **p, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, int mds, int drop, int unless, int force)</td></tr>
<tr class="separator:a7f255ba3d81507a50fe1add9d3030f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5f60985814b093d72c116d569fa9b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a7d5f60985814b093d72c116d569fa9b0">ceph_encode_dentry_release</a> (void **p, struct dentry *dentry, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *dir, int mds, int drop, int unless)</td></tr>
<tr class="separator:a7d5f60985814b093d72c116d569fa9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a61f94eb5ed152edf8f09753a050db76b"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a61f94eb5ed152edf8f09753a050db76b">cap_str</a> [<a class="el" href="caps_8c.html#a3f8e99f76715889aa9c4196729a5a4ae">MAX_CAP_STR</a>][40]</td></tr>
<tr class="separator:a61f94eb5ed152edf8f09753a050db76b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a757586f06ca5e1c6442ec98a6f9ea905"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="caps_8c.html#a757586f06ca5e1c6442ec98a6f9ea905">last_cap_str</a></td></tr>
<tr class="separator:a757586f06ca5e1c6442ec98a6f9ea905"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3f8e99f76715889aa9c4196729a5a4ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f8e99f76715889aa9c4196729a5a4ae">&#9670;&nbsp;</a></span>MAX_CAP_STR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_CAP_STR&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a541b8471ba4dd9821ebbb2be062252a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a541b8471ba4dd9821ebbb2be062252a5">&#9670;&nbsp;</a></span>__cap_delay_cancel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __cap_delay_cancel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a541b8471ba4dd9821ebbb2be062252a5_icgraph.png" border="0" usemap="#caps_8c_a541b8471ba4dd9821ebbb2be062252a5_icgraph" alt=""/></div>
<map name="caps_8c_a541b8471ba4dd9821ebbb2be062252a5_icgraph" id="caps_8c_a541b8471ba4dd9821ebbb2be062252a5_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="401,144,544,171"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="193,803,320,829"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1665,473,1856,500"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#aca3135e93d8f4b8e084194afc73d55d2" title="ceph_queue_caps_release" alt="" coords="625,245,801,272"/>
<area shape="rect" id="node23" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1060,5,1191,32"/>
<area shape="rect" id="node24" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1060,95,1191,121"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="627,144,800,171"/>
<area shape="rect" id="node27" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="663,93,763,120"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1945,448,2019,475"/>
<area shape="rect" id="node5" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1920,499,2044,525"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2108,189,2239,216"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#af45286f286a6ed7f795792636af010e9" title="ceph_destroy_inode" alt="" coords="856,499,995,525"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1050,1107,1201,1149"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2118,1385,2229,1412"/>
<area shape="rect" id="node11" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1256,1056,1375,1083"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1249,1111,1381,1137"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1468,904,1579,931"/>
<area shape="rect" id="node13" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2120,1107,2227,1133"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1707,955,1814,981"/>
<area shape="rect" id="node15" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1695,1056,1826,1083"/>
<area shape="rect" id="node16" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1691,1005,1830,1032"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1456,1309,1591,1336"/>
<area shape="rect" id="node21" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1483,1157,1563,1184"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1429,1208,1617,1235"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1681,1259,1840,1285"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1904,1284,2060,1311"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a9932cb0bc0bc56c2d1ff11dd748002e3" title="remove_session_caps" alt="" coords="849,144,1001,171"/>
<area shape="rect" id="node28" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="868,93,983,120"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1252,651,1379,677"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1273,600,1358,627"/>
<area shape="rect" id="node33" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1922,1512,2042,1539"/>
<area shape="rect" id="node34" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="399,1208,546,1235"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="368,1107,577,1133"/>
<area shape="rect" id="node39" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="411,549,534,576"/>
<area shape="rect" id="node41" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="416,955,529,981"/>
<area shape="rect" id="node42" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1065,879,1185,905"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="379,904,566,931"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="383,448,562,475"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="1049,296,1201,323"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="1256,448,1375,475"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1458,549,1589,576"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="864,1208,987,1235"/>
<area shape="rect" id="node37" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="635,1208,792,1235"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="659,1157,767,1184"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="885,549,966,576"/>
<area shape="rect" id="node44" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="643,1005,783,1032"/>
<area shape="rect" id="node45" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="645,904,782,931"/>
<area shape="rect" id="node46" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="652,955,775,981"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="662,448,765,475"/>
</map>
</div>

</div>
</div>
<a id="a234d8e25900d63b468b2487f98052f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234d8e25900d63b468b2487f98052f5c">&#9670;&nbsp;</a></span>__cap_delay_requeue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __cap_delay_requeue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a234d8e25900d63b468b2487f98052f5c_cgraph.png" border="0" usemap="#caps_8c_a234d8e25900d63b468b2487f98052f5c_cgraph" alt=""/></div>
<map name="caps_8c_a234d8e25900d63b468b2487f98052f5c_cgraph" id="caps_8c_a234d8e25900d63b468b2487f98052f5c_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="201,5,340,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a234d8e25900d63b468b2487f98052f5c_icgraph.png" border="0" usemap="#caps_8c_a234d8e25900d63b468b2487f98052f5c_icgraph" alt=""/></div>
<map name="caps_8c_a234d8e25900d63b468b2487f98052f5c_icgraph" id="caps_8c_a234d8e25900d63b468b2487f98052f5c_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="683,2085,789,2112"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#affc57aadec20fb5ea588583dbb0eee1e" title="__ceph_mark_dirty_caps" alt="" coords="201,372,368,399"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="221,1068,348,1095"/>
<area shape="rect" id="node49" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="452,1933,559,1960"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1176,1157,1249,1184"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="887,1655,1077,1681"/>
<area shape="rect" id="node10" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1147,2028,1278,2055"/>
<area shape="rect" id="node11" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="917,2060,1047,2087"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1353,1208,1459,1235"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1339,1091,1473,1133"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1521,1128,1692,1155"/>
<area shape="rect" id="node8" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1151,1629,1275,1656"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1341,1655,1471,1681"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="448,245,563,272"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1351,448,1461,475"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="669,600,803,627"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="929,676,1035,703"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="451,144,559,171"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="440,1284,571,1311"/>
<area shape="rect" id="node32" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="913,853,1051,880"/>
<area shape="rect" id="node14" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="687,195,785,221"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="657,296,815,323"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="925,93,1039,120"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="903,600,1061,627"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1135,575,1291,601"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1353,803,1459,829"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="689,93,783,120"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="877,144,1087,171"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="675,1933,797,1960"/>
<area shape="rect" id="node28" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="1151,1419,1275,1445"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="667,1462,805,1503"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="643,1411,829,1437"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="659,1107,813,1133"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="442,1144,569,1171"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="463,1731,548,1757"/>
<area shape="rect" id="node38" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1153,397,1273,424"/>
<area shape="rect" id="node39" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="432,1043,579,1069"/>
<area shape="rect" id="node41" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="444,600,567,627"/>
<area shape="rect" id="node42" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="449,1093,562,1120"/>
<area shape="rect" id="node43" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="445,980,565,1007"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="439,828,571,855"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="643,1883,829,1909"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="416,1469,595,1496"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="429,1575,581,1601"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="446,1680,565,1707"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="681,955,791,981"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="671,1731,801,1757"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="675,1056,797,1083"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="691,1984,781,2011"/>
</map>
</div>

</div>
</div>
<a id="a3f69a824222786a2a19fbb862d691850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f69a824222786a2a19fbb862d691850">&#9670;&nbsp;</a></span>__cap_delay_requeue_front()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __cap_delay_requeue_front </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a3f69a824222786a2a19fbb862d691850_icgraph.png" border="0" usemap="#caps_8c_a3f69a824222786a2a19fbb862d691850_icgraph" alt=""/></div>
<map name="caps_8c_a3f69a824222786a2a19fbb862d691850_icgraph" id="caps_8c_a3f69a824222786a2a19fbb862d691850_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="209,640,332,666"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="201,691,340,732"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="388,669,579,696"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="627,698,700,725"/>
<area shape="rect" id="node49" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="753,950,877,977"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="963,692,1069,718"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="748,743,883,784"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="931,780,1101,806"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1149,554,1300,595"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2231,818,2326,845"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1573,84,1716,110"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2223,261,2334,288"/>
<area shape="rect" id="node12" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1354,590,1497,617"/>
<area shape="rect" id="node13" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1366,489,1485,516"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1359,388,1491,414"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1348,938,1503,965"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1791,84,1949,110"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2001,185,2157,212"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2225,134,2332,161"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1579,641,1711,668"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1589,236,1700,262"/>
<area shape="rect" id="node15" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1830,641,1910,668"/>
<area shape="rect" id="node16" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="2021,692,2138,718"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1817,134,1923,161"/>
<area shape="rect" id="node19" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1805,286,1935,313"/>
<area shape="rect" id="node20" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1801,337,1939,364"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1577,134,1712,161"/>
<area shape="rect" id="node23" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1551,489,1739,516"/>
<area shape="rect" id="node24" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1788,489,1952,516"/>
<area shape="rect" id="node37" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1788,540,1952,566"/>
<area shape="rect" id="node25" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="2008,489,2151,516"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="2012,438,2147,465"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="2015,388,2144,414"/>
<area shape="rect" id="node36" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="2005,540,2154,566"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2400,894,2471,921"/>
<area shape="rect" id="node29" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2519,869,2728,896"/>
<area shape="rect" id="node30" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2535,920,2712,946"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2776,890,2919,917"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2776,942,2919,983"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2967,890,3103,917"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2975,949,3094,976"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="2034,641,2125,668"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="2029,742,2129,769"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="2003,945,2155,972"/>
<area shape="rect" id="node44" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1561,894,1728,921"/>
<area shape="rect" id="node42" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2205,945,2352,972"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2210,894,2347,921"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1787,894,1953,921"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2014,996,2145,1022"/>
</map>
</div>

</div>
</div>
<a id="a35c397ce599c93d8d9ac5589d4fa5f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c397ce599c93d8d9ac5589d4fa5f1d">&#9670;&nbsp;</a></span>__cap_is_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __cap_is_valid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a35c397ce599c93d8d9ac5589d4fa5f1d_cgraph.png" border="0" usemap="#caps_8c_a35c397ce599c93d8d9ac5589d4fa5f1d_cgraph" alt=""/></div>
<map name="caps_8c_a35c397ce599c93d8d9ac5589d4fa5f1d_cgraph" id="caps_8c_a35c397ce599c93d8d9ac5589d4fa5f1d_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="161,5,279,32"/>
<area shape="rect" id="node3" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="327,5,416,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a35c397ce599c93d8d9ac5589d4fa5f1d_icgraph.png" border="0" usemap="#caps_8c_a35c397ce599c93d8d9ac5589d4fa5f1d_icgraph" alt=""/></div>
<map name="caps_8c_a35c397ce599c93d8d9ac5589d4fa5f1d_icgraph" id="caps_8c_a35c397ce599c93d8d9ac5589d4fa5f1d_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="181,722,325,748"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#ae6584a35304603761fdaefdd140ddc4e" title="__ceph_caps_issued\l_other" alt="" coords="181,1229,325,1270"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a8e0de74dcc174711bc6306d4e08c25c5" title="__ceph_caps_issued_mask" alt="" coords="161,1026,344,1052"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="163,1178,343,1204"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="612,1431,799,1458"/>
<area shape="rect" id="node3" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="421,316,535,343"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="642,874,769,900"/>
<area shape="rect" id="node12" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1315,1127,1388,1154"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1463,874,1594,900"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="663,975,748,1002"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="424,215,532,242"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="392,975,564,1002"/>
<area shape="rect" id="node25" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="859,1228,990,1255"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a297302a04eb8c01b27d91f1e478e6731" title="ceph_caps_issued" alt="" coords="640,418,771,444"/>
<area shape="rect" id="node30" href="caps_8c.html#a67e4e74cdbc2c77f30be222b9e242858" title="__check_cap_issue" alt="" coords="409,772,547,799"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="415,671,541,698"/>
<area shape="rect" id="node36" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="419,874,537,900"/>
<area shape="rect" id="node37" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="1289,12,1413,39"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="401,114,555,140"/>
<area shape="rect" id="node4" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="656,266,755,292"/>
<area shape="rect" id="node5" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="627,367,784,394"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="867,266,982,292"/>
<area shape="rect" id="node7" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="1089,240,1203,267"/>
<area shape="rect" id="node8" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1096,291,1196,318"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1091,646,1201,672"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1051,975,1241,1002"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="869,874,980,900"/>
<area shape="rect" id="node16" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1289,874,1413,900"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1475,1127,1582,1154"/>
<area shape="rect" id="node14" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1461,1178,1596,1220"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1644,1131,1815,1158"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="859,975,990,1002"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="658,164,753,191"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="634,1279,777,1306"/>
<area shape="rect" id="node26" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="875,1380,975,1407"/>
<area shape="rect" id="node28" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="863,418,986,444"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a1dd55cfc1a5452a770c738001fdb2a1a" title="ceph_uninline_data" alt="" coords="858,620,991,647"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="652,1127,759,1154"/>
<area shape="rect" id="node33" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="638,620,773,647"/>
<area shape="rect" id="node34" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="847,570,1003,596"/>
<area shape="rect" id="node35" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="865,671,985,698"/>
<area shape="rect" id="node41" href="ceph_2acl_8c.html#af40d8673f712df9ef4b0d28d10bb8c48" title="ceph_set_cached_acl" alt="" coords="404,266,552,292"/>
<area shape="rect" id="node42" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="430,1178,526,1204"/>
<area shape="rect" id="node43" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="431,1228,525,1255"/>
<area shape="rect" id="node44" href="ceph_2dir_8c.html#a6eea008aa0a63a93ebd71995d10af330" title="dir_lease_is_valid" alt="" coords="415,1076,541,1103"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#ad77b538bbe5ac1e6ac1504da2bde1406" title="ceph_caps_issued_mask" alt="" coords="393,1127,563,1154"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="404,1330,552,1356"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="853,1482,996,1524"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1062,1519,1230,1546"/>
</map>
</div>

</div>
</div>
<a id="a2d48a717560cedd294fb9a1caaa18197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d48a717560cedd294fb9a1caaa18197">&#9670;&nbsp;</a></span>__cap_set_timeouts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __cap_set_timeouts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a2d48a717560cedd294fb9a1caaa18197_icgraph.png" border="0" usemap="#caps_8c_a2d48a717560cedd294fb9a1caaa18197_icgraph" alt=""/></div>
<map name="caps_8c_a2d48a717560cedd294fb9a1caaa18197_icgraph" id="caps_8c_a2d48a717560cedd294fb9a1caaa18197_icgraph">
<area shape="rect" id="node2" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="192,1057,340,1084"/>
<area shape="rect" id="node45" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="220,829,312,856"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="893,1462,1000,1489"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#affc57aadec20fb5ea588583dbb0eee1e" title="__ceph_mark_dirty_caps" alt="" coords="388,1500,555,1526"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="641,677,767,704"/>
<area shape="rect" id="node43" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="418,1057,525,1084"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1388,1412,1461,1438"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1097,474,1288,501"/>
<area shape="rect" id="node11" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1359,1513,1490,1540"/>
<area shape="rect" id="node12" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1127,1564,1258,1590"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1577,1353,1683,1380"/>
<area shape="rect" id="node6" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1563,1404,1697,1446"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1756,1441,1927,1468"/>
<area shape="rect" id="node9" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1363,474,1487,501"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1565,1542,1695,1569"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="647,1741,761,1768"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1786,842,1897,869"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1125,702,1260,729"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1139,1209,1246,1236"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="650,1868,758,1894"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="639,1513,769,1540"/>
<area shape="rect" id="node29" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1123,1158,1262,1185"/>
<area shape="rect" id="node15" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="897,1817,996,1844"/>
<area shape="rect" id="node16" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="868,1716,1025,1742"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="1135,1918,1250,1945"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1345,702,1504,729"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1552,753,1708,780"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="899,1918,994,1945"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="1088,1868,1297,1894"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="885,1209,1008,1236"/>
<area shape="rect" id="node28" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="1363,1614,1487,1641"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="883,449,1010,476"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="904,500,989,526"/>
<area shape="rect" id="node33" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1365,1070,1485,1097"/>
<area shape="rect" id="node34" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="873,956,1020,982"/>
<area shape="rect" id="node35" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="885,1006,1008,1033"/>
<area shape="rect" id="node36" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="890,652,1003,678"/>
<area shape="rect" id="node37" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="887,905,1007,932"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="881,601,1013,628"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="853,246,1040,273"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="857,550,1036,577"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="871,297,1023,324"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="887,348,1006,374"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="659,1057,749,1084"/>
<area shape="rect" id="node46" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="398,202,545,229"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="641,234,767,261"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="603,81,805,108"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="620,170,788,197"/>
<area shape="rect" id="node50" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="1107,18,1278,45"/>
</map>
</div>

</div>
</div>
<a id="a257847d3c72f3657e8f7c964223ea362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a257847d3c72f3657e8f7c964223ea362">&#9670;&nbsp;</a></span>__ceph_caps_file_wanted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ceph_caps_file_wanted </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a257847d3c72f3657e8f7c964223ea362_icgraph.png" border="0" usemap="#caps_8c_a257847d3c72f3657e8f7c964223ea362_icgraph" alt=""/></div>
<map name="caps_8c_a257847d3c72f3657e8f7c964223ea362_icgraph" id="caps_8c_a257847d3c72f3657e8f7c964223ea362_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="825,1325,951,1352"/>
<area shape="rect" id="node10" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="2097,1123,2215,1149"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a9f1b9530a7b4898eb3c04bc30092c18b" title="ceph_fill_file_size" alt="" coords="1062,93,1187,120"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="616,257,747,284"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="225,524,373,551"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="618,1047,745,1073"/>
<area shape="rect" id="node49" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="249,1579,349,1605"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1029,717,1220,744"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="2304,1123,2415,1149"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1293,144,1367,171"/>
<area shape="rect" id="node22" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1268,341,1392,368"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1674,525,1781,552"/>
<area shape="rect" id="node20" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1440,195,1575,237"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1642,203,1813,229"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1880,779,2031,821"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="2085,832,2227,859"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2499,1300,2610,1327"/>
<area shape="rect" id="node9" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="2085,781,2227,808"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="2090,971,2222,997"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="2079,361,2233,388"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="2293,1325,2425,1352"/>
<area shape="rect" id="node13" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2501,1123,2608,1149"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2501,920,2608,947"/>
<area shape="rect" id="node15" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2489,983,2620,1009"/>
<area shape="rect" id="node16" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2485,1059,2624,1085"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="2292,1275,2427,1301"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1442,312,1573,339"/>
<area shape="rect" id="node25" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="1268,43,1392,69"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="827,565,949,592"/>
<area shape="rect" id="node28" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1059,245,1190,272"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="819,449,957,490"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="795,515,981,541"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="835,347,941,373"/>
<area shape="rect" id="node33" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="441,600,548,627"/>
<area shape="rect" id="node34" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="421,836,568,863"/>
<area shape="rect" id="node48" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="435,499,555,525"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="845,1072,931,1099"/>
<area shape="rect" id="node37" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2281,1376,2437,1403"/>
<area shape="rect" id="node38" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1895,1465,2015,1492"/>
<area shape="rect" id="node39" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="815,768,961,795"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="1623,1072,1832,1099"/>
<area shape="rect" id="node41" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="827,819,949,845"/>
<area shape="rect" id="node42" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="831,869,945,896"/>
<area shape="rect" id="node43" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1447,1224,1567,1251"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="795,667,981,693"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="799,717,977,744"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="812,920,964,947"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="829,971,947,997"/>
<area shape="rect" id="node50" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="437,1579,552,1605"/>
</map>
</div>

</div>
</div>
<a id="a14fa9810320f300977cd7b7d04175893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14fa9810320f300977cd7b7d04175893">&#9670;&nbsp;</a></span>__ceph_caps_issued()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ceph_caps_issued </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>implemented</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a14fa9810320f300977cd7b7d04175893_cgraph.png" border="0" usemap="#caps_8c_a14fa9810320f300977cd7b7d04175893_cgraph" alt=""/></div>
<map name="caps_8c_a14fa9810320f300977cd7b7d04175893_cgraph" id="caps_8c_a14fa9810320f300977cd7b7d04175893_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="197,5,305,32"/>
<area shape="rect" id="node3" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="353,31,471,57"/>
<area shape="rect" id="node4" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="519,31,608,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a14fa9810320f300977cd7b7d04175893_icgraph.png" border="0" usemap="#caps_8c_a14fa9810320f300977cd7b7d04175893_icgraph" alt=""/></div>
<map name="caps_8c_a14fa9810320f300977cd7b7d04175893_icgraph" id="caps_8c_a14fa9810320f300977cd7b7d04175893_icgraph">
<area shape="rect" id="node2" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="217,263,332,289"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="902,1251,1029,1277"/>
<area shape="rect" id="node10" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1575,35,1648,61"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1723,1023,1854,1049"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="923,1200,1008,1227"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="221,389,329,416"/>
<area shape="rect" id="node24" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="906,871,1025,897"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="633,1301,805,1328"/>
<area shape="rect" id="node28" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1341,1327,1471,1353"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a297302a04eb8c01b27d91f1e478e6731" title="ceph_caps_issued" alt="" coords="900,491,1031,517"/>
<area shape="rect" id="node32" href="caps_8c.html#a67e4e74cdbc2c77f30be222b9e242858" title="__check_cap_issue" alt="" coords="897,1453,1034,1480"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="420,769,547,796"/>
<area shape="rect" id="node47" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="1549,541,1673,568"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="197,1555,352,1581"/>
<area shape="rect" id="node3" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="434,288,533,315"/>
<area shape="rect" id="node4" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="405,187,562,213"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="662,187,777,213"/>
<area shape="rect" id="node6" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="908,187,1023,213"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1351,389,1461,416"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1311,1023,1501,1049"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1129,845,1240,872"/>
<area shape="rect" id="node14" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1549,1352,1673,1379"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1735,93,1842,120"/>
<area shape="rect" id="node12" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1721,27,1856,69"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1904,5,2075,32"/>
<area shape="rect" id="node16" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1954,1023,2025,1049"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1353,643,1459,669"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1119,1099,1250,1125"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="436,389,531,416"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="615,288,824,315"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1119,896,1251,923"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1113,1301,1256,1328"/>
<area shape="rect" id="node30" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="1123,491,1246,517"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a1dd55cfc1a5452a770c738001fdb2a1a" title="ceph_uninline_data" alt="" coords="1118,440,1251,467"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="1131,1352,1238,1379"/>
<area shape="rect" id="node35" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1117,795,1252,821"/>
<area shape="rect" id="node36" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1107,389,1263,416"/>
<area shape="rect" id="node37" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="905,313,1025,340"/>
<area shape="rect" id="node38" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="646,693,793,720"/>
<area shape="rect" id="node39" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="658,845,781,872"/>
<area shape="rect" id="node40" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="663,896,776,923"/>
<area shape="rect" id="node41" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="659,643,779,669"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="899,643,1031,669"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="872,541,1059,568"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="630,1099,809,1125"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="643,1149,795,1176"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="906,947,1025,973"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="407,1555,559,1581"/>
<area shape="rect" id="node50" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="400,1605,567,1632"/>
</map>
</div>

</div>
</div>
<a id="a5729c4a88baa72c702f711b65b9e2a02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5729c4a88baa72c702f711b65b9e2a02">&#9670;&nbsp;</a></span>__ceph_caps_issued_mask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ceph_caps_issued_mask </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>touch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a5729c4a88baa72c702f711b65b9e2a02_cgraph.png" border="0" usemap="#caps_8c_a5729c4a88baa72c702f711b65b9e2a02_cgraph" alt=""/></div>
<map name="caps_8c_a5729c4a88baa72c702f711b65b9e2a02_cgraph" id="caps_8c_a5729c4a88baa72c702f711b65b9e2a02_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="392,5,509,32"/>
<area shape="rect" id="node4" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="236,31,344,57"/>
<area shape="rect" id="node5" href="caps_8c.html#aba9fdf4d7e2830f3179d4ead0bac94f4" title="__touch_cap" alt="" coords="242,81,338,108"/>
<area shape="rect" id="node3" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="557,5,647,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a5729c4a88baa72c702f711b65b9e2a02_icgraph.png" border="0" usemap="#caps_8c_a5729c4a88baa72c702f711b65b9e2a02_icgraph" alt=""/></div>
<map name="caps_8c_a5729c4a88baa72c702f711b65b9e2a02_icgraph" id="caps_8c_a5729c4a88baa72c702f711b65b9e2a02_icgraph">
<area shape="rect" id="node2" href="ceph_2acl_8c.html#af40d8673f712df9ef4b0d28d10bb8c48" title="ceph_set_cached_acl" alt="" coords="1303,259,1451,285"/>
<area shape="rect" id="node11" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="461,208,575,235"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="836,132,993,159"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="865,867,965,893"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="273,360,369,387"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="662,321,757,348"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#a6eea008aa0a63a93ebd71995d10af330" title="dir_lease_is_valid" alt="" coords="258,461,383,488"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="1675,411,1847,437"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#ad77b538bbe5ac1e6ac1504da2bde1406" title="ceph_caps_issued_mask" alt="" coords="236,968,405,995"/>
<area shape="rect" id="node3" href="ceph_2acl_8c.html#aa2f69a270106b3d43012aff8fc78d254" title="ceph_get_acl" alt="" coords="1516,183,1615,209"/>
<area shape="rect" id="node4" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1516,284,1615,311"/>
<area shape="rect" id="node5" href="ceph_2acl_8c.html#aea149d59b876a955a4a6d9e3ec3cd627" title="ceph_init_inode_acls" alt="" coords="1896,67,2039,93"/>
<area shape="rect" id="node6" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="2128,56,2224,83"/>
<area shape="rect" id="node8" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="2131,5,2221,32"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="2111,208,2241,235"/>
<area shape="rect" id="node7" href="ceph_2dir_8c.html#ae07bbb2d72e579c15dfb87b49993b011" title="ceph_create" alt="" coords="2361,56,2454,83"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="2312,360,2503,387"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#a9016930d59c9e9169edc1a70c87fb411" title="ceph_get_xattr_handler" alt="" coords="631,157,788,184"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="652,715,767,741"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2352,835,2463,861"/>
<area shape="rect" id="node27" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="869,664,960,691"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="855,715,975,741"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="867,816,962,843"/>
<area shape="rect" id="node30" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="841,563,989,589"/>
<area shape="rect" id="node32" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="841,613,989,640"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="1041,816,1251,843"/>
<area shape="rect" id="node17" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="1299,867,1456,893"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1685,902,1836,943"/>
<area shape="rect" id="node21" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1908,964,2027,991"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="1323,461,1431,488"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="1504,867,1627,893"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="2121,964,2231,991"/>
<area shape="rect" id="node23" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2354,1001,2461,1028"/>
<area shape="rect" id="node24" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2342,1136,2473,1163"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="1518,512,1613,539"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="1105,613,1187,640"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a1239ec0e7ceee3610c92354759959587" title="ceph_handle_notrace\l_create" alt="" coords="1895,139,2040,181"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="2125,107,2227,133"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="455,461,581,488"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1904,613,2031,640"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1925,259,2010,285"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1896,411,2039,437"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#aca3135e93d8f4b8e084194afc73d55d2" title="ceph_queue_caps_release" alt="" coords="2088,360,2264,387"/>
<area shape="rect" id="node44" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="2111,563,2241,589"/>
<area shape="rect" id="node45" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="2111,411,2241,437"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="2089,461,2263,488"/>
<area shape="rect" id="node47" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="2126,512,2226,539"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="453,1019,583,1045"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a1dd55cfc1a5452a770c738001fdb2a1a" title="ceph_uninline_data" alt="" coords="2109,715,2243,741"/>
</map>
</div>

</div>
</div>
<a id="a31adc6bf9cfe343a24fe87de99e0a3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31adc6bf9cfe343a24fe87de99e0a3ff">&#9670;&nbsp;</a></span>__ceph_caps_issued_other()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ceph_caps_issued_other </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>ocap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a31adc6bf9cfe343a24fe87de99e0a3ff_cgraph.png" border="0" usemap="#caps_8c_a31adc6bf9cfe343a24fe87de99e0a3ff_cgraph" alt=""/></div>
<map name="caps_8c_a31adc6bf9cfe343a24fe87de99e0a3ff_cgraph" id="caps_8c_a31adc6bf9cfe343a24fe87de99e0a3ff_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="197,13,305,39"/>
<area shape="rect" id="node3" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="353,13,471,39"/>
<area shape="rect" id="node4" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="519,13,608,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a31adc6bf9cfe343a24fe87de99e0a3ff_icgraph.png" border="0" usemap="#caps_8c_a31adc6bf9cfe343a24fe87de99e0a3ff_icgraph" alt=""/></div>
<map name="caps_8c_a31adc6bf9cfe343a24fe87de99e0a3ff_icgraph" id="caps_8c_a31adc6bf9cfe343a24fe87de99e0a3ff_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="197,1237,369,1264"/>
<area shape="rect" id="node25" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="646,1288,746,1315"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1255,107,1381,133"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1275,1237,1361,1264"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="417,1440,560,1467"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1636,1276,1827,1303"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1459,107,1569,133"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1903,1276,1977,1303"/>
<area shape="rect" id="node6" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1878,1440,2002,1467"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2053,1491,2184,1517"/>
<area shape="rect" id="node8" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2232,1541,2303,1568"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1678,208,1785,235"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1676,56,1787,83"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1678,107,1785,133"/>
<area shape="rect" id="node13" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1666,157,1797,184"/>
<area shape="rect" id="node14" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1662,5,1801,32"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1449,1225,1579,1252"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#aca3135e93d8f4b8e084194afc73d55d2" title="ceph_queue_caps_release" alt="" coords="608,1389,784,1416"/>
<area shape="rect" id="node20" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1449,1491,1579,1517"/>
<area shape="rect" id="node21" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1875,1541,2005,1568"/>
<area shape="rect" id="node22" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="609,1592,783,1619"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#af45286f286a6ed7f795792636af010e9" title="ceph_destroy_inode" alt="" coords="839,1389,977,1416"/>
<area shape="rect" id="node23" href="mds__client_8c.html#a9932cb0bc0bc56c2d1ff11dd748002e3" title="remove_session_caps" alt="" coords="832,1592,984,1619"/>
<area shape="rect" id="node24" href="mds__client_8c.html#aecd52d2d17cb6a55a29e18c9f6dfca77" title="handle_session" alt="" coords="1058,1592,1170,1619"/>
<area shape="rect" id="node26" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="851,1288,965,1315"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="1047,1288,1181,1315"/>
<area shape="rect" id="node30" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1032,705,1196,732"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="1440,1440,1588,1467"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1253,1288,1383,1315"/>
<area shape="rect" id="node31" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1250,680,1386,707"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1270,731,1366,757"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1269,781,1367,808"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1271,832,1365,859"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1270,883,1366,909"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1267,933,1369,960"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1273,984,1363,1011"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="1279,1035,1357,1061"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1273,1085,1363,1112"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="1268,208,1368,235"/>
<area shape="rect" id="node41" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="1255,259,1381,285"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="1465,1161,1563,1188"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="1264,309,1372,336"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="1253,157,1383,184"/>
<area shape="rect" id="node45" href="ceph_2super_8c.html#aeb84ba4e574a0ccfe88118ac0aab3db8" title="open_root_dentry" alt="" coords="1257,360,1379,387"/>
<area shape="rect" id="node46" href="ceph_2export_8c.html#acb66f1d257f6a1a905c5aa123a008380" title="__fh_to_dentry" alt="" coords="1264,411,1372,437"/>
<area shape="rect" id="node47" href="ceph_2export_8c.html#a287c01c9981c228d57018655aa26683d" title="__get_parent" alt="" coords="1269,461,1367,488"/>
<area shape="rect" id="node48" href="ceph_2export_8c.html#a6b823e0df63107bb4bcd2ba9e61e8413" title="ceph_get_name" alt="" coords="1261,512,1375,539"/>
<area shape="rect" id="node49" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="1244,563,1392,589"/>
<area shape="rect" id="node50" href="ceph_2ioctl_8c.html#a49d67c9da9db732a007054d42737d71b" title="ceph_ioctl_set_layout\l_policy" alt="" coords="1244,614,1392,655"/>
</map>
</div>

</div>
</div>
<a id="aa559b6659f3383f2272424bc07176ce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa559b6659f3383f2272424bc07176ce9">&#9670;&nbsp;</a></span>__ceph_caps_mds_wanted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ceph_caps_mds_wanted </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aa559b6659f3383f2272424bc07176ce9_cgraph.png" border="0" usemap="#caps_8c_aa559b6659f3383f2272424bc07176ce9_cgraph" alt=""/></div>
<map name="caps_8c_aa559b6659f3383f2272424bc07176ce9_cgraph" id="caps_8c_aa559b6659f3383f2272424bc07176ce9_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="233,5,341,32"/>
<area shape="rect" id="node3" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="389,5,507,32"/>
<area shape="rect" id="node4" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="555,5,644,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aa559b6659f3383f2272424bc07176ce9_icgraph.png" border="0" usemap="#caps_8c_aa559b6659f3383f2272424bc07176ce9_icgraph" alt=""/></div>
<map name="caps_8c_aa559b6659f3383f2272424bc07176ce9_icgraph" id="caps_8c_aa559b6659f3383f2272424bc07176ce9_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="937,765,1022,792"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="233,1247,381,1273"/>
<area shape="rect" id="node37" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1166,537,1285,564"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1160,816,1291,843"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1601,1044,1792,1071"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1869,1108,1942,1135"/>
<area shape="rect" id="node9" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1843,1373,1967,1400"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="2033,1049,2139,1076"/>
<area shape="rect" id="node7" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="2019,1101,2153,1142"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="2201,1137,2372,1164"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2021,1399,2151,1425"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="1407,1424,1513,1451"/>
<area shape="rect" id="node15" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="1172,867,1279,893"/>
<area shape="rect" id="node18" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="429,1145,576,1172"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="433,1290,572,1331"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="1132,1531,1319,1557"/>
<area shape="rect" id="node50" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="443,1056,563,1083"/>
<area shape="rect" id="node13" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1840,1424,1971,1451"/>
<area shape="rect" id="node14" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1840,1500,1971,1527"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1415,867,1505,893"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1399,917,1521,944"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="916,1171,1043,1197"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="662,613,789,640"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="624,1069,827,1096"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="641,1120,809,1147"/>
<area shape="rect" id="node43" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="640,1221,811,1248"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1159,461,1291,488"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="1367,1171,1553,1197"/>
<area shape="rect" id="node30" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="1179,1171,1271,1197"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1393,208,1527,235"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1643,309,1750,336"/>
<area shape="rect" id="node23" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1641,107,1752,133"/>
<area shape="rect" id="node24" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1643,360,1750,387"/>
<area shape="rect" id="node25" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1657,588,1737,615"/>
<area shape="rect" id="node26" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1631,487,1762,513"/>
<area shape="rect" id="node27" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1627,423,1766,449"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1405,461,1515,488"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1162,664,1289,691"/>
<area shape="rect" id="node33" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1382,107,1538,133"/>
<area shape="rect" id="node34" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="919,5,1039,32"/>
<area shape="rect" id="node35" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="906,613,1053,640"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="875,563,1084,589"/>
<area shape="rect" id="node39" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="918,715,1041,741"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1394,613,1526,640"/>
<area shape="rect" id="node41" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="906,1019,1053,1045"/>
<area shape="rect" id="node45" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="680,1373,771,1400"/>
<area shape="rect" id="node46" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="675,1323,775,1349"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="1389,1526,1531,1567"/>
<area shape="rect" id="node49" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1613,1584,1781,1611"/>
</map>
</div>

</div>
</div>
<a id="aa988278ebb5545c57e9a0bb568c84537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa988278ebb5545c57e9a0bb568c84537">&#9670;&nbsp;</a></span>__ceph_caps_revoking_other()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ceph_caps_revoking_other </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>ocap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aa988278ebb5545c57e9a0bb568c84537_icgraph.png" border="0" usemap="#caps_8c_aa988278ebb5545c57e9a0bb568c84537_icgraph" alt=""/></div>
<map name="caps_8c_aa988278ebb5545c57e9a0bb568c84537_icgraph" id="caps_8c_aa988278ebb5545c57e9a0bb568c84537_icgraph">
<area shape="rect" id="node2" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="208,668,355,695"/>
<area shape="rect" id="node22" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1501,1292,1625,1319"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="583,1023,714,1049"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a2ac074b45edbc3aa7056f5bc2852862a" title="ceph_caps_revoking" alt="" coords="211,997,352,1024"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="403,516,525,543"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="573,382,724,423"/>
<area shape="rect" id="node5" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1029,60,1172,87"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1283,212,1393,239"/>
<area shape="rect" id="node8" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="794,111,937,137"/>
<area shape="rect" id="node9" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="806,465,925,492"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="799,389,931,416"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="788,795,943,821"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1259,60,1417,87"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1035,617,1167,644"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1045,465,1156,492"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1243,1023,1433,1049"/>
<area shape="rect" id="node24" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1298,592,1378,619"/>
<area shape="rect" id="node12" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1527,820,1600,847"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1713,769,1820,796"/>
<area shape="rect" id="node20" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1699,821,1834,862"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1888,825,2059,852"/>
<area shape="rect" id="node14" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2107,800,2201,827"/>
<area shape="rect" id="node15" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2249,876,2320,903"/>
<area shape="rect" id="node16" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2368,851,2577,877"/>
<area shape="rect" id="node17" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2384,901,2561,928"/>
<area shape="rect" id="node18" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2625,872,2768,899"/>
<area shape="rect" id="node19" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2625,923,2768,965"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1701,972,1832,999"/>
<area shape="rect" id="node26" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1285,364,1391,391"/>
<area shape="rect" id="node27" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1285,440,1391,467"/>
<area shape="rect" id="node28" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1273,504,1403,531"/>
<area shape="rect" id="node29" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1269,288,1407,315"/>
<area shape="rect" id="node31" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1033,161,1168,188"/>
<area shape="rect" id="node32" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1007,313,1195,340"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1487,668,1639,695"/>
<area shape="rect" id="node37" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1017,820,1184,847"/>
<area shape="rect" id="node35" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="1693,617,1840,644"/>
<area shape="rect" id="node36" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="1698,668,1835,695"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1255,820,1421,847"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="804,1023,927,1049"/>
<area shape="rect" id="node41" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="1501,972,1625,999"/>
<area shape="rect" id="node42" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1498,1419,1629,1445"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="796,1335,935,1377"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="772,1103,959,1129"/>
<area shape="rect" id="node44" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1055,1343,1146,1369"/>
<area shape="rect" id="node45" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="1051,1393,1151,1420"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="1029,1125,1172,1166"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1254,1187,1422,1213"/>
<area shape="rect" id="node49" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="1481,1187,1645,1213"/>
</map>
</div>

</div>
</div>
<a id="a8f57922fd9b23d3ccea0004c3772b67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f57922fd9b23d3ccea0004c3772b67e">&#9670;&nbsp;</a></span>__ceph_caps_used()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ceph_caps_used </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a8f57922fd9b23d3ccea0004c3772b67e_icgraph.png" border="0" usemap="#caps_8c_a8f57922fd9b23d3ccea0004c3772b67e_icgraph" alt=""/></div>
<map name="caps_8c_a8f57922fd9b23d3ccea0004c3772b67e_icgraph" id="caps_8c_a8f57922fd9b23d3ccea0004c3772b67e_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="392,346,523,373"/>
<area shape="rect" id="node9" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1325,537,1449,564"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="587,233,773,260"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="603,436,757,462"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="188,574,336,601"/>
<area shape="rect" id="node23" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="404,498,511,525"/>
<area shape="rect" id="node25" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="384,849,531,876"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="617,1449,743,1476"/>
<area shape="rect" id="node49" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="212,950,312,977"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1351,689,1424,716"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="619,486,741,513"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1499,284,1630,310"/>
<area shape="rect" id="node12" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="1325,14,1449,41"/>
<area shape="rect" id="node13" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1117,284,1247,310"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="611,588,749,630"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1511,748,1618,774"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1497,682,1632,723"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1680,660,1851,686"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1087,917,1277,944"/>
<area shape="rect" id="node11" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1730,284,1801,310"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="863,218,1005,259"/>
<area shape="rect" id="node17" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1098,196,1266,222"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="858,537,1010,564"/>
<area shape="rect" id="node20" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="851,486,1017,513"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="881,689,987,716"/>
<area shape="rect" id="node48" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="397,549,517,576"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="635,537,725,564"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="617,1018,743,1045"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="579,932,781,958"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="596,870,764,897"/>
<area shape="rect" id="node47" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="1097,638,1267,665"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="868,1398,1000,1425"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="841,1044,1027,1070"/>
<area shape="rect" id="node28" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1115,1564,1249,1590"/>
<area shape="rect" id="node29" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1127,1728,1237,1754"/>
<area shape="rect" id="node30" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1129,1437,1235,1464"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="871,1297,997,1324"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="891,1348,977,1374"/>
<area shape="rect" id="node35" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="856,1702,1012,1729"/>
<area shape="rect" id="node36" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="874,1753,994,1780"/>
<area shape="rect" id="node37" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="861,1854,1007,1881"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="829,1905,1039,1932"/>
<area shape="rect" id="node39" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="873,1956,995,1982"/>
<area shape="rect" id="node40" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="877,1449,991,1476"/>
<area shape="rect" id="node41" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="874,1500,994,1526"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="845,1094,1023,1121"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="858,1196,1010,1222"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="875,1145,993,1172"/>
<area shape="rect" id="node50" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="400,950,515,977"/>
</map>
</div>

</div>
</div>
<a id="a48ca9cc7df05e63a42fc68d57c130527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ca9cc7df05e63a42fc68d57c130527">&#9670;&nbsp;</a></span>__ceph_flush_snaps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __ceph_flush_snaps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; i_ceph_lock)
		__acquires(ci-&gt;i_ceph_lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a48ca9cc7df05e63a42fc68d57c130527_cgraph.png" border="0" usemap="#caps_8c_a48ca9cc7df05e63a42fc68d57c130527_cgraph" alt=""/></div>
<map name="caps_8c_a48ca9cc7df05e63a42fc68d57c130527_cgraph" id="caps_8c_a48ca9cc7df05e63a42fc68d57c130527_cgraph">
<area shape="rect" id="node2" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="238,5,303,32"/>
<area shape="rect" id="node3" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="195,56,347,83"/>
<area shape="rect" id="node4" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="564,107,681,133"/>
<area shape="rect" id="node6" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="203,157,338,184"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="201,208,340,235"/>
<area shape="rect" id="node5" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="740,107,829,133"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="409,208,491,235"/>
<area shape="rect" id="node9" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="395,157,505,184"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="579,208,667,235"/>
<area shape="rect" id="node10" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="553,157,692,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a48ca9cc7df05e63a42fc68d57c130527_icgraph.png" border="0" usemap="#caps_8c_a48ca9cc7df05e63a42fc68d57c130527_icgraph" alt=""/></div>
<map name="caps_8c_a48ca9cc7df05e63a42fc68d57c130527_icgraph" id="caps_8c_a48ca9cc7df05e63a42fc68d57c130527_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="1025,56,1152,83"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="195,943,321,969"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1628,639,1819,665"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1212,1145,1344,1172"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="1393,81,1579,108"/>
<area shape="rect" id="node23" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="1232,5,1324,32"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1908,613,1981,640"/>
<area shape="rect" id="node5" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1883,563,2007,589"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2071,613,2201,640"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1419,1323,1553,1349"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2083,1120,2189,1147"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2081,1424,2191,1451"/>
<area shape="rect" id="node13" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1670,1272,1777,1299"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1446,1171,1526,1197"/>
<area shape="rect" id="node15" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1658,1019,1789,1045"/>
<area shape="rect" id="node16" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1654,1069,1793,1096"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1431,968,1541,995"/>
<area shape="rect" id="node18" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1392,1221,1580,1248"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1644,1323,1803,1349"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1867,1323,2023,1349"/>
<area shape="rect" id="node20" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="1653,81,1793,108"/>
<area shape="rect" id="node21" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="1655,132,1792,159"/>
<area shape="rect" id="node22" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="1662,31,1785,57"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a53c2eb47ed109b2711cc7c57f8d07c7e" title="ceph_handle_snap" alt="" coords="1421,5,1551,32"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1215,917,1341,944"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1235,613,1321,640"/>
<area shape="rect" id="node29" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="842,1627,962,1653"/>
<area shape="rect" id="node30" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="635,1221,782,1248"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="369,1069,579,1096"/>
<area shape="rect" id="node37" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="413,867,535,893"/>
<area shape="rect" id="node39" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="417,1525,531,1552"/>
<area shape="rect" id="node40" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1029,968,1149,995"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="385,512,563,539"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="398,259,550,285"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="415,740,533,767"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1421,664,1551,691"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="841,1171,963,1197"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1013,1138,1164,1179"/>
<area shape="rect" id="node33" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1219,1019,1337,1045"/>
<area shape="rect" id="node35" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="630,1171,787,1197"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="655,1069,763,1096"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="861,867,943,893"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="657,512,760,539"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#a8cda3e3207900b5a737dffad0f073243" title="ceph_sync_fs" alt="" coords="851,208,953,235"/>
<area shape="rect" id="node45" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="627,208,791,235"/>
<area shape="rect" id="node46" href="mds__client_8h.html#a2cdaf6b1bd65bdb7a17c4b7a4a9a3881" title="ceph_mdsc_sync" alt="" coords="647,259,771,285"/>
<area shape="rect" id="node48" href="ceph_2file_8c.html#a1ea7f45cf27ad466c8e8ff8cee7eb1c0" title="ceph_init_file_info" alt="" coords="839,613,965,640"/>
<area shape="rect" id="node49" href="ceph_2file_8c.html#a8565051b9159dbbbf9be51f9e9414e51" title="ceph_init_file" alt="" coords="1039,613,1138,640"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="659,715,758,741"/>
</map>
</div>

</div>
</div>
<a id="ae2bb280de283924445a4ac5410608e36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2bb280de283924445a4ac5410608e36">&#9670;&nbsp;</a></span>__ceph_get_cap_mds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __ceph_get_cap_mds </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ae2bb280de283924445a4ac5410608e36_icgraph.png" border="0" usemap="#caps_8c_ae2bb280de283924445a4ac5410608e36_icgraph" alt=""/></div>
<map name="caps_8c_ae2bb280de283924445a4ac5410608e36_icgraph" id="caps_8c_ae2bb280de283924445a4ac5410608e36_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a0f1c8bbbb77d21ae3c52345575801614" title="ceph_get_cap_mds" alt="" coords="203,385,337,412"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="385,385,576,412"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="624,327,697,353"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="751,5,875,32"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="960,247,1067,273"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="745,349,880,390"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="928,327,1099,353"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1147,349,1297,390"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2229,233,2323,260"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1571,816,1713,843"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2221,841,2331,868"/>
<area shape="rect" id="node12" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1351,309,1494,336"/>
<area shape="rect" id="node13" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1363,516,1482,543"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1357,867,1489,893"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1345,157,1500,184"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1788,816,1947,843"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1999,867,2155,893"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2223,968,2329,995"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1576,463,1708,489"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1587,968,1697,995"/>
<area shape="rect" id="node15" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1827,463,1907,489"/>
<area shape="rect" id="node16" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="2018,360,2135,387"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1814,1019,1921,1045"/>
<area shape="rect" id="node19" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1802,1069,1933,1096"/>
<area shape="rect" id="node20" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1798,867,1937,893"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1575,867,1709,893"/>
<area shape="rect" id="node23" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1548,715,1736,741"/>
<area shape="rect" id="node24" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1785,715,1949,741"/>
<area shape="rect" id="node37" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1785,563,1949,589"/>
<area shape="rect" id="node25" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="2005,613,2148,640"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="2009,715,2144,741"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="2012,765,2141,792"/>
<area shape="rect" id="node36" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="2002,664,2151,691"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2397,132,2468,159"/>
<area shape="rect" id="node29" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2516,107,2725,133"/>
<area shape="rect" id="node30" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2532,157,2709,184"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2773,128,2916,155"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2773,179,2916,221"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2964,128,3100,155"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2973,187,3091,213"/>
<area shape="rect" id="node38" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="2009,461,2145,488"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="2029,512,2125,539"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="2028,563,2125,589"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="2001,107,2153,133"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1559,157,1725,184"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2203,107,2349,133"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2207,157,2345,184"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1784,157,1951,184"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2011,56,2142,83"/>
</map>
</div>

</div>
</div>
<a id="a534a1ab7f2261195c99d0bf016ae9fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a534a1ab7f2261195c99d0bf016ae9fa8">&#9670;&nbsp;</a></span>__ceph_get_fmode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ceph_get_fmode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fmode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a534a1ab7f2261195c99d0bf016ae9fa8_icgraph.png" border="0" usemap="#caps_8c_a534a1ab7f2261195c99d0bf016ae9fa8_icgraph" alt=""/></div>
<map name="caps_8c_a534a1ab7f2261195c99d0bf016ae9fa8_icgraph" id="caps_8c_a534a1ab7f2261195c99d0bf016ae9fa8_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="185,581,271,608"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="497,532,688,558"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="765,428,838,454"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="331,404,437,430"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="319,606,449,633"/>
<area shape="rect" id="node47" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="920,228,1044,254"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1129,365,1236,392"/>
<area shape="rect" id="node45" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="915,416,1049,458"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1097,441,1268,468"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1316,450,1467,491"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2398,356,2493,382"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1740,634,1883,661"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2390,596,2501,622"/>
<area shape="rect" id="node13" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1521,432,1663,458"/>
<area shape="rect" id="node14" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1533,634,1651,661"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1526,736,1658,762"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1515,280,1669,306"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1957,634,2116,661"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2168,773,2324,800"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2392,824,2499,850"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1745,482,1877,509"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1756,786,1867,813"/>
<area shape="rect" id="node16" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1997,508,2077,534"/>
<area shape="rect" id="node17" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="2187,508,2305,534"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1983,888,2090,914"/>
<area shape="rect" id="node20" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1971,685,2102,712"/>
<area shape="rect" id="node21" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1967,837,2106,864"/>
<area shape="rect" id="node23" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1744,685,1879,712"/>
<area shape="rect" id="node24" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1717,938,1905,965"/>
<area shape="rect" id="node25" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1955,938,2119,965"/>
<area shape="rect" id="node36" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1955,989,2119,1016"/>
<area shape="rect" id="node26" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="2175,925,2317,952"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="2179,672,2313,698"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="2181,874,2311,901"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="2171,976,2321,1002"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2567,254,2637,281"/>
<area shape="rect" id="node30" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2685,229,2895,256"/>
<area shape="rect" id="node31" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2701,280,2879,306"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2943,250,3085,277"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2943,302,3085,343"/>
<area shape="rect" id="node37" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="2178,1026,2314,1053"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="2170,229,2322,256"/>
<area shape="rect" id="node42" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1728,229,1895,256"/>
<area shape="rect" id="node40" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2372,280,2519,306"/>
<area shape="rect" id="node41" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2377,229,2514,256"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1953,229,2120,256"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2181,178,2311,205"/>
<area shape="rect" id="node49" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="736,77,867,104"/>
<area shape="rect" id="node50" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1326,26,1457,53"/>
</map>
</div>

</div>
</div>
<a id="a8118ce932726b21b4a6479dde4d24b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8118ce932726b21b4a6479dde4d24b6f">&#9670;&nbsp;</a></span>__ceph_is_any_caps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __ceph_is_any_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a8118ce932726b21b4a6479dde4d24b6f_icgraph.png" border="0" usemap="#caps_8c_a8118ce932726b21b4a6479dde4d24b6f_icgraph" alt=""/></div>
<map name="caps_8c_a8118ce932726b21b4a6479dde4d24b6f_icgraph" id="caps_8c_a8118ce932726b21b4a6479dde4d24b6f_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a25eb5883d59e9610b60324b37606daa5" title="ceph_is_any_caps" alt="" coords="411,629,541,655"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1703,299,1835,326"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="197,502,340,529"/>
<area shape="rect" id="node3" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="2345,666,2472,693"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="612,375,803,402"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="890,97,963,123"/>
<area shape="rect" id="node34" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="865,426,989,453"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1317,122,1424,149"/>
<area shape="rect" id="node32" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1077,5,1211,47"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1285,71,1456,98"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1504,115,1655,156"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1905,122,2048,149"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2535,97,2645,123"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="2121,122,2280,149"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2331,173,2487,199"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2537,223,2643,250"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1909,173,2044,199"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2147,325,2254,351"/>
<area shape="rect" id="node16" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1937,426,2017,453"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2135,375,2266,402"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2131,274,2270,301"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1921,223,2032,250"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1883,755,2071,782"/>
<area shape="rect" id="node17" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="2142,426,2259,453"/>
<area shape="rect" id="node22" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="2119,755,2283,782"/>
<area shape="rect" id="node27" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="2119,818,2283,845"/>
<area shape="rect" id="node23" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="2337,767,2480,794"/>
<area shape="rect" id="node24" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="2341,717,2476,743"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="2344,615,2473,642"/>
<area shape="rect" id="node26" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="2334,818,2483,845"/>
<area shape="rect" id="node28" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="2341,1021,2477,1047"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="2361,869,2457,895"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="2360,919,2457,946"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="2361,970,2456,997"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1079,426,1209,453"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1335,527,1406,554"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#aca3135e93d8f4b8e084194afc73d55d2" title="ceph_queue_caps_release" alt="" coords="388,375,564,402"/>
<area shape="rect" id="node40" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="642,477,773,503"/>
<area shape="rect" id="node41" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="411,527,541,554"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="389,578,563,605"/>
<area shape="rect" id="node48" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="657,730,757,757"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#af45286f286a6ed7f795792636af010e9" title="ceph_destroy_inode" alt="" coords="1301,173,1440,199"/>
<area shape="rect" id="node43" href="mds__client_8c.html#a9932cb0bc0bc56c2d1ff11dd748002e3" title="remove_session_caps" alt="" coords="851,578,1003,605"/>
<area shape="rect" id="node44" href="mds__client_8c.html#aecd52d2d17cb6a55a29e18c9f6dfca77" title="handle_session" alt="" coords="1088,629,1200,655"/>
<area shape="rect" id="node45" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1084,477,1204,503"/>
<area shape="rect" id="node46" href="mds__client_8h.html#a90cd624d396cca56a05acaddd072cb3a" title="ceph_mdsc_close_sessions" alt="" coords="1051,527,1237,554"/>
<area shape="rect" id="node47" href="mds__client_8h.html#a679279e05084bf0e754dd17f41d7cbc7" title="ceph_mdsc_force_umount" alt="" coords="1057,578,1231,605"/>
<area shape="rect" id="node49" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="869,730,984,757"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="1512,730,1647,757"/>
</map>
</div>

</div>
</div>
<a id="a3bceac7de4d0c61179ba53f8c0ac043e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bceac7de4d0c61179ba53f8c0ac043e">&#9670;&nbsp;</a></span>__ceph_is_single_caps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __ceph_is_single_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a3bceac7de4d0c61179ba53f8c0ac043e_icgraph.png" border="0" usemap="#caps_8c_a3bceac7de4d0c61179ba53f8c0ac043e_icgraph" alt=""/></div>
<map name="caps_8c_a3bceac7de4d0c61179ba53f8c0ac043e_icgraph" id="caps_8c_a3bceac7de4d0c61179ba53f8c0ac043e_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="211,735,337,762"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1231,735,1357,762"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1644,1191,1835,1218"/>
<area shape="rect" id="node6" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1899,1115,2023,1142"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2097,203,2207,230"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1686,380,1793,407"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1251,1407,1337,1434"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1435,330,1569,356"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1883,684,2039,711"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1045,64,1165,91"/>
<area shape="rect" id="node21" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="417,355,563,382"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1228,482,1360,508"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="385,456,595,483"/>
<area shape="rect" id="node33" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="857,1698,979,1724"/>
<area shape="rect" id="node35" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="433,1090,547,1116"/>
<area shape="rect" id="node36" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1045,634,1165,660"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="397,887,583,914"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="401,1596,579,1623"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="414,1140,566,1167"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="431,1368,549,1395"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1447,634,1557,660"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1924,1166,1997,1192"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2087,1166,2217,1192"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2099,735,2205,762"/>
<area shape="rect" id="node12" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1674,532,1805,559"/>
<area shape="rect" id="node13" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1670,583,1809,610"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1437,1343,1567,1370"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1660,330,1819,356"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1889,330,2032,356"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="857,330,979,356"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1029,348,1180,389"/>
<area shape="rect" id="node24" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1235,532,1353,559"/>
<area shape="rect" id="node26" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1462,431,1542,458"/>
<area shape="rect" id="node27" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1408,482,1596,508"/>
<area shape="rect" id="node29" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="646,330,803,356"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="671,482,779,508"/>
<area shape="rect" id="node31" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="869,482,967,508"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="871,431,965,458"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="1064,1698,1145,1724"/>
<area shape="rect" id="node38" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="655,938,795,964"/>
<area shape="rect" id="node39" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="656,836,793,863"/>
<area shape="rect" id="node40" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="663,887,786,914"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="673,1596,776,1623"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#a8cda3e3207900b5a737dffad0f073243" title="ceph_sync_fs" alt="" coords="867,1115,969,1142"/>
<area shape="rect" id="node45" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="643,1191,807,1218"/>
<area shape="rect" id="node46" href="mds__client_8h.html#a2cdaf6b1bd65bdb7a17c4b7a4a9a3881" title="ceph_mdsc_sync" alt="" coords="663,1140,787,1167"/>
<area shape="rect" id="node48" href="ceph_2file_8c.html#a1ea7f45cf27ad466c8e8ff8cee7eb1c0" title="ceph_init_file_info" alt="" coords="855,1444,981,1471"/>
<area shape="rect" id="node49" href="ceph_2file_8c.html#a8565051b9159dbbbf9be51f9e9414e51" title="ceph_init_file" alt="" coords="1055,1419,1154,1446"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="675,1394,774,1420"/>
</map>
</div>

</div>
</div>
<a id="affc57aadec20fb5ea588583dbb0eee1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc57aadec20fb5ea588583dbb0eee1e">&#9670;&nbsp;</a></span>__ceph_mark_dirty_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ceph_mark_dirty_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap__flush.html">ceph_cap_flush</a> **&#160;</td>
          <td class="paramname"><em>pcf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_affc57aadec20fb5ea588583dbb0eee1e_cgraph.png" border="0" usemap="#caps_8c_affc57aadec20fb5ea588583dbb0eee1e_cgraph" alt=""/></div>
<map name="caps_8c_affc57aadec20fb5ea588583dbb0eee1e_cgraph" id="caps_8c_affc57aadec20fb5ea588583dbb0eee1e_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="231,5,357,32"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a51b0031781f30ee001a1b7307a19ac7f" title="ceph_ino" alt="" coords="257,56,331,83"/>
<area shape="rect" id="node5" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="235,107,353,133"/>
<area shape="rect" id="node7" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="269,157,319,184"/>
<area shape="rect" id="node9" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="220,208,368,235"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="441,56,529,83"/>
<area shape="rect" id="node6" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="441,107,530,133"/>
<area shape="rect" id="node8" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="416,157,555,184"/>
<area shape="rect" id="node10" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="416,208,555,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_affc57aadec20fb5ea588583dbb0eee1e_icgraph.png" border="0" usemap="#caps_8c_affc57aadec20fb5ea588583dbb0eee1e_icgraph" alt=""/></div>
<map name="caps_8c_affc57aadec20fb5ea588583dbb0eee1e_icgraph" id="caps_8c_affc57aadec20fb5ea588583dbb0eee1e_icgraph">
<area shape="rect" id="node2" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="232,499,347,525"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="1119,499,1227,525"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2709,195,2820,221"/>
<area shape="rect" id="node38" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1897,156,2032,183"/>
<area shape="rect" id="node39" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="236,752,343,779"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="407,1125,537,1152"/>
<area shape="rect" id="node50" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="220,853,359,880"/>
<area shape="rect" id="node3" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1329,591,1427,617"/>
<area shape="rect" id="node4" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="1094,169,1251,196"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="415,347,529,373"/>
<area shape="rect" id="node6" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="621,245,736,272"/>
<area shape="rect" id="node9" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="629,347,729,373"/>
<area shape="rect" id="node24" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="633,499,724,525"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="619,195,739,221"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="631,397,726,424"/>
<area shape="rect" id="node27" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="605,600,753,627"/>
<area shape="rect" id="node37" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="605,549,753,576"/>
<area shape="rect" id="node7" href="ceph_2acl_8c.html#aa2f69a270106b3d43012aff8fc78d254" title="ceph_get_acl" alt="" coords="875,245,974,272"/>
<area shape="rect" id="node8" href="ceph_2xattr_8c.html#a9016930d59c9e9169edc1a70c87fb411" title="ceph_get_xattr_handler" alt="" coords="846,195,1003,221"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="820,397,1029,424"/>
<area shape="rect" id="node11" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="1094,397,1251,424"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1889,441,2040,482"/>
<area shape="rect" id="node20" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="2106,245,2225,272"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="1331,347,1425,373"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="2094,347,2237,373"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="2088,460,2243,487"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="2295,347,2453,373"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2505,347,2661,373"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2711,347,2818,373"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="2298,423,2450,449"/>
<area shape="rect" id="node23" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="2291,473,2457,500"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="884,600,965,627"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1077,1068,1268,1095"/>
<area shape="rect" id="node30" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1341,675,1415,701"/>
<area shape="rect" id="node34" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1316,1177,1440,1204"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1703,641,1809,668"/>
<area shape="rect" id="node32" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1488,609,1623,650"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1671,557,1841,584"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1490,1177,1621,1204"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1721,1177,1791,1204"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="863,1173,986,1200"/>
<area shape="rect" id="node42" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="1316,1241,1440,1268"/>
<area shape="rect" id="node43" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1107,1325,1238,1352"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="609,947,748,989"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="585,1093,772,1120"/>
<area shape="rect" id="node45" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="879,904,970,931"/>
<area shape="rect" id="node46" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="875,853,975,880"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="853,1057,996,1098"/>
<area shape="rect" id="node49" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1089,984,1257,1011"/>
</map>
</div>

</div>
</div>
<a id="af8a74fb531b951f4f09aeebb8c06cdd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8a74fb531b951f4f09aeebb8c06cdd6">&#9670;&nbsp;</a></span>__ceph_remove_cap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ceph_remove_cap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>queue_release</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_af8a74fb531b951f4f09aeebb8c06cdd6_cgraph.png" border="0" usemap="#caps_8c_af8a74fb531b951f4f09aeebb8c06cdd6_cgraph" alt=""/></div>
<map name="caps_8c_af8a74fb531b951f4f09aeebb8c06cdd6_cgraph" id="caps_8c_af8a74fb531b951f4f09aeebb8c06cdd6_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="444,5,571,32"/>
<area shape="rect" id="node3" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="231,44,333,71"/>
<area shape="rect" id="node4" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="210,95,354,121"/>
<area shape="rect" id="node5" href="caps_8c.html#a146c9d08e79a8871a4af9aad8513d7fd" title="drop_inode_snap_realm" alt="" coords="203,145,361,172"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="196,196,368,223"/>
<area shape="rect" id="node17" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="212,247,352,273"/>
<area shape="rect" id="node6" href="snap_8c.html#ae9ac43ce9abdb99a0bb0135fe43954b3" title="ceph_put_snap_realm" alt="" coords="433,99,582,125"/>
<area shape="rect" id="node7" href="snap_8c.html#ace64bb84634490493f6e0f0f4e88ad28" title="__destroy_snap_realm" alt="" coords="647,81,800,108"/>
<area shape="rect" id="node8" href="snap_8c.html#a4aa6fffea265bc4b4e8dcf02e2406267" title="__put_snap_realm" alt="" coords="848,81,976,108"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="435,284,579,311"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a8e0de74dcc174711bc6306d4e08c25c5" title="__ceph_caps_issued_mask" alt="" coords="416,167,599,193"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#ae6584a35304603761fdaefdd140ddc4e" title="__ceph_caps_issued\l_other" alt="" coords="435,218,579,259"/>
<area shape="rect" id="node11" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="669,233,777,260"/>
<area shape="rect" id="node12" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="853,233,971,260"/>
<area shape="rect" id="node13" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1024,233,1113,260"/>
<area shape="rect" id="node15" href="caps_8c.html#aba9fdf4d7e2830f3179d4ead0bac94f4" title="__touch_cap" alt="" coords="675,183,771,209"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_af8a74fb531b951f4f09aeebb8c06cdd6_icgraph.png" border="0" usemap="#caps_8c_af8a74fb531b951f4f09aeebb8c06cdd6_icgraph" alt=""/></div>
<map name="caps_8c_af8a74fb531b951f4f09aeebb8c06cdd6_icgraph" id="caps_8c_af8a74fb531b951f4f09aeebb8c06cdd6_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="420,224,611,251"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#aca3135e93d8f4b8e084194afc73d55d2" title="ceph_queue_caps_release" alt="" coords="196,224,372,251"/>
<area shape="rect" id="node22" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="450,376,581,403"/>
<area shape="rect" id="node23" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="219,325,349,352"/>
<area shape="rect" id="node24" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="197,464,371,491"/>
<area shape="rect" id="node46" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="234,591,334,617"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="715,144,789,171"/>
<area shape="rect" id="node18" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1155,351,1279,377"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1164,173,1271,200"/>
<area shape="rect" id="node16" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="921,107,1056,149"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1132,115,1303,141"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1351,107,1501,149"/>
<area shape="rect" id="node12" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1379,249,1473,276"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1555,157,1698,184"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1801,31,1912,57"/>
<area shape="rect" id="node8" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1555,208,1698,235"/>
<area shape="rect" id="node9" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1567,259,1686,285"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1561,5,1693,32"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1549,107,1704,133"/>
<area shape="rect" id="node13" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1591,445,1662,472"/>
<area shape="rect" id="node14" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1752,471,1961,497"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1768,420,1945,447"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1361,351,1491,377"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#af45286f286a6ed7f795792636af010e9" title="ceph_destroy_inode" alt="" coords="1148,60,1287,87"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a9932cb0bc0bc56c2d1ff11dd748002e3" title="remove_session_caps" alt="" coords="439,528,591,555"/>
<area shape="rect" id="node26" href="mds__client_8c.html#aecd52d2d17cb6a55a29e18c9f6dfca77" title="handle_session" alt="" coords="696,705,808,732"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="692,604,812,631"/>
<area shape="rect" id="node40" href="mds__client_8h.html#a90cd624d396cca56a05acaddd072cb3a" title="ceph_mdsc_close_sessions" alt="" coords="659,528,845,555"/>
<area shape="rect" id="node44" href="mds__client_8h.html#a679279e05084bf0e754dd17f41d7cbc7" title="ceph_mdsc_force_umount" alt="" coords="665,477,839,504"/>
<area shape="rect" id="node28" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="893,680,1084,707"/>
<area shape="rect" id="node29" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1135,895,1299,921"/>
<area shape="rect" id="node30" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1358,1148,1494,1175"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1378,1199,1474,1225"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1377,743,1475,769"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1379,793,1473,820"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1378,844,1474,871"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1375,895,1477,921"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1381,945,1471,972"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="1387,996,1465,1023"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1381,1047,1471,1073"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="1376,1097,1476,1124"/>
<area shape="rect" id="node41" href="ceph_2super_8c.html#a15c51fcac740dea8137ecb8576940b73" title="ceph_put_super" alt="" coords="931,528,1046,555"/>
<area shape="rect" id="node42" href="ceph_2super_8c.html#aeddaac48ffca0811a6d313d781210a27" title="ceph_mount" alt="" coords="942,579,1035,605"/>
<area shape="rect" id="node43" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="909,477,1068,504"/>
<area shape="rect" id="node45" href="ceph_2super_8c.html#a198721e3bf1761dc688fdfd203ccf568" title="ceph_umount_begin" alt="" coords="919,427,1058,453"/>
<area shape="rect" id="node47" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="458,731,573,757"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="685,756,819,783"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="915,629,1063,656"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="924,781,1053,808"/>
</map>
</div>

</div>
</div>
<a id="a363ce909719906dbb051956f48f2544d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a363ce909719906dbb051956f48f2544d">&#9670;&nbsp;</a></span>__ceph_should_report_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool __ceph_should_report_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a363ce909719906dbb051956f48f2544d_icgraph.png" border="0" usemap="#caps_8c_a363ce909719906dbb051956f48f2544d_icgraph" alt=""/></div>
<map name="caps_8c_a363ce909719906dbb051956f48f2544d_icgraph" id="caps_8c_a363ce909719906dbb051956f48f2544d_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a8ebada6fe958e0f71cb555c3f5bce413" title="ceph_inode_set_size" alt="" coords="877,414,1021,440"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1707,1199,1897,1226"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="233,920,360,947"/>
<area shape="rect" id="node3" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1497,110,1632,136"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1945,540,2101,567"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1085,920,1205,947"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1749,312,1855,339"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1069,718,1220,760"/>
<area shape="rect" id="node28" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="1088,515,1201,542"/>
<area shape="rect" id="node4" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1723,160,1881,187"/>
<area shape="rect" id="node5" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1952,160,2095,187"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2163,490,2270,516"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2161,718,2272,744"/>
<area shape="rect" id="node12" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1274,667,1417,694"/>
<area shape="rect" id="node13" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1286,616,1405,643"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1279,464,1411,491"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1268,718,1423,744"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1509,566,1620,592"/>
<area shape="rect" id="node22" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1737,414,1867,440"/>
<area shape="rect" id="node23" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1733,464,1871,491"/>
<area shape="rect" id="node16" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1987,1059,2060,1086"/>
<area shape="rect" id="node20" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1961,1250,2085,1276"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="2163,971,2270,998"/>
<area shape="rect" id="node18" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="2149,1022,2284,1064"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="2332,1030,2503,1056"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2151,1224,2282,1251"/>
<area shape="rect" id="node25" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1525,515,1605,542"/>
<area shape="rect" id="node26" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1471,363,1659,390"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1282,971,1409,998"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1303,1174,1388,1200"/>
<area shape="rect" id="node33" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="439,870,586,896"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="408,768,617,795"/>
<area shape="rect" id="node38" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="451,1528,574,1555"/>
<area shape="rect" id="node40" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="889,616,1009,643"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="419,1326,606,1352"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="423,1174,602,1200"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="437,414,589,440"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="1286,1478,1405,1504"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1499,1224,1630,1251"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="888,819,1011,846"/>
<area shape="rect" id="node36" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="669,819,826,846"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="693,718,801,744"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="909,1528,990,1555"/>
<area shape="rect" id="node42" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="677,1376,817,1403"/>
<area shape="rect" id="node43" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="679,1275,816,1302"/>
<area shape="rect" id="node44" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="686,1326,809,1352"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="696,1224,799,1251"/>
<area shape="rect" id="node48" href="ceph_2super_8c.html#a8cda3e3207900b5a737dffad0f073243" title="ceph_sync_fs" alt="" coords="696,414,799,440"/>
<area shape="rect" id="node49" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="665,363,829,390"/>
</map>
</div>

</div>
</div>
<a id="a67e4e74cdbc2c77f30be222b9e242858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e4e74cdbc2c77f30be222b9e242858">&#9670;&nbsp;</a></span>__check_cap_issue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __check_cap_issue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>issued</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a67e4e74cdbc2c77f30be222b9e242858_cgraph.png" border="0" usemap="#caps_8c_a67e4e74cdbc2c77f30be222b9e242858_cgraph" alt=""/></div>
<map name="caps_8c_a67e4e74cdbc2c77f30be222b9e242858_cgraph" id="caps_8c_a67e4e74cdbc2c77f30be222b9e242858_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="209,31,353,57"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a70e8735349909cd6a19f2c09888c42f9" title="__ceph_dir_clear_complete" alt="" coords="191,81,371,108"/>
<area shape="rect" id="node3" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="419,5,527,32"/>
<area shape="rect" id="node4" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="575,31,692,57"/>
<area shape="rect" id="node5" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="740,31,829,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a67e4e74cdbc2c77f30be222b9e242858_icgraph.png" border="0" usemap="#caps_8c_a67e4e74cdbc2c77f30be222b9e242858_icgraph" alt=""/></div>
<map name="caps_8c_a67e4e74cdbc2c77f30be222b9e242858_icgraph" id="caps_8c_a67e4e74cdbc2c77f30be222b9e242858_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="191,898,297,925"/>
<area shape="rect" id="node15" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1753,898,1877,925"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="345,674,419,701"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1493,847,1684,874"/>
<area shape="rect" id="node49" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="469,847,599,874"/>
<area shape="rect" id="node50" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="878,949,1009,975"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="681,674,788,701"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="467,541,601,583"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="649,535,820,562"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="868,513,1019,555"/>
<area shape="rect" id="node39" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1975,721,2070,747"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1280,138,1423,165"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1967,113,2078,139"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1067,546,1209,573"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1079,495,1197,522"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1072,442,1204,469"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1274,999,1429,1026"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1509,138,1668,165"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1737,138,1893,165"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1969,239,2076,266"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1285,645,1417,671"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1296,442,1407,469"/>
<area shape="rect" id="node27" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1549,594,1629,621"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1957,873,2088,899"/>
<area shape="rect" id="node17" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2185,783,2255,810"/>
<area shape="rect" id="node18" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2341,758,2551,785"/>
<area shape="rect" id="node19" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2357,809,2535,835"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2599,779,2741,806"/>
<area shape="rect" id="node24" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2599,831,2741,872"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2789,779,2925,806"/>
<area shape="rect" id="node22" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2986,783,3103,810"/>
<area shape="rect" id="node23" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2989,733,3100,759"/>
<area shape="rect" id="node25" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2798,838,2917,865"/>
<area shape="rect" id="node26" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="2973,838,3116,865"/>
<area shape="rect" id="node28" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1757,543,1874,570"/>
<area shape="rect" id="node30" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1535,391,1642,418"/>
<area shape="rect" id="node31" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1523,543,1654,570"/>
<area shape="rect" id="node32" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1519,341,1658,367"/>
<area shape="rect" id="node34" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1284,189,1419,215"/>
<area shape="rect" id="node35" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1257,594,1445,621"/>
<area shape="rect" id="node36" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1507,695,1671,722"/>
<area shape="rect" id="node40" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1507,645,1671,671"/>
<area shape="rect" id="node37" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1744,645,1887,671"/>
<area shape="rect" id="node38" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1748,695,1883,722"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1947,974,2099,1001"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1505,949,1672,975"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2147,999,2293,1026"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2151,949,2289,975"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1732,949,1899,975"/>
</map>
</div>

</div>
</div>
<a id="a5108bbacad06be2134fec92d5fccbcbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5108bbacad06be2134fec92d5fccbcbf">&#9670;&nbsp;</a></span>__finish_cap_flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool __finish_cap_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap__flush.html">ceph_cap_flush</a> *&#160;</td>
          <td class="paramname"><em>cf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a5108bbacad06be2134fec92d5fccbcbf_icgraph.png" border="0" usemap="#caps_8c_a5108bbacad06be2134fec92d5fccbcbf_icgraph" alt=""/></div>
<map name="caps_8c_a5108bbacad06be2134fec92d5fccbcbf_icgraph" id="caps_8c_a5108bbacad06be2134fec92d5fccbcbf_icgraph">
<area shape="rect" id="node2" href="caps_8c.html#a72f347ec4391b08b3c709c7c4fc984b6" title="handle_cap_flush_ack" alt="" coords="198,132,349,159"/>
<area shape="rect" id="node50" href="caps_8c.html#a7626108cc91a746cbc8484c120583cb4" title="handle_cap_flushsnap_ack" alt="" coords="184,183,363,209"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="411,157,541,184"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="589,157,780,184"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1642,715,1713,741"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="853,403,927,429"/>
<area shape="rect" id="node49" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="828,56,952,83"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1215,436,1321,463"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1000,479,1135,521"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1183,487,1353,513"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1401,429,1552,470"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1429,495,1524,521"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1836,461,1979,488"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2084,512,2195,539"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1606,411,1749,437"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1618,259,1737,285"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1611,309,1743,336"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1600,563,1755,589"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="2060,461,2219,488"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1841,5,1973,32"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1852,208,1963,235"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="2099,31,2179,57"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2086,303,2193,329"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2086,357,2193,384"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2074,183,2205,209"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2070,245,2209,272"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1840,411,1975,437"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1813,107,2001,133"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1831,563,1983,589"/>
<area shape="rect" id="node25" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1824,613,1991,640"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1803,715,2012,741"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1819,765,1996,792"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2068,689,2211,716"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="3056,809,3199,850"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2267,664,2403,691"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2451,613,2568,640"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2454,664,2565,691"/>
<area shape="rect" id="node33" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2638,395,2769,421"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2631,715,2776,741"/>
<area shape="rect" id="node35" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2839,765,3008,792"/>
<area shape="rect" id="node39" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2616,765,2791,792"/>
<area shape="rect" id="node40" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2848,483,2999,509"/>
<area shape="rect" id="node41" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="2620,613,2787,640"/>
<area shape="rect" id="node42" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2890,588,2957,615"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="2629,278,2778,319"/>
<area shape="rect" id="node44" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2846,337,3001,378"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="2635,446,2772,487"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="3247,816,3365,843"/>
<area shape="rect" id="node38" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3413,816,3556,843"/>
</map>
</div>

</div>
</div>
<a id="a3599ad9f5e90dfe60883ad06ff23447a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3599ad9f5e90dfe60883ad06ff23447a">&#9670;&nbsp;</a></span>__get_cap_for_mds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structceph__cap.html">ceph_cap</a>* __get_cap_for_mds </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a3599ad9f5e90dfe60883ad06ff23447a_icgraph.png" border="0" usemap="#caps_8c_a3599ad9f5e90dfe60883ad06ff23447a_icgraph" alt=""/></div>
<map name="caps_8c_a3599ad9f5e90dfe60883ad06ff23447a_icgraph" id="caps_8c_a3599ad9f5e90dfe60883ad06ff23447a_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#aea107c56ab60d0dd1c00ad9c5da4231b" title="ceph_get_cap_for_mds" alt="" coords="620,659,777,685"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2347,296,2478,323"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="1733,169,1839,196"/>
<area shape="rect" id="node46" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1943,220,2074,247"/>
<area shape="rect" id="node47" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1943,372,2074,399"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="189,325,376,352"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1913,296,2104,323"/>
<area shape="rect" id="node17" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="831,1056,995,1083"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="2177,60,2251,87"/>
<area shape="rect" id="node15" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="2152,321,2276,348"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="2581,9,2688,36"/>
<area shape="rect" id="node13" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="2345,53,2480,94"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="2549,60,2720,87"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="2768,15,2919,57"/>
<area shape="rect" id="node7" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2796,93,2891,120"/>
<area shape="rect" id="node8" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2967,1309,3037,1336"/>
<area shape="rect" id="node9" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="3085,1284,3295,1311"/>
<area shape="rect" id="node10" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="3101,1335,3279,1361"/>
<area shape="rect" id="node11" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="3343,1305,3485,1332"/>
<area shape="rect" id="node12" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="3343,1357,3485,1398"/>
<area shape="rect" id="node18" href="mds__client_8c.html#a3b08c16cb94bbaed452dcaef931456f4" title="__do_request" alt="" coords="1073,1081,1173,1108"/>
<area shape="rect" id="node44" href="mds__client_8c.html#a8aa7c135fe44b24f96e656d684e8d305" title="replay_unsafe_requests" alt="" coords="1043,1132,1203,1159"/>
<area shape="rect" id="node19" href="mds__client_8c.html#ad6c214255cffee41f51d230040601d24" title="__wake_requests" alt="" coords="1281,1335,1405,1361"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a662569f6a9d698f7df37951970f58b20" title="kick_requests" alt="" coords="1292,1132,1395,1159"/>
<area shape="rect" id="node28" href="mds__client_8h.html#aa5c5e0f0c721a71ac5eaa57b1621acaf" title="ceph_mdsc_submit_request" alt="" coords="1251,1081,1436,1108"/>
<area shape="rect" id="node29" href="mds__client_8h.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="1263,676,1423,703"/>
<area shape="rect" id="node43" href="mds__client_8c.html#a75af1e7965eb2afad36fa3831709cd75" title="handle_forward" alt="" coords="2159,1487,2269,1513"/>
<area shape="rect" id="node20" href="mds__client_8c.html#aecd52d2d17cb6a55a29e18c9f6dfca77" title="handle_session" alt="" coords="1515,1284,1627,1311"/>
<area shape="rect" id="node21" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="1498,1487,1645,1513"/>
<area shape="rect" id="node22" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1726,1436,1846,1463"/>
<area shape="rect" id="node23" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1913,1385,2104,1412"/>
<area shape="rect" id="node24" href="mds__client_8h.html#a679279e05084bf0e754dd17f41d7cbc7" title="ceph_mdsc_force_umount" alt="" coords="1484,1132,1659,1159"/>
<area shape="rect" id="node26" href="mds__client_8h.html#abee229f022194ee7d2acd035e0b21f24" title="ceph_mdsc_handle_fsmap" alt="" coords="2324,1335,2501,1361"/>
<area shape="rect" id="node25" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="1707,1081,1865,1108"/>
<area shape="rect" id="node30" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1503,524,1639,551"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1523,575,1619,601"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1524,625,1619,652"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1523,676,1619,703"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1520,727,1623,753"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1527,777,1616,804"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="1533,828,1610,855"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1526,372,1617,399"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="1521,423,1621,449"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="1508,473,1635,500"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1723,676,1849,703"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1529,321,1614,348"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1721,372,1851,399"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="424,322,567,363"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="615,709,783,736"/>
</map>
</div>

</div>
</div>
<a id="abdbe61407898cf516422dd4986fb3cec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdbe61407898cf516422dd4986fb3cec">&#9670;&nbsp;</a></span>__get_oldest_flush_tid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 __get_oldest_flush_tid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_abdbe61407898cf516422dd4986fb3cec_icgraph.png" border="0" usemap="#caps_8c_abdbe61407898cf516422dd4986fb3cec_icgraph" alt=""/></div>
<map name="caps_8c_abdbe61407898cf516422dd4986fb3cec_icgraph" id="caps_8c_abdbe61407898cf516422dd4986fb3cec_icgraph">
<area shape="rect" id="node2" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="236,968,377,995"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="478,968,605,995"/>
<area shape="rect" id="node42" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="231,1424,383,1451"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="205,1525,408,1552"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="457,1627,625,1653"/>
<area shape="rect" id="node50" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="456,1677,627,1704"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="1371,56,1497,83"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1973,1221,2164,1248"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1557,715,1689,741"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="1738,81,1925,108"/>
<area shape="rect" id="node22" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="1577,5,1669,32"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="2253,1221,2327,1248"/>
<area shape="rect" id="node6" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="2228,1627,2352,1653"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1764,867,1899,893"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2418,765,2525,792"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2416,461,2527,488"/>
<area shape="rect" id="node13" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2015,563,2122,589"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1791,613,1871,640"/>
<area shape="rect" id="node15" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2003,689,2134,716"/>
<area shape="rect" id="node16" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1999,816,2138,843"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1776,917,1887,944"/>
<area shape="rect" id="node18" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1737,715,1925,741"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1989,867,2148,893"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2212,613,2368,640"/>
<area shape="rect" id="node20" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="1999,107,2139,133"/>
<area shape="rect" id="node21" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="2000,56,2137,83"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1560,1069,1687,1096"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1581,1171,1666,1197"/>
<area shape="rect" id="node27" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1175,259,1295,285"/>
<area shape="rect" id="node28" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="948,613,1095,640"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="675,791,884,817"/>
<area shape="rect" id="node35" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="718,1272,841,1299"/>
<area shape="rect" id="node37" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="723,689,836,716"/>
<area shape="rect" id="node38" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1175,968,1295,995"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="932,1323,1111,1349"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="1159,1019,1311,1045"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="1564,1221,1683,1248"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1766,1221,1897,1248"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="1173,613,1296,640"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1359,657,1509,698"/>
<area shape="rect" id="node31" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1564,816,1683,843"/>
<area shape="rect" id="node33" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="943,765,1100,792"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="967,715,1075,741"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="1393,1297,1475,1324"/>
<area shape="rect" id="node43" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="1570,1424,1677,1451"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1787,1475,1876,1501"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1770,1424,1893,1451"/>
<area shape="rect" id="node47" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="468,1576,615,1603"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="719,1576,839,1603"/>
</map>
</div>

</div>
</div>
<a id="a691cfabb3a30f4cf2b352e5c0c93ef19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a691cfabb3a30f4cf2b352e5c0c93ef19">&#9670;&nbsp;</a></span>__insert_cap_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __insert_cap_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a691cfabb3a30f4cf2b352e5c0c93ef19_icgraph.png" border="0" usemap="#caps_8c_a691cfabb3a30f4cf2b352e5c0c93ef19_icgraph" alt=""/></div>
<map name="caps_8c_a691cfabb3a30f4cf2b352e5c0c93ef19_icgraph" id="caps_8c_a691cfabb3a30f4cf2b352e5c0c93ef19_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="184,880,291,907"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="339,699,412,725"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1487,785,1677,812"/>
<area shape="rect" id="node49" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="462,855,593,881"/>
<area shape="rect" id="node50" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="871,1069,1002,1096"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="675,699,781,725"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="460,555,595,597"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="643,560,813,587"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="861,550,1012,591"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1969,760,2063,787"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1273,127,1416,153"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1961,101,2071,128"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1060,604,1203,631"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1072,553,1191,580"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1065,431,1197,457"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1267,988,1422,1015"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1503,127,1661,153"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1731,127,1887,153"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1963,228,2069,255"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1279,684,1411,711"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1289,431,1400,457"/>
<area shape="rect" id="node24" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1542,583,1622,609"/>
<area shape="rect" id="node15" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1747,836,1871,863"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1951,912,2081,939"/>
<area shape="rect" id="node17" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2178,823,2249,849"/>
<area shape="rect" id="node18" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2335,797,2544,824"/>
<area shape="rect" id="node19" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2351,848,2528,875"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2592,819,2735,845"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2592,870,2735,911"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2783,819,2919,845"/>
<area shape="rect" id="node23" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2791,877,2910,904"/>
<area shape="rect" id="node25" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1750,431,1867,457"/>
<area shape="rect" id="node27" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1529,329,1635,356"/>
<area shape="rect" id="node28" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1517,380,1647,407"/>
<area shape="rect" id="node29" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1513,532,1651,559"/>
<area shape="rect" id="node31" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1277,177,1412,204"/>
<area shape="rect" id="node32" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1251,583,1439,609"/>
<area shape="rect" id="node33" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1500,684,1664,711"/>
<area shape="rect" id="node39" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1500,633,1664,660"/>
<area shape="rect" id="node34" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1737,583,1880,609"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1741,735,1876,761"/>
<area shape="rect" id="node37" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1744,684,1873,711"/>
<area shape="rect" id="node38" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1734,633,1883,660"/>
<area shape="rect" id="node40" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1741,481,1877,508"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1940,1013,2092,1040"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1499,988,1665,1015"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2140,1039,2287,1065"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2145,988,2282,1015"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1725,988,1892,1015"/>
</map>
</div>

</div>
</div>
<a id="af0722049a17a37d1b37e1e1875a28283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0722049a17a37d1b37e1e1875a28283">&#9670;&nbsp;</a></span>__kick_flushing_caps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __kick_flushing_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>oldest_flush_tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_af0722049a17a37d1b37e1e1875a28283_cgraph.png" border="0" usemap="#caps_8c_af0722049a17a37d1b37e1e1875a28283_cgraph" alt=""/></div>
<map name="caps_8c_af0722049a17a37d1b37e1e1875a28283_cgraph" id="caps_8c_af0722049a17a37d1b37e1e1875a28283_cgraph">
<area shape="rect" id="node2" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="241,107,307,133"/>
<area shape="rect" id="node3" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1487,259,1604,285"/>
<area shape="rect" id="node5" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="667,132,759,159"/>
<area shape="rect" id="node13" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1093,360,1228,387"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="200,636,348,663"/>
<area shape="rect" id="node49" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="645,208,780,235"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="205,687,343,713"/>
<area shape="rect" id="node4" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1652,259,1741,285"/>
<area shape="rect" id="node6" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="873,56,1011,83"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="901,208,983,235"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="857,5,1027,32"/>
<area shape="rect" id="node11" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="887,157,997,184"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1117,309,1205,336"/>
<area shape="rect" id="node10" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="1076,5,1245,32"/>
<area shape="rect" id="node12" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="1091,157,1230,184"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="396,788,568,815"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="415,839,549,865"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="623,421,803,448"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="427,889,537,916"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="415,535,549,561"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="405,585,559,612"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="415,737,549,764"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="407,636,557,663"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="400,687,564,713"/>
<area shape="rect" id="node18" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1313,411,1421,437"/>
<area shape="rect" id="node23" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1113,933,1208,960"/>
<area shape="rect" id="node24" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="616,1035,809,1061"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="655,892,770,919"/>
<area shape="rect" id="node46" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="633,737,792,764"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="896,1085,988,1112"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="869,1035,1015,1061"/>
<area shape="rect" id="node34" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="892,655,992,681"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="857,933,1027,960"/>
<area shape="rect" id="node28" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="1135,1136,1186,1163"/>
<area shape="rect" id="node31" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1139,1085,1182,1112"/>
<area shape="rect" id="node33" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1315,984,1418,1011"/>
<area shape="rect" id="node29" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="1338,1161,1395,1188"/>
<area shape="rect" id="node30" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1297,1111,1436,1137"/>
<area shape="rect" id="node32" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1329,1060,1404,1087"/>
<area shape="rect" id="node35" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1075,629,1247,656"/>
<area shape="rect" id="node36" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff" title="__ceph_caps_issued\l_other" alt="" coords="1089,462,1233,503"/>
<area shape="rect" id="node37" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1089,883,1232,909"/>
<area shape="rect" id="node40" href="dcache_8c.html#a12f52b8fa0d189193e7462423ca292ac" title="d_find_any_alias" alt="" coords="1101,731,1220,757"/>
<area shape="rect" id="node41" href="mds__client_8c.html#afbadfdaefad86c7e0d8514fe798efeba" title="drop_negative_children" alt="" coords="1083,781,1238,808"/>
<area shape="rect" id="node42" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1133,832,1188,859"/>
<area shape="rect" id="node43" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1343,629,1390,656"/>
<area shape="rect" id="node44" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="1103,579,1219,605"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="1303,908,1430,935"/>
<area shape="rect" id="node39" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="1295,857,1439,884"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_af0722049a17a37d1b37e1e1875a28283_icgraph.png" border="0" usemap="#caps_8c_af0722049a17a37d1b37e1e1875a28283_icgraph" alt=""/></div>
<map name="caps_8c_af0722049a17a37d1b37e1e1875a28283_icgraph" id="caps_8c_af0722049a17a37d1b37e1e1875a28283_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="1096,107,1223,133"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="238,791,365,817"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="200,1475,403,1501"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="471,1424,639,1451"/>
<area shape="rect" id="node50" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="216,1551,387,1577"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1699,1145,1889,1172"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1283,563,1415,589"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="1463,56,1650,83"/>
<area shape="rect" id="node23" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="1303,107,1395,133"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1979,1095,2052,1121"/>
<area shape="rect" id="node5" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1953,1196,2077,1223"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2141,1171,2272,1197"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1489,765,1624,792"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2153,715,2260,741"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2151,335,2262,361"/>
<area shape="rect" id="node13" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1741,411,1847,437"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1517,613,1597,640"/>
<area shape="rect" id="node15" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1729,487,1859,513"/>
<area shape="rect" id="node16" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1725,563,1863,589"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1501,664,1612,691"/>
<area shape="rect" id="node18" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1463,512,1651,539"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1715,765,1873,792"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1937,765,2093,792"/>
<area shape="rect" id="node20" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="1724,5,1864,32"/>
<area shape="rect" id="node21" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="1725,56,1863,83"/>
<area shape="rect" id="node22" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="1733,107,1855,133"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a53c2eb47ed109b2711cc7c57f8d07c7e" title="ceph_handle_snap" alt="" coords="1491,107,1622,133"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1285,867,1412,893"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1306,1373,1391,1400"/>
<area shape="rect" id="node29" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="915,208,1035,235"/>
<area shape="rect" id="node30" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="713,411,860,437"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="451,613,660,640"/>
<area shape="rect" id="node37" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="494,1019,617,1045"/>
<area shape="rect" id="node39" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="499,411,612,437"/>
<area shape="rect" id="node40" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="915,715,1035,741"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="466,1069,645,1096"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="479,1171,631,1197"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="1289,1272,1408,1299"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1491,1323,1622,1349"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="913,461,1036,488"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1084,563,1235,605"/>
<area shape="rect" id="node33" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1289,664,1408,691"/>
<area shape="rect" id="node35" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="708,461,865,488"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="733,613,841,640"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="1119,1031,1200,1057"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="735,1120,838,1147"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#a8cda3e3207900b5a737dffad0f073243" title="ceph_sync_fs" alt="" coords="735,1221,838,1248"/>
<area shape="rect" id="node47" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="482,1475,629,1501"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="727,1475,847,1501"/>
</map>
</div>

</div>
</div>
<a id="aa36f2019c9ab4e108e9ba7a9cb49b1e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36f2019c9ab4e108e9ba7a9cb49b1e9">&#9670;&nbsp;</a></span>__mark_caps_flushing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __mark_caps_flushing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wake</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>flush_tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>oldest_flush_tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aa36f2019c9ab4e108e9ba7a9cb49b1e9_cgraph.png" border="0" usemap="#caps_8c_aa36f2019c9ab4e108e9ba7a9cb49b1e9_cgraph" alt=""/></div>
<map name="caps_8c_aa36f2019c9ab4e108e9ba7a9cb49b1e9_cgraph" id="caps_8c_aa36f2019c9ab4e108e9ba7a9cb49b1e9_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="218,5,345,32"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="237,56,325,83"/>
<area shape="rect" id="node4" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="223,107,340,133"/>
<area shape="rect" id="node6" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="205,157,357,184"/>
<area shape="rect" id="node5" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="405,107,495,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aa36f2019c9ab4e108e9ba7a9cb49b1e9_icgraph.png" border="0" usemap="#caps_8c_aa36f2019c9ab4e108e9ba7a9cb49b1e9_icgraph" alt=""/></div>
<map name="caps_8c_aa36f2019c9ab4e108e9ba7a9cb49b1e9_icgraph" id="caps_8c_aa36f2019c9ab4e108e9ba7a9cb49b1e9_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="205,697,332,723"/>
<area shape="rect" id="node48" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="1235,1583,1342,1610"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1225,671,1352,698"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1639,1077,1829,1103"/>
<area shape="rect" id="node6" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1893,1153,2017,1179"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2091,241,2202,267"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1681,317,1787,343"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1246,950,1331,977"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1429,165,1564,191"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1877,215,2033,242"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1039,63,1159,90"/>
<area shape="rect" id="node20" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="411,418,558,445"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1223,443,1355,470"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="380,519,589,546"/>
<area shape="rect" id="node30" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="851,722,974,749"/>
<area shape="rect" id="node32" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="428,975,541,1002"/>
<area shape="rect" id="node33" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="853,621,973,647"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="391,1229,578,1255"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="395,1381,574,1407"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="409,1533,561,1559"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="425,925,544,951"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1441,671,1552,698"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1919,1102,1992,1129"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2081,1102,2212,1129"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2093,469,2200,495"/>
<area shape="rect" id="node12" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1669,519,1799,546"/>
<area shape="rect" id="node13" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1665,621,1803,647"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1431,1026,1562,1053"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1655,165,1813,191"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="851,418,974,445"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1024,461,1175,503"/>
<area shape="rect" id="node23" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1229,570,1348,597"/>
<area shape="rect" id="node25" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1457,367,1537,394"/>
<area shape="rect" id="node26" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1403,418,1591,445"/>
<area shape="rect" id="node28" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="641,418,798,445"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="665,519,773,546"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="1059,722,1140,749"/>
<area shape="rect" id="node35" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="649,1229,789,1255"/>
<area shape="rect" id="node36" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="651,1279,788,1306"/>
<area shape="rect" id="node37" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="658,1330,781,1357"/>
<area shape="rect" id="node39" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="668,1431,771,1458"/>
<area shape="rect" id="node41" href="ceph_2super_8c.html#a8cda3e3207900b5a737dffad0f073243" title="ceph_sync_fs" alt="" coords="861,1583,964,1610"/>
<area shape="rect" id="node42" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="637,1583,801,1610"/>
<area shape="rect" id="node43" href="mds__client_8h.html#a2cdaf6b1bd65bdb7a17c4b7a4a9a3881" title="ceph_mdsc_sync" alt="" coords="657,1634,781,1661"/>
<area shape="rect" id="node45" href="ceph_2file_8c.html#a1ea7f45cf27ad466c8e8ff8cee7eb1c0" title="ceph_init_file_info" alt="" coords="849,975,976,1002"/>
<area shape="rect" id="node46" href="ceph_2file_8c.html#a8565051b9159dbbbf9be51f9e9414e51" title="ceph_init_file" alt="" coords="1050,938,1149,965"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="670,925,769,951"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1452,1533,1541,1559"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1435,1583,1558,1610"/>
</map>
</div>

</div>
</div>
<a id="a309eeb79bf13e09946de9d0efdee5fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309eeb79bf13e09946de9d0efdee5fb4">&#9670;&nbsp;</a></span>__send_cap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __send_cap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sync</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>want</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flushing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flush_tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>oldest_flush_tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; ci-&gt;i_ceph_lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a309eeb79bf13e09946de9d0efdee5fb4_cgraph.png" border="0" usemap="#caps_8c_a309eeb79bf13e09946de9d0efdee5fb4_cgraph" alt=""/></div>
<map name="caps_8c_a309eeb79bf13e09946de9d0efdee5fb4_cgraph" id="caps_8c_a309eeb79bf13e09946de9d0efdee5fb4_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="389,12,506,39"/>
<area shape="rect" id="node4" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="161,38,299,64"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="189,139,271,166"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="145,190,315,216"/>
<area shape="rect" id="node9" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="175,88,285,115"/>
<area shape="rect" id="node3" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="580,12,669,39"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="403,139,491,166"/>
<area shape="rect" id="node8" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="363,190,532,216"/>
<area shape="rect" id="node10" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="378,88,517,115"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a309eeb79bf13e09946de9d0efdee5fb4_icgraph.png" border="0" usemap="#caps_8c_a309eeb79bf13e09946de9d0efdee5fb4_icgraph" alt=""/></div>
<map name="caps_8c_a309eeb79bf13e09946de9d0efdee5fb4_icgraph" id="caps_8c_a309eeb79bf13e09946de9d0efdee5fb4_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="378,708,505,735"/>
<area shape="rect" id="node43" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="1511,1570,1617,1596"/>
<area shape="rect" id="node46" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="145,1418,292,1444"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1501,708,1627,735"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1941,1240,2132,1267"/>
<area shape="rect" id="node6" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="2196,1531,2320,1558"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2394,139,2505,166"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1983,303,2090,330"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1521,1164,1607,1191"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1732,252,1867,279"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2180,176,2336,203"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1079,50,1199,76"/>
<area shape="rect" id="node20" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="853,404,1000,431"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1498,506,1630,532"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="591,556,800,583"/>
<area shape="rect" id="node30" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="634,1240,757,1267"/>
<area shape="rect" id="node32" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="639,303,752,330"/>
<area shape="rect" id="node33" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1287,375,1407,402"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="1471,1038,1657,1064"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="606,759,785,786"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="619,911,771,938"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="1505,1215,1623,1242"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1744,404,1855,431"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="2221,1240,2295,1267"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2384,1506,2515,1532"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2396,404,2503,431"/>
<area shape="rect" id="node12" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1971,455,2102,482"/>
<area shape="rect" id="node13" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1967,506,2106,532"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1734,1215,1865,1242"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1957,202,2116,228"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="1077,455,1200,482"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1272,448,1423,489"/>
<area shape="rect" id="node23" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1505,455,1623,482"/>
<area shape="rect" id="node25" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1759,658,1839,684"/>
<area shape="rect" id="node26" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1705,708,1893,735"/>
<area shape="rect" id="node28" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="848,455,1005,482"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="873,607,981,634"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="1098,1342,1179,1368"/>
<area shape="rect" id="node35" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="1729,1012,1869,1039"/>
<area shape="rect" id="node36" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="1731,1063,1868,1090"/>
<area shape="rect" id="node37" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="1738,962,1861,988"/>
<area shape="rect" id="node39" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="875,759,978,786"/>
<area shape="rect" id="node41" href="ceph_2super_8c.html#a8cda3e3207900b5a737dffad0f073243" title="ceph_sync_fs" alt="" coords="875,962,978,988"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1755,1570,1844,1596"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1738,1519,1861,1546"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="1284,1076,1411,1103"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="340,1468,543,1495"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="357,1418,525,1444"/>
<area shape="rect" id="node50" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="1053,1671,1224,1698"/>
</map>
</div>

</div>
</div>
<a id="a961185677a43a7b232f84483351b4c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a961185677a43a7b232f84483351b4c91">&#9670;&nbsp;</a></span>__send_flush_snap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __send_flush_snap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap__snap.html">ceph_cap_snap</a> *&#160;</td>
          <td class="paramname"><em>capsnap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>mseq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>oldest_flush_tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a961185677a43a7b232f84483351b4c91_cgraph.png" border="0" usemap="#caps_8c_a961185677a43a7b232f84483351b4c91_cgraph" alt=""/></div>
<map name="caps_8c_a961185677a43a7b232f84483351b4c91_cgraph" id="caps_8c_a961185677a43a7b232f84483351b4c91_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="203,5,284,32"/>
<area shape="rect" id="node4" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="188,56,299,83"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="372,5,460,32"/>
<area shape="rect" id="node5" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="347,56,485,83"/>
<area shape="rect" id="node6" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="357,107,475,133"/>
<area shape="rect" id="node7" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="533,107,623,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a961185677a43a7b232f84483351b4c91_icgraph.png" border="0" usemap="#caps_8c_a961185677a43a7b232f84483351b4c91_icgraph" alt=""/></div>
<map name="caps_8c_a961185677a43a7b232f84483351b4c91_icgraph" id="caps_8c_a961185677a43a7b232f84483351b4c91_icgraph">
<area shape="rect" id="node2" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="191,1352,332,1379"/>
<area shape="rect" id="node45" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="188,1428,335,1455"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="421,1352,547,1379"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="421,756,547,783"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1968,1035,2159,1061"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1552,503,1684,529"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="891,1301,1077,1328"/>
<area shape="rect" id="node24" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="692,1352,784,1379"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="2248,1035,2321,1061"/>
<area shape="rect" id="node6" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="2223,984,2347,1011"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2411,1035,2541,1061"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1759,249,1893,276"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2423,452,2529,479"/>
<area shape="rect" id="node13" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2421,187,2531,213"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2010,351,2117,377"/>
<area shape="rect" id="node15" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1786,655,1866,681"/>
<area shape="rect" id="node16" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1998,503,2129,529"/>
<area shape="rect" id="node17" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1994,553,2133,580"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1771,401,1881,428"/>
<area shape="rect" id="node19" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1732,503,1920,529"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1984,249,2143,276"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2207,224,2363,251"/>
<area shape="rect" id="node21" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="1145,1263,1285,1289"/>
<area shape="rect" id="node22" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="1146,1313,1283,1340"/>
<area shape="rect" id="node23" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="1153,1364,1276,1391"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a53c2eb47ed109b2711cc7c57f8d07c7e" title="ceph_handle_snap" alt="" coords="919,1352,1049,1379"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1555,756,1681,783"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1575,959,1661,985"/>
<area shape="rect" id="node30" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1368,47,1488,73"/>
<area shape="rect" id="node31" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="911,579,1057,605"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="633,477,843,504"/>
<area shape="rect" id="node38" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="677,1111,799,1137"/>
<area shape="rect" id="node40" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="681,604,795,631"/>
<area shape="rect" id="node41" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1368,573,1488,600"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="1125,1161,1304,1188"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="1352,857,1504,884"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="1559,1060,1677,1087"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1761,1009,1891,1036"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="1153,477,1276,504"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1353,427,1503,469"/>
<area shape="rect" id="node34" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1559,401,1677,428"/>
<area shape="rect" id="node36" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="905,477,1063,504"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="930,528,1038,555"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="1387,1111,1469,1137"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="383,1516,585,1543"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="654,1465,822,1492"/>
<area shape="rect" id="node50" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="399,1592,569,1619"/>
<area shape="rect" id="node47" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="665,1516,811,1543"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="924,1516,1044,1543"/>
</map>
</div>

</div>
</div>
<a id="a7b133dd4cf88c7ec0f8ece1d528e6ca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b133dd4cf88c7ec0f8ece1d528e6ca7">&#9670;&nbsp;</a></span>__take_cap_refs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __take_cap_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>got</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>snap_rwsem_locked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a7b133dd4cf88c7ec0f8ece1d528e6ca7_cgraph.png" border="0" usemap="#caps_8c_a7b133dd4cf88c7ec0f8ece1d528e6ca7_cgraph" alt=""/></div>
<map name="caps_8c_a7b133dd4cf88c7ec0f8ece1d528e6ca7_cgraph" id="caps_8c_a7b133dd4cf88c7ec0f8ece1d528e6ca7_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="172,5,221,32"/>
<area shape="rect" id="node3" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="269,5,408,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a7b133dd4cf88c7ec0f8ece1d528e6ca7_icgraph.png" border="0" usemap="#caps_8c_a7b133dd4cf88c7ec0f8ece1d528e6ca7_icgraph" alt=""/></div>
<map name="caps_8c_a7b133dd4cf88c7ec0f8ece1d528e6ca7_icgraph" id="caps_8c_a7b133dd4cf88c7ec0f8ece1d528e6ca7_icgraph">
<area shape="rect" id="node2" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="580,56,699,83"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a411cba14144ccc6cbedfe602a4a87208" title="ceph_get_cap_refs" alt="" coords="172,196,304,223"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="779,56,911,83"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="789,512,900,539"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1157,411,1348,437"/>
<area shape="rect" id="node11" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1000,5,1080,32"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1421,352,1495,379"/>
<area shape="rect" id="node9" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1396,461,1520,488"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1582,293,1689,320"/>
<area shape="rect" id="node7" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1568,395,1703,437"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1751,373,1921,400"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1570,461,1701,488"/>
<area shape="rect" id="node12" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1194,5,1311,32"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="987,461,1093,488"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="985,360,1095,387"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="987,563,1093,589"/>
<area shape="rect" id="node17" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="975,664,1105,691"/>
<area shape="rect" id="node18" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="971,613,1109,640"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="767,360,923,387"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="352,824,512,851"/>
<area shape="rect" id="node22" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="571,171,707,197"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="591,925,687,952"/>
<area shape="rect" id="node26" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="592,824,687,851"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="992,871,1088,897"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="989,765,1091,792"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="995,951,1085,977"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="975,715,1105,741"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="601,1027,678,1053"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="594,1077,685,1104"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="589,1128,689,1155"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="576,1179,703,1205"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="576,388,703,415"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="802,411,887,437"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="585,236,693,263"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="575,439,704,465"/>
<area shape="rect" id="node42" href="ceph_2super_8c.html#aeb84ba4e574a0ccfe88118ac0aab3db8" title="open_root_dentry" alt="" coords="578,1229,701,1256"/>
<area shape="rect" id="node43" href="ceph_2export_8c.html#acb66f1d257f6a1a905c5aa123a008380" title="__fh_to_dentry" alt="" coords="585,1280,693,1307"/>
<area shape="rect" id="node44" href="ceph_2export_8c.html#a287c01c9981c228d57018655aa26683d" title="__get_parent" alt="" coords="591,1331,688,1357"/>
<area shape="rect" id="node45" href="ceph_2export_8c.html#a6b823e0df63107bb4bcd2ba9e61e8413" title="ceph_get_name" alt="" coords="582,1381,697,1408"/>
<area shape="rect" id="node46" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="565,1432,713,1459"/>
<area shape="rect" id="node47" href="ceph_2ioctl_8c.html#a49d67c9da9db732a007054d42737d71b" title="ceph_ioctl_set_layout\l_policy" alt="" coords="565,490,713,531"/>
<area shape="rect" id="node48" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386" title="ceph_lock_message" alt="" coords="774,620,915,647"/>
<area shape="rect" id="node49" href="ceph_2locks_8c.html#aa1669cd0c0b97c914a01f9a46085c4e4" title="ceph_lock_wait_for\l_completion" alt="" coords="572,555,707,597"/>
<area shape="rect" id="node50" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="560,723,719,749"/>
<area shape="rect" id="node23" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="787,157,902,184"/>
<area shape="rect" id="node24" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="991,183,1089,209"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a1239ec0e7ceee3610c92354759959587" title="ceph_handle_notrace\l_create" alt="" coords="772,809,917,850"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#ae07bbb2d72e579c15dfb87b49993b011" title="ceph_create" alt="" coords="1206,871,1299,897"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="797,259,892,285"/>
</map>
</div>

</div>
</div>
<a id="aba9fdf4d7e2830f3179d4ead0bac94f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba9fdf4d7e2830f3179d4ead0bac94f4">&#9670;&nbsp;</a></span>__touch_cap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __touch_cap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aba9fdf4d7e2830f3179d4ead0bac94f4_icgraph.png" border="0" usemap="#caps_8c_aba9fdf4d7e2830f3179d4ead0bac94f4_icgraph" alt=""/></div>
<map name="caps_8c_aba9fdf4d7e2830f3179d4ead0bac94f4_icgraph" id="caps_8c_aba9fdf4d7e2830f3179d4ead0bac94f4_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a8e0de74dcc174711bc6306d4e08c25c5" title="__ceph_caps_issued_mask" alt="" coords="149,360,332,387"/>
<area shape="rect" id="node3" href="ceph_2acl_8c.html#af40d8673f712df9ef4b0d28d10bb8c48" title="ceph_set_cached_acl" alt="" coords="1447,157,1595,184"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="605,259,719,285"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="980,183,1137,209"/>
<area shape="rect" id="node16" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="1009,816,1109,843"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="417,360,513,387"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="806,309,901,336"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#a6eea008aa0a63a93ebd71995d10af330" title="dir_lease_is_valid" alt="" coords="402,461,527,488"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="1819,411,1991,437"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#ad77b538bbe5ac1e6ac1504da2bde1406" title="ceph_caps_issued_mask" alt="" coords="380,917,549,944"/>
<area shape="rect" id="node4" href="ceph_2acl_8c.html#aa2f69a270106b3d43012aff8fc78d254" title="ceph_get_acl" alt="" coords="1660,183,1759,209"/>
<area shape="rect" id="node5" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1660,360,1759,387"/>
<area shape="rect" id="node6" href="ceph_2acl_8c.html#aea149d59b876a955a4a6d9e3ec3cd627" title="ceph_init_inode_acls" alt="" coords="2040,67,2183,93"/>
<area shape="rect" id="node7" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="2272,5,2368,32"/>
<area shape="rect" id="node9" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="2275,56,2365,83"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="2255,107,2385,133"/>
<area shape="rect" id="node8" href="ceph_2dir_8c.html#ae07bbb2d72e579c15dfb87b49993b011" title="ceph_create" alt="" coords="2505,5,2598,32"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="2456,360,2647,387"/>
<area shape="rect" id="node13" href="ceph_2xattr_8c.html#a9016930d59c9e9169edc1a70c87fb411" title="ceph_get_xattr_handler" alt="" coords="775,208,932,235"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="796,664,911,691"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2496,809,2607,836"/>
<area shape="rect" id="node27" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="1013,613,1104,640"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="999,664,1119,691"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="1011,765,1106,792"/>
<area shape="rect" id="node30" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="985,563,1133,589"/>
<area shape="rect" id="node32" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="985,512,1133,539"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="1185,791,1395,817"/>
<area shape="rect" id="node18" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="1443,765,1600,792"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1829,851,1980,893"/>
<area shape="rect" id="node22" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="2052,909,2171,936"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="1467,461,1575,488"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="1648,765,1771,792"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="2265,909,2375,936"/>
<area shape="rect" id="node24" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2498,947,2605,973"/>
<area shape="rect" id="node25" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2486,1073,2617,1100"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="1249,563,1331,589"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a1239ec0e7ceee3610c92354759959587" title="ceph_handle_notrace\l_create" alt="" coords="2039,139,2184,181"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="2269,157,2371,184"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="599,461,725,488"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="2048,613,2175,640"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="2069,259,2154,285"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="2040,411,2183,437"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#aca3135e93d8f4b8e084194afc73d55d2" title="ceph_queue_caps_release" alt="" coords="2232,360,2408,387"/>
<area shape="rect" id="node44" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="2255,512,2385,539"/>
<area shape="rect" id="node45" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="2255,563,2385,589"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="2233,411,2407,437"/>
<area shape="rect" id="node47" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="2270,461,2370,488"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="597,968,727,995"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a1dd55cfc1a5452a770c738001fdb2a1a" title="ceph_uninline_data" alt="" coords="2253,715,2387,741"/>
</map>
</div>

</div>
</div>
<a id="aacd62e121ebb5e03853b0c8450e94c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacd62e121ebb5e03853b0c8450e94c8f">&#9670;&nbsp;</a></span>caps_are_flushed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int caps_are_flushed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flush_tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aacd62e121ebb5e03853b0c8450e94c8f_cgraph.png" border="0" usemap="#caps_8c_aacd62e121ebb5e03853b0c8450e94c8f_cgraph" alt=""/></div>
<map name="caps_8c_aacd62e121ebb5e03853b0c8450e94c8f_cgraph" id="caps_8c_aacd62e121ebb5e03853b0c8450e94c8f_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="177,5,265,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aacd62e121ebb5e03853b0c8450e94c8f_icgraph.png" border="0" usemap="#caps_8c_aacd62e121ebb5e03853b0c8450e94c8f_icgraph" alt=""/></div>
<map name="caps_8c_aacd62e121ebb5e03853b0c8450e94c8f_icgraph" id="caps_8c_aacd62e121ebb5e03853b0c8450e94c8f_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="194,664,283,691"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="177,613,300,640"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="348,613,539,640"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="587,335,660,361"/>
<area shape="rect" id="node49" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="713,5,837,32"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="923,360,1029,387"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="708,298,843,339"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="891,276,1061,303"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1109,353,1260,394"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2191,233,2286,260"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1533,1019,1676,1045"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2183,791,2294,817"/>
<area shape="rect" id="node12" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1314,309,1457,336"/>
<area shape="rect" id="node13" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1326,563,1445,589"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1319,715,1451,741"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1308,157,1463,184"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1751,1019,1909,1045"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1961,867,2117,893"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2185,917,2292,944"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1539,613,1671,640"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1549,816,1660,843"/>
<area shape="rect" id="node15" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1790,664,1870,691"/>
<area shape="rect" id="node16" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1981,715,2098,741"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1777,765,1883,792"/>
<area shape="rect" id="node19" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1765,917,1895,944"/>
<area shape="rect" id="node20" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1761,968,1899,995"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1537,968,1672,995"/>
<area shape="rect" id="node23" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1511,563,1699,589"/>
<area shape="rect" id="node24" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1748,461,1912,488"/>
<area shape="rect" id="node37" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1748,563,1912,589"/>
<area shape="rect" id="node25" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1968,512,2111,539"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1972,360,2107,387"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1975,411,2104,437"/>
<area shape="rect" id="node36" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1965,461,2114,488"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2360,132,2431,159"/>
<area shape="rect" id="node29" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2479,107,2688,133"/>
<area shape="rect" id="node30" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2495,157,2672,184"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2736,128,2879,155"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2736,179,2879,221"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2927,128,3063,155"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2935,187,3054,213"/>
<area shape="rect" id="node38" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1971,664,2107,691"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1991,613,2087,640"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1963,107,2115,133"/>
<area shape="rect" id="node44" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1521,157,1688,184"/>
<area shape="rect" id="node42" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2165,157,2312,184"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2170,107,2307,133"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1747,157,1913,184"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1974,56,2105,83"/>
</map>
</div>

</div>
</div>
<a id="a15095a42706db3f23498c2815247bf00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15095a42706db3f23498c2815247bf00">&#9670;&nbsp;</a></span>ceph_add_cap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_add_cap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>cap_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>issued</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>wanted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mseq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>realmino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> **&#160;</td>
          <td class="paramname"><em>new_cap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a15095a42706db3f23498c2815247bf00_cgraph.png" border="0" usemap="#caps_8c_a15095a42706db3f23498c2815247bf00_cgraph" alt=""/></div>
<map name="caps_8c_a15095a42706db3f23498c2815247bf00_cgraph" id="caps_8c_a15095a42706db3f23498c2815247bf00_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="173,203,317,229"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1102,5,1190,32"/>
<area shape="rect" id="node4" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1440,857,1557,884"/>
<area shape="rect" id="node6" href="caps_8c.html#a3599ad9f5e90dfe60883ad06ff23447a" title="__get_cap_for_mds" alt="" coords="177,355,313,381"/>
<area shape="rect" id="node7" href="caps_8c.html#a691cfabb3a30f4cf2b352e5c0c93ef19" title="__insert_cap_node" alt="" coords="179,405,310,432"/>
<area shape="rect" id="node8" href="snap_8c.html#a43b10cceea1ba2024e6ac2ba62e282bb" title="ceph_lookup_snap_realm" alt="" coords="160,253,329,280"/>
<area shape="rect" id="node13" href="snap_8c.html#ae9ac43ce9abdb99a0bb0135fe43954b3" title="ceph_put_snap_realm" alt="" coords="170,304,319,331"/>
<area shape="rect" id="node14" href="caps_8c.html#a67e4e74cdbc2c77f30be222b9e242858" title="__check_cap_issue" alt="" coords="855,933,992,960"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="171,583,319,609"/>
<area shape="rect" id="node48" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="171,984,319,1011"/>
<area shape="rect" id="node50" href="caps_8c.html#a534a1ab7f2261195c99d0bf016ae9fa8" title="__ceph_get_fmode" alt="" coords="179,1035,311,1061"/>
<area shape="rect" id="node5" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1605,857,1695,884"/>
<area shape="rect" id="node9" href="snap_8c.html#aa8cd14d150cfb8551268d9f86a4b24d0" title="__lookup_snap_realm" alt="" coords="389,152,537,179"/>
<area shape="rect" id="node10" href="snap_8c.html#ae41605a2af96976e679fb699702ca087" title="ceph_get_snap_realm" alt="" coords="389,203,538,229"/>
<area shape="rect" id="node11" href="snap_8c.html#a4aa6fffea265bc4b4e8dcf02e2406267" title="__put_snap_realm" alt="" coords="399,253,527,280"/>
<area shape="rect" id="node12" href="snap_8c.html#ace64bb84634490493f6e0f0f4e88ad28" title="__destroy_snap_realm" alt="" coords="617,253,771,280"/>
<area shape="rect" id="node15" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="1074,933,1218,960"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a70e8735349909cd6a19f2c09888c42f9" title="__ceph_dir_clear_complete" alt="" coords="1056,984,1236,1011"/>
<area shape="rect" id="node16" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1284,832,1392,859"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="377,608,549,635"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="396,659,531,685"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="604,832,784,859"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="409,760,518,787"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="397,405,530,432"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="386,456,541,483"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="396,709,531,736"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="389,507,538,533"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="381,557,545,584"/>
<area shape="rect" id="node26" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1099,781,1193,808"/>
<area shape="rect" id="node27" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="597,481,791,508"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="637,655,751,681"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="615,709,773,736"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="877,357,969,384"/>
<area shape="rect" id="node30" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="851,637,996,664"/>
<area shape="rect" id="node34" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="873,408,973,435"/>
<area shape="rect" id="node44" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="839,731,1008,757"/>
<area shape="rect" id="node31" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="1121,680,1171,707"/>
<area shape="rect" id="node32" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1125,629,1167,656"/>
<area shape="rect" id="node33" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1287,579,1389,605"/>
<area shape="rect" id="node35" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1079,208,1213,235"/>
<area shape="rect" id="node36" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1060,259,1232,285"/>
<area shape="rect" id="node37" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff" title="__ceph_caps_issued\l_other" alt="" coords="1074,513,1218,554"/>
<area shape="rect" id="node38" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1075,461,1217,488"/>
<area shape="rect" id="node39" href="dcache_8c.html#a12f52b8fa0d189193e7462423ca292ac" title="d_find_any_alias" alt="" coords="1087,309,1205,336"/>
<area shape="rect" id="node40" href="mds__client_8c.html#afbadfdaefad86c7e0d8514fe798efeba" title="drop_negative_children" alt="" coords="1069,360,1223,387"/>
<area shape="rect" id="node41" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1119,107,1173,133"/>
<area shape="rect" id="node42" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1315,107,1361,133"/>
<area shape="rect" id="node43" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="1088,56,1204,83"/>
<area shape="rect" id="node49" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="394,984,533,1011"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a15095a42706db3f23498c2815247bf00_icgraph.png" border="0" usemap="#caps_8c_a15095a42706db3f23498c2815247bf00_icgraph" alt=""/></div>
<map name="caps_8c_a15095a42706db3f23498c2815247bf00_icgraph" id="caps_8c_a15095a42706db3f23498c2815247bf00_icgraph">
<area shape="rect" id="node2" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="160,734,233,760"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1308,843,1499,870"/>
<area shape="rect" id="node49" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="283,970,414,996"/>
<area shape="rect" id="node50" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="693,1071,823,1098"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="496,734,603,760"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="281,573,416,614"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="464,576,635,603"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="683,565,833,606"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1790,742,1885,768"/>
<area shape="rect" id="node5" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1095,134,1237,160"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1782,108,1893,135"/>
<area shape="rect" id="node10" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="881,615,1024,642"/>
<area shape="rect" id="node11" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="893,564,1012,591"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="887,438,1019,464"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1089,944,1243,971"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1324,134,1483,160"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1552,134,1708,160"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1784,184,1891,211"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1100,640,1232,667"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1111,438,1221,464"/>
<area shape="rect" id="node23" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1363,539,1443,566"/>
<area shape="rect" id="node14" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1568,843,1692,870"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1772,919,1903,946"/>
<area shape="rect" id="node16" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1999,868,2070,895"/>
<area shape="rect" id="node17" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2156,843,2365,870"/>
<area shape="rect" id="node18" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2172,894,2349,920"/>
<area shape="rect" id="node19" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2413,864,2556,891"/>
<area shape="rect" id="node21" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2413,916,2556,957"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2604,864,2740,891"/>
<area shape="rect" id="node22" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2613,923,2731,950"/>
<area shape="rect" id="node24" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1571,387,1689,414"/>
<area shape="rect" id="node26" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1350,286,1457,312"/>
<area shape="rect" id="node27" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1338,336,1469,363"/>
<area shape="rect" id="node28" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1334,488,1473,515"/>
<area shape="rect" id="node30" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1099,235,1233,262"/>
<area shape="rect" id="node31" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1072,590,1260,616"/>
<area shape="rect" id="node32" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1321,640,1485,667"/>
<area shape="rect" id="node38" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1321,590,1485,616"/>
<area shape="rect" id="node33" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1559,590,1701,616"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1563,691,1697,718"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1565,742,1695,768"/>
<area shape="rect" id="node37" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1555,640,1705,667"/>
<area shape="rect" id="node39" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1562,488,1698,515"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1582,539,1678,566"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1761,1020,1913,1047"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1320,944,1487,971"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="1961,1046,2108,1072"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="1966,995,2103,1022"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1547,944,1713,971"/>
</map>
</div>

</div>
</div>
<a id="a9f4c120b3687dc1d6292006a41a2cfdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f4c120b3687dc1d6292006a41a2cfdc">&#9670;&nbsp;</a></span>ceph_adjust_min_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_adjust_min_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a9f4c120b3687dc1d6292006a41a2cfdc_icgraph.png" border="0" usemap="#caps_8c_a9f4c120b3687dc1d6292006a41a2cfdc_icgraph" alt=""/></div>
<map name="caps_8c_a9f4c120b3687dc1d6292006a41a2cfdc_icgraph" id="caps_8c_a9f4c120b3687dc1d6292006a41a2cfdc_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="208,1221,356,1248"/>
<area shape="rect" id="node46" href="mds__client_8h.html#ace5b628cb3ad36ba876c1792e2922d81" title="ceph_mdsc_init" alt="" coords="1132,1528,1245,1555"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="1135,93,1242,120"/>
<area shape="rect" id="node9" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1591,144,1715,171"/>
<area shape="rect" id="node13" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="889,1259,996,1285"/>
<area shape="rect" id="node16" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="404,1056,551,1083"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="408,1331,547,1373"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="849,1440,1036,1467"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="417,1183,537,1209"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1617,1005,1690,1032"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1341,1005,1532,1032"/>
<area shape="rect" id="node11" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1588,5,1719,32"/>
<area shape="rect" id="node12" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1588,68,1719,95"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1789,1085,1895,1112"/>
<area shape="rect" id="node6" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1775,969,1909,1010"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1957,1035,2128,1061"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1777,119,1907,145"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1144,1259,1233,1285"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1127,1208,1250,1235"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="637,1005,763,1032"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="879,625,1006,652"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="599,1107,801,1133"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="859,1208,1027,1235"/>
<area shape="rect" id="node38" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="615,448,785,475"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1123,752,1255,779"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="1095,1056,1282,1083"/>
<area shape="rect" id="node23" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="897,1056,989,1083"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1369,473,1504,500"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1381,335,1492,361"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1383,676,1490,703"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1125,803,1252,829"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1146,853,1231,880"/>
<area shape="rect" id="node27" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1111,245,1267,272"/>
<area shape="rect" id="node28" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1129,296,1249,323"/>
<area shape="rect" id="node29" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="1115,499,1262,525"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="1084,549,1293,576"/>
<area shape="rect" id="node31" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="1127,600,1250,627"/>
<area shape="rect" id="node32" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="1132,651,1245,677"/>
<area shape="rect" id="node33" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1129,701,1249,728"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="1099,904,1278,931"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="869,1157,1016,1184"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="655,1360,745,1387"/>
<area shape="rect" id="node41" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="650,1411,750,1437"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="1117,1411,1260,1453"/>
<area shape="rect" id="node44" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1353,1423,1521,1449"/>
<area shape="rect" id="node47" href="ceph_2super_8c.html#aeddaac48ffca0811a6d313d781210a27" title="ceph_mount" alt="" coords="1390,1528,1483,1555"/>
<area shape="rect" id="node48" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="1357,1475,1516,1501"/>
<area shape="rect" id="node49" href="ceph_2dir_8c.html#a4da88df26cfd80986a5ab486f0e546c5" title="dentry_lease_is_valid" alt="" coords="1580,1475,1727,1501"/>
<area shape="rect" id="node50" href="ceph_2inode_8c.html#a8badcdbcd026a29e3943b140159052e8" title="update_dentry_lease" alt="" coords="1582,1136,1725,1163"/>
</map>
</div>

</div>
</div>
<a id="a632aa9c7466a172b0e77e6273d9db571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a632aa9c7466a172b0e77e6273d9db571">&#9670;&nbsp;</a></span>ceph_alloc_cap_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structceph__cap__flush.html">ceph_cap_flush</a>* ceph_alloc_cap_flush </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a632aa9c7466a172b0e77e6273d9db571_icgraph.png" border="0" usemap="#caps_8c_a632aa9c7466a172b0e77e6273d9db571_icgraph" alt=""/></div>
<map name="caps_8c_a632aa9c7466a172b0e77e6273d9db571_icgraph" id="caps_8c_a632aa9c7466a172b0e77e6273d9db571_icgraph">
<area shape="rect" id="node2" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="212,93,327,120"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="1099,347,1207,373"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2130,144,2241,171"/>
<area shape="rect" id="node38" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="216,195,323,221"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="387,987,517,1013"/>
<area shape="rect" id="node50" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="200,296,339,323"/>
<area shape="rect" id="node3" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1329,271,1427,297"/>
<area shape="rect" id="node4" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="1074,245,1231,272"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="395,448,509,475"/>
<area shape="rect" id="node6" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="601,296,716,323"/>
<area shape="rect" id="node9" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="609,448,709,475"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="613,499,704,525"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="599,549,719,576"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="611,600,706,627"/>
<area shape="rect" id="node24" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="585,701,733,728"/>
<area shape="rect" id="node37" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="585,651,733,677"/>
<area shape="rect" id="node7" href="ceph_2acl_8c.html#aa2f69a270106b3d43012aff8fc78d254" title="ceph_get_acl" alt="" coords="855,296,954,323"/>
<area shape="rect" id="node8" href="ceph_2xattr_8c.html#a9016930d59c9e9169edc1a70c87fb411" title="ceph_get_xattr_handler" alt="" coords="826,245,983,272"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="800,499,1009,525"/>
<area shape="rect" id="node11" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="1074,549,1231,576"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1909,618,2060,659"/>
<area shape="rect" id="node16" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="2126,561,2245,588"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="1331,397,1425,424"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="2108,1068,2263,1095"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="2339,1043,2491,1069"/>
<area shape="rect" id="node20" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="2332,1093,2499,1120"/>
<area shape="rect" id="node19" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2568,1043,2715,1069"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="864,655,945,681"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1057,908,1248,935"/>
<area shape="rect" id="node27" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1341,709,1415,736"/>
<area shape="rect" id="node35" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1316,959,1440,985"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1723,651,1829,677"/>
<area shape="rect" id="node33" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1508,702,1643,743"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1691,709,1861,736"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1937,709,2032,736"/>
<area shape="rect" id="node30" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2150,735,2221,761"/>
<area shape="rect" id="node31" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2311,709,2520,736"/>
<area shape="rect" id="node32" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2327,760,2504,787"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1510,1060,1641,1087"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="843,908,966,935"/>
<area shape="rect" id="node41" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="1091,1171,1215,1197"/>
<area shape="rect" id="node42" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1313,1207,1443,1233"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="589,821,728,862"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="565,1041,752,1068"/>
<area shape="rect" id="node44" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="859,857,950,884"/>
<area shape="rect" id="node45" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="855,807,955,833"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="833,1061,976,1102"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1069,1076,1237,1103"/>
<area shape="rect" id="node49" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="1296,1076,1460,1103"/>
</map>
</div>

</div>
</div>
<a id="aee4ad867f02c07e329a4e9328fec14a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee4ad867f02c07e329a4e9328fec14a2">&#9670;&nbsp;</a></span>ceph_cap_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ceph_cap_string </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>caps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aee4ad867f02c07e329a4e9328fec14a2_cgraph.png" border="0" usemap="#caps_8c_aee4ad867f02c07e329a4e9328fec14a2_cgraph" alt=""/></div>
<map name="caps_8c_aee4ad867f02c07e329a4e9328fec14a2_cgraph" id="caps_8c_aee4ad867f02c07e329a4e9328fec14a2_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="171,5,260,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aee4ad867f02c07e329a4e9328fec14a2_icgraph.png" border="0" usemap="#caps_8c_aee4ad867f02c07e329a4e9328fec14a2_icgraph" alt=""/></div>
<map name="caps_8c_aee4ad867f02c07e329a4e9328fec14a2_icgraph" id="caps_8c_aee4ad867f02c07e329a4e9328fec14a2_icgraph">
<area shape="rect" id="node2" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="869,1820,984,1847"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2847,1567,2958,1593"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1075,857,1202,884"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1447,959,1637,985"/>
<area shape="rect" id="node9" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1711,832,1784,859"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="2490,807,2609,833"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2849,617,2956,644"/>
<area shape="rect" id="node15" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2837,288,2968,315"/>
<area shape="rect" id="node16" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2833,1212,2972,1239"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="2483,1212,2615,1239"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="2472,933,2627,960"/>
<area shape="rect" id="node21" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1685,604,1809,631"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1096,908,1181,935"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="873,1896,981,1923"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="1074,300,1203,327"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="657,604,763,631"/>
<area shape="rect" id="node29" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="861,477,992,504"/>
<area shape="rect" id="node31" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="203,1267,311,1293"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="638,1212,782,1239"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="863,959,990,985"/>
<area shape="rect" id="node35" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="660,1288,760,1315"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a8e0de74dcc174711bc6306d4e08c25c5" title="__ceph_caps_issued_mask" alt="" coords="394,1481,577,1508"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="392,1380,579,1407"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a2ac074b45edbc3aa7056f5bc2852862a" title="ceph_caps_revoking" alt="" coords="187,1317,328,1344"/>
<area shape="rect" id="node39" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="202,756,313,783"/>
<area shape="rect" id="node40" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="439,717,531,744"/>
<area shape="rect" id="node41" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="637,705,783,732"/>
<area shape="rect" id="node42" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="841,553,1012,580"/>
<area shape="rect" id="node43" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="415,908,556,935"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#affc57aadec20fb5ea588583dbb0eee1e" title="__ceph_mark_dirty_caps" alt="" coords="627,1719,793,1745"/>
<area shape="rect" id="node45" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="409,959,561,985"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1287,1111,1377,1137"/>
<area shape="rect" id="node47" href="caps_8c.html#a72f347ec4391b08b3c709c7c4fc984b6" title="handle_cap_flush_ack" alt="" coords="182,1820,333,1847"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="171,1871,344,1897"/>
<area shape="rect" id="node49" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="197,1921,317,1948"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#ac71b7cc554111d9cfccacf2439937313" title="__ceph_finish_cap_snap" alt="" coords="2259,1364,2424,1391"/>
<area shape="rect" id="node3" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1089,1871,1188,1897"/>
<area shape="rect" id="node4" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="1060,1769,1217,1796"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="1275,1820,1389,1847"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="2675,781,2785,808"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="2072,925,2179,952"/>
<area shape="rect" id="node19" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1857,766,1992,807"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="2040,824,2211,851"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="2266,918,2417,959"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1267,959,1397,985"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="1091,1972,1186,1999"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a1dd55cfc1a5452a770c738001fdb2a1a" title="ceph_uninline_data" alt="" coords="1265,325,1399,352"/>
<area shape="rect" id="node30" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="861,908,992,935"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#ae6584a35304603761fdaefdd140ddc4e" title="__ceph_caps_issued\l_other" alt="" coords="413,1314,557,1355"/>
</map>
</div>

</div>
</div>
<a id="accedc6bcd1f101ba36dac6b75bab925a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accedc6bcd1f101ba36dac6b75bab925a">&#9670;&nbsp;</a></span>ceph_caps_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_caps_finalize </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_accedc6bcd1f101ba36dac6b75bab925a_icgraph.png" border="0" usemap="#caps_8c_accedc6bcd1f101ba36dac6b75bab925a_icgraph" alt=""/></div>
<map name="caps_8c_accedc6bcd1f101ba36dac6b75bab925a_icgraph" id="caps_8c_accedc6bcd1f101ba36dac6b75bab925a_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="187,1193,335,1220"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a44e948c3753bcad736ef8135348632e1" title="ceph_mdsc_stop" alt="" coords="200,1324,321,1351"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="1114,5,1221,32"/>
<area shape="rect" id="node9" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1562,867,1686,893"/>
<area shape="rect" id="node13" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="868,1171,975,1197"/>
<area shape="rect" id="node16" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="383,1076,529,1103"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="387,754,525,795"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="828,1331,1015,1357"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="396,993,516,1020"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1587,149,1661,176"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1320,867,1511,893"/>
<area shape="rect" id="node11" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1559,207,1689,233"/>
<area shape="rect" id="node12" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1559,272,1689,299"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1751,91,1858,117"/>
<area shape="rect" id="node6" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1737,142,1872,183"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1920,179,2091,205"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1739,280,1870,307"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1123,1120,1212,1147"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1106,1171,1229,1197"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="615,1044,742,1071"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="858,563,985,589"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="577,993,780,1020"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="837,1120,1005,1147"/>
<area shape="rect" id="node38" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="1330,1095,1501,1121"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1101,208,1233,235"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="1074,968,1261,995"/>
<area shape="rect" id="node23" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="875,968,967,995"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1348,233,1483,260"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1360,157,1471,184"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1362,411,1469,437"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1104,816,1231,843"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1125,715,1210,741"/>
<area shape="rect" id="node27" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1089,107,1245,133"/>
<area shape="rect" id="node28" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1107,157,1227,184"/>
<area shape="rect" id="node29" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="1094,309,1241,336"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="1063,360,1272,387"/>
<area shape="rect" id="node31" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="1106,411,1229,437"/>
<area shape="rect" id="node32" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="1111,461,1224,488"/>
<area shape="rect" id="node33" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1107,512,1227,539"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="1078,664,1257,691"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="848,867,995,893"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="633,689,724,716"/>
<area shape="rect" id="node41" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="629,740,729,767"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="1096,1323,1239,1365"/>
<area shape="rect" id="node44" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1331,1360,1499,1387"/>
<area shape="rect" id="node47" href="mds__client_8h.html#ac6eee48a0498dae9f32e404b418a5b2f" title="ceph_mdsc_destroy" alt="" coords="387,1516,525,1543"/>
<area shape="rect" id="node48" href="ceph_2super_8c.html#aeddaac48ffca0811a6d313d781210a27" title="ceph_mount" alt="" coords="632,1491,725,1517"/>
<area shape="rect" id="node49" href="ceph_2super_8c.html#a7ec47b48644ac52bafcaa15b1db7673b" title="ceph_kill_sb" alt="" coords="631,1541,726,1568"/>
<area shape="rect" id="node50" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="599,1592,758,1619"/>
</map>
</div>

</div>
</div>
<a id="a00f4b8bf5f373d9da87366991864e8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f4b8bf5f373d9da87366991864e8ee">&#9670;&nbsp;</a></span>ceph_caps_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_caps_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a00f4b8bf5f373d9da87366991864e8ee_icgraph.png" border="0" usemap="#caps_8c_a00f4b8bf5f373d9da87366991864e8ee_icgraph" alt=""/></div>
<map name="caps_8c_a00f4b8bf5f373d9da87366991864e8ee_icgraph" id="caps_8c_a00f4b8bf5f373d9da87366991864e8ee_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="163,1221,311,1248"/>
<area shape="rect" id="node46" href="mds__client_8h.html#ace5b628cb3ad36ba876c1792e2922d81" title="ceph_mdsc_init" alt="" coords="1087,1528,1200,1555"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="1090,93,1197,120"/>
<area shape="rect" id="node9" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1546,144,1670,171"/>
<area shape="rect" id="node13" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="844,1259,951,1285"/>
<area shape="rect" id="node16" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="359,1056,505,1083"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="363,1331,501,1373"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="804,1440,991,1467"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="372,1183,492,1209"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1571,1005,1645,1032"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1296,1005,1487,1032"/>
<area shape="rect" id="node11" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1543,5,1673,32"/>
<area shape="rect" id="node12" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1543,68,1673,95"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1743,1085,1850,1112"/>
<area shape="rect" id="node6" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1729,969,1864,1010"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1912,1035,2083,1061"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1731,119,1862,145"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1099,1259,1188,1285"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1082,1208,1205,1235"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="591,1005,718,1032"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="834,625,961,652"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="553,1107,756,1133"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="813,1208,981,1235"/>
<area shape="rect" id="node38" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="569,448,740,475"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1077,752,1209,779"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="1050,1056,1237,1083"/>
<area shape="rect" id="node23" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="851,1056,943,1083"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1324,473,1459,500"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1336,335,1447,361"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1338,676,1445,703"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1080,803,1207,829"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1101,853,1186,880"/>
<area shape="rect" id="node27" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1065,245,1221,272"/>
<area shape="rect" id="node28" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1083,296,1203,323"/>
<area shape="rect" id="node29" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="1070,499,1217,525"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="1039,549,1248,576"/>
<area shape="rect" id="node31" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="1082,600,1205,627"/>
<area shape="rect" id="node32" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="1087,651,1200,677"/>
<area shape="rect" id="node33" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1083,701,1203,728"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="1054,904,1233,931"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="824,1157,971,1184"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="609,1360,700,1387"/>
<area shape="rect" id="node41" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="605,1411,705,1437"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="1072,1411,1215,1453"/>
<area shape="rect" id="node44" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1307,1423,1475,1449"/>
<area shape="rect" id="node47" href="ceph_2super_8c.html#aeddaac48ffca0811a6d313d781210a27" title="ceph_mount" alt="" coords="1345,1528,1438,1555"/>
<area shape="rect" id="node48" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="1312,1475,1471,1501"/>
<area shape="rect" id="node49" href="ceph_2dir_8c.html#a4da88df26cfd80986a5ab486f0e546c5" title="dentry_lease_is_valid" alt="" coords="1535,1475,1681,1501"/>
<area shape="rect" id="node50" href="ceph_2inode_8c.html#a8badcdbcd026a29e3943b140159052e8" title="update_dentry_lease" alt="" coords="1537,1136,1679,1163"/>
</map>
</div>

</div>
</div>
<a id="a2ac074b45edbc3aa7056f5bc2852862a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ac074b45edbc3aa7056f5bc2852862a">&#9670;&nbsp;</a></span>ceph_caps_revoking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_caps_revoking </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a2ac074b45edbc3aa7056f5bc2852862a_cgraph.png" border="0" usemap="#caps_8c_a2ac074b45edbc3aa7056f5bc2852862a_cgraph" alt=""/></div>
<map name="caps_8c_a2ac074b45edbc3aa7056f5bc2852862a_cgraph" id="caps_8c_a2ac074b45edbc3aa7056f5bc2852862a_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="195,5,349,47"/>
<area shape="rect" id="node3" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="213,71,331,98"/>
<area shape="rect" id="node4" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="397,71,487,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a2ac074b45edbc3aa7056f5bc2852862a_icgraph.png" border="0" usemap="#caps_8c_a2ac074b45edbc3aa7056f5bc2852862a_icgraph" alt=""/></div>
<map name="caps_8c_a2ac074b45edbc3aa7056f5bc2852862a_icgraph" id="caps_8c_a2ac074b45edbc3aa7056f5bc2852862a_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="195,1062,325,1089"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="406,734,479,761"/>
<area shape="rect" id="node13" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1849,1198,1973,1225"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2035,894,2165,921"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1183,33,1337,60"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="381,1062,504,1089"/>
<area shape="rect" id="node40" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="991,1113,1115,1140"/>
<area shape="rect" id="node41" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="562,1366,693,1393"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="373,1186,512,1227"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="743,968,929,994"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="783,540,889,566"/>
<area shape="rect" id="node37" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="560,727,695,768"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="751,705,921,732"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="977,532,1128,574"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1863,438,1958,465"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1404,134,1547,161"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1647,489,1757,516"/>
<area shape="rect" id="node9" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1189,692,1331,718"/>
<area shape="rect" id="node10" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1201,540,1319,566"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1194,413,1326,440"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1623,134,1781,161"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1409,692,1541,718"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1420,438,1531,465"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1607,894,1797,921"/>
<area shape="rect" id="node20" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1662,616,1742,642"/>
<area shape="rect" id="node15" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2262,438,2333,465"/>
<area shape="rect" id="node16" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2419,388,2628,414"/>
<area shape="rect" id="node17" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2435,438,2612,465"/>
<area shape="rect" id="node18" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2676,409,2819,436"/>
<area shape="rect" id="node19" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2676,460,2819,502"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1649,236,1755,262"/>
<area shape="rect" id="node23" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1649,286,1755,313"/>
<area shape="rect" id="node24" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1637,337,1767,364"/>
<area shape="rect" id="node25" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1633,413,1771,440"/>
<area shape="rect" id="node27" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1408,185,1543,212"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="2024,33,2176,60"/>
<area shape="rect" id="node33" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1392,33,1559,60"/>
<area shape="rect" id="node30" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2224,58,2371,85"/>
<area shape="rect" id="node32" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2229,8,2366,34"/>
<area shape="rect" id="node31" href="ceph_2super_8c.html#aeddaac48ffca0811a6d313d781210a27" title="ceph_mount" alt="" coords="2477,58,2570,85"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1619,33,1785,60"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a53c2eb47ed109b2711cc7c57f8d07c7e" title="ceph_handle_snap" alt="" coords="1845,84,1976,110"/>
<area shape="rect" id="node43" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="582,1214,673,1241"/>
<area shape="rect" id="node44" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="577,1265,677,1292"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="981,946,1124,987"/>
<area shape="rect" id="node47" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1176,1012,1344,1038"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="1393,1097,1557,1124"/>
<area shape="rect" id="node49" href="mds__client_8c.html#a3b08c16cb94bbaed452dcaef931456f4" title="__do_request" alt="" coords="1652,996,1752,1022"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a8aa7c135fe44b24f96e656d684e8d305" title="replay_unsafe_requests" alt="" coords="1622,1097,1782,1124"/>
</map>
</div>

</div>
</div>
<a id="a957b777cb29cc87b2701fd646d3c8fad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957b777cb29cc87b2701fd646d3c8fad">&#9670;&nbsp;</a></span>ceph_check_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_check_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a957b777cb29cc87b2701fd646d3c8fad_cgraph.png" border="0" usemap="#caps_8c_a957b777cb29cc87b2701fd646d3c8fad_cgraph" alt=""/></div>
<map name="caps_8c_a957b777cb29cc87b2701fd646d3c8fad_cgraph" id="caps_8c_a957b777cb29cc87b2701fd646d3c8fad_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="412,1180,556,1207"/>
<area shape="rect" id="node3" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e" title="__ceph_is_single_caps" alt="" coords="191,268,349,295"/>
<area shape="rect" id="node4" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="200,319,340,345"/>
<area shape="rect" id="node5" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="184,369,356,396"/>
<area shape="rect" id="node6" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="417,420,551,447"/>
<area shape="rect" id="node7" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="626,65,770,92"/>
<area shape="rect" id="node9" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1077,597,1195,624"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a17fc18f7ac76d812b3f8e0cccf641721" title="__ceph_dir_is_complete" alt="" coords="189,623,351,649"/>
<area shape="rect" id="node12" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="183,1053,357,1080"/>
<area shape="rect" id="node14" href="caps_8c.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="180,724,360,751"/>
<area shape="rect" id="node15" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="197,572,343,599"/>
<area shape="rect" id="node17" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="438,623,530,649"/>
<area shape="rect" id="node40" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="199,775,341,801"/>
<area shape="rect" id="node41" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="408,876,560,903"/>
<area shape="rect" id="node42" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="194,977,346,1004"/>
<area shape="rect" id="node44" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="196,913,344,940"/>
<area shape="rect" id="node45" href="ceph_2inode_8c.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="193,1231,347,1257"/>
<area shape="rect" id="node8" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="879,116,987,143"/>
<area shape="rect" id="node10" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1243,597,1332,624"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="889,1079,977,1105"/>
<area shape="rect" id="node16" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="451,673,517,700"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="410,471,558,497"/>
<area shape="rect" id="node38" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="417,724,551,751"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="415,775,553,801"/>
<area shape="rect" id="node18" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="629,825,767,852"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="657,775,739,801"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="613,673,783,700"/>
<area shape="rect" id="node22" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="643,724,753,751"/>
<area shape="rect" id="node21" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="848,673,1017,700"/>
<area shape="rect" id="node23" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="863,775,1002,801"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="612,319,784,345"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="631,369,765,396"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="608,116,788,143"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="643,420,753,447"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="631,471,765,497"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="621,521,775,548"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="631,167,765,193"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="623,217,773,244"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="616,268,780,295"/>
<area shape="rect" id="node32" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="885,167,980,193"/>
<area shape="rect" id="node33" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="836,217,1029,244"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="875,268,990,295"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="853,319,1012,345"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="421,1079,547,1105"/>
<area shape="rect" id="node46" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="459,1231,509,1257"/>
<area shape="rect" id="node48" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="463,1281,505,1308"/>
<area shape="rect" id="node47" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="629,1231,767,1257"/>
<area shape="rect" id="node49" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="661,1281,735,1308"/>
<area shape="rect" id="node50" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="881,1281,984,1308"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a957b777cb29cc87b2701fd646d3c8fad_icgraph.png" border="0" usemap="#caps_8c_a957b777cb29cc87b2701fd646d3c8fad_icgraph" alt=""/></div>
<map name="caps_8c_a957b777cb29cc87b2701fd646d3c8fad_icgraph" id="caps_8c_a957b777cb29cc87b2701fd646d3c8fad_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1025,865,1152,891"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1439,1219,1629,1246"/>
<area shape="rect" id="node5" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1693,1295,1817,1322"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1891,654,2002,681"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1481,299,1587,326"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1046,1321,1131,1347"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1229,97,1364,123"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1677,147,1833,174"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="839,814,959,841"/>
<area shape="rect" id="node20" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="211,409,358,435"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1023,329,1155,355"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="180,535,389,562"/>
<area shape="rect" id="node33" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="651,1523,774,1550"/>
<area shape="rect" id="node35" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="228,1321,341,1347"/>
<area shape="rect" id="node36" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="839,713,959,739"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="191,1067,378,1094"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="195,915,374,942"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="209,1675,361,1702"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="225,1270,344,1297"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1241,553,1352,579"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1719,1194,1792,1221"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1881,1270,2012,1297"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1893,147,2000,174"/>
<area shape="rect" id="node11" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1469,502,1599,529"/>
<area shape="rect" id="node12" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1465,401,1603,427"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1231,1321,1362,1347"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1455,173,1613,199"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1684,198,1827,225"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="651,409,774,435"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="824,444,975,485"/>
<area shape="rect" id="node23" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1029,510,1148,537"/>
<area shape="rect" id="node25" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1257,198,1337,225"/>
<area shape="rect" id="node26" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1203,249,1391,275"/>
<area shape="rect" id="node28" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="441,409,598,435"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="465,611,573,638"/>
<area shape="rect" id="node30" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="663,611,762,638"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="665,561,760,587"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="842,662,957,689"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="1048,1498,1129,1525"/>
<area shape="rect" id="node38" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="449,1118,589,1145"/>
<area shape="rect" id="node39" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="451,1017,588,1043"/>
<area shape="rect" id="node40" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="458,1067,581,1094"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="468,966,571,993"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#a8cda3e3207900b5a737dffad0f073243" title="ceph_sync_fs" alt="" coords="661,1701,764,1727"/>
<area shape="rect" id="node45" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="437,1777,601,1803"/>
<area shape="rect" id="node46" href="mds__client_8h.html#a2cdaf6b1bd65bdb7a17c4b7a4a9a3881" title="ceph_mdsc_sync" alt="" coords="457,1675,581,1702"/>
<area shape="rect" id="node48" href="ceph_2file_8c.html#a1ea7f45cf27ad466c8e8ff8cee7eb1c0" title="ceph_init_file_info" alt="" coords="649,1321,776,1347"/>
<area shape="rect" id="node49" href="ceph_2file_8c.html#a8565051b9159dbbbf9be51f9e9414e51" title="ceph_init_file" alt="" coords="850,1321,949,1347"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="470,1270,569,1297"/>
</map>
</div>

</div>
</div>
<a id="a7438a50c9c666127a23abbb136741a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7438a50c9c666127a23abbb136741a77">&#9670;&nbsp;</a></span>ceph_check_delayed_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_check_delayed_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a7438a50c9c666127a23abbb136741a77_cgraph.png" border="0" usemap="#caps_8c_a7438a50c9c666127a23abbb136741a77_cgraph" alt=""/></div>
<map name="caps_8c_a7438a50c9c666127a23abbb136741a77_cgraph" id="caps_8c_a7438a50c9c666127a23abbb136741a77_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="270,81,321,108"/>
<area shape="rect" id="node5" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="232,613,359,640"/>
<area shape="rect" id="node45" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="689,183,732,209"/>
<area shape="rect" id="node3" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="468,31,525,57"/>
<area shape="rect" id="node4" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="855,183,994,209"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="639,397,783,424"/>
<area shape="rect" id="node7" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e" title="__ceph_is_single_caps" alt="" coords="418,385,575,412"/>
<area shape="rect" id="node8" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="427,436,567,463"/>
<area shape="rect" id="node9" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="411,487,583,513"/>
<area shape="rect" id="node10" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="643,512,778,539"/>
<area shape="rect" id="node11" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="853,1145,997,1172"/>
<area shape="rect" id="node13" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1233,1120,1351,1147"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a17fc18f7ac76d812b3f8e0cccf641721" title="__ceph_dir_is_complete" alt="" coords="415,689,578,716"/>
<area shape="rect" id="node16" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="409,233,584,260"/>
<area shape="rect" id="node18" href="caps_8c.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="407,791,587,817"/>
<area shape="rect" id="node19" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="423,740,570,767"/>
<area shape="rect" id="node21" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="665,461,757,488"/>
<area shape="rect" id="node38" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="426,841,567,868"/>
<area shape="rect" id="node39" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="635,993,787,1020"/>
<area shape="rect" id="node40" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="421,1044,573,1071"/>
<area shape="rect" id="node42" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="637,335,785,361"/>
<area shape="rect" id="node43" href="ceph_2inode_8c.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="419,284,574,311"/>
<area shape="rect" id="node12" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1070,1095,1178,1121"/>
<area shape="rect" id="node14" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1399,1120,1488,1147"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1080,309,1168,336"/>
<area shape="rect" id="node20" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="678,791,743,817"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="637,740,785,767"/>
<area shape="rect" id="node36" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="643,639,778,665"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="641,841,780,868"/>
<area shape="rect" id="node22" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="855,335,994,361"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="884,487,965,513"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="840,436,1009,463"/>
<area shape="rect" id="node25" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="869,588,980,615"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="839,740,1011,767"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="857,791,992,817"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="835,639,1015,665"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="870,841,979,868"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="858,892,991,919"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="847,943,1002,969"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="857,993,992,1020"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="850,1044,999,1071"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="843,689,1007,716"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="647,1044,774,1071"/>
<area shape="rect" id="node44" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="686,233,735,260"/>
<area shape="rect" id="node46" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="887,81,962,108"/>
<area shape="rect" id="node47" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1073,56,1175,83"/>
<area shape="rect" id="node48" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1065,107,1183,133"/>
<area shape="rect" id="node49" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1063,157,1185,184"/>
<area shape="rect" id="node50" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1099,5,1149,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a7438a50c9c666127a23abbb136741a77_icgraph.png" border="0" usemap="#caps_8c_a7438a50c9c666127a23abbb136741a77_icgraph" alt=""/></div>
<map name="caps_8c_a7438a50c9c666127a23abbb136741a77_icgraph" id="caps_8c_a7438a50c9c666127a23abbb136741a77_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="383,381,573,408"/>
<area shape="rect" id="node31" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="232,679,335,705"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="664,516,737,543"/>
<area shape="rect" id="node29" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="639,432,763,459"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1064,557,1171,584"/>
<area shape="rect" id="node27" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="839,601,973,642"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1032,608,1203,635"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1251,446,1401,487"/>
<area shape="rect" id="node23" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1279,608,1373,635"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1685,563,1828,589"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1933,411,2044,437"/>
<area shape="rect" id="node9" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1455,453,1598,480"/>
<area shape="rect" id="node10" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1467,208,1586,235"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1461,309,1593,336"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1449,613,1604,640"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1909,563,2068,589"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1691,5,1823,32"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1701,157,1812,184"/>
<area shape="rect" id="node12" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1949,44,2029,71"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1935,272,2042,299"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1935,348,2042,375"/>
<area shape="rect" id="node16" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1923,120,2054,147"/>
<area shape="rect" id="node17" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1919,196,2058,223"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1689,461,1824,488"/>
<area shape="rect" id="node20" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1663,259,1851,285"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1681,613,1833,640"/>
<area shape="rect" id="node24" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1491,664,1562,691"/>
<area shape="rect" id="node25" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1652,664,1861,691"/>
<area shape="rect" id="node26" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1668,715,1845,741"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="841,432,971,459"/>
<area shape="rect" id="node32" href="mds__client_8h.html#ace5b628cb3ad36ba876c1792e2922d81" title="ceph_mdsc_init" alt="" coords="421,679,535,705"/>
<area shape="rect" id="node38" href="wbuf_8c.html#af5e9ee01026cf59d23d57cb7cfa81d5a" title="work_to_sb" alt="" coords="433,860,523,887"/>
<area shape="rect" id="node45" href="svc_8c.html#abde7fda075b03c050c0bdf4ed921d88d" title="grace_ender" alt="" coords="431,616,525,643"/>
<area shape="rect" id="node47" href="_2nfs4state_8c.html#a7036cf1ea110ef1861dc37d2eba83177" title="laundromat_main" alt="" coords="417,755,539,781"/>
<area shape="rect" id="node33" href="ceph_2super_8c.html#aeddaac48ffca0811a6d313d781210a27" title="ceph_mount" alt="" coords="654,717,747,744"/>
<area shape="rect" id="node34" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="621,667,780,693"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#a4da88df26cfd80986a5ab486f0e546c5" title="dentry_lease_is_valid" alt="" coords="833,717,979,744"/>
<area shape="rect" id="node37" href="ceph_2inode_8c.html#a8badcdbcd026a29e3943b140159052e8" title="update_dentry_lease" alt="" coords="835,549,977,576"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="1054,717,1181,744"/>
<area shape="rect" id="node39" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="632,877,769,904"/>
<area shape="rect" id="node40" href="wbuf_8c.html#a24e000f79fe215717ad7ce47080ef508" title="jffs2_nand_flash_setup" alt="" coords="828,987,984,1013"/>
<area shape="rect" id="node42" href="wbuf_8c.html#a01b33c82f6b876e6e458c695c7ab3a97" title="jffs2_dataflash_setup" alt="" coords="833,819,979,845"/>
<area shape="rect" id="node43" href="wbuf_8c.html#a6c03fb445e406144041bf683895f83f7" title="jffs2_nor_wbuf_flash\l_setup" alt="" coords="835,870,977,911"/>
<area shape="rect" id="node44" href="wbuf_8c.html#ae1091c0146ecfd3deb161c1fe62c16dc" title="jffs2_ubivol_setup" alt="" coords="843,936,969,963"/>
<area shape="rect" id="node41" href="fs_8c.html#a46dd68c98eba0a545a67f2f24eb63dde" title="jffs2_flash_setup" alt="" coords="1057,907,1178,933"/>
<area shape="rect" id="node46" href="svc_8c.html#a7072a89820e5abb6cb921f41617e43ac" title="param_set_min_max" alt="" coords="629,616,772,643"/>
<area shape="rect" id="node48" href="_2nfs4state_8c.html#a81e36445a575cc5e87e3a3eff13ca4f0" title="nfs4_state_create_net" alt="" coords="625,768,776,795"/>
<area shape="rect" id="node49" href="_2nfs4state_8c.html#abb3cfd638963e8a95d429035032924ed" title="nfs4_state_start_net" alt="" coords="835,768,977,795"/>
<area shape="rect" id="node50" href="nfssvc_8c.html#aeba7a0fe8aab7495582fc5354b6a125b" title="nfsd_startup_net" alt="" coords="1058,768,1177,795"/>
</map>
</div>

</div>
</div>
<a id="abdd76b7f6104d31de284dff28168768b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdd76b7f6104d31de284dff28168768b">&#9670;&nbsp;</a></span>ceph_drop_caps_for_unlink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_drop_caps_for_unlink </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_abdd76b7f6104d31de284dff28168768b_cgraph.png" border="0" usemap="#caps_8c_abdd76b7f6104d31de284dff28168768b_cgraph" alt=""/></div>
<map name="caps_8c_abdd76b7f6104d31de284dff28168768b_cgraph" id="caps_8c_abdd76b7f6104d31de284dff28168768b_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1109,810,1197,836"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="192,592,340,619"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="201,882,331,908"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="194,932,338,959"/>
<area shape="rect" id="node50" href="caps_8c.html#a3f69a824222786a2a19fbb862d691850" title="__cap_delay_requeue\l_front" alt="" coords="192,984,340,1025"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="388,831,560,858"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="407,780,541,807"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="615,219,795,246"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="419,668,529,695"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="407,364,541,391"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="397,415,551,442"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="407,618,541,644"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="399,466,549,492"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="392,567,556,594"/>
<area shape="rect" id="node7" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1302,92,1410,119"/>
<area shape="rect" id="node8" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1473,658,1591,684"/>
<area shape="rect" id="node9" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1639,658,1728,684"/>
<area shape="rect" id="node14" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1105,556,1200,583"/>
<area shape="rect" id="node15" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="608,674,801,700"/>
<area shape="rect" id="node17" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="647,612,762,639"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="625,506,784,532"/>
<area shape="rect" id="node16" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="888,708,980,735"/>
<area shape="rect" id="node18" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="861,658,1007,684"/>
<area shape="rect" id="node23" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="884,328,984,355"/>
<area shape="rect" id="node34" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="849,607,1019,634"/>
<area shape="rect" id="node19" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="1127,708,1178,735"/>
<area shape="rect" id="node21" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1131,759,1174,786"/>
<area shape="rect" id="node22" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1305,607,1407,634"/>
<area shape="rect" id="node20" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1287,759,1425,786"/>
<area shape="rect" id="node24" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1085,354,1220,380"/>
<area shape="rect" id="node25" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1067,404,1239,431"/>
<area shape="rect" id="node26" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff" title="__ceph_caps_issued\l_other" alt="" coords="1081,85,1225,126"/>
<area shape="rect" id="node27" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1081,506,1224,532"/>
<area shape="rect" id="node29" href="dcache_8c.html#a12f52b8fa0d189193e7462423ca292ac" title="d_find_any_alias" alt="" coords="1093,455,1212,482"/>
<area shape="rect" id="node30" href="mds__client_8c.html#afbadfdaefad86c7e0d8514fe798efeba" title="drop_negative_children" alt="" coords="1075,34,1230,60"/>
<area shape="rect" id="node31" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1125,151,1180,178"/>
<area shape="rect" id="node32" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1333,227,1379,254"/>
<area shape="rect" id="node33" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="1095,252,1211,279"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="1293,683,1419,710"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a632aa9c7466a172b0e77e6273d9db571" title="ceph_alloc_cap_flush" alt="" coords="401,882,547,908"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a601c896d9f4041c016b957b081192090" title="ceph_free_cap_flush" alt="" coords="403,932,545,959"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#affc57aadec20fb5ea588583dbb0eee1e" title="__ceph_mark_dirty_caps" alt="" coords="621,936,788,963"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="397,1034,551,1076"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2ac074b45edbc3aa7056f5bc2852862a" title="ceph_caps_revoking" alt="" coords="403,1100,545,1127"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a51b0031781f30ee001a1b7307a19ac7f" title="ceph_ino" alt="" coords="897,810,971,836"/>
<area shape="rect" id="node43" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="909,962,959,988"/>
<area shape="rect" id="node44" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="860,911,1008,938"/>
<area shape="rect" id="node45" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="1083,911,1222,938"/>
<area shape="rect" id="node48" href="caps_8c.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="627,1114,782,1156"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_abdd76b7f6104d31de284dff28168768b_icgraph.png" border="0" usemap="#caps_8c_abdd76b7f6104d31de284dff28168768b_icgraph" alt=""/></div>
<map name="caps_8c_abdd76b7f6104d31de284dff28168768b_icgraph" id="caps_8c_abdd76b7f6104d31de284dff28168768b_icgraph">
<area shape="rect" id="node2" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1838,5,1929,32"/>
<area shape="rect" id="node3" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="1833,107,1933,133"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="192,705,383,732"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="431,785,504,812"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="557,1120,681,1147"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="767,756,873,783"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="552,807,687,849"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="735,844,905,871"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="953,618,1104,659"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2035,892,2130,919"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1377,512,1520,539"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2027,208,2138,235"/>
<area shape="rect" id="node13" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1158,640,1301,667"/>
<area shape="rect" id="node14" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1170,589,1289,616"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1163,461,1295,488"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1152,968,1307,995"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1595,461,1753,488"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1805,360,1961,387"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2029,360,2136,387"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1383,715,1515,741"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1393,309,1504,336"/>
<area shape="rect" id="node16" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1634,715,1714,741"/>
<area shape="rect" id="node17" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1825,816,1942,843"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1621,208,1727,235"/>
<area shape="rect" id="node20" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1609,360,1739,387"/>
<area shape="rect" id="node21" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1605,411,1743,437"/>
<area shape="rect" id="node23" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1381,461,1516,488"/>
<area shape="rect" id="node24" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1355,563,1543,589"/>
<area shape="rect" id="node25" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1592,664,1756,691"/>
<area shape="rect" id="node38" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1592,512,1756,539"/>
<area shape="rect" id="node26" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1812,664,1955,691"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1816,765,1951,792"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1819,715,1948,741"/>
<area shape="rect" id="node37" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1809,613,1958,640"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2204,968,2275,995"/>
<area shape="rect" id="node30" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2323,943,2532,969"/>
<area shape="rect" id="node31" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2339,993,2516,1020"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2580,964,2723,991"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2580,1015,2723,1057"/>
<area shape="rect" id="node33" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2771,964,2907,991"/>
<area shape="rect" id="node35" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2779,1023,2898,1049"/>
<area shape="rect" id="node39" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1815,411,1951,437"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1835,461,1931,488"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1807,1019,1959,1045"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1365,1019,1532,1045"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2009,1019,2156,1045"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2014,968,2151,995"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1591,1019,1757,1045"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1818,1069,1949,1096"/>
</map>
</div>

</div>
</div>
<a id="ac34d2058d3a01568930600ac796893d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac34d2058d3a01568930600ac796893d2">&#9670;&nbsp;</a></span>ceph_early_kick_flushing_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_early_kick_flushing_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ac34d2058d3a01568930600ac796893d2_cgraph.png" border="0" usemap="#caps_8c_ac34d2058d3a01568930600ac796893d2_cgraph" alt=""/></div>
<map name="caps_8c_ac34d2058d3a01568930600ac796893d2_cgraph" id="caps_8c_ac34d2058d3a01568930600ac796893d2_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="256,284,408,311"/>
<area shape="rect" id="node3" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="259,335,405,361"/>
<area shape="rect" id="node4" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="497,5,563,32"/>
<area shape="rect" id="node5" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1737,259,1855,285"/>
<area shape="rect" id="node7" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="923,220,1015,247"/>
<area shape="rect" id="node15" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1349,613,1484,640"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="456,613,604,640"/>
<area shape="rect" id="node49" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="901,335,1036,361"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="461,664,599,691"/>
<area shape="rect" id="node6" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1903,259,1992,285"/>
<area shape="rect" id="node8" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="1129,157,1267,184"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="1157,360,1239,387"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="1113,208,1283,235"/>
<area shape="rect" id="node13" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="1143,259,1253,285"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1373,563,1461,589"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="1332,157,1501,184"/>
<area shape="rect" id="node14" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="1347,208,1486,235"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="652,715,824,741"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="671,765,805,792"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="879,900,1059,927"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="683,816,793,843"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="671,867,805,893"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="661,461,815,488"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="671,563,805,589"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="663,512,813,539"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="656,613,820,640"/>
<area shape="rect" id="node20" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1566,1027,1674,1053"/>
<area shape="rect" id="node25" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1369,461,1464,488"/>
<area shape="rect" id="node26" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="872,461,1065,488"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="911,613,1026,640"/>
<area shape="rect" id="node46" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="889,563,1048,589"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="1152,461,1244,488"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="1125,309,1271,336"/>
<area shape="rect" id="node36" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="1148,791,1248,817"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="1113,563,1283,589"/>
<area shape="rect" id="node30" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="1391,360,1442,387"/>
<area shape="rect" id="node33" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1395,309,1438,336"/>
<area shape="rect" id="node35" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1569,512,1671,539"/>
<area shape="rect" id="node31" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="1591,411,1649,437"/>
<area shape="rect" id="node32" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1551,360,1689,387"/>
<area shape="rect" id="node34" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1583,309,1657,336"/>
<area shape="rect" id="node37" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1331,1085,1503,1112"/>
<area shape="rect" id="node38" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff" title="__ceph_caps_issued\l_other" alt="" coords="1345,1019,1489,1061"/>
<area shape="rect" id="node39" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1345,664,1488,691"/>
<area shape="rect" id="node40" href="dcache_8c.html#a12f52b8fa0d189193e7462423ca292ac" title="d_find_any_alias" alt="" coords="1357,715,1476,741"/>
<area shape="rect" id="node41" href="mds__client_8c.html#afbadfdaefad86c7e0d8514fe798efeba" title="drop_negative_children" alt="" coords="1339,765,1494,792"/>
<area shape="rect" id="node42" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1389,816,1444,843"/>
<area shape="rect" id="node43" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1597,892,1643,919"/>
<area shape="rect" id="node44" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="1359,867,1475,893"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ac34d2058d3a01568930600ac796893d2_icgraph.png" border="0" usemap="#caps_8c_ac34d2058d3a01568930600ac796893d2_icgraph" alt=""/></div>
<map name="caps_8c_ac34d2058d3a01568930600ac796893d2_icgraph" id="caps_8c_ac34d2058d3a01568930600ac796893d2_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1444,448,1635,475"/>
<area shape="rect" id="node20" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="256,717,403,744"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1708,669,1781,696"/>
<area shape="rect" id="node18" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1683,473,1807,500"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="2069,659,2176,685"/>
<area shape="rect" id="node16" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1855,746,1989,787"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="2037,724,2208,751"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="2256,542,2407,583"/>
<area shape="rect" id="node12" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2284,803,2379,829"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="2461,676,2603,703"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2707,448,2817,475"/>
<area shape="rect" id="node8" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="2461,524,2603,551"/>
<area shape="rect" id="node9" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="2473,575,2591,601"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="2466,423,2598,449"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="2455,625,2609,652"/>
<area shape="rect" id="node13" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2497,883,2567,909"/>
<area shape="rect" id="node14" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2657,1245,2867,1272"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2673,883,2851,909"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1857,524,1987,551"/>
<area shape="rect" id="node21" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="451,717,571,744"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a5b790a3bd73bc8fcdcfd643f883ba95b" title="peer_reset" alt="" coords="673,1097,755,1124"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="619,717,809,744"/>
<area shape="rect" id="node23" href="ceph_2super_8c.html#aeb313834ad781b40a3bd3e0bf65b892c" title="extra_mon_dispatch" alt="" coords="870,355,1009,381"/>
<area shape="rect" id="node25" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="857,717,1021,744"/>
<area shape="rect" id="node24" href="ceph_2super_8c.html#ad624e813b2d5c53d819012f2ba2f4ee7" title="create_fs_client" alt="" coords="1086,43,1201,69"/>
<area shape="rect" id="node26" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1075,717,1211,744"/>
<area shape="rect" id="node27" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1095,768,1191,795"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1095,819,1192,845"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1096,869,1191,896"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1095,920,1191,947"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1092,971,1195,997"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1099,1021,1188,1048"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="1105,1072,1182,1099"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1098,1123,1189,1149"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="1093,1173,1193,1200"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="1080,1224,1207,1251"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1267,499,1394,525"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1101,296,1186,323"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1265,397,1396,424"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="1281,448,1380,475"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="1089,1275,1197,1301"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="1475,245,1604,272"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#aeb84ba4e574a0ccfe88118ac0aab3db8" title="open_root_dentry" alt="" coords="1082,144,1205,171"/>
<area shape="rect" id="node44" href="ceph_2export_8c.html#acb66f1d257f6a1a905c5aa123a008380" title="__fh_to_dentry" alt="" coords="1089,195,1197,221"/>
<area shape="rect" id="node45" href="ceph_2export_8c.html#a287c01c9981c228d57018655aa26683d" title="__get_parent" alt="" coords="1095,245,1192,272"/>
<area shape="rect" id="node46" href="ceph_2export_8c.html#a6b823e0df63107bb4bcd2ba9e61e8413" title="ceph_get_name" alt="" coords="1086,347,1201,373"/>
<area shape="rect" id="node47" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="1069,549,1217,576"/>
<area shape="rect" id="node48" href="ceph_2ioctl_8c.html#a49d67c9da9db732a007054d42737d71b" title="ceph_ioctl_set_layout\l_policy" alt="" coords="1069,601,1217,642"/>
<area shape="rect" id="node49" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1072,667,1215,693"/>
</map>
</div>

</div>
</div>
<a id="a7d5f60985814b093d72c116d569fa9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5f60985814b093d72c116d569fa9b0">&#9670;&nbsp;</a></span>ceph_encode_dentry_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_encode_dentry_release </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&#160;</td>
          <td class="paramname"><em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unless</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a7d5f60985814b093d72c116d569fa9b0_cgraph.png" border="0" usemap="#caps_8c_a7d5f60985814b093d72c116d569fa9b0_cgraph" alt=""/></div>
<map name="caps_8c_a7d5f60985814b093d72c116d569fa9b0_cgraph" id="caps_8c_a7d5f60985814b093d72c116d569fa9b0_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a6ddd70137143052b74727ba4c2a0c35c" title="ceph_dentry" alt="" coords="458,1060,551,1087"/>
<area shape="rect" id="node3" href="caps_8c.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="196,629,383,656"/>
<area shape="rect" id="node36" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="266,1187,313,1213"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a05ecbf1d7ee0cdb585e3480b5d9833da" title="__ceph_mdsc_drop_dentry\l_lease" alt="" coords="200,1002,379,1043"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1121,832,1209,859"/>
<area shape="rect" id="node5" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="437,883,572,909"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="439,325,570,352"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a51b0031781f30ee001a1b7307a19ac7f" title="ceph_ino" alt="" coords="914,705,989,732"/>
<area shape="rect" id="node12" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1107,329,1224,356"/>
<area shape="rect" id="node22" href="caps_8c.html#a3599ad9f5e90dfe60883ad06ff23447a" title="__get_cap_for_mds" alt="" coords="437,275,573,301"/>
<area shape="rect" id="node23" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="897,439,1005,465"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="431,629,579,656"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a632aa9c7466a172b0e77e6273d9db571" title="ceph_alloc_cap_flush" alt="" coords="643,173,790,200"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a601c896d9f4041c016b957b081192090" title="ceph_free_cap_flush" alt="" coords="645,224,788,251"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#affc57aadec20fb5ea588583dbb0eee1e" title="__ceph_mark_dirty_caps" alt="" coords="633,275,800,301"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="639,107,794,149"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a2ac074b45edbc3aa7056f5bc2852862a" title="ceph_caps_revoking" alt="" coords="646,325,787,352"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="649,427,784,453"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="631,477,803,504"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="888,169,1015,196"/>
<area shape="rect" id="node14" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="927,5,976,32"/>
<area shape="rect" id="node16" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="877,220,1025,247"/>
<area shape="rect" id="node13" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1283,329,1372,356"/>
<area shape="rect" id="node15" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1096,5,1235,32"/>
<area shape="rect" id="node19" href="caps_8c.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="874,322,1029,363"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="627,528,807,555"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="662,579,771,605"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="650,629,783,656"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="639,680,794,707"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="649,883,784,909"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="642,731,791,757"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="635,781,799,808"/>
<area shape="rect" id="node30" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="904,857,999,884"/>
<area shape="rect" id="node31" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="855,756,1048,783"/>
<area shape="rect" id="node32" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="894,807,1009,833"/>
<area shape="rect" id="node33" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="872,908,1031,935"/>
<area shape="rect" id="node37" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="467,1187,543,1213"/>
<area shape="rect" id="node38" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="668,1237,765,1264"/>
<area shape="rect" id="node40" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="464,1136,545,1163"/>
<area shape="rect" id="node45" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="1096,1288,1235,1315"/>
<area shape="rect" id="node39" href="dcache_8c.html#a3b177069d047c319ff2309aa5be9342e" title="d_lru_add" alt="" coords="912,1313,991,1340"/>
<area shape="rect" id="node41" href="dcache_8c.html#aa89b23ccc5b34160480a5b0541255a2e" title="__lock_parent" alt="" coords="900,1009,1003,1036"/>
<area shape="rect" id="node42" href="dcache_8c.html#a051b3970369269b3c6fcc1a19be37bed" title="__dentry_kill" alt="" coords="669,1161,764,1188"/>
<area shape="rect" id="node49" href="dcache_8c.html#a6a36af9be383e7cbabb89162ff8af440" title="lock_parent" alt="" coords="672,1111,761,1137"/>
<area shape="rect" id="node43" href="dcache_8c.html#aa69465ec94d92f14786fdce2f5bfb175" title="d_lru_del" alt="" coords="914,1161,989,1188"/>
<area shape="rect" id="node44" href="dcache_8c.html#ae4904480d16c7850ae6994e92d110f96" title="__d_drop" alt="" coords="914,1212,989,1239"/>
<area shape="rect" id="node46" href="dcache_8c.html#ae2050a139fbd1eb7bfc238686e1b2e0b" title="dentry_unlist" alt="" coords="903,1263,999,1289"/>
<area shape="rect" id="node47" href="dcache_8c.html#acad4e66a4f8cc5a5bce5cb90bc5d6279" title="dentry_unlink_inode" alt="" coords="883,1060,1020,1087"/>
<area shape="rect" id="node48" href="dcache_8c.html#ad8b0a5de190038ed843fa392d181c8a5" title="dentry_free" alt="" coords="908,1111,995,1137"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a7d5f60985814b093d72c116d569fa9b0_icgraph.png" border="0" usemap="#caps_8c_a7d5f60985814b093d72c116d569fa9b0_icgraph" alt=""/></div>
<map name="caps_8c_a7d5f60985814b093d72c116d569fa9b0_icgraph" id="caps_8c_a7d5f60985814b093d72c116d569fa9b0_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1495,673,1685,699"/>
<area shape="rect" id="node20" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="196,474,364,501"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1759,638,1832,665"/>
<area shape="rect" id="node18" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1733,693,1857,719"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="2163,637,2269,663"/>
<area shape="rect" id="node16" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1927,687,2061,728"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="2131,690,2301,717"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="2349,629,2500,671"/>
<area shape="rect" id="node12" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2377,750,2472,777"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="2554,686,2697,713"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2800,661,2911,687"/>
<area shape="rect" id="node8" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="2554,737,2697,763"/>
<area shape="rect" id="node9" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="2566,585,2685,611"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="2559,534,2691,561"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="2548,635,2703,662"/>
<area shape="rect" id="node13" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2590,930,2661,957"/>
<area shape="rect" id="node14" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2751,955,2960,982"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2767,905,2944,931"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1929,753,2059,779"/>
<area shape="rect" id="node21" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="412,937,576,963"/>
<area shape="rect" id="node22" href="mds__client_8c.html#a3b08c16cb94bbaed452dcaef931456f4" title="__do_request" alt="" coords="654,937,754,963"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a8aa7c135fe44b24f96e656d684e8d305" title="replay_unsafe_requests" alt="" coords="624,1114,784,1141"/>
<area shape="rect" id="node23" href="mds__client_8c.html#ad6c214255cffee41f51d230040601d24" title="__wake_requests" alt="" coords="863,1158,987,1185"/>
<area shape="rect" id="node31" href="mds__client_8c.html#a662569f6a9d698f7df37951970f58b20" title="kick_requests" alt="" coords="873,969,976,995"/>
<area shape="rect" id="node32" href="mds__client_8h.html#aa5c5e0f0c721a71ac5eaa57b1621acaf" title="ceph_mdsc_submit_request" alt="" coords="832,1045,1017,1071"/>
<area shape="rect" id="node33" href="mds__client_8h.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="845,449,1005,475"/>
<area shape="rect" id="node49" href="mds__client_8c.html#a75af1e7965eb2afad36fa3831709cd75" title="handle_forward" alt="" coords="1740,905,1851,931"/>
<area shape="rect" id="node24" href="mds__client_8c.html#aecd52d2d17cb6a55a29e18c9f6dfca77" title="handle_session" alt="" coords="1097,955,1209,982"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="1079,1310,1226,1337"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1307,1259,1427,1286"/>
<area shape="rect" id="node27" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1495,1209,1685,1235"/>
<area shape="rect" id="node28" href="mds__client_8h.html#a679279e05084bf0e754dd17f41d7cbc7" title="ceph_mdsc_force_umount" alt="" coords="1065,1107,1240,1134"/>
<area shape="rect" id="node30" href="mds__client_8h.html#abee229f022194ee7d2acd035e0b21f24" title="ceph_mdsc_handle_fsmap" alt="" coords="1905,1119,2083,1146"/>
<area shape="rect" id="node29" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="1288,1057,1447,1083"/>
<area shape="rect" id="node34" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1085,94,1221,121"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1105,145,1201,171"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1105,195,1200,222"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1105,246,1201,273"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1101,297,1204,323"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1108,347,1197,374"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="1114,398,1191,425"/>
<area shape="rect" id="node41" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1107,449,1198,475"/>
<area shape="rect" id="node42" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="1103,499,1203,526"/>
<area shape="rect" id="node43" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="1089,550,1216,577"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1304,753,1431,779"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1110,651,1195,678"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1302,702,1433,729"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="1099,601,1207,627"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="1525,263,1655,290"/>
</map>
</div>

</div>
</div>
<a id="a7f255ba3d81507a50fe1add9d3030f35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f255ba3d81507a50fe1add9d3030f35">&#9670;&nbsp;</a></span>ceph_encode_inode_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_encode_inode_release </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unless</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a7f255ba3d81507a50fe1add9d3030f35_cgraph.png" border="0" usemap="#caps_8c_a7f255ba3d81507a50fe1add9d3030f35_cgraph" alt=""/></div>
<map name="caps_8c_a7f255ba3d81507a50fe1add9d3030f35_cgraph" id="caps_8c_a7f255ba3d81507a50fe1add9d3030f35_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1157,93,1245,120"/>
<area shape="rect" id="node3" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1133,651,1268,677"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="249,368,379,395"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a51b0031781f30ee001a1b7307a19ac7f" title="ceph_ino" alt="" coords="945,93,1019,120"/>
<area shape="rect" id="node10" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1521,245,1639,272"/>
<area shape="rect" id="node21" href="caps_8c.html#a3599ad9f5e90dfe60883ad06ff23447a" title="__get_cap_for_mds" alt="" coords="246,608,382,635"/>
<area shape="rect" id="node22" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1350,1144,1458,1171"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="240,684,388,711"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a632aa9c7466a172b0e77e6273d9db571" title="ceph_alloc_cap_flush" alt="" coords="449,187,595,213"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a601c896d9f4041c016b957b081192090" title="ceph_free_cap_flush" alt="" coords="451,339,593,365"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#affc57aadec20fb5ea588583dbb0eee1e" title="__ceph_mark_dirty_caps" alt="" coords="669,179,836,205"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="445,390,599,431"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a2ac074b45edbc3aa7056f5bc2852862a" title="ceph_caps_revoking" alt="" coords="451,288,593,315"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="455,507,589,533"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="436,456,608,483"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="1341,651,1467,677"/>
<area shape="rect" id="node12" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="957,245,1007,272"/>
<area shape="rect" id="node14" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="908,195,1056,221"/>
<area shape="rect" id="node11" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1687,245,1776,272"/>
<area shape="rect" id="node13" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1335,347,1473,373"/>
<area shape="rect" id="node15" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="1131,195,1270,221"/>
<area shape="rect" id="node18" href="caps_8c.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="675,230,830,271"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="663,1107,843,1133"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="467,659,577,685"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="455,709,589,736"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="445,760,599,787"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="455,608,589,635"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="447,811,597,837"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="440,861,604,888"/>
<area shape="rect" id="node29" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1153,600,1248,627"/>
<area shape="rect" id="node30" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="656,781,849,808"/>
<area shape="rect" id="node32" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="695,507,810,533"/>
<area shape="rect" id="node48" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="673,659,832,685"/>
<area shape="rect" id="node31" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="936,853,1028,880"/>
<area shape="rect" id="node33" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="909,423,1055,449"/>
<area shape="rect" id="node38" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="932,803,1032,829"/>
<area shape="rect" id="node47" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="897,549,1067,576"/>
<area shape="rect" id="node34" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="1175,397,1226,424"/>
<area shape="rect" id="node36" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1179,347,1222,373"/>
<area shape="rect" id="node37" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1353,549,1455,576"/>
<area shape="rect" id="node35" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="1375,397,1433,424"/>
<area shape="rect" id="node39" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1115,955,1287,981"/>
<area shape="rect" id="node40" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff" title="__ceph_caps_issued\l_other" alt="" coords="1129,1107,1273,1149"/>
<area shape="rect" id="node41" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1129,701,1272,728"/>
<area shape="rect" id="node42" href="dcache_8c.html#a12f52b8fa0d189193e7462423ca292ac" title="d_find_any_alias" alt="" coords="1141,1005,1260,1032"/>
<area shape="rect" id="node43" href="mds__client_8c.html#afbadfdaefad86c7e0d8514fe798efeba" title="drop_negative_children" alt="" coords="1123,1056,1278,1083"/>
<area shape="rect" id="node44" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1173,803,1228,829"/>
<area shape="rect" id="node45" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1381,879,1427,905"/>
<area shape="rect" id="node46" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="1143,904,1259,931"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a7f255ba3d81507a50fe1add9d3030f35_icgraph.png" border="0" usemap="#caps_8c_a7f255ba3d81507a50fe1add9d3030f35_icgraph" alt=""/></div>
<map name="caps_8c_a7f255ba3d81507a50fe1add9d3030f35_icgraph" id="caps_8c_a7f255ba3d81507a50fe1add9d3030f35_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1729,712,1920,739"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="240,105,383,146"/>
<area shape="rect" id="node21" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="431,171,599,197"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="2020,812,2093,839"/>
<area shape="rect" id="node18" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1995,877,2119,904"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="2408,915,2515,941"/>
<area shape="rect" id="node16" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="2193,798,2328,839"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="2376,835,2547,861"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="2595,777,2745,818"/>
<area shape="rect" id="node12" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2623,940,2717,967"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="2799,835,2942,861"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="3045,924,3156,951"/>
<area shape="rect" id="node8" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="2799,885,2942,912"/>
<area shape="rect" id="node9" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="2811,733,2930,760"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="2805,683,2937,709"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="2793,784,2948,811"/>
<area shape="rect" id="node13" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2835,1033,2906,1060"/>
<area shape="rect" id="node14" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2996,1041,3205,1068"/>
<area shape="rect" id="node15" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="3012,991,3189,1017"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2195,965,2326,992"/>
<area shape="rect" id="node22" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="647,964,811,991"/>
<area shape="rect" id="node23" href="mds__client_8c.html#a3b08c16cb94bbaed452dcaef931456f4" title="__do_request" alt="" coords="889,964,989,991"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a8aa7c135fe44b24f96e656d684e8d305" title="replay_unsafe_requests" alt="" coords="859,1167,1019,1193"/>
<area shape="rect" id="node24" href="mds__client_8c.html#ad6c214255cffee41f51d230040601d24" title="__wake_requests" alt="" coords="1097,1168,1221,1195"/>
<area shape="rect" id="node32" href="mds__client_8c.html#a662569f6a9d698f7df37951970f58b20" title="kick_requests" alt="" coords="1108,1003,1211,1029"/>
<area shape="rect" id="node33" href="mds__client_8h.html#aa5c5e0f0c721a71ac5eaa57b1621acaf" title="ceph_mdsc_submit_request" alt="" coords="1067,927,1252,953"/>
<area shape="rect" id="node34" href="mds__client_8h.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="1079,535,1239,561"/>
<area shape="rect" id="node49" href="mds__client_8c.html#a75af1e7965eb2afad36fa3831709cd75" title="handle_forward" alt="" coords="1769,332,1880,359"/>
<area shape="rect" id="node25" href="mds__client_8c.html#aecd52d2d17cb6a55a29e18c9f6dfca77" title="handle_session" alt="" coords="1331,1016,1443,1043"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="1314,1320,1461,1347"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1542,1168,1662,1195"/>
<area shape="rect" id="node28" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1729,1168,1920,1195"/>
<area shape="rect" id="node29" href="mds__client_8h.html#a679279e05084bf0e754dd17f41d7cbc7" title="ceph_mdsc_force_umount" alt="" coords="1300,965,1475,992"/>
<area shape="rect" id="node31" href="mds__client_8h.html#abee229f022194ee7d2acd035e0b21f24" title="ceph_mdsc_handle_fsmap" alt="" coords="1968,1219,2145,1245"/>
<area shape="rect" id="node30" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="1523,915,1681,941"/>
<area shape="rect" id="node35" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1319,155,1455,181"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1339,205,1435,232"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1340,256,1435,283"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1339,307,1435,333"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1336,357,1439,384"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1343,408,1432,435"/>
<area shape="rect" id="node41" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="1349,459,1426,485"/>
<area shape="rect" id="node42" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1342,509,1433,536"/>
<area shape="rect" id="node43" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="1337,560,1437,587"/>
<area shape="rect" id="node44" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="1324,611,1451,637"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1539,763,1665,789"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1345,712,1430,739"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1537,661,1667,688"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="1333,813,1441,840"/>
</map>
</div>

</div>
</div>
<a id="aa2bc4dffab60c9ee6f3b9e44b94f0af0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2bc4dffab60c9ee6f3b9e44b94f0af0">&#9670;&nbsp;</a></span>ceph_flush_dirty_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_flush_dirty_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aa2bc4dffab60c9ee6f3b9e44b94f0af0_cgraph.png" border="0" usemap="#caps_8c_aa2bc4dffab60c9ee6f3b9e44b94f0af0_cgraph" alt=""/></div>
<map name="caps_8c_aa2bc4dffab60c9ee6f3b9e44b94f0af0_cgraph" id="caps_8c_aa2bc4dffab60c9ee6f3b9e44b94f0af0_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="659,43,709,69"/>
<area shape="rect" id="node4" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="205,505,332,532"/>
<area shape="rect" id="node45" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="663,93,705,120"/>
<area shape="rect" id="node3" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="829,43,967,69"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="612,239,756,265"/>
<area shape="rect" id="node6" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e" title="__ceph_is_single_caps" alt="" coords="391,328,549,355"/>
<area shape="rect" id="node7" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="400,379,540,405"/>
<area shape="rect" id="node8" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="384,429,556,456"/>
<area shape="rect" id="node9" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="617,531,751,557"/>
<area shape="rect" id="node10" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="826,284,970,311"/>
<area shape="rect" id="node12" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1253,841,1371,868"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a17fc18f7ac76d812b3f8e0cccf641721" title="__ceph_dir_is_complete" alt="" coords="389,125,551,152"/>
<area shape="rect" id="node15" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="383,1081,557,1108"/>
<area shape="rect" id="node17" href="caps_8c.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="380,176,560,203"/>
<area shape="rect" id="node18" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="397,791,543,817"/>
<area shape="rect" id="node20" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="638,841,730,868"/>
<area shape="rect" id="node39" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="399,1005,541,1032"/>
<area shape="rect" id="node40" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="608,1196,760,1223"/>
<area shape="rect" id="node41" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="394,1247,546,1273"/>
<area shape="rect" id="node43" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="396,892,544,919"/>
<area shape="rect" id="node44" href="ceph_2inode_8c.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="393,227,547,253"/>
<area shape="rect" id="node11" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1067,588,1175,615"/>
<area shape="rect" id="node13" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1419,841,1508,868"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1077,1069,1165,1096"/>
<area shape="rect" id="node19" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="651,1044,717,1071"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="610,632,758,659"/>
<area shape="rect" id="node37" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="617,993,751,1020"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="615,943,753,969"/>
<area shape="rect" id="node21" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="829,943,967,969"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="857,1044,939,1071"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="813,841,983,868"/>
<area shape="rect" id="node25" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="843,993,953,1020"/>
<area shape="rect" id="node24" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="1036,841,1205,868"/>
<area shape="rect" id="node26" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="1051,993,1190,1020"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="812,639,984,665"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="831,689,965,716"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="808,588,988,615"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="843,740,953,767"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="831,335,965,361"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="821,385,975,412"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="831,436,965,463"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="823,487,973,513"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="816,537,980,564"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="621,1247,747,1273"/>
<area shape="rect" id="node46" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="861,93,935,120"/>
<area shape="rect" id="node47" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1069,157,1172,184"/>
<area shape="rect" id="node48" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1061,5,1180,32"/>
<area shape="rect" id="node49" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1059,56,1182,83"/>
<area shape="rect" id="node50" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1095,107,1146,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aa2bc4dffab60c9ee6f3b9e44b94f0af0_icgraph.png" border="0" usemap="#caps_8c_aa2bc4dffab60c9ee6f3b9e44b94f0af0_icgraph" alt=""/></div>
<map name="caps_8c_aa2bc4dffab60c9ee6f3b9e44b94f0af0_icgraph" id="caps_8c_aa2bc4dffab60c9ee6f3b9e44b94f0af0_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8c.html#a8cda3e3207900b5a737dffad0f073243" title="ceph_sync_fs" alt="" coords="1060,144,1163,171"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1016,647,1207,673"/>
<area shape="rect" id="node13" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="205,587,369,613"/>
<area shape="rect" id="node47" href="mds__client_8h.html#a2cdaf6b1bd65bdb7a17c4b7a4a9a3881" title="ceph_mdsc_sync" alt="" coords="835,181,959,208"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1291,429,1365,456"/>
<area shape="rect" id="node11" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1266,659,1390,685"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1672,364,1779,391"/>
<area shape="rect" id="node9" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1453,466,1588,507"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1640,415,1811,441"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1859,357,2009,398"/>
<area shape="rect" id="node7" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1887,477,1981,504"/>
<area shape="rect" id="node8" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2057,477,2128,504"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1455,633,1586,660"/>
<area shape="rect" id="node14" href="ceph_2super_8c.html#a7ec47b48644ac52bafcaa15b1db7673b" title="ceph_kill_sb" alt="" coords="452,587,547,613"/>
<area shape="rect" id="node15" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="417,819,581,845"/>
<area shape="rect" id="node16" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="636,717,772,744"/>
<area shape="rect" id="node18" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="656,768,752,795"/>
<area shape="rect" id="node19" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="655,819,753,845"/>
<area shape="rect" id="node21" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="657,869,751,896"/>
<area shape="rect" id="node22" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="656,920,752,947"/>
<area shape="rect" id="node23" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="653,971,755,997"/>
<area shape="rect" id="node24" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="659,1021,749,1048"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="665,1072,743,1099"/>
<area shape="rect" id="node26" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="659,1123,749,1149"/>
<area shape="rect" id="node27" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="654,1173,754,1200"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="1457,127,1584,153"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="834,1232,961,1259"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="661,667,747,693"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="832,616,963,643"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="848,565,947,592"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="650,1224,758,1251"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="1661,288,1790,315"/>
<area shape="rect" id="node35" href="ceph_2super_8c.html#aeb84ba4e574a0ccfe88118ac0aab3db8" title="open_root_dentry" alt="" coords="643,1275,765,1301"/>
<area shape="rect" id="node36" href="ceph_2export_8c.html#acb66f1d257f6a1a905c5aa123a008380" title="__fh_to_dentry" alt="" coords="650,1325,758,1352"/>
<area shape="rect" id="node37" href="ceph_2export_8c.html#a287c01c9981c228d57018655aa26683d" title="__get_parent" alt="" coords="655,1376,753,1403"/>
<area shape="rect" id="node38" href="ceph_2export_8c.html#a6b823e0df63107bb4bcd2ba9e61e8413" title="ceph_get_name" alt="" coords="647,1427,761,1453"/>
<area shape="rect" id="node39" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="630,1477,778,1504"/>
<area shape="rect" id="node40" href="ceph_2ioctl_8c.html#a49d67c9da9db732a007054d42737d71b" title="ceph_ioctl_set_layout\l_policy" alt="" coords="630,1529,778,1570"/>
<area shape="rect" id="node41" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="633,144,775,171"/>
<area shape="rect" id="node42" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386" title="ceph_lock_message" alt="" coords="827,257,968,284"/>
<area shape="rect" id="node43" href="ceph_2locks_8c.html#aa1669cd0c0b97c914a01f9a46085c4e4" title="ceph_lock_wait_for\l_completion" alt="" coords="637,297,771,338"/>
<area shape="rect" id="node44" href="mds__client_8c.html#af5c59a9acc4e730396a9d4925ee5fbc7" title="__unregister_request" alt="" coords="633,413,775,440"/>
<area shape="rect" id="node45" href="mds__client_8c.html#a75af1e7965eb2afad36fa3831709cd75" title="handle_forward" alt="" coords="842,363,953,389"/>
<area shape="rect" id="node46" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="629,195,779,221"/>
<area shape="rect" id="node17" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="840,717,955,744"/>
<area shape="rect" id="node20" href="ceph_2dir_8c.html#a175e1f1cfa883efde728eb951ab70237" title="ceph_dir_llseek" alt="" coords="841,819,953,845"/>
<area shape="rect" id="node48" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="1032,195,1191,221"/>
<area shape="rect" id="node49" href="ceph_2dir_8c.html#a4da88df26cfd80986a5ab486f0e546c5" title="dentry_lease_is_valid" alt="" coords="1255,163,1401,189"/>
<area shape="rect" id="node50" href="ceph_2inode_8c.html#a8badcdbcd026a29e3943b140159052e8" title="update_dentry_lease" alt="" coords="1449,364,1592,391"/>
</map>
</div>

</div>
</div>
<a id="aff673efc250bb6a90c368456bef28623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff673efc250bb6a90c368456bef28623">&#9670;&nbsp;</a></span>ceph_flush_snaps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_flush_snaps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> **&#160;</td>
          <td class="paramname"><em>psession</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aff673efc250bb6a90c368456bef28623_cgraph.png" border="0" usemap="#caps_8c_aff673efc250bb6a90c368456bef28623_cgraph" alt=""/></div>
<map name="caps_8c_aff673efc250bb6a90c368456bef28623_cgraph" id="caps_8c_aff673efc250bb6a90c368456bef28623_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="181,5,325,32"/>
<area shape="rect" id="node3" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="812,56,971,83"/>
<area shape="rect" id="node4" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="795,107,988,133"/>
<area shape="rect" id="node6" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="180,807,327,833"/>
<area shape="rect" id="node49" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="183,959,324,985"/>
<area shape="rect" id="node5" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="1080,81,1172,108"/>
<area shape="rect" id="node7" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="418,883,483,909"/>
<area shape="rect" id="node8" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1640,857,1757,884"/>
<area shape="rect" id="node10" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="405,832,497,859"/>
<area shape="rect" id="node18" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1283,857,1417,884"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="377,528,525,555"/>
<area shape="rect" id="node47" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="383,984,518,1011"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="381,933,520,960"/>
<area shape="rect" id="node9" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1805,857,1895,884"/>
<area shape="rect" id="node11" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="591,857,730,884"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="620,959,701,985"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="576,807,745,833"/>
<area shape="rect" id="node16" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="605,1009,716,1036"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1306,959,1394,985"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="807,807,976,833"/>
<area shape="rect" id="node17" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="822,1009,961,1036"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="575,401,747,428"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="593,452,728,479"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="1036,705,1216,732"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="606,553,715,580"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="594,604,727,631"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="583,655,738,681"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="593,233,728,260"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="586,351,735,377"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="579,503,743,529"/>
<area shape="rect" id="node23" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1484,807,1592,833"/>
<area shape="rect" id="node28" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1303,284,1397,311"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="834,233,949,260"/>
<area shape="rect" id="node30" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="1053,183,1199,209"/>
<area shape="rect" id="node35" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="1076,563,1176,589"/>
<area shape="rect" id="node44" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="1041,233,1211,260"/>
<area shape="rect" id="node31" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="1325,81,1375,108"/>
<area shape="rect" id="node33" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1329,132,1371,159"/>
<area shape="rect" id="node34" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1487,233,1589,260"/>
<area shape="rect" id="node32" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="1509,81,1567,108"/>
<area shape="rect" id="node36" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1264,639,1436,665"/>
<area shape="rect" id="node37" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff" title="__ceph_caps_issued\l_other" alt="" coords="1278,741,1422,782"/>
<area shape="rect" id="node38" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1279,335,1421,361"/>
<area shape="rect" id="node39" href="dcache_8c.html#a12f52b8fa0d189193e7462423ca292ac" title="d_find_any_alias" alt="" coords="1291,385,1409,412"/>
<area shape="rect" id="node40" href="mds__client_8c.html#afbadfdaefad86c7e0d8514fe798efeba" title="drop_negative_children" alt="" coords="1273,436,1427,463"/>
<area shape="rect" id="node41" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1323,487,1377,513"/>
<area shape="rect" id="node42" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1515,563,1561,589"/>
<area shape="rect" id="node43" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="1292,537,1408,564"/>
<area shape="rect" id="node50" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="375,1161,527,1188"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aff673efc250bb6a90c368456bef28623_icgraph.png" border="0" usemap="#caps_8c_aff673efc250bb6a90c368456bef28623_icgraph" alt=""/></div>
<map name="caps_8c_aff673efc250bb6a90c368456bef28623_icgraph" id="caps_8c_aff673efc250bb6a90c368456bef28623_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="555,948,745,975"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1635,384,1767,411"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="320,1050,507,1076"/>
<area shape="rect" id="node48" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="180,1050,272,1076"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="833,894,907,920"/>
<area shape="rect" id="node39" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="808,948,932,975"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1209,864,1316,891"/>
<area shape="rect" id="node37" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="995,882,1129,924"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1177,919,1348,946"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1416,857,1567,898"/>
<area shape="rect" id="node23" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2475,1100,2569,1127"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1837,87,1980,114"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2467,619,2577,646"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="2053,87,2212,114"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2263,112,2419,139"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2469,112,2575,139"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1841,138,1976,164"/>
<area shape="rect" id="node13" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2079,138,2186,164"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1869,340,1949,367"/>
<area shape="rect" id="node16" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2067,290,2198,316"/>
<area shape="rect" id="node17" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2063,391,2202,418"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1853,239,1964,266"/>
<area shape="rect" id="node19" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1815,492,2003,519"/>
<area shape="rect" id="node15" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="2074,340,2191,367"/>
<area shape="rect" id="node20" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="2051,442,2215,468"/>
<area shape="rect" id="node27" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="2051,644,2215,671"/>
<area shape="rect" id="node21" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="2269,442,2412,468"/>
<area shape="rect" id="node22" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="2273,340,2408,367"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="2276,290,2405,316"/>
<area shape="rect" id="node26" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="2266,391,2415,418"/>
<area shape="rect" id="node24" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2625,1202,2696,1228"/>
<area shape="rect" id="node28" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="2273,594,2409,620"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="2293,644,2389,671"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="2292,695,2389,722"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="2293,746,2388,772"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="2293,796,2389,823"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="2289,847,2392,874"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="2296,898,2385,924"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="2302,492,2379,519"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="2295,543,2386,570"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="997,999,1127,1026"/>
<area shape="rect" id="node42" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="580,1100,720,1127"/>
<area shape="rect" id="node43" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="581,1050,719,1076"/>
<area shape="rect" id="node46" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="589,1151,711,1178"/>
<area shape="rect" id="node44" href="addr_8c.html#a642f2acaf9a83dce66c863b659434aa8" title="ceph_writepage" alt="" coords="813,1100,927,1127"/>
<area shape="rect" id="node45" href="addr_8c.html#a3712eb2307378095158e47d5acf45cc1" title="ceph_update_writeable_page" alt="" coords="1396,1100,1587,1127"/>
<area shape="rect" id="node47" href="addr_8c.html#abbcf9a8d2145d862c3e3d43a9ae3d48b" title="ceph_writepages_start" alt="" coords="793,1151,947,1178"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a53c2eb47ed109b2711cc7c57f8d07c7e" title="ceph_handle_snap" alt="" coords="348,1202,479,1228"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="574,1202,726,1228"/>
</map>
</div>

</div>
</div>
<a id="a601c896d9f4041c016b957b081192090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a601c896d9f4041c016b957b081192090">&#9670;&nbsp;</a></span>ceph_free_cap_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_free_cap_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__cap__flush.html">ceph_cap_flush</a> *&#160;</td>
          <td class="paramname"><em>cf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a601c896d9f4041c016b957b081192090_icgraph.png" border="0" usemap="#caps_8c_a601c896d9f4041c016b957b081192090_icgraph" alt=""/></div>
<map name="caps_8c_a601c896d9f4041c016b957b081192090_icgraph" id="caps_8c_a601c896d9f4041c016b957b081192090_icgraph">
<area shape="rect" id="node2" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="225,43,340,69"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="1155,220,1263,247"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="936,625,1047,652"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="215,813,350,840"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="229,923,336,949"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="217,1148,348,1175"/>
<area shape="rect" id="node43" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="213,1604,352,1631"/>
<area shape="rect" id="node44" href="caps_8c.html#a72f347ec4391b08b3c709c7c4fc984b6" title="handle_cap_flush_ack" alt="" coords="916,1503,1067,1529"/>
<area shape="rect" id="node45" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="196,1553,369,1580"/>
<area shape="rect" id="node3" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1341,107,1439,133"/>
<area shape="rect" id="node4" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="432,43,589,69"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="453,321,568,348"/>
<area shape="rect" id="node6" href="ceph_2xattr_8c.html#a38d03a59e2955571769e4ed85d88ca45" title="__ceph_getxattr" alt="" coords="688,473,803,500"/>
<area shape="rect" id="node7" href="ceph_2xattr_8c.html#ad8e1213f0018e050c233b4a17a451d1c" title="ceph_listxattr" alt="" coords="695,423,795,449"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#ae35eae0cc32363f26d7ba3ea27ce5f87" title="ceph_llseek" alt="" coords="700,119,791,145"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a75532b43decb5e755e202393099cca2d" title="ceph_permission" alt="" coords="685,169,805,196"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="698,271,793,297"/>
<area shape="rect" id="node15" href="ceph_2ioctl_8c.html#ab41b9e669748896ee37d95e876876610" title="ceph_ioctl_get_layout" alt="" coords="671,321,819,348"/>
<area shape="rect" id="node16" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="671,372,819,399"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="887,271,1096,297"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="1343,271,1437,297"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="431,727,590,753"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="674,727,817,753"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="667,676,823,703"/>
<area shape="rect" id="node23" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1173,1047,1246,1073"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="449,1108,572,1135"/>
<area shape="rect" id="node29" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1147,1300,1271,1327"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1325,1401,1455,1428"/>
<area shape="rect" id="node32" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="929,1401,1053,1428"/>
<area shape="rect" id="node33" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1144,1452,1275,1479"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="441,1181,580,1222"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="417,916,604,943"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="433,1047,588,1073"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1337,1047,1443,1073"/>
<area shape="rect" id="node25" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1323,981,1457,1022"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1505,1043,1676,1069"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="896,1097,1087,1124"/>
<area shape="rect" id="node31" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1555,1452,1626,1479"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="700,1249,791,1276"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="695,1199,795,1225"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="674,879,817,921"/>
<area shape="rect" id="node39" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="907,857,1075,884"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="669,996,821,1023"/>
<area shape="rect" id="node42" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="662,1047,829,1073"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a9932cb0bc0bc56c2d1ff11dd748002e3" title="remove_session_caps" alt="" coords="435,1604,587,1631"/>
<area shape="rect" id="node47" href="mds__client_8c.html#aecd52d2d17cb6a55a29e18c9f6dfca77" title="handle_session" alt="" coords="1153,1553,1265,1580"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="685,1705,805,1732"/>
<area shape="rect" id="node49" href="mds__client_8h.html#a90cd624d396cca56a05acaddd072cb3a" title="ceph_mdsc_close_sessions" alt="" coords="652,1604,839,1631"/>
<area shape="rect" id="node50" href="mds__client_8h.html#a679279e05084bf0e754dd17f41d7cbc7" title="ceph_mdsc_force_umount" alt="" coords="658,1655,833,1681"/>
</map>
</div>

</div>
</div>
<a id="ad5abe1e50407952feaf4ecbad451a65b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5abe1e50407952feaf4ecbad451a65b">&#9670;&nbsp;</a></span>ceph_fsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_fsync </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>datasync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ad5abe1e50407952feaf4ecbad451a65b_cgraph.png" border="0" usemap="#caps_8c_ad5abe1e50407952feaf4ecbad451a65b_cgraph" alt=""/></div>
<map name="caps_8c_ad5abe1e50407952feaf4ecbad451a65b_cgraph" id="caps_8c_ad5abe1e50407952feaf4ecbad451a65b_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1070,602,1158,629"/>
<area shape="rect" id="node3" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="161,947,267,974"/>
<area shape="rect" id="node11" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1055,1479,1173,1506"/>
<area shape="rect" id="node33" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="143,478,285,505"/>
<area shape="rect" id="node50" href="caps_8c.html#aacd62e121ebb5e03853b0c8450e94c8f" title="caps_are_flushed" alt="" coords="152,65,276,91"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="579,871,706,898"/>
<area shape="rect" id="node5" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="348,922,483,949"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="341,1251,489,1278"/>
<area shape="rect" id="node23" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="339,973,491,999"/>
<area shape="rect" id="node25" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="597,1581,689,1607"/>
<area shape="rect" id="node32" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="341,1365,489,1391"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="557,1327,729,1354"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="575,1378,710,1405"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="553,1479,733,1506"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="588,1429,697,1455"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="576,1125,709,1151"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="565,1175,720,1202"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="575,1023,710,1050"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="568,1226,717,1253"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="561,1277,725,1303"/>
<area shape="rect" id="node10" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="831,1429,939,1455"/>
<area shape="rect" id="node12" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1247,1479,1336,1506"/>
<area shape="rect" id="node17" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="837,1007,932,1034"/>
<area shape="rect" id="node18" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="788,1058,981,1085"/>
<area shape="rect" id="node19" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="827,1109,942,1135"/>
<area shape="rect" id="node20" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="805,957,964,983"/>
<area shape="rect" id="node24" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="567,973,719,999"/>
<area shape="rect" id="node26" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="815,1479,954,1506"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="844,754,925,781"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="800,1682,969,1709"/>
<area shape="rect" id="node30" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="829,1581,940,1607"/>
<area shape="rect" id="node29" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="1029,1682,1199,1709"/>
<area shape="rect" id="node31" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="1045,1581,1183,1607"/>
<area shape="rect" id="node34" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="333,590,497,617"/>
<area shape="rect" id="node39" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="333,478,497,505"/>
<area shape="rect" id="node35" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="549,653,737,679"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a0e56b733f092ab72fcfa8f61bdcbff0b" title="destroy_reply_info" alt="" coords="821,653,949,679"/>
<area shape="rect" id="node37" href="caps_8c.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="819,906,951,933"/>
<area shape="rect" id="node38" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1093,881,1135,907"/>
<area shape="rect" id="node40" href="mds__client_8h.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="558,770,727,797"/>
<area shape="rect" id="node41" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="561,267,725,294"/>
<area shape="rect" id="node42" href="mds__client_8h.html#a0435bf9d87d67b682d73e5bd92f3f41a" title="ceph_mdsc_build_path" alt="" coords="565,318,720,345"/>
<area shape="rect" id="node43" href="mds__client_8h.html#a05ecbf1d7ee0cdb585e3480b5d9833da" title="__ceph_mdsc_drop_dentry\l_lease" alt="" coords="553,704,732,745"/>
<area shape="rect" id="node44" href="mds__client_8h.html#a1d3c4cd04177b319e012186a5a04c39b" title="ceph_mdsc_lease_send_msg" alt="" coords="545,602,740,629"/>
<area shape="rect" id="node45" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="547,369,738,395"/>
<area shape="rect" id="node46" href="mds__client_8h.html#abee229f022194ee7d2acd035e0b21f24" title="ceph_mdsc_handle_fsmap" alt="" coords="554,419,731,446"/>
<area shape="rect" id="node47" href="mds__client_8h.html#a079c415fb97832014699f121021760e6" title="ceph_mdsc_open_export\l_target_session" alt="" coords="559,471,726,512"/>
<area shape="rect" id="node48" href="mds__client_8h.html#a6f400bce6e34c2f1d994870cce784825" title="ceph_mdsc_open_export\l_target_sessions" alt="" coords="559,536,726,577"/>
<area shape="rect" id="node49" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="585,217,700,243"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ad5abe1e50407952feaf4ecbad451a65b_icgraph.png" border="0" usemap="#caps_8c_ad5abe1e50407952feaf4ecbad451a65b_icgraph" alt=""/></div>
<map name="caps_8c_ad5abe1e50407952feaf4ecbad451a65b_icgraph" id="caps_8c_ad5abe1e50407952feaf4ecbad451a65b_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="143,449,333,476"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="381,389,455,416"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="508,5,632,32"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="717,301,824,328"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="503,353,637,394"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="685,360,856,387"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="904,353,1055,394"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1986,233,2081,260"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1328,816,1471,843"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1978,867,2089,893"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1109,309,1251,336"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1121,500,1239,527"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1114,867,1246,893"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1103,157,1257,184"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1545,841,1704,868"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1756,917,1912,944"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1980,1019,2087,1045"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1333,551,1465,577"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1344,1019,1455,1045"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1585,765,1665,792"/>
<area shape="rect" id="node15" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1775,867,1893,893"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1571,1120,1678,1147"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1559,1171,1690,1197"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1555,968,1694,995"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1332,867,1467,893"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1305,613,1493,640"/>
<area shape="rect" id="node23" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1543,461,1707,488"/>
<area shape="rect" id="node36" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1543,613,1707,640"/>
<area shape="rect" id="node24" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1763,461,1905,488"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1767,360,1901,387"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1769,411,1899,437"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1759,512,1909,539"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2155,132,2225,159"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2273,107,2483,133"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2289,157,2467,184"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2531,128,2673,155"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2531,179,2673,221"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2721,128,2857,155"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2730,187,2849,213"/>
<area shape="rect" id="node37" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1766,715,1902,741"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1786,765,1882,792"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1785,613,1883,640"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1787,664,1881,691"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1758,107,1910,133"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1316,107,1483,133"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="1960,157,2107,184"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="1965,107,2102,133"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1541,107,1708,133"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1769,56,1899,83"/>
</map>
</div>

</div>
</div>
<a id="afcbbb494674f4af87ee2b85f5c9fc44c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcbbb494674f4af87ee2b85f5c9fc44c">&#9670;&nbsp;</a></span>ceph_get_cap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structceph__cap.html">ceph_cap</a>* ceph_get_cap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_cap_reservation *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_afcbbb494674f4af87ee2b85f5c9fc44c_icgraph.png" border="0" usemap="#caps_8c_afcbbb494674f4af87ee2b85f5c9fc44c_icgraph" alt=""/></div>
<map name="caps_8c_afcbbb494674f4af87ee2b85f5c9fc44c_icgraph" id="caps_8c_afcbbb494674f4af87ee2b85f5c9fc44c_icgraph">
<area shape="rect" id="node2" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="156,702,229,729"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1304,756,1495,782"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1768,857,1899,884"/>
<area shape="rect" id="node49" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="279,1009,410,1036"/>
<area shape="rect" id="node50" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="689,1060,819,1086"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="492,702,599,729"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="277,570,412,611"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="460,564,631,590"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="679,542,829,583"/>
<area shape="rect" id="node38" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1786,654,1881,681"/>
<area shape="rect" id="node5" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1091,148,1233,174"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1778,72,1889,98"/>
<area shape="rect" id="node10" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="877,574,1020,601"/>
<area shape="rect" id="node11" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="889,524,1008,550"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="883,452,1015,478"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1085,908,1239,934"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1320,148,1479,174"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1548,148,1704,174"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1780,198,1887,225"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1096,654,1228,681"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1107,452,1217,478"/>
<area shape="rect" id="node26" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1359,654,1439,681"/>
<area shape="rect" id="node14" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1564,806,1688,833"/>
<area shape="rect" id="node16" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1995,717,2066,744"/>
<area shape="rect" id="node17" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2152,692,2361,718"/>
<area shape="rect" id="node18" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2168,742,2345,769"/>
<area shape="rect" id="node19" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2409,713,2552,740"/>
<area shape="rect" id="node23" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2409,764,2552,806"/>
<area shape="rect" id="node20" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2600,713,2736,740"/>
<area shape="rect" id="node21" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2797,666,2914,693"/>
<area shape="rect" id="node22" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2800,717,2911,744"/>
<area shape="rect" id="node24" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2609,772,2727,798"/>
<area shape="rect" id="node25" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="2784,772,2927,798"/>
<area shape="rect" id="node27" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1567,654,1685,681"/>
<area shape="rect" id="node29" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1346,502,1453,529"/>
<area shape="rect" id="node30" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1334,300,1465,326"/>
<area shape="rect" id="node31" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1330,350,1469,377"/>
<area shape="rect" id="node33" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1095,198,1229,225"/>
<area shape="rect" id="node34" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1068,553,1256,580"/>
<area shape="rect" id="node35" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1317,604,1481,630"/>
<area shape="rect" id="node40" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1317,553,1481,580"/>
<area shape="rect" id="node36" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1555,502,1697,529"/>
<area shape="rect" id="node37" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1559,604,1693,630"/>
<area shape="rect" id="node39" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1561,553,1691,580"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1757,908,1909,934"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1316,857,1483,884"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="1957,933,2104,960"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="1962,882,2099,909"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1543,857,1709,884"/>
</map>
</div>

</div>
</div>
<a id="aea107c56ab60d0dd1c00ad9c5da4231b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea107c56ab60d0dd1c00ad9c5da4231b">&#9670;&nbsp;</a></span>ceph_get_cap_for_mds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structceph__cap.html">ceph_cap</a>* ceph_get_cap_for_mds </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aea107c56ab60d0dd1c00ad9c5da4231b_cgraph.png" border="0" usemap="#caps_8c_aea107c56ab60d0dd1c00ad9c5da4231b_cgraph" alt=""/></div>
<map name="caps_8c_aea107c56ab60d0dd1c00ad9c5da4231b_cgraph" id="caps_8c_aea107c56ab60d0dd1c00ad9c5da4231b_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#a3599ad9f5e90dfe60883ad06ff23447a" title="__get_cap_for_mds" alt="" coords="211,5,347,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aea107c56ab60d0dd1c00ad9c5da4231b_icgraph.png" border="0" usemap="#caps_8c_aea107c56ab60d0dd1c00ad9c5da4231b_icgraph" alt=""/></div>
<map name="caps_8c_aea107c56ab60d0dd1c00ad9c5da4231b_icgraph" id="caps_8c_aea107c56ab60d0dd1c00ad9c5da4231b_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1293,658,1484,685"/>
<area shape="rect" id="node12" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="211,1549,375,1575"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1557,81,1631,107"/>
<area shape="rect" id="node10" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1532,709,1656,735"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1961,110,2068,137"/>
<area shape="rect" id="node8" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1725,44,1860,85"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1929,51,2100,78"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="2148,44,2299,85"/>
<area shape="rect" id="node6" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2176,135,2271,162"/>
<area shape="rect" id="node7" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2347,1643,2417,1670"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1727,709,1858,735"/>
<area shape="rect" id="node13" href="mds__client_8c.html#a3b08c16cb94bbaed452dcaef931456f4" title="__do_request" alt="" coords="453,1549,553,1575"/>
<area shape="rect" id="node50" href="mds__client_8c.html#a8aa7c135fe44b24f96e656d684e8d305" title="replay_unsafe_requests" alt="" coords="423,1751,583,1778"/>
<area shape="rect" id="node14" href="mds__client_8c.html#ad6c214255cffee41f51d230040601d24" title="__wake_requests" alt="" coords="661,1713,785,1739"/>
<area shape="rect" id="node23" href="mds__client_8c.html#a662569f6a9d698f7df37951970f58b20" title="kick_requests" alt="" coords="672,1586,775,1613"/>
<area shape="rect" id="node24" href="mds__client_8h.html#aa5c5e0f0c721a71ac5eaa57b1621acaf" title="ceph_mdsc_submit_request" alt="" coords="631,1522,816,1549"/>
<area shape="rect" id="node25" href="mds__client_8h.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="643,902,803,929"/>
<area shape="rect" id="node49" href="mds__client_8c.html#a75af1e7965eb2afad36fa3831709cd75" title="handle_forward" alt="" coords="1539,1865,1649,1891"/>
<area shape="rect" id="node15" href="mds__client_8c.html#aecd52d2d17cb6a55a29e18c9f6dfca77" title="handle_session" alt="" coords="895,1611,1007,1638"/>
<area shape="rect" id="node16" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="878,1865,1025,1891"/>
<area shape="rect" id="node17" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1106,1814,1226,1841"/>
<area shape="rect" id="node18" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="1293,1763,1484,1790"/>
<area shape="rect" id="node20" href="mds__client_8h.html#a679279e05084bf0e754dd17f41d7cbc7" title="ceph_mdsc_force_umount" alt="" coords="864,1561,1039,1587"/>
<area shape="rect" id="node22" href="mds__client_8h.html#abee229f022194ee7d2acd035e0b21f24" title="ceph_mdsc_handle_fsmap" alt="" coords="1704,1706,1881,1733"/>
<area shape="rect" id="node19" href="mds__client_8c.html#a5b790a3bd73bc8fcdcfd643f883ba95b" title="peer_reset" alt="" coords="1125,1865,1207,1891"/>
<area shape="rect" id="node21" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="1087,1510,1245,1537"/>
<area shape="rect" id="node26" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="883,902,1019,929"/>
<area shape="rect" id="node27" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="903,953,999,979"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="904,1003,999,1030"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="903,1054,999,1081"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="900,1105,1003,1131"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="907,1155,996,1182"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="913,1206,990,1233"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="906,1257,997,1283"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="901,1307,1001,1334"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="888,1358,1015,1385"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1103,822,1229,849"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="909,633,994,659"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1101,683,1231,710"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="897,1409,1005,1435"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="1324,26,1453,53"/>
<area shape="rect" id="node41" href="ceph_2super_8c.html#aeb84ba4e574a0ccfe88118ac0aab3db8" title="open_root_dentry" alt="" coords="890,313,1013,339"/>
<area shape="rect" id="node42" href="ceph_2export_8c.html#acb66f1d257f6a1a905c5aa123a008380" title="__fh_to_dentry" alt="" coords="897,363,1005,390"/>
<area shape="rect" id="node43" href="ceph_2export_8c.html#a287c01c9981c228d57018655aa26683d" title="__get_parent" alt="" coords="903,414,1000,441"/>
<area shape="rect" id="node44" href="ceph_2export_8c.html#a6b823e0df63107bb4bcd2ba9e61e8413" title="ceph_get_name" alt="" coords="894,465,1009,491"/>
<area shape="rect" id="node45" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="877,515,1025,542"/>
<area shape="rect" id="node46" href="ceph_2ioctl_8c.html#a49d67c9da9db732a007054d42737d71b" title="ceph_ioctl_set_layout\l_policy" alt="" coords="877,567,1025,608"/>
<area shape="rect" id="node47" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386" title="ceph_lock_message" alt="" coords="1095,771,1237,798"/>
<area shape="rect" id="node48" href="ceph_2locks_8c.html#aa1669cd0c0b97c914a01f9a46085c4e4" title="ceph_lock_wait_for\l_completion" alt="" coords="884,735,1019,776"/>
</map>
</div>

</div>
</div>
<a id="a0f1c8bbbb77d21ae3c52345575801614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1c8bbbb77d21ae3c52345575801614">&#9670;&nbsp;</a></span>ceph_get_cap_mds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_get_cap_mds </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a0f1c8bbbb77d21ae3c52345575801614_cgraph.png" border="0" usemap="#caps_8c_a0f1c8bbbb77d21ae3c52345575801614_cgraph" alt=""/></div>
<map name="caps_8c_a0f1c8bbbb77d21ae3c52345575801614_cgraph" id="caps_8c_a0f1c8bbbb77d21ae3c52345575801614_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="219,5,307,32"/>
<area shape="rect" id="node3" href="caps_8c.html#ae2bb280de283924445a4ac5410608e36" title="__ceph_get_cap_mds" alt="" coords="188,56,337,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a0f1c8bbbb77d21ae3c52345575801614_icgraph.png" border="0" usemap="#caps_8c_a0f1c8bbbb77d21ae3c52345575801614_icgraph" alt=""/></div>
<map name="caps_8c_a0f1c8bbbb77d21ae3c52345575801614_icgraph" id="caps_8c_a0f1c8bbbb77d21ae3c52345575801614_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="188,449,379,476"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="427,389,500,416"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="553,5,677,32"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="763,301,869,328"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="548,353,683,394"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="731,360,901,387"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="949,353,1100,394"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2031,233,2126,260"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1373,816,1516,843"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2023,867,2134,893"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1154,309,1297,336"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1166,500,1285,527"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1159,867,1291,893"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1148,157,1303,184"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1591,841,1749,868"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1801,917,1957,944"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2025,1019,2132,1045"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1379,551,1511,577"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1389,1019,1500,1045"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1630,765,1710,792"/>
<area shape="rect" id="node15" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1821,867,1938,893"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1617,1120,1723,1147"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1605,1171,1735,1197"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1601,968,1739,995"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1377,867,1512,893"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1351,613,1539,640"/>
<area shape="rect" id="node23" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1588,461,1752,488"/>
<area shape="rect" id="node36" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1588,613,1752,640"/>
<area shape="rect" id="node24" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1808,461,1951,488"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1812,360,1947,387"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1815,411,1944,437"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1805,512,1954,539"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2200,132,2271,159"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2319,107,2528,133"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2335,157,2512,184"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2576,128,2719,155"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2576,179,2719,221"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2767,128,2903,155"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2775,187,2894,213"/>
<area shape="rect" id="node37" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1811,715,1947,741"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1831,765,1927,792"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1831,613,1928,640"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1832,664,1927,691"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1803,107,1955,133"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1361,107,1528,133"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2005,157,2152,184"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2010,107,2147,133"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1587,107,1753,133"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1814,56,1945,83"/>
</map>
</div>

</div>
</div>
<a id="a411cba14144ccc6cbedfe602a4a87208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a411cba14144ccc6cbedfe602a4a87208">&#9670;&nbsp;</a></span>ceph_get_cap_refs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_get_cap_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>caps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a411cba14144ccc6cbedfe602a4a87208_cgraph.png" border="0" usemap="#caps_8c_a411cba14144ccc6cbedfe602a4a87208_cgraph" alt=""/></div>
<map name="caps_8c_a411cba14144ccc6cbedfe602a4a87208_cgraph" id="caps_8c_a411cba14144ccc6cbedfe602a4a87208_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#a7b133dd4cf88c7ec0f8ece1d528e6ca7" title="__take_cap_refs" alt="" coords="185,5,304,32"/>
<area shape="rect" id="node3" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="352,5,401,32"/>
<area shape="rect" id="node4" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="449,5,588,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a411cba14144ccc6cbedfe602a4a87208_icgraph.png" border="0" usemap="#caps_8c_a411cba14144ccc6cbedfe602a4a87208_icgraph" alt=""/></div>
<map name="caps_8c_a411cba14144ccc6cbedfe602a4a87208_icgraph" id="caps_8c_a411cba14144ccc6cbedfe602a4a87208_icgraph">
<area shape="rect" id="node2" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="793,5,949,32"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="997,360,1188,387"/>
<area shape="rect" id="node13" href="mds__client_8h.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="185,727,345,753"/>
<area shape="rect" id="node3" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1039,56,1146,83"/>
<area shape="rect" id="node4" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2008,259,2119,285"/>
<area shape="rect" id="node6" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1261,411,1335,437"/>
<area shape="rect" id="node11" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1236,309,1360,336"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1623,349,1729,376"/>
<area shape="rect" id="node9" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1408,462,1543,503"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1591,411,1761,437"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1809,331,1960,373"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1410,309,1541,336"/>
<area shape="rect" id="node14" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="405,727,541,753"/>
<area shape="rect" id="node18" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="1019,1077,1167,1104"/>
<area shape="rect" id="node19" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="425,945,521,972"/>
<area shape="rect" id="node20" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="425,575,520,601"/>
<area shape="rect" id="node22" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="823,589,919,616"/>
<area shape="rect" id="node24" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="820,665,923,692"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="827,1077,916,1104"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="806,469,937,496"/>
<area shape="rect" id="node27" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="434,1097,511,1124"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="427,1148,518,1175"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="423,1199,523,1225"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="409,1249,536,1276"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="609,255,736,281"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="630,423,715,449"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="419,777,527,804"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="608,153,737,180"/>
<area shape="rect" id="node39" href="ceph_2super_8c.html#aeb84ba4e574a0ccfe88118ac0aab3db8" title="open_root_dentry" alt="" coords="411,255,534,281"/>
<area shape="rect" id="node41" href="ceph_2export_8c.html#acb66f1d257f6a1a905c5aa123a008380" title="__fh_to_dentry" alt="" coords="419,1047,527,1073"/>
<area shape="rect" id="node44" href="ceph_2export_8c.html#a287c01c9981c228d57018655aa26683d" title="__get_parent" alt="" coords="424,996,521,1023"/>
<area shape="rect" id="node46" href="ceph_2export_8c.html#a6b823e0df63107bb4bcd2ba9e61e8413" title="ceph_get_name" alt="" coords="415,305,530,332"/>
<area shape="rect" id="node47" href="ceph_2ioctl_8c.html#a49d67c9da9db732a007054d42737d71b" title="ceph_ioctl_set_layout\l_policy" alt="" coords="399,357,547,398"/>
<area shape="rect" id="node48" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386" title="ceph_lock_message" alt="" coords="602,929,743,956"/>
<area shape="rect" id="node49" href="ceph_2locks_8c.html#aa1669cd0c0b97c914a01f9a46085c4e4" title="ceph_lock_wait_for\l_completion" alt="" coords="405,879,540,921"/>
<area shape="rect" id="node50" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="393,524,552,551"/>
<area shape="rect" id="node15" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="615,727,730,753"/>
<area shape="rect" id="node16" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="822,752,921,779"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="814,816,929,843"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a1239ec0e7ceee3610c92354759959587" title="ceph_handle_notrace\l_create" alt="" coords="600,559,745,601"/>
<area shape="rect" id="node23" href="ceph_2dir_8c.html#ae07bbb2d72e579c15dfb87b49993b011" title="ceph_create" alt="" coords="1046,589,1139,616"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="816,157,927,184"/>
<area shape="rect" id="node33" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1027,107,1158,133"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="625,828,720,855"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a1dd55cfc1a5452a770c738001fdb2a1a" title="ceph_uninline_data" alt="" coords="805,259,938,285"/>
<area shape="rect" id="node40" href="ceph_2super_8c.html#a121e0c133045ae67b1e1f58e52f73ebf" title="ceph_real_mount" alt="" coords="612,305,733,332"/>
<area shape="rect" id="node42" href="ceph_2export_8c.html#a4f861142b7cb82e821c2ca8e25a00d52" title="ceph_fh_to_dentry" alt="" coords="608,1089,737,1116"/>
<area shape="rect" id="node43" href="ceph_2export_8c.html#a2bf6736b8f95713abe0292c524b81d14" title="ceph_fh_to_parent" alt="" coords="608,1039,737,1065"/>
<area shape="rect" id="node45" href="ceph_2export_8c.html#afc50b40a22c4c62d4523737b29d93c5a" title="ceph_get_parent" alt="" coords="613,988,732,1015"/>
</map>
</div>

</div>
</div>
<a id="abfd47c982944f6921a553278746103eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfd47c982944f6921a553278746103eb">&#9670;&nbsp;</a></span>ceph_get_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_get_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>need</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>want</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>endoff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>got</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page **&#160;</td>
          <td class="paramname"><em>pinned_page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_abfd47c982944f6921a553278746103eb_cgraph.png" border="0" usemap="#caps_8c_abfd47c982944f6921a553278746103eb_cgraph" alt=""/></div>
<map name="caps_8c_abfd47c982944f6921a553278746103eb_cgraph" id="caps_8c_abfd47c982944f6921a553278746103eb_cgraph">
<area shape="rect" id="node2" href="addr_8c.html#a06466dfc118c2c62d9be274895bbfe34" title="ceph_pool_perm_check" alt="" coords="643,56,801,83"/>
<area shape="rect" id="node5" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="423,1003,543,1029"/>
<area shape="rect" id="node27" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="188,1145,307,1172"/>
<area shape="rect" id="node33" href="ceph_2file_8c.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="420,1373,547,1400"/>
<area shape="rect" id="node39" href="caps_8c.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="417,1905,549,1932"/>
<area shape="rect" id="node46" href="ceph_2inode_8c.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="657,1504,787,1531"/>
<area shape="rect" id="node49" href="ceph_2cache_8c.html#a822425205d77dd8ffd49fd7510700668" title="ceph_fscache_revalidate\l_cookie" alt="" coords="164,1862,331,1903"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="1091,132,1235,159"/>
<area shape="rect" id="node4" href="addr_8c.html#aee6bc8d4231f1ca00a82db14b33742d4" title="__ceph_pool_perm_get" alt="" coords="869,5,1025,32"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1119,1120,1207,1147"/>
<area shape="rect" id="node7" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="659,715,785,741"/>
<area shape="rect" id="node8" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e" title="__ceph_is_single_caps" alt="" coords="869,512,1026,539"/>
<area shape="rect" id="node9" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="877,563,1017,589"/>
<area shape="rect" id="node10" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="861,208,1033,235"/>
<area shape="rect" id="node11" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1095,664,1230,691"/>
<area shape="rect" id="node12" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="875,157,1019,184"/>
<area shape="rect" id="node13" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1287,943,1404,969"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a17fc18f7ac76d812b3f8e0cccf641721" title="__ceph_dir_is_complete" alt="" coords="866,664,1029,691"/>
<area shape="rect" id="node15" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="860,968,1035,995"/>
<area shape="rect" id="node16" href="caps_8c.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="857,765,1037,792"/>
<area shape="rect" id="node17" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="874,867,1021,893"/>
<area shape="rect" id="node18" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="1117,841,1209,868"/>
<area shape="rect" id="node19" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="877,917,1018,944"/>
<area shape="rect" id="node20" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="1087,715,1239,741"/>
<area shape="rect" id="node21" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="871,613,1023,640"/>
<area shape="rect" id="node23" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="873,816,1021,843"/>
<area shape="rect" id="node24" href="ceph_2inode_8c.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="870,1069,1025,1096"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="1099,1753,1226,1780"/>
<area shape="rect" id="node25" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="1138,1272,1187,1299"/>
<area shape="rect" id="node26" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1141,1373,1184,1400"/>
<area shape="rect" id="node28" href="ceph_2inode_8c.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="379,1120,588,1147"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="647,1662,797,1703"/>
<area shape="rect" id="node30" href="ceph_2cache_8h.html#a8fac2802c89799052c8f3fed2ef4cf4d" title="ceph_disable_fscache\l_readpage" alt="" coords="408,1054,559,1095"/>
<area shape="rect" id="node31" href="caps_8c.html#a7b133dd4cf88c7ec0f8ece1d528e6ca7" title="__take_cap_refs" alt="" coords="424,1221,543,1248"/>
<area shape="rect" id="node32" href="caps_8c.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="393,1171,573,1197"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="636,1424,808,1451"/>
<area shape="rect" id="node35" href="ceph_2file_8c.html#a42bf78110b7454d112c3e57c8134bb6a" title="prepare_open_request" alt="" coords="647,1560,797,1587"/>
<area shape="rect" id="node37" href="mds__client_8c.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="867,1272,1027,1299"/>
<area shape="rect" id="node38" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="865,1779,1029,1805"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a1f4e3ccc5b0a05d39ed1a8b0febd0808" title="ceph_mdsc_create_request" alt="" coords="856,1677,1039,1704"/>
<area shape="rect" id="node40" href="orangefs-bufmap_8c.html#ae7af37ba2ab97a7a598771c9febc5605" title="put" alt="" coords="702,2133,742,2160"/>
<area shape="rect" id="node41" href="caps_8c.html#a3286643c6716b4bad722b3274dd51eaf" title="ceph_try_drop_cap_snap" alt="" coords="639,1931,805,1957"/>
<area shape="rect" id="node42" href="snap_8c.html#ac71b7cc554111d9cfccacf2439937313" title="__ceph_finish_cap_snap" alt="" coords="865,2133,1030,2160"/>
<area shape="rect" id="node43" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="650,2032,794,2059"/>
<area shape="rect" id="node44" href="caps_8c.html#a146c9d08e79a8871a4af9aad8513d7fd" title="drop_inode_snap_realm" alt="" coords="643,1981,801,2008"/>
<area shape="rect" id="node45" href="caps_8c.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="659,892,785,919"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a0463a433f603efab7ac10d068bfde5a5" title="ceph_snap" alt="" coords="905,1323,990,1349"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#ad77b538bbe5ac1e6ac1504da2bde1406" title="ceph_caps_issued_mask" alt="" coords="863,1576,1032,1603"/>
<area shape="rect" id="node50" href="ceph_2cache_8c.html#a0f433e4cca9de6170ba6d9e15cba6681" title="cache_valid" alt="" coords="438,1956,529,1983"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_abfd47c982944f6921a553278746103eb_icgraph.png" border="0" usemap="#caps_8c_abfd47c982944f6921a553278746103eb_icgraph" alt=""/></div>
<map name="caps_8c_abfd47c982944f6921a553278746103eb_icgraph" id="caps_8c_abfd47c982944f6921a553278746103eb_icgraph">
<area shape="rect" id="node2" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2001,296,2108,323"/>
<area shape="rect" id="node3" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1999,651,2110,678"/>
<area shape="rect" id="node4" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1593,448,1699,475"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="164,850,355,876"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1581,499,1711,526"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1577,398,1715,424"/>
<area shape="rect" id="node6" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="403,930,476,956"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="529,1158,653,1184"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="739,1006,845,1032"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="524,952,659,993"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="707,904,877,931"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="925,901,1076,942"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2007,904,2102,931"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1349,651,1492,678"/>
<area shape="rect" id="node12" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1130,955,1273,982"/>
<area shape="rect" id="node13" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1142,803,1261,830"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1135,550,1267,576"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1124,1056,1279,1083"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1567,651,1725,678"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1777,651,1933,678"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1355,854,1487,880"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1365,550,1476,576"/>
<area shape="rect" id="node15" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1606,803,1686,830"/>
<area shape="rect" id="node16" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1797,803,1914,830"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1353,600,1488,627"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1327,195,1515,222"/>
<area shape="rect" id="node23" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1564,195,1728,222"/>
<area shape="rect" id="node36" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1564,347,1728,374"/>
<area shape="rect" id="node24" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1784,246,1927,272"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1788,195,1923,222"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1791,144,1920,171"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1781,296,1930,323"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2176,980,2247,1007"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2295,955,2504,982"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2311,1006,2488,1032"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2552,976,2695,1003"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2552,1028,2695,1069"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2743,976,2879,1003"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2751,1035,2870,1062"/>
<area shape="rect" id="node37" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1787,499,1923,526"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1807,347,1903,374"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1807,398,1904,424"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1808,448,1903,475"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1779,1056,1931,1083"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1337,1006,1504,1032"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="1981,1006,2128,1032"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="1986,1056,2123,1083"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1563,1006,1729,1032"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1790,1107,1921,1134"/>
</map>
</div>

</div>
</div>
<a id="a2d88899cab3708cdb67a67595749d91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d88899cab3708cdb67a67595749d91a">&#9670;&nbsp;</a></span>ceph_handle_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_handle_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_msg *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a2d88899cab3708cdb67a67595749d91a_cgraph.png" border="0" usemap="#caps_8c_a2d88899cab3708cdb67a67595749d91a_cgraph" alt=""/></div>
<map name="caps_8c_a2d88899cab3708cdb67a67595749d91a_cgraph" id="caps_8c_a2d88899cab3708cdb67a67595749d91a_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="680,95,761,122"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="892,653,980,679"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a9a1adc54367889f5e9286f90a4e46a43" title="ceph_find_inode" alt="" coords="209,501,325,527"/>
<area shape="rect" id="node7" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="699,957,742,983"/>
<area shape="rect" id="node9" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="198,2467,337,2494"/>
<area shape="rect" id="node10" href="caps_8c.html#afcbbb494674f4af87ee2b85f5c9fc44c" title="ceph_get_cap" alt="" coords="437,1286,539,1313"/>
<area shape="rect" id="node11" href="caps_8c.html#a7626108cc91a746cbc8484c120583cb4" title="handle_cap_flushsnap_ack" alt="" coords="399,881,577,907"/>
<area shape="rect" id="node15" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="202,1641,333,1667"/>
<area shape="rect" id="node17" href="caps_8c.html#a3599ad9f5e90dfe60883ad06ff23447a" title="__get_cap_for_mds" alt="" coords="653,1695,789,1722"/>
<area shape="rect" id="node23" href="snap_8c.html#ae9ac43ce9abdb99a0bb0135fe43954b3" title="ceph_put_snap_realm" alt="" coords="646,2239,795,2266"/>
<area shape="rect" id="node25" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="864,1387,1008,1414"/>
<area shape="rect" id="node29" href="snap_8c.html#a4481709245b4e23810cf3999eeb7e73b" title="ceph_update_snap_trace" alt="" coords="184,2189,351,2215"/>
<area shape="rect" id="node37" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="202,1286,333,1313"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="655,602,786,629"/>
<area shape="rect" id="node39" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="426,551,550,578"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a51b0031781f30ee001a1b7307a19ac7f" title="ceph_ino" alt="" coords="230,45,305,71"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a0463a433f603efab7ac10d068bfde5a5" title="ceph_snap" alt="" coords="225,349,310,375"/>
<area shape="rect" id="node48" href="caps_8c.html#a72f347ec4391b08b3c709c7c4fc984b6" title="handle_cap_flush_ack" alt="" coords="413,1033,563,1059"/>
<area shape="rect" id="node49" href="caps_8c.html#a241aed40da853c59fb0ab47fb4368d80" title="handle_cap_trunc" alt="" coords="426,703,550,730"/>
<area shape="rect" id="node50" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="403,2011,573,2038"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a41356b2d8a8c3d87de77861dc0d116ef" title="ceph_vino_to_ino" alt="" coords="427,501,549,527"/>
<area shape="rect" id="node6" href="inode_8c.html#a3ce24c611eed82b98fb4775b3db0a8b6" title="ilookup5" alt="" coords="453,931,523,958"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#aca6f7152fa3cb7252622496187e644d2" title="ceph_ino_compare" alt="" coords="423,146,553,173"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="657,1109,784,1135"/>
<area shape="rect" id="node13" href="caps_8c.html#a5108bbacad06be2134fec92d5fccbcbf" title="__finish_cap_flush" alt="" coords="655,906,786,933"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="651,855,790,882"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="649,1615,793,1642"/>
<area shape="rect" id="node18" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="417,1387,559,1414"/>
<area shape="rect" id="node19" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="669,1805,772,1831"/>
<area shape="rect" id="node20" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1056,1387,1173,1414"/>
<area shape="rect" id="node21" href="caps_8c.html#a15095a42706db3f23498c2815247bf00" title="ceph_add_cap" alt="" coords="435,1489,541,1515"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a079c415fb97832014699f121021760e6" title="ceph_mdsc_open_export\l_target_session" alt="" coords="405,1743,571,1784"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="409,1691,567,1718"/>
<area shape="rect" id="node22" href="snap_8c.html#a43b10cceea1ba2024e6ac2ba62e282bb" title="ceph_lookup_snap_realm" alt="" coords="636,2163,805,2190"/>
<area shape="rect" id="node24" href="caps_8c.html#a67e4e74cdbc2c77f30be222b9e242858" title="__check_cap_issue" alt="" coords="652,1413,789,1439"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="647,1058,795,1085"/>
<area shape="rect" id="node30" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="673,2011,768,2038"/>
<area shape="rect" id="node31" href="snap_8c.html#a72a495328db3c6fddddcc22f44a57589" title="ceph_create_snap_realm" alt="" coords="637,2366,804,2393"/>
<area shape="rect" id="node32" href="snap_8c.html#a693464b2feb6eadf3fc5b7efae5c3ccf" title="adjust_snap_realm_parent" alt="" coords="401,2265,575,2291"/>
<area shape="rect" id="node33" href="snap_8c.html#a63b30dfd9a34ccdbd35e3dfd7f81ae8d" title="dup_array" alt="" coords="449,2113,527,2139"/>
<area shape="rect" id="node34" href="snap_8c.html#a1b14293b7e450ad88f11dfb9738424de" title="rebuild_snap_realms" alt="" coords="417,2315,559,2342"/>
<area shape="rect" id="node35" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="405,1337,571,1363"/>
<area shape="rect" id="node36" href="snap_8c.html#a71852d25664812108988ffd68d3c05a7" title="__cleanup_empty_realms" alt="" coords="403,2366,573,2393"/>
<area shape="rect" id="node40" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="633,501,808,527"/>
<area shape="rect" id="node41" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="683,298,758,325"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="625,349,816,375"/>
<area shape="rect" id="node43" href="ceph_2inode_8c.html#a0f20fdbdf3dbef013594ec11a45007a7" title="ceph_fill_file_time" alt="" coords="657,551,784,578"/>
<area shape="rect" id="node44" href="ceph_2inode_8c.html#a9f1b9530a7b4898eb3c04bc30092c18b" title="ceph_fill_file_size" alt="" coords="658,653,783,679"/>
<area shape="rect" id="node45" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="653,399,788,426"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a2d88899cab3708cdb67a67595749d91a_icgraph.png" border="0" usemap="#caps_8c_a2d88899cab3708cdb67a67595749d91a_icgraph" alt=""/></div>
<map name="caps_8c_a2d88899cab3708cdb67a67595749d91a_icgraph" id="caps_8c_a2d88899cab3708cdb67a67595749d91a_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="184,507,375,534"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1237,659,1307,686"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="448,431,521,458"/>
<area shape="rect" id="node49" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="423,609,547,635"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="809,457,916,483"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="595,340,729,381"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="777,402,948,429"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="996,391,1147,432"/>
<area shape="rect" id="node24" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1024,457,1119,483"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1431,558,1573,585"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1679,305,1789,331"/>
<area shape="rect" id="node9" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1201,457,1343,483"/>
<area shape="rect" id="node10" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1213,355,1331,382"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1206,254,1338,281"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1195,609,1349,635"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1655,558,1813,585"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1436,507,1568,534"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1447,153,1557,179"/>
<area shape="rect" id="node12" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1694,431,1774,458"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1681,109,1787,135"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1681,171,1787,198"/>
<area shape="rect" id="node16" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1669,247,1799,274"/>
<area shape="rect" id="node17" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1665,26,1803,53"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1435,457,1569,483"/>
<area shape="rect" id="node20" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1408,51,1596,78"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1426,609,1578,635"/>
<area shape="rect" id="node23" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1419,659,1585,686"/>
<area shape="rect" id="node26" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1397,710,1607,737"/>
<area shape="rect" id="node27" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1413,761,1591,787"/>
<area shape="rect" id="node28" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1663,761,1805,787"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2651,972,2793,1013"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1861,811,1997,838"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2045,811,2163,838"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2049,862,2159,889"/>
<area shape="rect" id="node31" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2233,1081,2363,1107"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2225,710,2371,737"/>
<area shape="rect" id="node33" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2433,710,2603,737"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2211,659,2385,686"/>
<area shape="rect" id="node38" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2443,942,2593,969"/>
<area shape="rect" id="node39" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="2215,811,2381,838"/>
<area shape="rect" id="node40" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2485,837,2551,863"/>
<area shape="rect" id="node41" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="2223,1183,2373,1224"/>
<area shape="rect" id="node42" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2441,1124,2595,1165"/>
<area shape="rect" id="node43" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="2229,964,2367,1005"/>
<area shape="rect" id="node44" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="2233,1030,2363,1057"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="2229,609,2367,635"/>
<area shape="rect" id="node35" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2841,979,2960,1006"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3008,979,3151,1006"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="597,609,727,635"/>
</map>
</div>

</div>
</div>
<a id="a25eb5883d59e9610b60324b37606daa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25eb5883d59e9610b60324b37606daa5">&#9670;&nbsp;</a></span>ceph_is_any_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_is_any_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a25eb5883d59e9610b60324b37606daa5_cgraph.png" border="0" usemap="#caps_8c_a25eb5883d59e9610b60324b37606daa5_cgraph" alt=""/></div>
<map name="caps_8c_a25eb5883d59e9610b60324b37606daa5_cgraph" id="caps_8c_a25eb5883d59e9610b60324b37606daa5_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="212,5,300,32"/>
<area shape="rect" id="node3" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="184,56,328,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a25eb5883d59e9610b60324b37606daa5_icgraph.png" border="0" usemap="#caps_8c_a25eb5883d59e9610b60324b37606daa5_icgraph" alt=""/></div>
<map name="caps_8c_a25eb5883d59e9610b60324b37606daa5_icgraph" id="caps_8c_a25eb5883d59e9610b60324b37606daa5_icgraph">
<area shape="rect" id="node2" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="1812,296,1939,323"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="184,385,375,412"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="423,385,496,412"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="549,204,673,231"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="759,436,865,463"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="544,319,679,361"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="727,356,897,383"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="945,429,1096,470"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2027,220,2122,247"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1369,803,1512,829"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2019,1031,2130,1057"/>
<area shape="rect" id="node12" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1150,436,1293,463"/>
<area shape="rect" id="node13" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1162,545,1281,572"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1155,853,1287,880"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1144,103,1299,129"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1587,803,1745,829"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1797,853,1953,880"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2021,853,2128,880"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1375,496,1507,523"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1385,955,1496,981"/>
<area shape="rect" id="node15" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1626,496,1706,523"/>
<area shape="rect" id="node16" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1817,347,1934,373"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1613,853,1719,880"/>
<area shape="rect" id="node19" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1601,1005,1731,1032"/>
<area shape="rect" id="node20" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1597,1056,1735,1083"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1373,853,1508,880"/>
<area shape="rect" id="node23" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1347,676,1535,703"/>
<area shape="rect" id="node24" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1584,676,1748,703"/>
<area shape="rect" id="node37" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1584,548,1748,575"/>
<area shape="rect" id="node25" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1804,651,1947,677"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1808,701,1943,728"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1811,752,1940,779"/>
<area shape="rect" id="node36" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1801,600,1950,627"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2196,132,2267,159"/>
<area shape="rect" id="node29" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2315,107,2524,133"/>
<area shape="rect" id="node30" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2331,157,2508,184"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2572,128,2715,155"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2572,179,2715,221"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2763,128,2899,155"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2771,187,2890,213"/>
<area shape="rect" id="node38" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1807,448,1943,475"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1827,499,1923,525"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1827,549,1924,576"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1799,93,1951,120"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1357,93,1524,120"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2001,144,2148,171"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2006,93,2143,120"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1583,93,1749,120"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1810,43,1941,69"/>
</map>
</div>

</div>
</div>
<a id="a8a4deabf017814e4cc027b9b2534addb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4deabf017814e4cc027b9b2534addb">&#9670;&nbsp;</a></span>ceph_kick_flushing_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_kick_flushing_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a8a4deabf017814e4cc027b9b2534addb_cgraph.png" border="0" usemap="#caps_8c_a8a4deabf017814e4cc027b9b2534addb_cgraph" alt=""/></div>
<map name="caps_8c_a8a4deabf017814e4cc027b9b2534addb_cgraph" id="caps_8c_a8a4deabf017814e4cc027b9b2534addb_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="221,284,373,311"/>
<area shape="rect" id="node3" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="224,335,371,361"/>
<area shape="rect" id="node4" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="463,5,528,32"/>
<area shape="rect" id="node5" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1703,259,1820,285"/>
<area shape="rect" id="node7" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="888,220,980,247"/>
<area shape="rect" id="node15" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1315,613,1449,640"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="421,613,569,640"/>
<area shape="rect" id="node49" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="867,335,1001,361"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="426,664,565,691"/>
<area shape="rect" id="node6" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1868,259,1957,285"/>
<area shape="rect" id="node8" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="1094,157,1233,184"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="1123,360,1204,387"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="1079,208,1248,235"/>
<area shape="rect" id="node13" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="1108,259,1219,285"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1338,563,1426,589"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="1297,157,1467,184"/>
<area shape="rect" id="node14" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="1313,208,1451,235"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="617,715,789,741"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="636,765,771,792"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="844,900,1024,927"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="649,816,758,843"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="637,867,770,893"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="626,461,781,488"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="636,563,771,589"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="629,512,778,539"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="621,613,785,640"/>
<area shape="rect" id="node20" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1531,1027,1639,1053"/>
<area shape="rect" id="node25" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1335,461,1429,488"/>
<area shape="rect" id="node26" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="837,461,1031,488"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="877,613,991,640"/>
<area shape="rect" id="node46" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="855,563,1013,589"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="1117,461,1209,488"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="1091,309,1236,336"/>
<area shape="rect" id="node36" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="1113,791,1213,817"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="1079,563,1248,589"/>
<area shape="rect" id="node30" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="1357,360,1407,387"/>
<area shape="rect" id="node33" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1361,309,1403,336"/>
<area shape="rect" id="node35" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1534,512,1637,539"/>
<area shape="rect" id="node31" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="1557,411,1614,437"/>
<area shape="rect" id="node32" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1516,360,1655,387"/>
<area shape="rect" id="node34" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1548,309,1623,336"/>
<area shape="rect" id="node37" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1296,1085,1468,1112"/>
<area shape="rect" id="node38" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff" title="__ceph_caps_issued\l_other" alt="" coords="1310,1019,1454,1061"/>
<area shape="rect" id="node39" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1311,664,1453,691"/>
<area shape="rect" id="node40" href="dcache_8c.html#a12f52b8fa0d189193e7462423ca292ac" title="d_find_any_alias" alt="" coords="1323,715,1441,741"/>
<area shape="rect" id="node41" href="mds__client_8c.html#afbadfdaefad86c7e0d8514fe798efeba" title="drop_negative_children" alt="" coords="1305,765,1459,792"/>
<area shape="rect" id="node42" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1355,816,1409,843"/>
<area shape="rect" id="node43" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1562,892,1609,919"/>
<area shape="rect" id="node44" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="1324,867,1440,893"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a8a4deabf017814e4cc027b9b2534addb_icgraph.png" border="0" usemap="#caps_8c_a8a4deabf017814e4cc027b9b2534addb_icgraph" alt=""/></div>
<map name="caps_8c_a8a4deabf017814e4cc027b9b2534addb_icgraph" id="caps_8c_a8a4deabf017814e4cc027b9b2534addb_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1227,688,1417,715"/>
<area shape="rect" id="node17" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="221,1240,341,1267"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1491,641,1564,668"/>
<area shape="rect" id="node15" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1465,693,1589,720"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1852,581,1959,608"/>
<area shape="rect" id="node13" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1637,633,1772,674"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1820,640,1991,667"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="2039,742,2189,783"/>
<area shape="rect" id="node9" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2067,531,2161,557"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="2237,699,2380,725"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2253,749,2364,776"/>
<area shape="rect" id="node8" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="2237,800,2380,827"/>
<area shape="rect" id="node10" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2273,480,2344,507"/>
<area shape="rect" id="node11" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2428,455,2637,481"/>
<area shape="rect" id="node12" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2444,505,2621,532"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1639,749,1770,776"/>
<area shape="rect" id="node18" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="389,1037,580,1064"/>
<area shape="rect" id="node19" href="ceph_2super_8c.html#aeb313834ad781b40a3bd3e0bf65b892c" title="extra_mon_dispatch" alt="" coords="641,1215,779,1241"/>
<area shape="rect" id="node21" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="628,835,792,861"/>
<area shape="rect" id="node20" href="ceph_2super_8c.html#ad624e813b2d5c53d819012f2ba2f4ee7" title="create_fs_client" alt="" coords="857,1595,972,1621"/>
<area shape="rect" id="node22" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="847,784,983,811"/>
<area shape="rect" id="node23" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="867,835,963,861"/>
<area shape="rect" id="node24" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="866,885,963,912"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="867,936,962,963"/>
<area shape="rect" id="node26" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="867,987,963,1013"/>
<area shape="rect" id="node27" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="863,1037,966,1064"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="870,1088,959,1115"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="876,1139,953,1165"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="869,1189,960,1216"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="865,1240,965,1267"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="851,1291,978,1317"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1045,733,1171,760"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="872,632,957,659"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1043,581,1173,608"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="1059,683,1157,709"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="861,1341,969,1368"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="1257,1172,1387,1199"/>
<area shape="rect" id="node39" href="ceph_2super_8c.html#aeb84ba4e574a0ccfe88118ac0aab3db8" title="open_root_dentry" alt="" coords="853,1392,976,1419"/>
<area shape="rect" id="node40" href="ceph_2export_8c.html#acb66f1d257f6a1a905c5aa123a008380" title="__fh_to_dentry" alt="" coords="861,1443,969,1469"/>
<area shape="rect" id="node41" href="ceph_2export_8c.html#a287c01c9981c228d57018655aa26683d" title="__get_parent" alt="" coords="866,1493,963,1520"/>
<area shape="rect" id="node42" href="ceph_2export_8c.html#a6b823e0df63107bb4bcd2ba9e61e8413" title="ceph_get_name" alt="" coords="857,43,972,69"/>
<area shape="rect" id="node43" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="841,93,989,120"/>
<area shape="rect" id="node44" href="ceph_2ioctl_8c.html#a49d67c9da9db732a007054d42737d71b" title="ceph_ioctl_set_layout\l_policy" alt="" coords="841,262,989,303"/>
<area shape="rect" id="node45" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="843,328,986,355"/>
<area shape="rect" id="node46" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386" title="ceph_lock_message" alt="" coords="1037,265,1179,292"/>
<area shape="rect" id="node47" href="ceph_2locks_8c.html#aa1669cd0c0b97c914a01f9a46085c4e4" title="ceph_lock_wait_for\l_completion" alt="" coords="847,145,982,186"/>
<area shape="rect" id="node48" href="mds__client_8c.html#af5c59a9acc4e730396a9d4925ee5fbc7" title="__unregister_request" alt="" coords="843,480,986,507"/>
<area shape="rect" id="node49" href="mds__client_8c.html#a75af1e7965eb2afad36fa3831709cd75" title="handle_forward" alt="" coords="1053,429,1163,456"/>
<area shape="rect" id="node50" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="840,429,989,456"/>
</map>
</div>

</div>
</div>
<a id="a1371d64310a98228399613df3e3980bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1371d64310a98228399613df3e3980bb">&#9670;&nbsp;</a></span>ceph_put_cap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_put_cap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a1371d64310a98228399613df3e3980bb_icgraph.png" border="0" usemap="#caps_8c_a1371d64310a98228399613df3e3980bb_icgraph" alt=""/></div>
<map name="caps_8c_a1371d64310a98228399613df3e3980bb_icgraph" id="caps_8c_a1371d64310a98228399613df3e3980bb_icgraph">
<area shape="rect" id="node2" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1500,1007,1573,1033"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1236,195,1427,221"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="156,195,299,221"/>
<area shape="rect" id="node15" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="368,43,499,69"/>
<area shape="rect" id="node16" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="368,93,499,120"/>
<area shape="rect" id="node39" href="mds__client_8c.html#aec54e4d7bc22e0e6df4bfbecf832a00e" title="dispose_cap_releases" alt="" coords="358,335,509,361"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="361,397,506,424"/>
<area shape="rect" id="node45" href="mds__client_8h.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="349,701,518,728"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1861,785,1968,812"/>
<area shape="rect" id="node7" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1647,830,1781,871"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1829,735,2000,761"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="2048,669,2199,710"/>
<area shape="rect" id="node5" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2076,735,2171,761"/>
<area shape="rect" id="node6" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2247,296,2317,323"/>
<area shape="rect" id="node10" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1475,245,1599,272"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1649,207,1779,233"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#aca3135e93d8f4b8e084194afc73d55d2" title="ceph_queue_caps_release" alt="" coords="1012,144,1188,171"/>
<area shape="rect" id="node17" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="347,271,520,297"/>
<area shape="rect" id="node23" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="383,524,483,551"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#af45286f286a6ed7f795792636af010e9" title="ceph_destroy_inode" alt="" coords="1262,144,1401,171"/>
<area shape="rect" id="node18" href="mds__client_8c.html#a9932cb0bc0bc56c2d1ff11dd748002e3" title="remove_session_caps" alt="" coords="573,335,725,361"/>
<area shape="rect" id="node19" href="mds__client_8c.html#aecd52d2d17cb6a55a29e18c9f6dfca77" title="handle_session" alt="" coords="1044,271,1156,297"/>
<area shape="rect" id="node20" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="811,397,931,424"/>
<area shape="rect" id="node21" href="mds__client_8h.html#a90cd624d396cca56a05acaddd072cb3a" title="ceph_mdsc_close_sessions" alt="" coords="777,347,964,373"/>
<area shape="rect" id="node22" href="mds__client_8h.html#a679279e05084bf0e754dd17f41d7cbc7" title="ceph_mdsc_force_umount" alt="" coords="783,245,958,272"/>
<area shape="rect" id="node24" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="591,625,706,652"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="803,651,938,677"/>
<area shape="rect" id="node26" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="789,701,953,728"/>
<area shape="rect" id="node27" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1032,524,1168,551"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1052,575,1148,601"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1051,727,1149,753"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1053,777,1147,804"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1052,828,1148,855"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1049,879,1151,905"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1055,929,1145,956"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="1061,321,1139,348"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="1055,372,1145,399"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="1050,423,1150,449"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="1037,473,1163,500"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1037,625,1163,652"/>
<area shape="rect" id="node40" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="575,397,722,424"/>
<area shape="rect" id="node41" href="mds__client_8c.html#a5b790a3bd73bc8fcdcfd643f883ba95b" title="peer_reset" alt="" coords="829,448,912,475"/>
<area shape="rect" id="node43" href="mds__client_8c.html#a471081b4fabc6b9b9def8f2c11ae47ba" title="wake_up_session_caps" alt="" coords="568,473,729,500"/>
<area shape="rect" id="node44" href="mds__client_8c.html#a69e141c5fc5c3d8d48c227d83bf2b572" title="renewed_caps" alt="" coords="817,549,924,576"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="597,901,700,928"/>
<area shape="rect" id="node47" href="mds__client_8h.html#ace5b628cb3ad36ba876c1792e2922d81" title="ceph_mdsc_init" alt="" coords="814,1003,927,1029"/>
<area shape="rect" id="node48" href="wbuf_8c.html#af5e9ee01026cf59d23d57cb7cfa81d5a" title="work_to_sb" alt="" coords="826,851,915,877"/>
<area shape="rect" id="node49" href="svc_8c.html#abde7fda075b03c050c0bdf4ed921d88d" title="grace_ender" alt="" coords="824,901,917,928"/>
<area shape="rect" id="node50" href="_2nfs4state_8c.html#a7036cf1ea110ef1861dc37d2eba83177" title="laundromat_main" alt="" coords="810,952,931,979"/>
</map>
</div>

</div>
</div>
<a id="a0280a2c437f4b42116fdd5de7b16707f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0280a2c437f4b42116fdd5de7b16707f">&#9670;&nbsp;</a></span>ceph_put_cap_refs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_put_cap_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>had</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a0280a2c437f4b42116fdd5de7b16707f_cgraph.png" border="0" usemap="#caps_8c_a0280a2c437f4b42116fdd5de7b16707f_cgraph" alt=""/></div>
<map name="caps_8c_a0280a2c437f4b42116fdd5de7b16707f_cgraph" id="caps_8c_a0280a2c437f4b42116fdd5de7b16707f_cgraph">
<area shape="rect" id="node2" href="orangefs-bufmap_8c.html#ae7af37ba2ab97a7a598771c9febc5605" title="put" alt="" coords="249,5,289,32"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="193,530,344,571"/>
<area shape="rect" id="node17" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1151,284,1193,311"/>
<area shape="rect" id="node22" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="669,968,795,995"/>
<area shape="rect" id="node28" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1296,1323,1413,1349"/>
<area shape="rect" id="node44" href="caps_8c.html#a3286643c6716b4bad722b3274dd51eaf" title="ceph_try_drop_cap_snap" alt="" coords="185,1627,352,1653"/>
<area shape="rect" id="node45" href="snap_8c.html#ac71b7cc554111d9cfccacf2439937313" title="__ceph_finish_cap_snap" alt="" coords="869,1323,1034,1349"/>
<area shape="rect" id="node46" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="197,1779,341,1805"/>
<area shape="rect" id="node47" href="caps_8c.html#a146c9d08e79a8871a4af9aad8513d7fd" title="drop_inode_snap_realm" alt="" coords="425,867,584,893"/>
<area shape="rect" id="node48" href="caps_8c.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="669,1500,795,1527"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="443,664,566,691"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#af45286f286a6ed7f795792636af010e9" title="ceph_destroy_inode" alt="" coords="435,512,574,539"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a24228f5306d6e2a102620adda31c73f6" title="ceph_drop_inode" alt="" coords="445,613,565,640"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a83866709232aeb323e7709125b5e36f9" title="ceph_get_inode" alt="" coords="448,715,561,741"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="1314,208,1395,235"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a430ef6c1a467f5dbcb4f94863f4e79f5" title="ceph_get_snapdir" alt="" coords="670,107,794,133"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a9f1b9530a7b4898eb3c04bc30092c18b" title="ceph_fill_file_size" alt="" coords="669,575,795,601"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a0f20fdbdf3dbef013594ec11a45007a7" title="ceph_fill_file_time" alt="" coords="441,816,568,843"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="898,563,1005,589"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="866,208,1037,235"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a779559d1d0d7351faa1fe9d801c14c74" title="ceph_inode_holds_cap" alt="" coords="427,208,582,235"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a8ebada6fe958e0f71cb555c3f5bce413" title="ceph_inode_set_size" alt="" coords="660,461,804,488"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="400,943,609,969"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aa8a69be899366cc0569820948a13a347" title="ceph_queue_vmtruncate" alt="" coords="869,360,1033,387"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="874,309,1029,336"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a5b0ccce1ce748d9e2a6f8e78fe4536ce" title="ceph_queue_writeback" alt="" coords="874,259,1029,285"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="887,1120,1016,1147"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="1109,664,1235,691"/>
<area shape="rect" id="node7" href="snap_8c.html#ae9ac43ce9abdb99a0bb0135fe43954b3" title="ceph_put_snap_realm" alt="" coords="657,651,807,677"/>
<area shape="rect" id="node13" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="865,613,1037,640"/>
<area shape="rect" id="node20" href="caps_8c.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="861,411,1041,437"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="1100,461,1244,488"/>
<area shape="rect" id="node24" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e" title="__ceph_is_single_caps" alt="" coords="873,968,1030,995"/>
<area shape="rect" id="node25" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="881,1019,1021,1045"/>
<area shape="rect" id="node26" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1105,1424,1239,1451"/>
<area shape="rect" id="node27" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="1100,1272,1244,1299"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a17fc18f7ac76d812b3f8e0cccf641721" title="__ceph_dir_is_complete" alt="" coords="870,917,1033,944"/>
<area shape="rect" id="node31" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="864,816,1039,843"/>
<area shape="rect" id="node32" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="878,1475,1025,1501"/>
<area shape="rect" id="node33" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="1126,917,1218,944"/>
<area shape="rect" id="node35" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="881,1525,1022,1552"/>
<area shape="rect" id="node36" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="1096,1221,1248,1248"/>
<area shape="rect" id="node37" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="875,1171,1027,1197"/>
<area shape="rect" id="node38" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="877,867,1025,893"/>
<area shape="rect" id="node39" href="ceph_2inode_8c.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="874,461,1029,488"/>
<area shape="rect" id="node29" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1461,1323,1551,1349"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="1103,1525,1241,1552"/>
<area shape="rect" id="node49" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="872,1576,1031,1603"/>
<area shape="rect" id="node50" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="855,1627,1048,1653"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a0280a2c437f4b42116fdd5de7b16707f_icgraph.png" border="0" usemap="#caps_8c_a0280a2c437f4b42116fdd5de7b16707f_icgraph" alt=""/></div>
<map name="caps_8c_a0280a2c437f4b42116fdd5de7b16707f_icgraph" id="caps_8c_a0280a2c437f4b42116fdd5de7b16707f_icgraph">
<area shape="rect" id="node2" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="212,75,347,102"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1086,177,1193,203"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1084,101,1195,127"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1086,278,1193,305"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1044,1211,1235,1238"/>
<area shape="rect" id="node16" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="239,303,319,330"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1074,405,1205,431"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1070,342,1209,369"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="863,354,973,381"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="185,1029,373,1055"/>
<area shape="rect" id="node3" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="633,55,792,82"/>
<area shape="rect" id="node4" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="847,50,989,77"/>
<area shape="rect" id="node5" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="840,101,996,127"/>
<area shape="rect" id="node10" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1308,1161,1381,1187"/>
<area shape="rect" id="node14" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1283,1262,1407,1289"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1469,1211,1575,1238"/>
<area shape="rect" id="node12" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1455,1095,1589,1136"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1637,1131,1808,1158"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1457,1262,1587,1289"/>
<area shape="rect" id="node17" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="445,303,562,330"/>
<area shape="rect" id="node22" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="421,1637,585,1663"/>
<area shape="rect" id="node27" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="421,1029,585,1055"/>
<area shape="rect" id="node23" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="641,1637,784,1663"/>
<area shape="rect" id="node24" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="645,1687,780,1714"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="648,1738,777,1765"/>
<area shape="rect" id="node26" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="638,1586,787,1613"/>
<area shape="rect" id="node28" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="645,725,781,751"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="665,775,761,802"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="664,826,761,853"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="665,877,760,903"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="665,927,761,954"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="661,1079,764,1106"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="668,1130,757,1157"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="674,1181,751,1207"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="667,1231,758,1258"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="663,1282,763,1309"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="649,1333,776,1359"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="649,978,776,1005"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="670,1383,755,1410"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="853,1383,983,1410"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="869,1123,967,1150"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="659,1434,767,1461"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="648,354,777,381"/>
<area shape="rect" id="node45" href="ceph_2super_8c.html#aeb84ba4e574a0ccfe88118ac0aab3db8" title="open_root_dentry" alt="" coords="651,1485,774,1511"/>
<area shape="rect" id="node46" href="ceph_2export_8c.html#acb66f1d257f6a1a905c5aa123a008380" title="__fh_to_dentry" alt="" coords="659,455,767,482"/>
<area shape="rect" id="node47" href="ceph_2export_8c.html#a287c01c9981c228d57018655aa26683d" title="__get_parent" alt="" coords="664,506,761,533"/>
<area shape="rect" id="node48" href="ceph_2export_8c.html#a6b823e0df63107bb4bcd2ba9e61e8413" title="ceph_get_name" alt="" coords="655,557,770,583"/>
<area shape="rect" id="node49" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="639,607,787,634"/>
<area shape="rect" id="node50" href="ceph_2ioctl_8c.html#a49d67c9da9db732a007054d42737d71b" title="ceph_ioctl_set_layout\l_policy" alt="" coords="639,659,787,700"/>
</map>
</div>

</div>
</div>
<a id="a5f831f901526eabd9afd198de7beebd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f831f901526eabd9afd198de7beebd6">&#9670;&nbsp;</a></span>ceph_put_fmode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_put_fmode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fmode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a5f831f901526eabd9afd198de7beebd6_cgraph.png" border="0" usemap="#caps_8c_a5f831f901526eabd9afd198de7beebd6_cgraph" alt=""/></div>
<map name="caps_8c_a5f831f901526eabd9afd198de7beebd6_cgraph" id="caps_8c_a5f831f901526eabd9afd198de7beebd6_cgraph">
<area shape="rect" id="node2" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="172,566,299,593"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="579,1073,723,1099"/>
<area shape="rect" id="node4" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e" title="__ceph_is_single_caps" alt="" coords="358,173,515,199"/>
<area shape="rect" id="node5" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="367,223,507,250"/>
<area shape="rect" id="node6" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="351,274,523,301"/>
<area shape="rect" id="node7" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="583,325,718,351"/>
<area shape="rect" id="node8" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="793,59,937,86"/>
<area shape="rect" id="node10" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1244,389,1361,415"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a17fc18f7ac76d812b3f8e0cccf641721" title="__ceph_dir_is_complete" alt="" coords="355,515,518,542"/>
<area shape="rect" id="node13" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="349,946,524,973"/>
<area shape="rect" id="node15" href="caps_8c.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="347,617,527,643"/>
<area shape="rect" id="node16" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="363,465,510,491"/>
<area shape="rect" id="node18" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="605,515,697,542"/>
<area shape="rect" id="node41" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="366,667,507,694"/>
<area shape="rect" id="node42" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="575,769,727,795"/>
<area shape="rect" id="node43" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="361,870,513,897"/>
<area shape="rect" id="node45" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="363,794,511,821"/>
<area shape="rect" id="node46" href="ceph_2inode_8c.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="359,1123,514,1150"/>
<area shape="rect" id="node9" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1045,161,1153,187"/>
<area shape="rect" id="node11" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1409,389,1499,415"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1055,997,1143,1023"/>
<area shape="rect" id="node17" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="618,667,683,694"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="577,426,725,453"/>
<area shape="rect" id="node39" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="583,566,718,593"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="581,617,720,643"/>
<area shape="rect" id="node19" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="795,819,934,846"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="824,769,905,795"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="780,667,949,694"/>
<area shape="rect" id="node23" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="809,718,920,745"/>
<area shape="rect" id="node22" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="1015,667,1184,694"/>
<area shape="rect" id="node24" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="1030,769,1169,795"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="779,515,951,542"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="797,566,932,593"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="775,161,955,187"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="810,211,919,238"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="798,262,931,289"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="787,313,942,339"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="797,363,932,390"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="790,414,939,441"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="783,465,947,491"/>
<area shape="rect" id="node33" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1052,439,1147,466"/>
<area shape="rect" id="node34" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="1003,287,1196,314"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="1042,338,1157,365"/>
<area shape="rect" id="node36" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="1020,389,1179,415"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="587,870,714,897"/>
<area shape="rect" id="node47" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="626,1174,675,1201"/>
<area shape="rect" id="node49" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="629,1225,672,1251"/>
<area shape="rect" id="node48" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="795,1174,934,1201"/>
<area shape="rect" id="node50" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="827,1225,902,1251"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a5f831f901526eabd9afd198de7beebd6_icgraph.png" border="0" usemap="#caps_8c_a5f831f901526eabd9afd198de7beebd6_icgraph" alt=""/></div>
<map name="caps_8c_a5f831f901526eabd9afd198de7beebd6_icgraph" id="caps_8c_a5f831f901526eabd9afd198de7beebd6_icgraph">
<area shape="rect" id="node2" href="ceph_2file_8c.html#a1ea7f45cf27ad466c8e8ff8cee7eb1c0" title="ceph_init_file_info" alt="" coords="172,1061,299,1088"/>
<area shape="rect" id="node3" href="ceph_2file_8c.html#a8565051b9159dbbbf9be51f9e9414e51" title="ceph_init_file" alt="" coords="347,1036,445,1063"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="627,913,757,940"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="805,676,996,703"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="2447,1056,2546,1083"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="493,1001,579,1028"/>
<area shape="rect" id="node7" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1044,219,1117,245"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1171,60,1295,87"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1380,248,1487,275"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1165,182,1300,223"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1348,193,1519,220"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1567,369,1717,410"/>
<area shape="rect" id="node30" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2649,220,2743,247"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1991,499,2133,525"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2641,473,2751,500"/>
<area shape="rect" id="node15" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1771,347,1914,373"/>
<area shape="rect" id="node16" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1783,499,1902,525"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1777,651,1909,677"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1765,144,1920,171"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="2208,499,2367,525"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2419,600,2575,627"/>
<area shape="rect" id="node13" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2643,651,2749,677"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1996,296,2128,323"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="2007,701,2117,728"/>
<area shape="rect" id="node18" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="2247,296,2327,323"/>
<area shape="rect" id="node19" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="2438,296,2555,323"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2234,600,2341,627"/>
<area shape="rect" id="node22" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2222,752,2353,779"/>
<area shape="rect" id="node23" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2218,803,2357,829"/>
<area shape="rect" id="node25" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1995,549,2129,576"/>
<area shape="rect" id="node26" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1968,853,2156,880"/>
<area shape="rect" id="node27" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="2205,853,2369,880"/>
<area shape="rect" id="node39" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="2205,904,2369,931"/>
<area shape="rect" id="node28" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="2425,904,2568,931"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="2429,347,2564,373"/>
<area shape="rect" id="node38" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="2432,853,2561,880"/>
<area shape="rect" id="node31" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2817,119,2888,145"/>
<area shape="rect" id="node32" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2936,93,3145,120"/>
<area shape="rect" id="node33" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2952,144,3129,171"/>
<area shape="rect" id="node34" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="3193,115,3336,141"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="3193,166,3336,207"/>
<area shape="rect" id="node35" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="3384,115,3520,141"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="3393,173,3511,200"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="2421,93,2573,120"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1979,144,2145,171"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2623,93,2769,120"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2627,144,2765,171"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="2204,144,2371,171"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2431,43,2562,69"/>
</map>
</div>

</div>
</div>
<a id="ab5769af53a40da684c0bf915920ba71d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5769af53a40da684c0bf915920ba71d">&#9670;&nbsp;</a></span>ceph_put_wrbuffer_cap_refs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_put_wrbuffer_cap_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_snap_context *&#160;</td>
          <td class="paramname"><em>snapc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ab5769af53a40da684c0bf915920ba71d_cgraph.png" border="0" usemap="#caps_8c_ab5769af53a40da684c0bf915920ba71d_cgraph" alt=""/></div>
<map name="caps_8c_ab5769af53a40da684c0bf915920ba71d_cgraph" id="caps_8c_ab5769af53a40da684c0bf915920ba71d_cgraph">
<area shape="rect" id="node2" href="orangefs-bufmap_8c.html#ae7af37ba2ab97a7a598771c9febc5605" title="put" alt="" coords="266,5,306,32"/>
<area shape="rect" id="node3" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="240,208,332,235"/>
<area shape="rect" id="node6" href="caps_8c.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="400,259,527,285"/>
<area shape="rect" id="node32" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="891,107,933,133"/>
<area shape="rect" id="node38" href="caps_8c.html#a3286643c6716b4bad722b3274dd51eaf" title="ceph_try_drop_cap_snap" alt="" coords="380,385,547,412"/>
<area shape="rect" id="node39" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="400,791,527,817"/>
<area shape="rect" id="node4" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="887,157,937,184"/>
<area shape="rect" id="node8" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="612,208,771,235"/>
<area shape="rect" id="node5" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1057,157,1195,184"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="840,461,984,488"/>
<area shape="rect" id="node9" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="595,259,788,285"/>
<area shape="rect" id="node11" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="618,563,765,589"/>
<area shape="rect" id="node30" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="621,613,762,640"/>
<area shape="rect" id="node10" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="866,259,958,285"/>
<area shape="rect" id="node12" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="879,664,945,691"/>
<area shape="rect" id="node13" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1435,740,1552,767"/>
<area shape="rect" id="node15" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="866,917,958,944"/>
<area shape="rect" id="node21" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="845,816,979,843"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="838,360,986,387"/>
<area shape="rect" id="node28" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="845,765,979,792"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="843,613,981,640"/>
<area shape="rect" id="node14" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1600,740,1689,767"/>
<area shape="rect" id="node16" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="1057,1019,1195,1045"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="1085,917,1167,944"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="1041,968,1211,995"/>
<area shape="rect" id="node20" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="1071,765,1181,792"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1281,993,1369,1020"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1040,411,1212,437"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1059,259,1193,285"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="1036,360,1216,387"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="1071,309,1181,336"/>
<area shape="rect" id="node26" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1271,461,1379,488"/>
<area shape="rect" id="node31" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="836,968,988,995"/>
<area shape="rect" id="node33" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1089,107,1163,133"/>
<area shape="rect" id="node34" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1274,132,1377,159"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1266,183,1385,209"/>
<area shape="rect" id="node36" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1264,31,1387,57"/>
<area shape="rect" id="node37" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1300,81,1351,108"/>
<area shape="rect" id="node40" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e" title="__ceph_is_single_caps" alt="" coords="613,1272,770,1299"/>
<area shape="rect" id="node41" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="621,664,761,691"/>
<area shape="rect" id="node42" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="605,715,777,741"/>
<area shape="rect" id="node43" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="1054,461,1198,488"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#a17fc18f7ac76d812b3f8e0cccf641721" title="__ceph_dir_is_complete" alt="" coords="610,765,773,792"/>
<area shape="rect" id="node45" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="1039,1120,1213,1147"/>
<area shape="rect" id="node46" href="caps_8c.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="601,1019,781,1045"/>
<area shape="rect" id="node47" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="615,1120,767,1147"/>
<area shape="rect" id="node49" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="838,1019,986,1045"/>
<area shape="rect" id="node50" href="ceph_2inode_8c.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="614,309,769,336"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="849,1069,975,1096"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ab5769af53a40da684c0bf915920ba71d_icgraph.png" border="0" usemap="#caps_8c_ab5769af53a40da684c0bf915920ba71d_icgraph" alt=""/></div>
<map name="caps_8c_ab5769af53a40da684c0bf915920ba71d_icgraph" id="caps_8c_ab5769af53a40da684c0bf915920ba71d_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="240,319,431,345"/>
<area shape="rect" id="node44" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="265,803,405,829"/>
<area shape="rect" id="node45" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="267,752,404,779"/>
<area shape="rect" id="node49" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="274,853,397,880"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="537,243,611,269"/>
<area shape="rect" id="node43" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1132,43,1256,69"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="932,268,1039,295"/>
<area shape="rect" id="node41" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="717,151,852,193"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="900,188,1071,215"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1119,393,1269,434"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2001,144,2096,171"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1543,448,1685,475"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2193,777,2303,804"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1323,373,1466,400"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1335,475,1454,501"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1329,549,1461,576"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1317,245,1472,272"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1760,448,1919,475"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1971,460,2127,487"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2195,460,2301,487"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1548,296,1680,323"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1559,651,1669,677"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1799,397,1879,424"/>
<area shape="rect" id="node15" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1990,397,2107,424"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1786,600,1893,627"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1774,752,1905,779"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1770,803,1909,829"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1547,499,1681,525"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1520,549,1708,576"/>
<area shape="rect" id="node23" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1757,549,1921,576"/>
<area shape="rect" id="node25" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1757,499,1921,525"/>
<area shape="rect" id="node24" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1977,536,2120,563"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2213,119,2283,145"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2369,93,2579,120"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2385,144,2563,171"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2627,115,2769,141"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2627,166,2769,207"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2817,115,2953,141"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2826,173,2945,200"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1973,208,2125,235"/>
<area shape="rect" id="node38" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1531,195,1697,221"/>
<area shape="rect" id="node36" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2175,220,2321,247"/>
<area shape="rect" id="node37" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2179,169,2317,196"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1756,195,1923,221"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1983,68,2114,95"/>
<area shape="rect" id="node46" href="addr_8c.html#a642f2acaf9a83dce66c863b659434aa8" title="ceph_writepage" alt="" coords="517,752,631,779"/>
<area shape="rect" id="node47" href="addr_8c.html#a3712eb2307378095158e47d5acf45cc1" title="ceph_update_writeable_page" alt="" coords="479,803,669,829"/>
<area shape="rect" id="node48" href="addr_8c.html#a0eaf4bcdb46491382485ea5ae7aa5be1" title="ceph_write_begin" alt="" coords="723,853,846,880"/>
<area shape="rect" id="node50" href="addr_8c.html#abbcf9a8d2145d862c3e3d43a9ae3d48b" title="ceph_writepages_start" alt="" coords="497,853,651,880"/>
</map>
</div>

</div>
</div>
<a id="aca3135e93d8f4b8e084194afc73d55d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca3135e93d8f4b8e084194afc73d55d2">&#9670;&nbsp;</a></span>ceph_queue_caps_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_queue_caps_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aca3135e93d8f4b8e084194afc73d55d2_cgraph.png" border="0" usemap="#caps_8c_aca3135e93d8f4b8e084194afc73d55d2_cgraph" alt=""/></div>
<map name="caps_8c_aca3135e93d8f4b8e084194afc73d55d2_cgraph" id="caps_8c_aca3135e93d8f4b8e084194afc73d55d2_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="257,78,345,104"/>
<area shape="rect" id="node3" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="229,128,372,155"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="668,14,795,40"/>
<area shape="rect" id="node5" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="455,52,557,79"/>
<area shape="rect" id="node6" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="434,103,578,130"/>
<area shape="rect" id="node7" href="caps_8c.html#a146c9d08e79a8871a4af9aad8513d7fd" title="drop_inode_snap_realm" alt="" coords="427,154,585,180"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="420,204,592,231"/>
<area shape="rect" id="node19" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="436,255,576,282"/>
<area shape="rect" id="node8" href="snap_8c.html#ae9ac43ce9abdb99a0bb0135fe43954b3" title="ceph_put_snap_realm" alt="" coords="657,107,806,134"/>
<area shape="rect" id="node9" href="snap_8c.html#ace64bb84634490493f6e0f0f4e88ad28" title="__destroy_snap_realm" alt="" coords="871,90,1024,116"/>
<area shape="rect" id="node10" href="snap_8c.html#a4aa6fffea265bc4b4e8dcf02e2406267" title="__put_snap_realm" alt="" coords="1072,90,1200,116"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="659,292,803,319"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a8e0de74dcc174711bc6306d4e08c25c5" title="__ceph_caps_issued_mask" alt="" coords="640,175,823,202"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#ae6584a35304603761fdaefdd140ddc4e" title="__ceph_caps_issued\l_other" alt="" coords="659,226,803,268"/>
<area shape="rect" id="node13" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="893,242,1001,268"/>
<area shape="rect" id="node14" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1077,242,1195,268"/>
<area shape="rect" id="node15" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1248,242,1337,268"/>
<area shape="rect" id="node17" href="caps_8c.html#aba9fdf4d7e2830f3179d4ead0bac94f4" title="__touch_cap" alt="" coords="899,191,995,218"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aca3135e93d8f4b8e084194afc73d55d2_icgraph.png" border="0" usemap="#caps_8c_aca3135e93d8f4b8e084194afc73d55d2_icgraph" alt=""/></div>
<map name="caps_8c_aca3135e93d8f4b8e084194afc73d55d2_icgraph" id="caps_8c_aca3135e93d8f4b8e084194afc73d55d2_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#af45286f286a6ed7f795792636af010e9" title="ceph_destroy_inode" alt="" coords="229,364,368,391"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1008,288,1199,315"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="416,382,567,423"/>
<area shape="rect" id="node4" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="811,896,954,923"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1509,567,1620,593"/>
<area shape="rect" id="node9" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="615,389,757,416"/>
<area shape="rect" id="node10" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="627,491,745,517"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="620,693,752,720"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="805,85,960,112"/>
<area shape="rect" id="node5" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1024,871,1183,897"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1263,643,1419,669"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1511,693,1618,720"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="817,491,949,517"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="827,592,938,619"/>
<area shape="rect" id="node23" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1063,491,1143,517"/>
<area shape="rect" id="node13" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1304,288,1377,315"/>
<area shape="rect" id="node21" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1279,187,1403,213"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1511,401,1618,428"/>
<area shape="rect" id="node19" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1497,285,1632,326"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1695,307,1865,333"/>
<area shape="rect" id="node15" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1913,339,2008,365"/>
<area shape="rect" id="node16" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2056,313,2127,340"/>
<area shape="rect" id="node17" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2175,288,2384,315"/>
<area shape="rect" id="node18" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2191,339,2368,365"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1499,183,1630,209"/>
<area shape="rect" id="node24" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1282,491,1399,517"/>
<area shape="rect" id="node26" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1050,693,1157,720"/>
<area shape="rect" id="node27" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1038,744,1169,771"/>
<area shape="rect" id="node28" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1034,643,1173,669"/>
<area shape="rect" id="node30" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="815,845,950,872"/>
<area shape="rect" id="node31" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1247,997,1435,1024"/>
<area shape="rect" id="node32" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1483,744,1647,771"/>
<area shape="rect" id="node37" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1483,997,1647,1024"/>
<area shape="rect" id="node33" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1709,744,1851,771"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1713,531,1847,557"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1715,693,1845,720"/>
<area shape="rect" id="node36" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1705,795,1855,821"/>
<area shape="rect" id="node38" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1712,1149,1848,1176"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1732,1200,1828,1227"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1731,896,1829,923"/>
<area shape="rect" id="node41" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1733,947,1827,973"/>
<area shape="rect" id="node42" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1732,997,1828,1024"/>
<area shape="rect" id="node43" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="1729,1048,1831,1075"/>
<area shape="rect" id="node44" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="1735,1099,1825,1125"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1489,44,1641,71"/>
<area shape="rect" id="node49" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1020,85,1187,112"/>
<area shape="rect" id="node47" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="1707,5,1853,32"/>
<area shape="rect" id="node48" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="1711,56,1849,83"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1257,85,1424,112"/>
</map>
</div>

</div>
</div>
<a id="a3ef7daf25a74c428892acf86efd6a9c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ef7daf25a74c428892acf86efd6a9c5">&#9670;&nbsp;</a></span>ceph_reservation_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ceph_reservation_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__fs__client.html">ceph_fs_client</a> *&#160;</td>
          <td class="paramname"><em>fsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>total</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>avail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>min</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a3ef7daf25a74c428892acf86efd6a9c5_icgraph.png" border="0" usemap="#caps_8c_a3ef7daf25a74c428892acf86efd6a9c5_icgraph" alt=""/></div>
<map name="caps_8c_a3ef7daf25a74c428892acf86efd6a9c5_icgraph" id="caps_8c_a3ef7daf25a74c428892acf86efd6a9c5_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="217,1435,365,1462"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="1145,1616,1251,1643"/>
<area shape="rect" id="node9" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1609,1342,1733,1368"/>
<area shape="rect" id="node14" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="899,936,1005,963"/>
<area shape="rect" id="node17" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="413,1164,560,1191"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="417,1537,556,1578"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="859,1446,1045,1472"/>
<area shape="rect" id="node50" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="427,1284,547,1311"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1635,1638,1708,1664"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1351,1063,1541,1090"/>
<area shape="rect" id="node12" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1606,1514,1737,1540"/>
<area shape="rect" id="node13" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1606,1582,1737,1608"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1815,1587,1922,1614"/>
<area shape="rect" id="node6" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1801,1689,1936,1730"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1984,1667,2155,1694"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1803,1434,1934,1460"/>
<area shape="rect" id="node11" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2034,1434,2105,1460"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1153,936,1243,963"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1137,987,1259,1014"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="646,1038,773,1064"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="889,506,1015,532"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="608,1139,811,1166"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="868,1190,1036,1216"/>
<area shape="rect" id="node42" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="624,1342,795,1368"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1132,582,1264,608"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="1105,1038,1291,1064"/>
<area shape="rect" id="node24" href="snap_8c.html#a978c1d89be73f32abecd6e756c34633f" title="flush_snaps" alt="" coords="906,987,998,1014"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1379,354,1513,380"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1391,151,1501,178"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1393,556,1499,583"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1135,784,1261,811"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1155,835,1241,862"/>
<area shape="rect" id="node28" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1120,176,1276,203"/>
<area shape="rect" id="node29" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1138,126,1258,152"/>
<area shape="rect" id="node30" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="1125,328,1271,355"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="1093,379,1303,406"/>
<area shape="rect" id="node32" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="1137,430,1259,456"/>
<area shape="rect" id="node33" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="1141,480,1255,507"/>
<area shape="rect" id="node34" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1138,278,1258,304"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="1109,886,1287,912"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="1122,683,1274,710"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="1139,734,1257,760"/>
<area shape="rect" id="node39" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="879,1240,1025,1267"/>
<area shape="rect" id="node40" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1138,1240,1258,1267"/>
<area shape="rect" id="node44" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="664,1536,755,1563"/>
<area shape="rect" id="node45" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="659,1587,759,1614"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="1127,1444,1269,1485"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1362,1455,1530,1482"/>
<area shape="rect" id="node49" href="mds__client_8c.html#a6534239d853a3b195e9efe52eb9c94a7" title="__prepare_send_request" alt="" coords="1589,1455,1753,1482"/>
</map>
</div>

</div>
</div>
<a id="a46539bd751416a6b35d9d3501d07f719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46539bd751416a6b35d9d3501d07f719">&#9670;&nbsp;</a></span>ceph_reserve_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_reserve_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_cap_reservation *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>need</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a46539bd751416a6b35d9d3501d07f719_cgraph.png" border="0" usemap="#caps_8c_a46539bd751416a6b35d9d3501d07f719_cgraph" alt=""/></div>
<map name="caps_8c_a46539bd751416a6b35d9d3501d07f719_cgraph" id="caps_8c_a46539bd751416a6b35d9d3501d07f719_cgraph">
<area shape="rect" id="node2" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="685,5,780,32"/>
<area shape="rect" id="node3" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="188,56,381,83"/>
<area shape="rect" id="node5" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="227,107,342,133"/>
<area shape="rect" id="node50" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="205,157,364,184"/>
<area shape="rect" id="node4" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="468,56,560,83"/>
<area shape="rect" id="node6" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="441,107,587,133"/>
<area shape="rect" id="node17" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="464,503,564,529"/>
<area shape="rect" id="node49" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="429,157,599,184"/>
<area shape="rect" id="node7" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="707,56,758,83"/>
<area shape="rect" id="node10" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="711,107,754,133"/>
<area shape="rect" id="node16" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="901,351,1004,377"/>
<area shape="rect" id="node8" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="924,31,981,57"/>
<area shape="rect" id="node9" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="883,81,1022,108"/>
<area shape="rect" id="node11" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="915,132,990,159"/>
<area shape="rect" id="node12" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1127,51,1229,77"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1119,101,1237,128"/>
<area shape="rect" id="node14" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1117,152,1239,179"/>
<area shape="rect" id="node15" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1153,203,1203,229"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="689,208,777,235"/>
<area shape="rect" id="node19" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="665,259,800,285"/>
<area shape="rect" id="node20" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="647,309,819,336"/>
<area shape="rect" id="node21" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff" title="__ceph_caps_issued\l_other" alt="" coords="661,361,805,402"/>
<area shape="rect" id="node23" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1473,595,1591,621"/>
<area shape="rect" id="node25" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="661,528,804,555"/>
<area shape="rect" id="node35" href="dcache_8c.html#a12f52b8fa0d189193e7462423ca292ac" title="d_find_any_alias" alt="" coords="673,705,792,732"/>
<area shape="rect" id="node38" href="mds__client_8c.html#afbadfdaefad86c7e0d8514fe798efeba" title="drop_negative_children" alt="" coords="655,763,810,789"/>
<area shape="rect" id="node40" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="705,825,760,852"/>
<area shape="rect" id="node42" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="929,959,976,985"/>
<area shape="rect" id="node48" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="675,959,791,985"/>
<area shape="rect" id="node22" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1317,569,1425,596"/>
<area shape="rect" id="node24" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1639,595,1728,621"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="1115,452,1241,479"/>
<area shape="rect" id="node27" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="881,503,1025,529"/>
<area shape="rect" id="node28" href="caps_8c.html#a146c9d08e79a8871a4af9aad8513d7fd" title="drop_inode_snap_realm" alt="" coords="873,553,1032,580"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="867,604,1039,631"/>
<area shape="rect" id="node34" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="883,655,1023,681"/>
<area shape="rect" id="node29" href="snap_8c.html#ae9ac43ce9abdb99a0bb0135fe43954b3" title="ceph_put_snap_realm" alt="" coords="1103,503,1253,529"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="1106,620,1250,647"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a8e0de74dcc174711bc6306d4e08c25c5" title="__ceph_caps_issued_mask" alt="" coords="1087,671,1269,697"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#ae6584a35304603761fdaefdd140ddc4e" title="__ceph_caps_issued\l_other" alt="" coords="1106,554,1250,595"/>
<area shape="rect" id="node36" href="dcache_8c.html#a5e704be755f5ac21f56b378ea48f989e" title="__d_find_any_alias" alt="" coords="886,705,1019,732"/>
<area shape="rect" id="node37" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="1109,807,1247,833"/>
<area shape="rect" id="node39" href="dcache_8c.html#aee4ccc28fb68e9b5566fc16cdbb69bc0" title="shrink_dcache_parent" alt="" coords="878,807,1027,833"/>
<area shape="rect" id="node41" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="893,857,1012,884"/>
<area shape="rect" id="node43" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="1140,857,1216,884"/>
<area shape="rect" id="node44" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="1323,920,1420,947"/>
<area shape="rect" id="node45" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="1137,959,1219,985"/>
<area shape="rect" id="node46" href="dcache_8c.html#a051b3970369269b3c6fcc1a19be37bed" title="__dentry_kill" alt="" coords="1324,984,1419,1011"/>
<area shape="rect" id="node47" href="dcache_8c.html#a6a36af9be383e7cbabb89162ff8af440" title="lock_parent" alt="" coords="1327,1047,1416,1073"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a46539bd751416a6b35d9d3501d07f719_icgraph.png" border="0" usemap="#caps_8c_a46539bd751416a6b35d9d3501d07f719_icgraph" alt=""/></div>
<map name="caps_8c_a46539bd751416a6b35d9d3501d07f719_icgraph" id="caps_8c_a46539bd751416a6b35d9d3501d07f719_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="188,321,336,348"/>
<area shape="rect" id="node30" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="393,941,522,968"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="1095,93,1201,120"/>
<area shape="rect" id="node6" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1522,651,1646,677"/>
<area shape="rect" id="node10" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="869,195,976,221"/>
<area shape="rect" id="node13" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="384,372,531,399"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="611,841,749,882"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="829,43,1016,69"/>
<area shape="rect" id="node29" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="397,296,517,323"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1547,285,1621,312"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1280,345,1471,372"/>
<area shape="rect" id="node8" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1519,219,1649,245"/>
<area shape="rect" id="node9" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1310,144,1441,171"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1697,292,1828,319"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1103,195,1193,221"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1087,245,1209,272"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="1085,347,1211,373"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="617,511,743,537"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="579,296,781,323"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="1064,397,1232,424"/>
<area shape="rect" id="node22" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="1290,701,1461,728"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="859,511,986,537"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="880,739,965,765"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1083,752,1213,779"/>
<area shape="rect" id="node20" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="849,245,996,272"/>
<area shape="rect" id="node24" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="877,891,968,917"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="873,840,973,867"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="1077,27,1219,69"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1291,5,1459,32"/>
<area shape="rect" id="node31" href="mds__client_8h.html#aa5c5e0f0c721a71ac5eaa57b1621acaf" title="ceph_mdsc_submit_request" alt="" coords="587,941,773,968"/>
<area shape="rect" id="node33" href="mds__client_8h.html#aa3634bc15cfd9cb13b8778cff07fe63e" title="ceph_mdsc_do_request" alt="" coords="600,1271,760,1297"/>
<area shape="rect" id="node32" href="mds__client_8h.html#ac28e27c51a386b2d032e592c3d4a83df" title="ceph_get_mds_session" alt="" coords="843,941,1002,968"/>
<area shape="rect" id="node34" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="855,1768,991,1795"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="875,1819,971,1845"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="875,1869,970,1896"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="875,1043,971,1069"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="871,1093,974,1120"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="878,1144,967,1171"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="884,1195,961,1221"/>
<area shape="rect" id="node41" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="859,1245,986,1272"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="869,1296,977,1323"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="858,1347,987,1373"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#aeb84ba4e574a0ccfe88118ac0aab3db8" title="open_root_dentry" alt="" coords="861,1397,984,1424"/>
<area shape="rect" id="node45" href="ceph_2export_8c.html#acb66f1d257f6a1a905c5aa123a008380" title="__fh_to_dentry" alt="" coords="869,1448,977,1475"/>
<area shape="rect" id="node46" href="ceph_2export_8c.html#a287c01c9981c228d57018655aa26683d" title="__get_parent" alt="" coords="874,1499,971,1525"/>
<area shape="rect" id="node47" href="ceph_2export_8c.html#a6b823e0df63107bb4bcd2ba9e61e8413" title="ceph_get_name" alt="" coords="865,1549,980,1576"/>
<area shape="rect" id="node48" href="ceph_2ioctl_8c.html#a151a7bc03c125dbbb089245e159740de" title="ceph_ioctl_set_layout" alt="" coords="849,1600,997,1627"/>
<area shape="rect" id="node49" href="ceph_2ioctl_8c.html#a49d67c9da9db732a007054d42737d71b" title="ceph_ioctl_set_layout\l_policy" alt="" coords="849,1651,997,1693"/>
<area shape="rect" id="node50" href="ceph_2locks_8c.html#a7e030e16816082eb74553b5d9938f386" title="ceph_lock_message" alt="" coords="852,1717,993,1744"/>
</map>
</div>

</div>
</div>
<a id="a3286643c6716b4bad722b3274dd51eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3286643c6716b4bad722b3274dd51eaf">&#9670;&nbsp;</a></span>ceph_try_drop_cap_snap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ceph_try_drop_cap_snap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap__snap.html">ceph_cap_snap</a> *&#160;</td>
          <td class="paramname"><em>capsnap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a3286643c6716b4bad722b3274dd51eaf_cgraph.png" border="0" usemap="#caps_8c_a3286643c6716b4bad722b3274dd51eaf_cgraph" alt=""/></div>
<map name="caps_8c_a3286643c6716b4bad722b3274dd51eaf_cgraph" id="caps_8c_a3286643c6716b4bad722b3274dd51eaf_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="220,5,359,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a3286643c6716b4bad722b3274dd51eaf_icgraph.png" border="0" usemap="#caps_8c_a3286643c6716b4bad722b3274dd51eaf_icgraph" alt=""/></div>
<map name="caps_8c_a3286643c6716b4bad722b3274dd51eaf_icgraph" id="caps_8c_a3286643c6716b4bad722b3274dd51eaf_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="220,309,352,336"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="636,1525,823,1552"/>
<area shape="rect" id="node3" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="427,151,561,177"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1358,157,1465,184"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1356,208,1467,235"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1358,271,1465,297"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1316,563,1507,589"/>
<area shape="rect" id="node17" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="454,5,534,32"/>
<area shape="rect" id="node19" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1346,347,1477,373"/>
<area shape="rect" id="node20" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1342,1475,1481,1501"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1117,309,1228,336"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="400,816,588,843"/>
<area shape="rect" id="node4" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="871,119,1029,145"/>
<area shape="rect" id="node5" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1101,107,1244,133"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1095,157,1251,184"/>
<area shape="rect" id="node11" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1580,512,1653,539"/>
<area shape="rect" id="node15" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1555,613,1679,640"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1741,512,1847,539"/>
<area shape="rect" id="node13" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1727,446,1861,487"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1909,508,2080,535"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1729,613,1859,640"/>
<area shape="rect" id="node18" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="671,5,788,32"/>
<area shape="rect" id="node23" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="647,1221,811,1248"/>
<area shape="rect" id="node28" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="647,816,811,843"/>
<area shape="rect" id="node24" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="879,1221,1021,1248"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="883,1323,1017,1349"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="885,1272,1015,1299"/>
<area shape="rect" id="node27" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="875,1171,1025,1197"/>
<area shape="rect" id="node29" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="882,664,1018,691"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="902,715,998,741"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="901,765,999,792"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="903,816,997,843"/>
<area shape="rect" id="node33" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="902,867,998,893"/>
<area shape="rect" id="node34" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="899,917,1001,944"/>
<area shape="rect" id="node35" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="905,968,995,995"/>
<area shape="rect" id="node36" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="911,1019,989,1045"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="905,1069,995,1096"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="900,1120,1000,1147"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="887,461,1013,488"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="887,411,1013,437"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="907,512,993,539"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1107,563,1238,589"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="1123,613,1222,640"/>
<area shape="rect" id="node45" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="880,1627,1020,1653"/>
<area shape="rect" id="node46" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="881,1576,1019,1603"/>
<area shape="rect" id="node49" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="889,1525,1011,1552"/>
<area shape="rect" id="node47" href="addr_8c.html#a642f2acaf9a83dce66c863b659434aa8" title="ceph_writepage" alt="" coords="1116,1627,1229,1653"/>
<area shape="rect" id="node48" href="addr_8c.html#a3712eb2307378095158e47d5acf45cc1" title="ceph_update_writeable_page" alt="" coords="1077,1576,1268,1603"/>
<area shape="rect" id="node50" href="addr_8c.html#abbcf9a8d2145d862c3e3d43a9ae3d48b" title="ceph_writepages_start" alt="" coords="1096,1525,1249,1552"/>
</map>
</div>

</div>
</div>
<a id="a2e463cceffd035561247e77ac9058681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e463cceffd035561247e77ac9058681">&#9670;&nbsp;</a></span>ceph_try_get_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_try_get_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>need</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>want</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>got</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a2e463cceffd035561247e77ac9058681_cgraph.png" border="0" usemap="#caps_8c_a2e463cceffd035561247e77ac9058681_cgraph" alt=""/></div>
<map name="caps_8c_a2e463cceffd035561247e77ac9058681_cgraph" id="caps_8c_a2e463cceffd035561247e77ac9058681_cgraph">
<area shape="rect" id="node2" href="addr_8c.html#a06466dfc118c2c62d9be274895bbfe34" title="ceph_pool_perm_check" alt="" coords="605,56,764,83"/>
<area shape="rect" id="node5" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="185,693,304,720"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="1067,132,1211,159"/>
<area shape="rect" id="node4" href="addr_8c.html#aee6bc8d4231f1ca00a82db14b33742d4" title="__ceph_pool_perm_get" alt="" coords="841,5,997,32"/>
<area shape="rect" id="node6" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1525,1677,1642,1704"/>
<area shape="rect" id="node8" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1053,1221,1225,1248"/>
<area shape="rect" id="node9" href="ceph_2inode_8c.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="580,1171,789,1197"/>
<area shape="rect" id="node15" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="1067,1829,1211,1856"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="367,657,517,698"/>
<area shape="rect" id="node48" href="ceph_2cache_8h.html#a8fac2802c89799052c8f3fed2ef4cf4d" title="ceph_disable_fscache\l_readpage" alt="" coords="367,539,517,581"/>
<area shape="rect" id="node49" href="caps_8c.html#a7b133dd4cf88c7ec0f8ece1d528e6ca7" title="__take_cap_refs" alt="" coords="383,605,501,632"/>
<area shape="rect" id="node50" href="caps_8c.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="352,1703,532,1729"/>
<area shape="rect" id="node7" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1719,1677,1808,1704"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1719,816,1807,843"/>
<area shape="rect" id="node11" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="856,1424,983,1451"/>
<area shape="rect" id="node26" href="libfs_8c.html#af7adb3dafae1559e7c0949e8f5cec76c" title="simple_get_link" alt="" coords="863,1069,975,1096"/>
<area shape="rect" id="node27" href="ceph_2inode_8c.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="872,1221,967,1248"/>
<area shape="rect" id="node28" href="ceph_2inode_8c.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="872,1120,967,1147"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a22882a5db2396673f1d6329c1f3298f4" title="ceph_listxattr" alt="" coords="869,1171,969,1197"/>
<area shape="rect" id="node12" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e" title="__ceph_is_single_caps" alt="" coords="1061,1475,1218,1501"/>
<area shape="rect" id="node13" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="1069,1373,1209,1400"/>
<area shape="rect" id="node14" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1295,1728,1430,1755"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a17fc18f7ac76d812b3f8e0cccf641721" title="__ceph_dir_is_complete" alt="" coords="1058,1424,1221,1451"/>
<area shape="rect" id="node18" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="1496,1247,1671,1273"/>
<area shape="rect" id="node19" href="caps_8c.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="1049,1019,1229,1045"/>
<area shape="rect" id="node20" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="1066,1677,1213,1704"/>
<area shape="rect" id="node21" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="1317,1449,1409,1476"/>
<area shape="rect" id="node23" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="1069,1627,1210,1653"/>
<area shape="rect" id="node24" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="1287,1576,1439,1603"/>
<area shape="rect" id="node25" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="1063,1525,1215,1552"/>
<area shape="rect" id="node16" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1309,1880,1417,1907"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="1543,765,1624,792"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="623,360,746,387"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#af45286f286a6ed7f795792636af010e9" title="ceph_destroy_inode" alt="" coords="1514,689,1653,716"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a24228f5306d6e2a102620adda31c73f6" title="ceph_drop_inode" alt="" coords="625,613,745,640"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a83866709232aeb323e7709125b5e36f9" title="ceph_get_inode" alt="" coords="628,664,741,691"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a430ef6c1a467f5dbcb4f94863f4e79f5" title="ceph_get_snapdir" alt="" coords="1301,816,1425,843"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a9f1b9530a7b4898eb3c04bc30092c18b" title="ceph_fill_file_size" alt="" coords="857,968,982,995"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a0f20fdbdf3dbef013594ec11a45007a7" title="ceph_fill_file_time" alt="" coords="1520,867,1647,893"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="866,461,973,488"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1277,613,1448,640"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a779559d1d0d7351faa1fe9d801c14c74" title="ceph_inode_holds_cap" alt="" coords="607,259,762,285"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a8ebada6fe958e0f71cb555c3f5bce413" title="ceph_inode_set_size" alt="" coords="847,867,991,893"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="580,1120,789,1147"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#aa8a69be899366cc0569820948a13a347" title="ceph_queue_vmtruncate" alt="" coords="837,309,1001,336"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="842,385,997,412"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a5b0ccce1ce748d9e2a6f8e78fe4536ce" title="ceph_queue_writeback" alt="" coords="842,157,997,184"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="855,512,984,539"/>
<area shape="rect" id="node39" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="1115,360,1164,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a2e463cceffd035561247e77ac9058681_icgraph.png" border="0" usemap="#caps_8c_a2e463cceffd035561247e77ac9058681_icgraph" alt=""/></div>
<map name="caps_8c_a2e463cceffd035561247e77ac9058681_icgraph" id="caps_8c_a2e463cceffd035561247e77ac9058681_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="185,519,376,545"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1627,920,1707,947"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="424,431,497,457"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="551,131,675,157"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="760,351,867,377"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="545,453,680,494"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="728,444,899,471"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="947,361,1097,402"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2029,220,2123,247"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1371,347,1513,373"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2021,397,2131,424"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1151,397,1294,424"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1163,620,1282,647"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1157,569,1289,596"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1145,144,1300,171"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1588,347,1747,373"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1799,448,1955,475"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2023,549,2129,576"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1376,879,1508,905"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1387,549,1497,576"/>
<area shape="rect" id="node15" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1818,1056,1935,1083"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1614,600,1721,627"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1602,448,1733,475"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1598,651,1737,677"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1375,397,1509,424"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1348,701,1536,728"/>
<area shape="rect" id="node23" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1585,701,1749,728"/>
<area shape="rect" id="node36" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1585,791,1749,817"/>
<area shape="rect" id="node24" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1805,651,1948,677"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1809,397,1944,424"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1812,600,1941,627"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1802,701,1951,728"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2197,119,2268,145"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2316,93,2525,120"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2332,144,2509,171"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2573,115,2716,141"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2573,166,2716,207"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2764,115,2900,141"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2773,173,2891,200"/>
<area shape="rect" id="node37" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1809,803,1945,829"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1829,853,1925,880"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1828,904,1925,931"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1829,955,1924,981"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1801,93,1953,120"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1359,93,1525,120"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2003,144,2149,171"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2007,93,2145,120"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1584,93,1751,120"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1811,43,1942,69"/>
</map>
</div>

</div>
</div>
<a id="a70c2dceef782397de5b4d26c5cb8ef08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70c2dceef782397de5b4d26c5cb8ef08">&#9670;&nbsp;</a></span>ceph_unreserve_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_unreserve_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_cap_reservation *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a70c2dceef782397de5b4d26c5cb8ef08_icgraph.png" border="0" usemap="#caps_8c_a70c2dceef782397de5b4d26c5cb8ef08_icgraph" alt=""/></div>
<map name="caps_8c_a70c2dceef782397de5b4d26c5cb8ef08_icgraph" id="caps_8c_a70c2dceef782397de5b4d26c5cb8ef08_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="203,1309,351,1336"/>
<area shape="rect" id="node31" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="399,94,587,121"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1144,57,1239,84"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="1138,1833,1245,1860"/>
<area shape="rect" id="node6" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1553,1462,1677,1489"/>
<area shape="rect" id="node11" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="925,1108,1032,1134"/>
<area shape="rect" id="node14" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="419,1462,566,1489"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="667,1090,805,1131"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="885,1694,1072,1721"/>
<area shape="rect" id="node30" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="433,1350,553,1377"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1578,1542,1651,1569"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1311,1412,1501,1438"/>
<area shape="rect" id="node9" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="1549,1653,1680,1680"/>
<area shape="rect" id="node10" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="1549,1824,1680,1850"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1728,1462,1859,1489"/>
<area shape="rect" id="node8" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1907,773,1977,800"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1147,1006,1236,1033"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1130,1108,1253,1134"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="1128,1513,1255,1540"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="673,1310,799,1337"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="635,1412,837,1438"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="652,1564,820,1590"/>
<area shape="rect" id="node23" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="1321,1564,1491,1590"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="915,1260,1042,1286"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="936,1209,1021,1236"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1126,1209,1257,1236"/>
<area shape="rect" id="node21" href="mds__client_8c.html#a27f4ba46ff5f35d4f1626fa7e6f49bb8" title="send_mds_reconnect" alt="" coords="905,1462,1052,1489"/>
<area shape="rect" id="node25" href="ceph_2dir_8c.html#aa095b8e4fcb9f01f8fba3c266852bbd5" title="ceph_unlink" alt="" coords="933,1006,1024,1033"/>
<area shape="rect" id="node26" href="ceph_2dir_8c.html#ac49bd7c33c0ab929f2ce1817b2463994" title="ceph_rename" alt="" coords="929,1057,1029,1084"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="1120,1716,1263,1758"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a56511f2e7e7143183eabcec4458e1d90" title="create_request_message" alt="" coords="1322,1702,1490,1729"/>
<area shape="rect" id="node32" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="654,94,818,121"/>
<area shape="rect" id="node38" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="654,652,818,678"/>
<area shape="rect" id="node33" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="907,196,1050,222"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="911,44,1046,70"/>
<area shape="rect" id="node36" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="914,94,1043,121"/>
<area shape="rect" id="node37" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="904,246,1053,273"/>
<area shape="rect" id="node39" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="911,550,1047,577"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="931,601,1027,628"/>
<area shape="rect" id="node41" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="930,652,1027,678"/>
<area shape="rect" id="node42" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="931,702,1026,729"/>
<area shape="rect" id="node43" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="931,753,1027,780"/>
<area shape="rect" id="node44" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="927,804,1030,830"/>
<area shape="rect" id="node45" href="ceph_2dir_8c.html#a4e8e68e2cdb7f6f461d6c4eaa44f4887" title="ceph_mkdir" alt="" coords="934,854,1023,881"/>
<area shape="rect" id="node46" href="ceph_2dir_8c.html#ad4142c99e9bf166900e2fb9e7e266fb7" title="ceph_link" alt="" coords="940,348,1017,374"/>
<area shape="rect" id="node47" href="ceph_2dir_8c.html#a3f6b3a56cddec8f03ed23fc8f2920521" title="ceph_d_revalidate" alt="" coords="915,398,1042,425"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="1142,1057,1241,1084"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="925,449,1033,476"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="914,500,1043,526"/>
</map>
</div>

</div>
</div>
<a id="a819aecf518d6cdaa6e9afcad9f44253f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a819aecf518d6cdaa6e9afcad9f44253f">&#9670;&nbsp;</a></span>ceph_write_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ceph_write_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct writeback_control *&#160;</td>
          <td class="paramname"><em>wbc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a819aecf518d6cdaa6e9afcad9f44253f_cgraph.png" border="0" usemap="#caps_8c_a819aecf518d6cdaa6e9afcad9f44253f_cgraph" alt=""/></div>
<map name="caps_8c_a819aecf518d6cdaa6e9afcad9f44253f_cgraph" id="caps_8c_a819aecf518d6cdaa6e9afcad9f44253f_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1287,198,1375,225"/>
<area shape="rect" id="node3" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="197,249,303,275"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="821,147,948,174"/>
<area shape="rect" id="node40" href="caps_8c.html#aacd62e121ebb5e03853b0c8450e94c8f" title="caps_are_flushed" alt="" coords="384,46,508,73"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="381,983,511,1010"/>
<area shape="rect" id="node50" href="caps_8c.html#a3f69a824222786a2a19fbb862d691850" title="__cap_delay_requeue\l_front" alt="" coords="176,351,324,392"/>
<area shape="rect" id="node5" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1264,325,1399,351"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="372,679,520,706"/>
<area shape="rect" id="node30" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="578,249,730,275"/>
<area shape="rect" id="node32" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="839,451,931,478"/>
<area shape="rect" id="node39" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="811,654,959,681"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="568,958,740,985"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="587,907,721,934"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="795,755,975,782"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="599,553,709,579"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="587,603,721,630"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="577,654,731,681"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="587,857,721,883"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="579,705,729,731"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="572,502,736,529"/>
<area shape="rect" id="node10" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1060,755,1168,782"/>
<area shape="rect" id="node11" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1273,603,1390,630"/>
<area shape="rect" id="node12" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1489,603,1578,630"/>
<area shape="rect" id="node17" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1284,907,1379,934"/>
<area shape="rect" id="node18" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="788,857,981,883"/>
<area shape="rect" id="node20" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="827,958,942,985"/>
<area shape="rect" id="node27" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="805,806,964,833"/>
<area shape="rect" id="node19" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="1068,806,1160,833"/>
<area shape="rect" id="node21" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="1041,1009,1187,1035"/>
<area shape="rect" id="node25" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="1064,451,1164,478"/>
<area shape="rect" id="node26" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="1029,958,1199,985"/>
<area shape="rect" id="node22" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="1306,958,1357,985"/>
<area shape="rect" id="node24" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1310,1009,1353,1035"/>
<area shape="rect" id="node23" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1464,1009,1603,1035"/>
<area shape="rect" id="node31" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="809,249,961,275"/>
<area shape="rect" id="node33" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="1045,654,1183,681"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="1073,350,1155,377"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="1029,401,1199,427"/>
<area shape="rect" id="node37" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="1059,502,1169,529"/>
<area shape="rect" id="node36" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="1247,401,1416,427"/>
<area shape="rect" id="node38" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="1262,502,1401,529"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a632aa9c7466a172b0e77e6273d9db571" title="ceph_alloc_cap_flush" alt="" coords="581,1059,727,1086"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a601c896d9f4041c016b957b081192090" title="ceph_free_cap_flush" alt="" coords="583,1110,725,1137"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#affc57aadec20fb5ea588583dbb0eee1e" title="__ceph_mark_dirty_caps" alt="" coords="571,755,737,782"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="577,1161,731,1203"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a2ac074b45edbc3aa7056f5bc2852862a" title="ceph_caps_revoking" alt="" coords="583,1009,725,1035"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a51b0031781f30ee001a1b7307a19ac7f" title="ceph_ino" alt="" coords="1077,249,1151,275"/>
<area shape="rect" id="node46" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="1307,1059,1356,1086"/>
<area shape="rect" id="node49" href="caps_8c.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="807,1111,962,1152"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a819aecf518d6cdaa6e9afcad9f44253f_icgraph.png" border="0" usemap="#caps_8c_a819aecf518d6cdaa6e9afcad9f44253f_icgraph" alt=""/></div>
<map name="caps_8c_a819aecf518d6cdaa6e9afcad9f44253f_icgraph" id="caps_8c_a819aecf518d6cdaa6e9afcad9f44253f_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="176,449,367,476"/>
<area shape="rect" id="node3" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="415,389,488,416"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="541,5,665,32"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="751,301,857,328"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="536,353,671,394"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="719,360,889,387"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="937,353,1088,394"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2019,233,2114,260"/>
<area shape="rect" id="node6" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1361,816,1504,843"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2011,867,2122,893"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1142,309,1285,336"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1154,500,1273,527"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1147,867,1279,893"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1136,157,1291,184"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1579,841,1737,868"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1789,917,1945,944"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2013,1019,2120,1045"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1367,551,1499,577"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1377,1019,1488,1045"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1618,765,1698,792"/>
<area shape="rect" id="node15" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1809,867,1926,893"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1605,1120,1711,1147"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1593,1171,1723,1197"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1589,968,1727,995"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1365,867,1500,893"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1339,613,1527,640"/>
<area shape="rect" id="node23" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1576,461,1740,488"/>
<area shape="rect" id="node36" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1576,613,1740,640"/>
<area shape="rect" id="node24" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1796,461,1939,488"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1800,360,1935,387"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1803,411,1932,437"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1793,512,1942,539"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2188,132,2259,159"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2307,107,2516,133"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2323,157,2500,184"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2564,128,2707,155"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2564,179,2707,221"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2755,128,2891,155"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2763,187,2882,213"/>
<area shape="rect" id="node37" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1799,715,1935,741"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1819,765,1915,792"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1819,613,1916,640"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1820,664,1915,691"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1791,107,1943,133"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1349,107,1516,133"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="1993,157,2140,184"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="1998,107,2135,133"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1575,107,1741,133"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1802,56,1933,83"/>
</map>
</div>

</div>
</div>
<a id="aac6239e600c935463a4c7fec060fcc16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6239e600c935463a4c7fec060fcc16">&#9670;&nbsp;</a></span>check_max_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_max_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>endoff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aac6239e600c935463a4c7fec060fcc16_cgraph.png" border="0" usemap="#caps_8c_aac6239e600c935463a4c7fec060fcc16_cgraph" alt=""/></div>
<map name="caps_8c_aac6239e600c935463a4c7fec060fcc16_cgraph" id="caps_8c_aac6239e600c935463a4c7fec060fcc16_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1057,144,1145,171"/>
<area shape="rect" id="node3" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="173,777,300,804"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="580,93,724,120"/>
<area shape="rect" id="node5" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e" title="__ceph_is_single_caps" alt="" coords="359,853,517,880"/>
<area shape="rect" id="node6" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="368,904,508,931"/>
<area shape="rect" id="node7" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="352,955,524,981"/>
<area shape="rect" id="node8" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="585,853,719,880"/>
<area shape="rect" id="node9" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="794,1259,938,1285"/>
<area shape="rect" id="node11" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1245,1081,1363,1108"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a17fc18f7ac76d812b3f8e0cccf641721" title="__ceph_dir_is_complete" alt="" coords="357,43,519,69"/>
<area shape="rect" id="node14" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="351,93,525,120"/>
<area shape="rect" id="node15" href="caps_8c.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="348,144,528,171"/>
<area shape="rect" id="node16" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="365,651,511,677"/>
<area shape="rect" id="node18" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="606,803,698,829"/>
<area shape="rect" id="node41" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="367,701,509,728"/>
<area shape="rect" id="node42" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="576,1056,728,1083"/>
<area shape="rect" id="node43" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="362,1107,514,1133"/>
<area shape="rect" id="node45" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="364,1005,512,1032"/>
<area shape="rect" id="node46" href="ceph_2inode_8c.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="361,245,515,272"/>
<area shape="rect" id="node10" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1047,1107,1155,1133"/>
<area shape="rect" id="node12" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1411,1081,1500,1108"/>
<area shape="rect" id="node17" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="619,651,685,677"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="578,575,726,601"/>
<area shape="rect" id="node39" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="585,701,719,728"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="583,752,721,779"/>
<area shape="rect" id="node19" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="797,1005,935,1032"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="825,803,907,829"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="781,904,951,931"/>
<area shape="rect" id="node23" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="811,853,921,880"/>
<area shape="rect" id="node22" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="1016,904,1185,931"/>
<area shape="rect" id="node24" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="1031,803,1170,829"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="780,600,952,627"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="799,651,933,677"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="776,752,956,779"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="811,347,921,373"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="799,397,933,424"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="789,448,943,475"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="799,701,933,728"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="791,549,941,576"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="784,499,948,525"/>
<area shape="rect" id="node33" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1053,651,1148,677"/>
<area shape="rect" id="node34" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="1004,701,1197,728"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="1043,752,1158,779"/>
<area shape="rect" id="node36" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="1021,600,1180,627"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="589,1157,715,1184"/>
<area shape="rect" id="node47" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="627,195,677,221"/>
<area shape="rect" id="node49" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="631,245,673,272"/>
<area shape="rect" id="node48" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="797,195,935,221"/>
<area shape="rect" id="node50" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="829,245,903,272"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aac6239e600c935463a4c7fec060fcc16_icgraph.png" border="0" usemap="#caps_8c_aac6239e600c935463a4c7fec060fcc16_icgraph" alt=""/></div>
<map name="caps_8c_aac6239e600c935463a4c7fec060fcc16_icgraph" id="caps_8c_aac6239e600c935463a4c7fec060fcc16_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="173,375,284,401"/>
<area shape="rect" id="node3" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2169,43,2276,69"/>
<area shape="rect" id="node4" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2167,777,2278,804"/>
<area shape="rect" id="node5" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1535,245,1642,272"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="332,484,523,511"/>
<area shape="rect" id="node20" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1523,600,1654,627"/>
<area shape="rect" id="node21" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1519,701,1658,728"/>
<area shape="rect" id="node7" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="571,539,644,565"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="697,795,821,821"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="907,616,1013,643"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="692,499,827,541"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="875,535,1045,561"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1093,555,1244,597"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2175,676,2270,703"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1517,499,1660,525"/>
<area shape="rect" id="node13" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1298,601,1441,628"/>
<area shape="rect" id="node14" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1310,296,1429,323"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1303,448,1435,475"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1292,905,1447,932"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1735,499,1893,525"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1945,600,2101,627"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1523,195,1655,221"/>
<area shape="rect" id="node16" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1774,195,1854,221"/>
<area shape="rect" id="node17" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1965,93,2082,120"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1521,448,1656,475"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1495,397,1683,424"/>
<area shape="rect" id="node23" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1732,448,1896,475"/>
<area shape="rect" id="node36" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1732,321,1896,348"/>
<area shape="rect" id="node24" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1952,448,2095,475"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1956,549,2091,576"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1959,499,2088,525"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1949,397,2098,424"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2344,828,2415,855"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2463,803,2672,829"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2479,853,2656,880"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2720,824,2863,851"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2720,875,2863,917"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2911,824,3047,851"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2919,883,3038,909"/>
<area shape="rect" id="node37" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1955,195,2091,221"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1975,245,2071,272"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1975,296,2072,323"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1976,144,2071,171"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1947,955,2099,981"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1505,904,1672,931"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2149,904,2296,931"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2154,955,2291,981"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1731,904,1897,931"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1958,1005,2089,1032"/>
</map>
</div>

</div>
</div>
<a id="a34ea58b477ded631d977f1f770178490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34ea58b477ded631d977f1f770178490">&#9670;&nbsp;</a></span>DEFINE_SPINLOCK()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static DEFINE_SPINLOCK </td>
          <td>(</td>
          <td class="paramtype">cap_str_lock&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a146c9d08e79a8871a4af9aad8513d7fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a146c9d08e79a8871a4af9aad8513d7fd">&#9670;&nbsp;</a></span>drop_inode_snap_realm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void drop_inode_snap_realm </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a146c9d08e79a8871a4af9aad8513d7fd_cgraph.png" border="0" usemap="#caps_8c_a146c9d08e79a8871a4af9aad8513d7fd_cgraph" alt=""/></div>
<map name="caps_8c_a146c9d08e79a8871a4af9aad8513d7fd_cgraph" id="caps_8c_a146c9d08e79a8871a4af9aad8513d7fd_cgraph">
<area shape="rect" id="node2" href="snap_8c.html#ae9ac43ce9abdb99a0bb0135fe43954b3" title="ceph_put_snap_realm" alt="" coords="212,5,361,32"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="223,56,350,83"/>
<area shape="rect" id="node3" href="snap_8c.html#ace64bb84634490493f6e0f0f4e88ad28" title="__destroy_snap_realm" alt="" coords="409,5,563,32"/>
<area shape="rect" id="node4" href="snap_8c.html#a4aa6fffea265bc4b4e8dcf02e2406267" title="__put_snap_realm" alt="" coords="611,5,739,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a146c9d08e79a8871a4af9aad8513d7fd_icgraph.png" border="0" usemap="#caps_8c_a146c9d08e79a8871a4af9aad8513d7fd_icgraph" alt=""/></div>
<map name="caps_8c_a146c9d08e79a8871a4af9aad8513d7fd_icgraph" id="caps_8c_a146c9d08e79a8871a4af9aad8513d7fd_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="212,461,355,488"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1717,639,1849,665"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="627,639,817,665"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#aca3135e93d8f4b8e084194afc73d55d2" title="ceph_queue_caps_release" alt="" coords="403,639,579,665"/>
<area shape="rect" id="node40" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="425,461,556,488"/>
<area shape="rect" id="node41" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="425,512,556,539"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="404,411,577,437"/>
<area shape="rect" id="node48" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="672,360,772,387"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="905,791,978,817"/>
<area shape="rect" id="node35" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="879,613,1003,640"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1332,765,1439,792"/>
<area shape="rect" id="node33" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1091,867,1226,909"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1300,816,1471,843"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1519,787,1669,829"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1920,881,2063,908"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2549,740,2660,767"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="2136,867,2295,893"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2345,867,2501,893"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2551,867,2658,893"/>
<area shape="rect" id="node13" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1924,831,2059,857"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2162,563,2269,589"/>
<area shape="rect" id="node15" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1951,461,2031,488"/>
<area shape="rect" id="node17" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2150,613,2281,640"/>
<area shape="rect" id="node18" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2146,664,2285,691"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1936,715,2047,741"/>
<area shape="rect" id="node20" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1897,360,2085,387"/>
<area shape="rect" id="node16" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="2157,461,2274,488"/>
<area shape="rect" id="node21" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="2133,360,2297,387"/>
<area shape="rect" id="node26" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="2133,220,2297,247"/>
<area shape="rect" id="node22" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="2352,309,2495,336"/>
<area shape="rect" id="node23" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="2356,411,2491,437"/>
<area shape="rect" id="node24" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="2359,461,2488,488"/>
<area shape="rect" id="node25" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="2349,360,2498,387"/>
<area shape="rect" id="node27" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="2355,56,2491,83"/>
<area shape="rect" id="node28" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="2375,107,2471,133"/>
<area shape="rect" id="node29" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="2375,157,2472,184"/>
<area shape="rect" id="node30" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="2376,208,2471,235"/>
<area shape="rect" id="node31" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="2375,259,2471,285"/>
<area shape="rect" id="node32" href="ceph_2dir_8c.html#afe483470064da02e2adcf294d101ed18" title="ceph_symlink" alt="" coords="2372,5,2475,32"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1093,563,1224,589"/>
<area shape="rect" id="node37" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1350,461,1421,488"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#af45286f286a6ed7f795792636af010e9" title="ceph_destroy_inode" alt="" coords="653,824,791,851"/>
<area shape="rect" id="node43" href="mds__client_8c.html#a9932cb0bc0bc56c2d1ff11dd748002e3" title="remove_session_caps" alt="" coords="865,411,1017,437"/>
<area shape="rect" id="node44" href="mds__client_8c.html#aecd52d2d17cb6a55a29e18c9f6dfca77" title="handle_session" alt="" coords="1103,360,1215,387"/>
<area shape="rect" id="node45" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="1099,461,1219,488"/>
<area shape="rect" id="node46" href="mds__client_8h.html#a90cd624d396cca56a05acaddd072cb3a" title="ceph_mdsc_close_sessions" alt="" coords="1065,512,1252,539"/>
<area shape="rect" id="node47" href="mds__client_8h.html#a679279e05084bf0e754dd17f41d7cbc7" title="ceph_mdsc_force_umount" alt="" coords="1071,411,1246,437"/>
<area shape="rect" id="node49" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="884,360,999,387"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="1527,373,1661,400"/>
</map>
</div>

</div>
</div>
<a id="aa158fde50093f72901e1c22ecf24fc99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa158fde50093f72901e1c22ecf24fc99">&#9670;&nbsp;</a></span>gcap_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* gcap_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aa158fde50093f72901e1c22ecf24fc99_icgraph.png" border="0" usemap="#caps_8c_aa158fde50093f72901e1c22ecf24fc99_icgraph" alt=""/></div>
<map name="caps_8c_aa158fde50093f72901e1c22ecf24fc99_icgraph" id="caps_8c_aa158fde50093f72901e1c22ecf24fc99_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a6465986996d5fff34207a77974a864fa" title="ceph_cap_string" alt="" coords="143,1183,260,1209"/>
<area shape="rect" id="node3" href="ceph_2xattr_8c.html#a9ff386abd5b09cf947272d77157d189c" title="__ceph_setxattr" alt="" coords="992,347,1107,373"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2970,372,3081,399"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1198,803,1325,829"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1569,1072,1760,1099"/>
<area shape="rect" id="node10" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1833,861,1907,888"/>
<area shape="rect" id="node13" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="2613,600,2731,627"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2972,832,3079,859"/>
<area shape="rect" id="node16" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2960,1127,3091,1153"/>
<area shape="rect" id="node17" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2956,296,3095,323"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="2606,1016,2738,1043"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="2595,1537,2749,1564"/>
<area shape="rect" id="node22" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1808,1436,1932,1463"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1219,1056,1304,1083"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="995,208,1103,235"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="1197,499,1326,525"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="769,1360,876,1387"/>
<area shape="rect" id="node30" href="caps_8c.html#ac9f33d9a04bb17be66a76f93fdb1e527" title="handle_cap_export" alt="" coords="984,1461,1115,1488"/>
<area shape="rect" id="node32" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="551,752,659,779"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="751,803,895,829"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="986,1157,1113,1184"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a8e0de74dcc174711bc6306d4e08c25c5" title="__ceph_caps_issued_mask" alt="" coords="731,397,914,424"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="729,955,916,981"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a2ac074b45edbc3aa7056f5bc2852862a" title="ceph_caps_revoking" alt="" coords="324,1867,465,1893"/>
<area shape="rect" id="node38" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="339,1309,450,1336"/>
<area shape="rect" id="node39" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="559,1284,651,1311"/>
<area shape="rect" id="node40" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="749,1411,896,1437"/>
<area shape="rect" id="node41" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="964,1563,1135,1589"/>
<area shape="rect" id="node42" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="535,1056,676,1083"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#affc57aadec20fb5ea588583dbb0eee1e" title="__ceph_mark_dirty_caps" alt="" coords="739,296,906,323"/>
<area shape="rect" id="node44" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="529,1107,681,1133"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1410,1512,1499,1539"/>
<area shape="rect" id="node46" href="caps_8c.html#a72f347ec4391b08b3c709c7c4fc984b6" title="handle_cap_flush_ack" alt="" coords="319,1917,470,1944"/>
<area shape="rect" id="node47" href="mds__client_8c.html#a74355babe047ac74220e1a7cffdf37f5" title="remove_session_caps_cb" alt="" coords="308,1968,481,1995"/>
<area shape="rect" id="node48" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="345,2019,445,2045"/>
<area shape="rect" id="node49" href="mds__client_8c.html#ac7f9dc616410b903e85f882b8370ae62" title="encode_caps_cb" alt="" coords="335,2069,455,2096"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#ac71b7cc554111d9cfccacf2439937313" title="__ceph_finish_cap_snap" alt="" coords="2381,1563,2547,1589"/>
<area shape="rect" id="node4" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="1212,195,1311,221"/>
<area shape="rect" id="node5" href="ceph_2xattr_8c.html#ad740ba158549ed148db2515b28bdafd8" title="ceph_set_xattr_handler" alt="" coords="1183,347,1340,373"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a067087acc271c2f16ad3580b7532cfd1" title="ceph_do_getattr" alt="" coords="1397,144,1512,171"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="2797,651,2908,677"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="2195,755,2301,781"/>
<area shape="rect" id="node20" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="1980,854,2115,895"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="2163,861,2333,888"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="2389,841,2539,882"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1389,1056,1520,1083"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="1214,144,1309,171"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a1dd55cfc1a5452a770c738001fdb2a1a" title="ceph_uninline_data" alt="" coords="1388,397,1521,424"/>
<area shape="rect" id="node31" href="caps_8c.html#a83b35dca0caab54f271a624c8ddd3918" title="handle_cap_import" alt="" coords="984,1107,1115,1133"/>
</map>
</div>

</div>
</div>
<a id="ac9f33d9a04bb17be66a76f93fdb1e527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f33d9a04bb17be66a76f93fdb1e527">&#9670;&nbsp;</a></span>handle_cap_export()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_cap_export </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_mds_caps *&#160;</td>
          <td class="paramname"><em>ex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_mds_cap_peer *&#160;</td>
          <td class="paramname"><em>ph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ac9f33d9a04bb17be66a76f93fdb1e527_cgraph.png" border="0" usemap="#caps_8c_ac9f33d9a04bb17be66a76f93fdb1e527_cgraph" alt=""/></div>
<map name="caps_8c_ac9f33d9a04bb17be66a76f93fdb1e527_cgraph" id="caps_8c_ac9f33d9a04bb17be66a76f93fdb1e527_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="413,309,557,336"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="441,360,529,387"/>
<area shape="rect" id="node4" href="caps_8c.html#a3599ad9f5e90dfe60883ad06ff23447a" title="__get_cap_for_mds" alt="" coords="417,411,553,437"/>
<area shape="rect" id="node5" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="196,157,339,184"/>
<area shape="rect" id="node7" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="433,5,536,32"/>
<area shape="rect" id="node16" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1096,307,1213,333"/>
<area shape="rect" id="node22" href="caps_8c.html#a15095a42706db3f23498c2815247bf00" title="ceph_add_cap" alt="" coords="214,537,321,564"/>
<area shape="rect" id="node40" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="867,1085,1025,1112"/>
<area shape="rect" id="node46" href="mds__client_8c.html#a079c415fb97832014699f121021760e6" title="ceph_mdsc_open_export\l_target_session" alt="" coords="184,1238,351,1279"/>
<area shape="rect" id="node50" href="caps_8c.html#afcbbb494674f4af87ee2b85f5c9fc44c" title="ceph_get_cap" alt="" coords="216,1304,319,1331"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="647,224,773,251"/>
<area shape="rect" id="node8" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="413,208,557,235"/>
<area shape="rect" id="node9" href="caps_8c.html#a146c9d08e79a8871a4af9aad8513d7fd" title="drop_inode_snap_realm" alt="" coords="405,259,564,285"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="399,56,571,83"/>
<area shape="rect" id="node21" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="415,107,555,133"/>
<area shape="rect" id="node10" href="snap_8c.html#ae9ac43ce9abdb99a0bb0135fe43954b3" title="ceph_put_snap_realm" alt="" coords="635,477,785,504"/>
<area shape="rect" id="node11" href="snap_8c.html#ace64bb84634490493f6e0f0f4e88ad28" title="__destroy_snap_realm" alt="" coords="869,477,1023,504"/>
<area shape="rect" id="node12" href="snap_8c.html#a4aa6fffea265bc4b4e8dcf02e2406267" title="__put_snap_realm" alt="" coords="1091,477,1219,504"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="638,56,782,83"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a8e0de74dcc174711bc6306d4e08c25c5" title="__ceph_caps_issued_mask" alt="" coords="619,107,801,133"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#ae6584a35304603761fdaefdd140ddc4e" title="__ceph_caps_issued\l_other" alt="" coords="638,158,782,199"/>
<area shape="rect" id="node15" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="892,252,1000,279"/>
<area shape="rect" id="node17" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1267,307,1356,333"/>
<area shape="rect" id="node19" href="caps_8c.html#aba9fdf4d7e2830f3179d4ead0bac94f4" title="__touch_cap" alt="" coords="898,107,994,133"/>
<area shape="rect" id="node23" href="caps_8c.html#a691cfabb3a30f4cf2b352e5c0c93ef19" title="__insert_cap_node" alt="" coords="419,563,550,589"/>
<area shape="rect" id="node24" href="snap_8c.html#a43b10cceea1ba2024e6ac2ba62e282bb" title="ceph_lookup_snap_realm" alt="" coords="400,512,569,539"/>
<area shape="rect" id="node27" href="caps_8c.html#a67e4e74cdbc2c77f30be222b9e242858" title="__check_cap_issue" alt="" coords="416,613,553,640"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="411,832,559,859"/>
<area shape="rect" id="node43" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="411,461,559,488"/>
<area shape="rect" id="node45" href="caps_8c.html#a534a1ab7f2261195c99d0bf016ae9fa8" title="__ceph_get_fmode" alt="" coords="419,883,551,909"/>
<area shape="rect" id="node25" href="snap_8c.html#aa8cd14d150cfb8551268d9f86a4b24d0" title="__lookup_snap_realm" alt="" coords="636,325,784,352"/>
<area shape="rect" id="node26" href="snap_8c.html#ae41605a2af96976e679fb699702ca087" title="ceph_get_snap_realm" alt="" coords="635,376,785,403"/>
<area shape="rect" id="node28" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="638,427,782,453"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a70e8735349909cd6a19f2c09888c42f9" title="__ceph_dir_clear_complete" alt="" coords="620,579,800,605"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="624,781,796,808"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="643,832,777,859"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="620,680,800,707"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="655,883,765,909"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="643,933,777,960"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="633,1035,787,1061"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="643,984,777,1011"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="635,1085,785,1112"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="628,731,792,757"/>
<area shape="rect" id="node38" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="899,984,993,1011"/>
<area shape="rect" id="node39" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="849,1288,1043,1315"/>
<area shape="rect" id="node44" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="641,275,779,301"/>
<area shape="rect" id="node47" href="mds__client_8c.html#ad3bea753703365dc7966f81e6a2215cf" title="__open_export_target\l_session" alt="" coords="411,1259,558,1301"/>
<area shape="rect" id="node48" href="mds__client_8c.html#aaa35671be7b0fc8802b7c70b4cda9505" title="register_session" alt="" coords="651,1237,769,1264"/>
<area shape="rect" id="node49" href="mds__client_8c.html#ab6563919630abb18647c7e2d5dc7c73c" title="__open_session" alt="" coords="652,1288,768,1315"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ac9f33d9a04bb17be66a76f93fdb1e527_icgraph.png" border="0" usemap="#caps_8c_ac9f33d9a04bb17be66a76f93fdb1e527_icgraph" alt=""/></div>
<map name="caps_8c_ac9f33d9a04bb17be66a76f93fdb1e527_icgraph" id="caps_8c_ac9f33d9a04bb17be66a76f93fdb1e527_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="184,282,315,308"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="363,282,553,308"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1415,706,1486,732"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="627,504,700,531"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="601,180,725,207"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="988,491,1095,518"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="773,526,908,568"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="956,546,1127,572"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1175,484,1325,525"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1203,550,1297,576"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1609,662,1752,688"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1857,358,1968,384"/>
<area shape="rect" id="node10" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1379,567,1522,594"/>
<area shape="rect" id="node11" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1391,358,1510,384"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1385,282,1517,308"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1373,516,1528,543"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1833,586,1992,612"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1615,408,1747,435"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1625,104,1736,131"/>
<area shape="rect" id="node13" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1873,282,1953,308"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1859,7,1966,34"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1859,64,1966,91"/>
<area shape="rect" id="node17" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1847,127,1978,154"/>
<area shape="rect" id="node18" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1843,203,1982,230"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1613,510,1748,536"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1587,307,1775,334"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1605,560,1757,587"/>
<area shape="rect" id="node24" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1597,611,1764,638"/>
<area shape="rect" id="node27" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1576,712,1785,739"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1592,763,1769,790"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1841,636,1984,663"/>
<area shape="rect" id="node35" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2829,806,2972,848"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2040,560,2176,587"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2224,560,2341,587"/>
<area shape="rect" id="node47" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2227,510,2338,536"/>
<area shape="rect" id="node32" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2411,459,2542,486"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2404,662,2549,688"/>
<area shape="rect" id="node34" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2612,763,2781,790"/>
<area shape="rect" id="node38" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2389,763,2564,790"/>
<area shape="rect" id="node39" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2621,379,2772,406"/>
<area shape="rect" id="node40" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="2393,560,2560,587"/>
<area shape="rect" id="node41" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2663,535,2730,562"/>
<area shape="rect" id="node42" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="2402,225,2551,266"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2619,284,2774,325"/>
<area shape="rect" id="node44" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="2408,342,2545,384"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="2411,611,2542,638"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="2407,174,2546,200"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="3020,814,3139,840"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3187,814,3329,840"/>
</map>
</div>

</div>
</div>
<a id="a72f347ec4391b08b3c709c7c4fc984b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72f347ec4391b08b3c709c7c4fc984b6">&#9670;&nbsp;</a></span>handle_cap_flush_ack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_cap_flush_ack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flush_tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_mds_caps *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; i_ceph_lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a72f347ec4391b08b3c709c7c4fc984b6_cgraph.png" border="0" usemap="#caps_8c_a72f347ec4391b08b3c709c7c4fc984b6_cgraph" alt=""/></div>
<map name="caps_8c_a72f347ec4391b08b3c709c7c4fc984b6_cgraph" id="caps_8c_a72f347ec4391b08b3c709c7c4fc984b6_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="231,5,319,32"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="212,56,339,83"/>
<area shape="rect" id="node4" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="228,107,323,133"/>
<area shape="rect" id="node5" href="caps_8c.html#a5108bbacad06be2134fec92d5fccbcbf" title="__finish_cap_flush" alt="" coords="210,157,341,184"/>
<area shape="rect" id="node6" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="217,208,334,235"/>
<area shape="rect" id="node8" href="caps_8c.html#a601c896d9f4041c016b957b081192090" title="ceph_free_cap_flush" alt="" coords="204,259,347,285"/>
<area shape="rect" id="node9" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="254,360,297,387"/>
<area shape="rect" id="node7" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="395,183,484,209"/>
<area shape="rect" id="node10" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="402,461,477,488"/>
<area shape="rect" id="node31" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1163,284,1302,311"/>
<area shape="rect" id="node11" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1181,627,1284,653"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="534,588,653,615"/>
<area shape="rect" id="node25" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="532,411,655,437"/>
<area shape="rect" id="node26" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="568,461,619,488"/>
<area shape="rect" id="node12" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1375,627,1501,653"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="709,588,866,615"/>
<area shape="rect" id="node24" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="718,689,857,716"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="920,453,1103,480"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="945,674,1078,715"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="922,521,1101,548"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="930,572,1093,599"/>
<area shape="rect" id="node23" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="937,623,1085,649"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1189,681,1277,708"/>
<area shape="rect" id="node18" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1389,681,1487,708"/>
<area shape="rect" id="node19" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1563,681,1701,708"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1151,572,1315,599"/>
<area shape="rect" id="node27" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="728,537,847,564"/>
<area shape="rect" id="node28" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="726,335,849,361"/>
<area shape="rect" id="node29" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="703,436,872,463"/>
<area shape="rect" id="node30" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="967,284,1055,311"/>
<area shape="rect" id="node32" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="749,639,825,665"/>
<area shape="rect" id="node35" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="749,487,825,513"/>
<area shape="rect" id="node36" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="736,385,839,412"/>
<area shape="rect" id="node33" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="984,791,1039,817"/>
<area shape="rect" id="node34" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1163,791,1302,817"/>
<area shape="rect" id="node37" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="953,335,1070,361"/>
<area shape="rect" id="node42" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="971,385,1051,412"/>
<area shape="rect" id="node38" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1169,385,1297,412"/>
<area shape="rect" id="node39" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1151,335,1314,361"/>
<area shape="rect" id="node40" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1363,335,1513,361"/>
<area shape="rect" id="node41" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1561,335,1703,361"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a72f347ec4391b08b3c709c7c4fc984b6_icgraph.png" border="0" usemap="#caps_8c_a72f347ec4391b08b3c709c7c4fc984b6_icgraph" alt=""/></div>
<map name="caps_8c_a72f347ec4391b08b3c709c7c4fc984b6_icgraph" id="caps_8c_a72f347ec4391b08b3c709c7c4fc984b6_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="204,282,335,308"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="383,282,573,308"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1435,706,1506,732"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="647,504,720,531"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="621,180,745,207"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1008,491,1115,518"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="793,526,928,568"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="976,546,1147,572"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1195,484,1345,525"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1223,550,1317,576"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1629,662,1772,688"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1877,358,1988,384"/>
<area shape="rect" id="node10" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1399,567,1542,594"/>
<area shape="rect" id="node11" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1411,358,1530,384"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1405,282,1537,308"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1393,516,1548,543"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1853,586,2012,612"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1635,408,1767,435"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1645,104,1756,131"/>
<area shape="rect" id="node13" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1893,282,1973,308"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1879,7,1986,34"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1879,64,1986,91"/>
<area shape="rect" id="node17" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1867,127,1998,154"/>
<area shape="rect" id="node18" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1863,203,2002,230"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1633,510,1768,536"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1607,307,1795,334"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1625,560,1777,587"/>
<area shape="rect" id="node24" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1617,611,1784,638"/>
<area shape="rect" id="node27" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1596,712,1805,739"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1612,763,1789,790"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1861,636,2004,663"/>
<area shape="rect" id="node35" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2849,806,2992,848"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2060,560,2196,587"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2244,560,2361,587"/>
<area shape="rect" id="node47" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2247,510,2358,536"/>
<area shape="rect" id="node32" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2431,459,2562,486"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2424,662,2569,688"/>
<area shape="rect" id="node34" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2632,763,2801,790"/>
<area shape="rect" id="node38" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2409,763,2584,790"/>
<area shape="rect" id="node39" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2641,379,2792,406"/>
<area shape="rect" id="node40" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="2413,560,2580,587"/>
<area shape="rect" id="node41" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2683,535,2750,562"/>
<area shape="rect" id="node42" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="2422,225,2571,266"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2639,284,2794,325"/>
<area shape="rect" id="node44" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="2428,342,2565,384"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="2431,611,2562,638"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="2427,174,2566,200"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="3040,814,3159,840"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3207,814,3349,840"/>
</map>
</div>

</div>
</div>
<a id="a7626108cc91a746cbc8484c120583cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7626108cc91a746cbc8484c120583cb4">&#9670;&nbsp;</a></span>handle_cap_flushsnap_ack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_cap_flushsnap_ack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flush_tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_mds_caps *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a7626108cc91a746cbc8484c120583cb4_cgraph.png" border="0" usemap="#caps_8c_a7626108cc91a746cbc8484c120583cb4_cgraph" alt=""/></div>
<map name="caps_8c_a7626108cc91a746cbc8484c120583cb4_cgraph" id="caps_8c_a7626108cc91a746cbc8484c120583cb4_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="257,208,345,235"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="238,259,365,285"/>
<area shape="rect" id="node4" href="caps_8c.html#a5108bbacad06be2134fec92d5fccbcbf" title="__finish_cap_flush" alt="" coords="236,309,367,336"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="232,360,371,387"/>
<area shape="rect" id="node6" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="280,411,323,437"/>
<area shape="rect" id="node7" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="419,411,493,437"/>
<area shape="rect" id="node28" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1173,107,1311,133"/>
<area shape="rect" id="node8" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1191,664,1293,691"/>
<area shape="rect" id="node10" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="543,461,662,488"/>
<area shape="rect" id="node22" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="541,309,664,336"/>
<area shape="rect" id="node23" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="577,360,628,387"/>
<area shape="rect" id="node9" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1384,664,1511,691"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="718,461,875,488"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="727,563,866,589"/>
<area shape="rect" id="node12" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="929,344,1112,371"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="954,497,1087,538"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="931,445,1110,472"/>
<area shape="rect" id="node18" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="939,395,1102,421"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="947,563,1095,589"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1198,504,1286,531"/>
<area shape="rect" id="node15" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1398,504,1497,531"/>
<area shape="rect" id="node16" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1572,504,1711,531"/>
<area shape="rect" id="node19" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1160,395,1324,421"/>
<area shape="rect" id="node24" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="737,411,856,437"/>
<area shape="rect" id="node25" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="735,208,858,235"/>
<area shape="rect" id="node26" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="712,360,881,387"/>
<area shape="rect" id="node27" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="977,251,1065,277"/>
<area shape="rect" id="node29" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="759,512,835,539"/>
<area shape="rect" id="node32" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="759,259,835,285"/>
<area shape="rect" id="node33" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="745,157,848,184"/>
<area shape="rect" id="node30" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="993,613,1048,640"/>
<area shape="rect" id="node31" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1173,613,1311,640"/>
<area shape="rect" id="node34" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="962,56,1079,83"/>
<area shape="rect" id="node39" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="981,157,1061,184"/>
<area shape="rect" id="node35" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1178,5,1306,32"/>
<area shape="rect" id="node36" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1161,56,1323,83"/>
<area shape="rect" id="node37" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1372,56,1523,83"/>
<area shape="rect" id="node38" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1571,56,1712,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a7626108cc91a746cbc8484c120583cb4_icgraph.png" border="0" usemap="#caps_8c_a7626108cc91a746cbc8484c120583cb4_icgraph" alt=""/></div>
<map name="caps_8c_a7626108cc91a746cbc8484c120583cb4_icgraph" id="caps_8c_a7626108cc91a746cbc8484c120583cb4_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="232,282,363,308"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="411,282,601,308"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1463,706,1534,732"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="675,504,748,531"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="649,180,773,207"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1036,491,1143,518"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="821,526,956,568"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1004,546,1175,572"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1223,484,1373,525"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1251,550,1345,576"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1657,662,1800,688"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1905,358,2016,384"/>
<area shape="rect" id="node10" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1427,567,1570,594"/>
<area shape="rect" id="node11" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1439,358,1558,384"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1433,282,1565,308"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1421,516,1576,543"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1881,586,2040,612"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1663,408,1795,435"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1673,104,1784,131"/>
<area shape="rect" id="node13" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1921,282,2001,308"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1907,7,2014,34"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1907,64,2014,91"/>
<area shape="rect" id="node17" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1895,127,2026,154"/>
<area shape="rect" id="node18" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1891,203,2030,230"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1661,510,1796,536"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1635,307,1823,334"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1653,560,1805,587"/>
<area shape="rect" id="node24" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1645,611,1812,638"/>
<area shape="rect" id="node27" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1624,712,1833,739"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1640,763,1817,790"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1889,636,2032,663"/>
<area shape="rect" id="node35" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2877,806,3020,848"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2088,560,2224,587"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2272,560,2389,587"/>
<area shape="rect" id="node47" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2275,510,2386,536"/>
<area shape="rect" id="node32" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2459,459,2590,486"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2452,662,2597,688"/>
<area shape="rect" id="node34" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2660,763,2829,790"/>
<area shape="rect" id="node38" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2437,763,2612,790"/>
<area shape="rect" id="node39" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2669,379,2820,406"/>
<area shape="rect" id="node40" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="2441,560,2608,587"/>
<area shape="rect" id="node41" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2711,535,2778,562"/>
<area shape="rect" id="node42" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="2450,225,2599,266"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2667,284,2822,325"/>
<area shape="rect" id="node44" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="2456,342,2593,384"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="2459,611,2590,638"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="2455,174,2594,200"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="3068,814,3187,840"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3235,814,3377,840"/>
</map>
</div>

</div>
</div>
<a id="a51f931cd55da6e3be6088d15ed4623ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51f931cd55da6e3be6088d15ed4623ea">&#9670;&nbsp;</a></span>handle_cap_grant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_cap_grant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_mds_caps *&#160;</td>
          <td class="paramname"><em>grant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_string **&#160;</td>
          <td class="paramname"><em>pns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>inline_version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>inline_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>inline_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_buffer *&#160;</td>
          <td class="paramname"><em>xattr_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>issued</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; i_ceph_lock)
	__releases(mdsc-&gt;snap_rwsem)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a51f931cd55da6e3be6088d15ed4623ea_cgraph.png" border="0" usemap="#caps_8c_a51f931cd55da6e3be6088d15ed4623ea_cgraph" alt=""/></div>
<map name="caps_8c_a51f931cd55da6e3be6088d15ed4623ea_cgraph" id="caps_8c_a51f931cd55da6e3be6088d15ed4623ea_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1133,1448,1221,1475"/>
<area shape="rect" id="node3" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1119,537,1236,564"/>
<area shape="rect" id="node5" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="893,841,1068,868"/>
<area shape="rect" id="node6" href="caps_8c.html#a67e4e74cdbc2c77f30be222b9e242858" title="__check_cap_issue" alt="" coords="686,1145,823,1172"/>
<area shape="rect" id="node9" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="235,31,310,57"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="177,917,368,944"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="689,1549,820,1576"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="681,1095,829,1121"/>
<area shape="rect" id="node31" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="691,487,818,513"/>
<area shape="rect" id="node32" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="913,537,1048,564"/>
<area shape="rect" id="node33" href="ceph_2inode_8c.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="903,892,1058,919"/>
<area shape="rect" id="node43" href="ceph_2inode_8c.html#a0f20fdbdf3dbef013594ec11a45007a7" title="ceph_fill_file_time" alt="" coords="691,1983,818,2009"/>
<area shape="rect" id="node44" href="ceph_2inode_8c.html#a9f1b9530a7b4898eb3c04bc30092c18b" title="ceph_fill_file_size" alt="" coords="210,2051,335,2077"/>
<area shape="rect" id="node45" href="caps_8c.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="195,1833,350,1874"/>
<area shape="rect" id="node46" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="895,487,1066,513"/>
<area shape="rect" id="node47" href="addr_8c.html#af27d91afc4db18df61077b9ec86acff5" title="ceph_fill_inline_data" alt="" coords="203,1949,342,1976"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#aa8a69be899366cc0569820948a13a347" title="ceph_queue_vmtruncate" alt="" coords="191,1899,355,1925"/>
<area shape="rect" id="node49" href="ceph_2inode_8c.html#a5b0ccce1ce748d9e2a6f8e78fe4536ce" title="ceph_queue_writeback" alt="" coords="195,1781,350,1808"/>
<area shape="rect" id="node50" href="caps_8c.html#aec0a51814b138f105a74a0684c747e0e" title="invalidate_aliases" alt="" coords="210,2101,335,2128"/>
<area shape="rect" id="node4" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1284,449,1373,476"/>
<area shape="rect" id="node7" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="909,639,1053,665"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a70e8735349909cd6a19f2c09888c42f9" title="__ceph_dir_clear_complete" alt="" coords="891,1145,1071,1172"/>
<area shape="rect" id="node10" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="475,31,559,57"/>
<area shape="rect" id="node11" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="685,5,824,32"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a6465986996d5fff34207a77974a864fa" title="ceph_cap_string" alt="" coords="1119,360,1236,387"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="452,1532,583,1559"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#afcbbb494674f4af87ee2b85f5c9fc44c" title="ceph_get_cap" alt="" coords="466,1161,569,1188"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a25dd9d93a2ad86e49258156128e7cffc" title="ceph_add_cap" alt="" coords="464,993,571,1020"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="446,1212,589,1239"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="466,1263,569,1289"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a25eb5883d59e9610b60324b37606daa5" title="ceph_is_any_caps" alt="" coords="689,1044,820,1071"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#aca3135e93d8f4b8e084194afc73d55d2" title="ceph_queue_caps_release" alt="" coords="667,1397,843,1424"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="456,1583,579,1609"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="936,943,1025,969"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="416,537,619,564"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="433,588,601,615"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#aea107c56ab60d0dd1c00ad9c5da4231b" title="ceph_get_cap_for_mds" alt="" coords="439,639,596,665"/>
<area shape="rect" id="node28" href="ceph_2super_8h.html#a0f1c8bbbb77d21ae3c52345575801614" title="ceph_get_cap_mds" alt="" coords="913,1727,1048,1753"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a411cba14144ccc6cbedfe602a4a87208" title="ceph_get_cap_refs" alt="" coords="451,791,583,817"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="451,335,583,361"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="424,385,611,412"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="454,841,581,868"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="427,1044,607,1071"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="691,689,818,716"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="428,436,607,463"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="441,487,593,513"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#abdd76b7f6104d31de284dff28168768b" title="ceph_drop_caps_for\l_unlink" alt="" coords="448,1466,587,1507"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a7f255ba3d81507a50fe1add9d3030f35" title="ceph_encode_inode_release" alt="" coords="424,892,611,919"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#af600f1c3f03d310a37ae74edcb2d4b3d" title="ceph_encode_dentry\l_release" alt="" coords="446,1095,589,1137"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a51f931cd55da6e3be6088d15ed4623ea_icgraph.png" border="0" usemap="#caps_8c_a51f931cd55da6e3be6088d15ed4623ea_icgraph" alt=""/></div>
<map name="caps_8c_a51f931cd55da6e3be6088d15ed4623ea_icgraph" id="caps_8c_a51f931cd55da6e3be6088d15ed4623ea_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="177,316,308,343"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="356,265,547,292"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1358,721,1429,748"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="595,460,668,487"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="931,493,1037,520"/>
<area shape="rect" id="node49" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="716,482,851,523"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="899,548,1069,575"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1117,486,1268,527"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1145,552,1240,579"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1552,468,1695,495"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1800,519,1911,545"/>
<area shape="rect" id="node10" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1322,519,1465,545"/>
<area shape="rect" id="node11" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1334,215,1453,241"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1327,265,1459,292"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1316,569,1471,596"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1776,468,1935,495"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1557,12,1689,39"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1568,164,1679,191"/>
<area shape="rect" id="node13" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1815,37,1895,64"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1802,291,1909,317"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1802,355,1909,381"/>
<area shape="rect" id="node17" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1790,139,1921,165"/>
<area shape="rect" id="node18" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1786,215,1925,241"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1556,417,1691,444"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1529,215,1717,241"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1547,569,1699,596"/>
<area shape="rect" id="node24" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1540,620,1707,647"/>
<area shape="rect" id="node27" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1519,721,1728,748"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1535,772,1712,799"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1784,637,1927,664"/>
<area shape="rect" id="node35" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2772,765,2915,806"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="1983,419,2119,445"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2167,419,2284,445"/>
<area shape="rect" id="node48" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2170,121,2281,148"/>
<area shape="rect" id="node32" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2354,208,2485,235"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2347,528,2492,555"/>
<area shape="rect" id="node34" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2555,696,2724,723"/>
<area shape="rect" id="node38" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2332,696,2507,723"/>
<area shape="rect" id="node39" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2564,477,2715,504"/>
<area shape="rect" id="node40" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="2336,5,2503,32"/>
<area shape="rect" id="node41" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2606,95,2673,121"/>
<area shape="rect" id="node42" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="2345,630,2494,671"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2562,411,2717,453"/>
<area shape="rect" id="node44" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="2351,411,2488,453"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="2354,309,2485,336"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a574f8d3883ff9396303af718453777e4" title="dlm_thread" alt="" coords="2596,171,2683,197"/>
<area shape="rect" id="node47" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="2350,107,2489,133"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2963,772,3081,799"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3129,772,3272,799"/>
</map>
</div>

</div>
</div>
<a id="a83b35dca0caab54f271a624c8ddd3918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b35dca0caab54f271a624c8ddd3918">&#9670;&nbsp;</a></span>handle_cap_import()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_cap_import </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_mds_caps *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_mds_cap_peer *&#160;</td>
          <td class="paramname"><em>ph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__cap.html">ceph_cap</a> **&#160;</td>
          <td class="paramname"><em>target_cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>old_issued</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; i_ceph_lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a83b35dca0caab54f271a624c8ddd3918_cgraph.png" border="0" usemap="#caps_8c_a83b35dca0caab54f271a624c8ddd3918_cgraph" alt=""/></div>
<map name="caps_8c_a83b35dca0caab54f271a624c8ddd3918_cgraph" id="caps_8c_a83b35dca0caab54f271a624c8ddd3918_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="858,164,946,190"/>
<area shape="rect" id="node3" href="caps_8c.html#a3599ad9f5e90dfe60883ad06ff23447a" title="__get_cap_for_mds" alt="" coords="393,1126,529,1153"/>
<area shape="rect" id="node4" href="caps_8c.html#afcbbb494674f4af87ee2b85f5c9fc44c" title="ceph_get_cap" alt="" coords="204,1405,307,1432"/>
<area shape="rect" id="node5" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="409,1481,512,1508"/>
<area shape="rect" id="node6" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="614,1177,758,1204"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="190,312,321,338"/>
<area shape="rect" id="node24" href="caps_8c.html#a15095a42706db3f23498c2815247bf00" title="ceph_add_cap" alt="" coords="202,898,309,925"/>
<area shape="rect" id="node44" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="184,1304,327,1330"/>
<area shape="rect" id="node7" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="848,1184,956,1210"/>
<area shape="rect" id="node8" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1027,1133,1144,1160"/>
<area shape="rect" id="node9" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1192,1133,1281,1160"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a632aa9c7466a172b0e77e6273d9db571" title="ceph_alloc_cap_flush" alt="" coords="387,148,534,174"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a601c896d9f4041c016b957b081192090" title="ceph_free_cap_flush" alt="" coords="389,198,532,225"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#affc57aadec20fb5ea588583dbb0eee1e" title="__ceph_mark_dirty_caps" alt="" coords="377,366,544,393"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="383,250,538,291"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a2ac074b45edbc3aa7056f5bc2852862a" title="ceph_caps_revoking" alt="" coords="390,38,531,65"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="619,468,753,494"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="600,417,772,444"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="623,1228,749,1254"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a51b0031781f30ee001a1b7307a19ac7f" title="ceph_ino" alt="" coords="649,265,723,292"/>
<area shape="rect" id="node16" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="661,214,711,241"/>
<area shape="rect" id="node17" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="612,366,760,393"/>
<area shape="rect" id="node18" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="833,366,971,393"/>
<area shape="rect" id="node21" href="caps_8c.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="609,31,763,72"/>
<area shape="rect" id="node25" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="389,974,533,1001"/>
<area shape="rect" id="node26" href="caps_8c.html#a691cfabb3a30f4cf2b352e5c0c93ef19" title="__insert_cap_node" alt="" coords="395,569,526,596"/>
<area shape="rect" id="node27" href="snap_8c.html#a43b10cceea1ba2024e6ac2ba62e282bb" title="ceph_lookup_snap_realm" alt="" coords="376,822,545,849"/>
<area shape="rect" id="node32" href="snap_8c.html#ae9ac43ce9abdb99a0bb0135fe43954b3" title="ceph_put_snap_realm" alt="" coords="611,1025,761,1052"/>
<area shape="rect" id="node33" href="caps_8c.html#a67e4e74cdbc2c77f30be222b9e242858" title="__check_cap_issue" alt="" coords="392,1076,529,1102"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="387,670,535,697"/>
<area shape="rect" id="node43" href="caps_8c.html#a534a1ab7f2261195c99d0bf016ae9fa8" title="__ceph_get_fmode" alt="" coords="395,924,527,950"/>
<area shape="rect" id="node28" href="snap_8c.html#aa8cd14d150cfb8551268d9f86a4b24d0" title="__lookup_snap_realm" alt="" coords="612,974,760,1001"/>
<area shape="rect" id="node29" href="snap_8c.html#ae41605a2af96976e679fb699702ca087" title="ceph_get_snap_realm" alt="" coords="611,924,761,950"/>
<area shape="rect" id="node30" href="snap_8c.html#a4aa6fffea265bc4b4e8dcf02e2406267" title="__put_snap_realm" alt="" coords="622,822,750,849"/>
<area shape="rect" id="node31" href="snap_8c.html#ace64bb84634490493f6e0f0f4e88ad28" title="__destroy_snap_realm" alt="" coords="825,822,979,849"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a70e8735349909cd6a19f2c09888c42f9" title="__ceph_dir_clear_complete" alt="" coords="596,1126,776,1153"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="596,873,776,900"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="631,670,741,697"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="619,721,753,748"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="609,772,763,798"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="619,518,753,545"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="611,569,761,596"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="604,620,768,646"/>
<area shape="rect" id="node45" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="389,1329,533,1356"/>
<area shape="rect" id="node46" href="caps_8c.html#a146c9d08e79a8871a4af9aad8513d7fd" title="drop_inode_snap_realm" alt="" coords="381,1228,540,1254"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#afe3b3abd7a367e1a3c90c88811f666d3" title="__ceph_is_any_real_caps" alt="" coords="375,1430,547,1457"/>
<area shape="rect" id="node50" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="391,1380,531,1406"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="614,1329,758,1356"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a8e0de74dcc174711bc6306d4e08c25c5" title="__ceph_caps_issued_mask" alt="" coords="595,1278,777,1305"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a83b35dca0caab54f271a624c8ddd3918_icgraph.png" border="0" usemap="#caps_8c_a83b35dca0caab54f271a624c8ddd3918_icgraph" alt=""/></div>
<map name="caps_8c_a83b35dca0caab54f271a624c8ddd3918_icgraph" id="caps_8c_a83b35dca0caab54f271a624c8ddd3918_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="184,282,315,308"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="363,282,553,308"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1415,706,1486,732"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="627,504,700,531"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="601,180,725,207"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="988,491,1095,518"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="773,526,908,568"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="956,546,1127,572"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1175,484,1325,525"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1203,550,1297,576"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1609,662,1752,688"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1857,358,1968,384"/>
<area shape="rect" id="node10" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1379,567,1522,594"/>
<area shape="rect" id="node11" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1391,358,1510,384"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1385,282,1517,308"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1373,516,1528,543"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1833,586,1992,612"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1615,408,1747,435"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1625,104,1736,131"/>
<area shape="rect" id="node13" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1873,282,1953,308"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1859,7,1966,34"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1859,64,1966,91"/>
<area shape="rect" id="node17" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1847,127,1978,154"/>
<area shape="rect" id="node18" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1843,203,1982,230"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1613,510,1748,536"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1587,307,1775,334"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1605,560,1757,587"/>
<area shape="rect" id="node24" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1597,611,1764,638"/>
<area shape="rect" id="node27" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1576,712,1785,739"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1592,763,1769,790"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1841,636,1984,663"/>
<area shape="rect" id="node35" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2829,806,2972,848"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2040,560,2176,587"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2224,560,2341,587"/>
<area shape="rect" id="node47" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2227,510,2338,536"/>
<area shape="rect" id="node32" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2411,459,2542,486"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2404,662,2549,688"/>
<area shape="rect" id="node34" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2612,763,2781,790"/>
<area shape="rect" id="node38" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2389,763,2564,790"/>
<area shape="rect" id="node39" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2621,379,2772,406"/>
<area shape="rect" id="node40" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="2393,560,2560,587"/>
<area shape="rect" id="node41" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2663,535,2730,562"/>
<area shape="rect" id="node42" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="2402,225,2551,266"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2619,284,2774,325"/>
<area shape="rect" id="node44" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="2408,342,2545,384"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="2411,611,2542,638"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="2407,174,2546,200"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="3020,814,3139,840"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3187,814,3329,840"/>
</map>
</div>

</div>
</div>
<a id="a241aed40da853c59fb0ab47fb4368d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a241aed40da853c59fb0ab47fb4368d80">&#9670;&nbsp;</a></span>handle_cap_trunc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_cap_trunc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ceph_mds_caps *&#160;</td>
          <td class="paramname"><em>trunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; i_ceph_lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a241aed40da853c59fb0ab47fb4368d80_cgraph.png" border="0" usemap="#caps_8c_a241aed40da853c59fb0ab47fb4368d80_cgraph" alt=""/></div>
<map name="caps_8c_a241aed40da853c59fb0ab47fb4368d80_cgraph" id="caps_8c_a241aed40da853c59fb0ab47fb4368d80_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="817,635,905,662"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a57dc7895dab63fc484de427d29f093cc" title="__ceph_caps_dirty" alt="" coords="184,815,315,842"/>
<area shape="rect" id="node20" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="177,1221,321,1247"/>
<area shape="rect" id="node22" href="ceph_2inode_8c.html#a9f1b9530a7b4898eb3c04bc30092c18b" title="ceph_fill_file_size" alt="" coords="187,1069,312,1095"/>
<area shape="rect" id="node26" href="ceph_2inode_8c.html#aa8a69be899366cc0569820948a13a347" title="ceph_queue_vmtruncate" alt="" coords="373,495,537,522"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a632aa9c7466a172b0e77e6273d9db571" title="ceph_alloc_cap_flush" alt="" coords="382,866,529,893"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a601c896d9f4041c016b957b081192090" title="ceph_free_cap_flush" alt="" coords="384,917,527,943"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#affc57aadec20fb5ea588583dbb0eee1e" title="__ceph_mark_dirty_caps" alt="" coords="372,647,539,674"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="378,699,533,740"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a2ac074b45edbc3aa7056f5bc2852862a" title="ceph_caps_revoking" alt="" coords="385,1018,526,1045"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="388,765,523,791"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="369,815,541,842"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="603,495,730,522"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a51b0031781f30ee001a1b7307a19ac7f" title="ceph_ino" alt="" coords="629,647,704,674"/>
<area shape="rect" id="node9" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="608,1178,725,1205"/>
<area shape="rect" id="node11" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="642,546,691,573"/>
<area shape="rect" id="node13" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="593,1018,741,1045"/>
<area shape="rect" id="node10" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="817,1178,906,1205"/>
<area shape="rect" id="node12" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1597,483,1736,510"/>
<area shape="rect" id="node14" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="792,1018,931,1045"/>
<area shape="rect" id="node17" href="caps_8c.html#aa988278ebb5545c57e9a0bb568c84537" title="__ceph_caps_revoking\l_other" alt="" coords="589,1069,744,1111"/>
<area shape="rect" id="node21" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="401,1271,509,1298"/>
<area shape="rect" id="node23" href="ceph_2inode_8c.html#a23a864bbbf23f3534b42ebde7523b224" title="calc_inode_blocks" alt="" coords="391,1170,520,1197"/>
<area shape="rect" id="node24" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="369,1069,541,1095"/>
<area shape="rect" id="node25" href="ceph_2cache_8h.html#ae948edf0ebca920d58d8746406e009df" title="ceph_fscache_invalidate" alt="" coords="373,1119,538,1146"/>
<area shape="rect" id="node27" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="645,311,688,338"/>
<area shape="rect" id="node28" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="824,230,899,257"/>
<area shape="rect" id="node29" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1615,37,1718,63"/>
<area shape="rect" id="node31" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="981,154,1099,181"/>
<area shape="rect" id="node39" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="979,230,1101,257"/>
<area shape="rect" id="node40" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1015,294,1065,321"/>
<area shape="rect" id="node30" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1784,37,1911,63"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="1155,154,1313,181"/>
<area shape="rect" id="node38" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="1165,53,1303,79"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="1367,306,1549,333"/>
<area shape="rect" id="node34" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="1391,139,1525,180"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="1369,205,1547,231"/>
<area shape="rect" id="node36" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="1377,255,1539,282"/>
<area shape="rect" id="node37" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="1384,87,1532,114"/>
<area shape="rect" id="node41" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="1175,205,1293,231"/>
<area shape="rect" id="node42" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="1173,255,1295,282"/>
<area shape="rect" id="node43" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="1149,306,1319,333"/>
<area shape="rect" id="node44" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="1414,357,1502,383"/>
<area shape="rect" id="node45" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="1196,103,1272,130"/>
<area shape="rect" id="node47" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="1196,407,1272,434"/>
<area shape="rect" id="node48" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="1183,458,1285,485"/>
<area shape="rect" id="node46" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="1431,37,1485,63"/>
<area shape="rect" id="node49" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="1399,458,1517,485"/>
<area shape="rect" id="node50" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="1418,407,1498,434"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a241aed40da853c59fb0ab47fb4368d80_icgraph.png" border="0" usemap="#caps_8c_a241aed40da853c59fb0ab47fb4368d80_icgraph" alt=""/></div>
<map name="caps_8c_a241aed40da853c59fb0ab47fb4368d80_icgraph" id="caps_8c_a241aed40da853c59fb0ab47fb4368d80_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="177,282,308,308"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="356,282,547,308"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1409,706,1479,732"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="620,504,693,531"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="595,180,719,207"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="981,491,1088,518"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="767,526,901,568"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="949,546,1120,572"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1168,484,1319,525"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1196,550,1291,576"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1603,662,1745,688"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1851,358,1961,384"/>
<area shape="rect" id="node10" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1373,567,1515,594"/>
<area shape="rect" id="node11" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1385,358,1503,384"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1378,282,1510,308"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1367,516,1521,543"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1827,586,1985,612"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1608,408,1740,435"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1619,104,1729,131"/>
<area shape="rect" id="node13" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1866,282,1946,308"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1853,7,1959,34"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1853,64,1959,91"/>
<area shape="rect" id="node17" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1841,127,1971,154"/>
<area shape="rect" id="node18" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1837,203,1975,230"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1607,510,1741,536"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1580,307,1768,334"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1598,560,1750,587"/>
<area shape="rect" id="node24" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1591,611,1757,638"/>
<area shape="rect" id="node27" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1569,712,1779,739"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1585,763,1763,790"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1835,636,1977,663"/>
<area shape="rect" id="node35" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2823,806,2965,848"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2033,560,2169,587"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2217,560,2335,587"/>
<area shape="rect" id="node47" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2221,510,2331,536"/>
<area shape="rect" id="node32" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2405,459,2535,486"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2397,662,2543,688"/>
<area shape="rect" id="node34" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2605,763,2775,790"/>
<area shape="rect" id="node38" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2383,763,2557,790"/>
<area shape="rect" id="node39" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2615,379,2765,406"/>
<area shape="rect" id="node40" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="2387,560,2553,587"/>
<area shape="rect" id="node41" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2657,535,2723,562"/>
<area shape="rect" id="node42" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="2395,225,2545,266"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2613,284,2767,325"/>
<area shape="rect" id="node44" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="2401,342,2539,384"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="2405,611,2535,638"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="2401,174,2539,200"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="3013,814,3132,840"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3180,814,3323,840"/>
</map>
</div>

</div>
</div>
<a id="aec0a51814b138f105a74a0684c747e0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec0a51814b138f105a74a0684c747e0e">&#9670;&nbsp;</a></span>invalidate_aliases()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void invalidate_aliases </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aec0a51814b138f105a74a0684c747e0e_cgraph.png" border="0" usemap="#caps_8c_aec0a51814b138f105a74a0684c747e0e_cgraph" alt=""/></div>
<map name="caps_8c_aec0a51814b138f105a74a0684c747e0e_cgraph" id="caps_8c_aec0a51814b138f105a74a0684c747e0e_cgraph">
<area shape="rect" id="node2" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="179,245,295,272"/>
<area shape="rect" id="node23" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="387,144,433,171"/>
<area shape="rect" id="node28" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="191,195,282,221"/>
<area shape="rect" id="node31" href="dcache_8c.html#a8c5ae07e1b9b65f7eeb4cbb2bf88eea1" title="d_invalidate" alt="" coords="191,549,282,576"/>
<area shape="rect" id="node3" href="dcache_8c.html#a6a36af9be383e7cbabb89162ff8af440" title="lock_parent" alt="" coords="729,245,818,272"/>
<area shape="rect" id="node5" href="dcache_8c.html#a051b3970369269b3c6fcc1a19be37bed" title="__dentry_kill" alt="" coords="726,600,821,627"/>
<area shape="rect" id="node10" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="1076,296,1215,323"/>
<area shape="rect" id="node4" href="dcache_8c.html#aa89b23ccc5b34160480a5b0541255a2e" title="__lock_parent" alt="" coords="908,271,1011,297"/>
<area shape="rect" id="node6" href="dcache_8c.html#aa69465ec94d92f14786fdce2f5bfb175" title="d_lru_del" alt="" coords="922,656,997,683"/>
<area shape="rect" id="node7" href="dcache_8c.html#ae4904480d16c7850ae6994e92d110f96" title="__d_drop" alt="" coords="922,499,997,525"/>
<area shape="rect" id="node11" href="dcache_8c.html#ae2050a139fbd1eb7bfc238686e1b2e0b" title="dentry_unlist" alt="" coords="911,604,1007,631"/>
<area shape="rect" id="node12" href="dcache_8c.html#acad4e66a4f8cc5a5bce5cb90bc5d6279" title="dentry_unlink_inode" alt="" coords="891,553,1028,580"/>
<area shape="rect" id="node17" href="dcache_8c.html#ad8b0a5de190038ed843fa392d181c8a5" title="dentry_free" alt="" coords="916,711,1003,737"/>
<area shape="rect" id="node8" href="dcache_8c.html#afe7718ea6372af4edd41d375be2b7755" title="___d_drop" alt="" coords="1104,499,1187,525"/>
<area shape="rect" id="node9" href="dcache_8c.html#ad0da24b939325fb96de67394f99b2766" title="d_hash" alt="" coords="1313,499,1377,525"/>
<area shape="rect" id="node13" href="dcache_8c.html#a0858bd86148196ec3ef3606f8f0de24f" title="__d_clear_type_and\l_inode" alt="" coords="1076,550,1215,591"/>
<area shape="rect" id="node14" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1124,448,1167,475"/>
<area shape="rect" id="node15" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1307,448,1382,475"/>
<area shape="rect" id="node16" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1275,397,1414,424"/>
<area shape="rect" id="node18" href="dcache_8c.html#a230d6245e3962408f039e2e33a251d98" title="dname_external" alt="" coords="1088,640,1203,667"/>
<area shape="rect" id="node19" href="dcache_8c.html#a1cda4f5743f52a426fe40cc5cf933675" title="external_name" alt="" coords="1291,691,1398,717"/>
<area shape="rect" id="node20" href="dcache_8c.html#a9017dd31269b4b6d79821de35551ae41" title="__d_free_external" alt="" coords="1083,741,1208,768"/>
<area shape="rect" id="node22" href="dcache_8c.html#a7d181ee17b4a49e02eac0f247fd484a9" title="__d_free" alt="" coords="1109,792,1181,819"/>
<area shape="rect" id="node21" href="dcache_8c.html#a711826e19d5ad53c7b0bbe26a878cfff" title="__d_free_external_name" alt="" coords="1263,741,1427,768"/>
<area shape="rect" id="node24" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="553,93,629,120"/>
<area shape="rect" id="node25" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="725,144,822,171"/>
<area shape="rect" id="node27" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="550,296,631,323"/>
<area shape="rect" id="node26" href="dcache_8c.html#a3b177069d047c319ff2309aa5be9342e" title="d_lru_add" alt="" coords="920,144,999,171"/>
<area shape="rect" id="node29" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="357,321,463,348"/>
<area shape="rect" id="node30" href="dcache_8c.html#ab9c0fece5c680f2c592413b6d3239ae9" title="__dget_dlock" alt="" coords="541,347,640,373"/>
<area shape="rect" id="node32" href="dcache_8c.html#a7b50883648fd69c385b8bac64314ce0c" title="d_drop" alt="" coords="743,448,804,475"/>
<area shape="rect" id="node33" href="dcache_8c.html#ab1f5df0a669df3b2e700c6f79db0f4b9" title="d_walk" alt="" coords="379,600,441,627"/>
<area shape="rect" id="node34" href="dcache_8c.html#af8ec3f379821c1ac8cdca10bec42a08a" title="detach_and_collect" alt="" coords="343,499,477,525"/>
<area shape="rect" id="node37" href="dcache_8c.html#a7c4ed9b5406279dfdf3363454aa217cd" title="check_and_drop" alt="" coords="351,651,469,677"/>
<area shape="rect" id="node38" href="dcache_8c.html#adb55902ac86827c11aada2fa2490bd92" title="shrink_dentry_list" alt="" coords="348,701,472,728"/>
<area shape="rect" id="node41" href="mount_8h.html#a9bba113aea69113c7784048b8a038beb" title="detach_mounts" alt="" coords="355,879,465,905"/>
<area shape="rect" id="node35" href="dcache_8c.html#a7043ab7e8420be1ae9f3fb80145671f9" title="select_collect" alt="" coords="539,651,642,677"/>
<area shape="rect" id="node36" href="dcache_8c.html#aec2f4f54045b1e6a267e8d09609977b3" title="d_shrink_add" alt="" coords="724,651,823,677"/>
<area shape="rect" id="node39" href="dcache_8c.html#af876b9ae70d2398d7a84840d70bf0086" title="shrink_lock_dentry" alt="" coords="525,701,656,728"/>
<area shape="rect" id="node40" href="dcache_8c.html#a50982cf36c4f60e393e00318dc2d610d" title="d_shrink_del" alt="" coords="543,752,638,779"/>
<area shape="rect" id="node42" href="mount_8h.html#ae97875a71a5909a16e327ae5d154e233" title="__detach_mounts" alt="" coords="528,1005,653,1032"/>
<area shape="rect" id="node43" href="namespace_8c.html#aab5bf9032eb83c969ad1cd7ed0152238" title="namespace_lock" alt="" coords="713,1107,833,1133"/>
<area shape="rect" id="node44" href="mount_8h.html#aedeea0d83fb0b516316ee780e46b431d" title="lock_mount_hash" alt="" coords="711,1157,835,1184"/>
<area shape="rect" id="node45" href="namespace_8c.html#aed4fb765e6c93da1b4817c73a2ed3353" title="lookup_mountpoint" alt="" coords="708,1208,839,1235"/>
<area shape="rect" id="node46" href="namespace_8c.html#ab0d61daa2812714421667e48ae51eeae" title="umount_mnt" alt="" coords="912,879,1007,905"/>
<area shape="rect" id="node47" href="namespace_8c.html#ac5b755a2d0dec9a78ce9a92b97a570b9" title="umount_tree" alt="" coords="726,904,821,931"/>
<area shape="rect" id="node48" href="namespace_8c.html#a1e4afd23428633502ff5d08a01b6f886" title="put_mountpoint" alt="" coords="718,955,829,981"/>
<area shape="rect" id="node49" href="mount_8h.html#af8eba35a3481d8303f32785975710764" title="unlock_mount_hash" alt="" coords="704,1005,843,1032"/>
<area shape="rect" id="node50" href="namespace_8c.html#adeb4483a72163da408ddde89b6ad9f37" title="namespace_unlock" alt="" coords="706,1056,841,1083"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aec0a51814b138f105a74a0684c747e0e_icgraph.png" border="0" usemap="#caps_8c_aec0a51814b138f105a74a0684c747e0e_icgraph" alt=""/></div>
<map name="caps_8c_aec0a51814b138f105a74a0684c747e0e_icgraph" id="caps_8c_aec0a51814b138f105a74a0684c747e0e_icgraph">
<area shape="rect" id="node2" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="179,335,303,361"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="351,360,481,387"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="529,309,720,336"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1531,715,1602,741"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="768,441,841,468"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1104,521,1211,548"/>
<area shape="rect" id="node49" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="889,405,1024,446"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1072,471,1243,497"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1291,463,1441,505"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1319,529,1413,556"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1725,664,1868,691"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="1973,309,2084,336"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1495,619,1638,645"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1507,360,1626,387"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1501,259,1633,285"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1489,517,1644,544"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1949,664,2108,691"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1731,512,1863,539"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1741,157,1852,184"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1989,436,2069,463"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="1975,180,2082,207"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1975,256,2082,283"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1963,60,2094,87"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1959,117,2098,144"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1729,461,1864,488"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1703,5,1891,32"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1721,563,1873,589"/>
<area shape="rect" id="node25" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1713,613,1880,640"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1692,715,1901,741"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1708,765,1885,792"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="1957,765,2100,792"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2945,1002,3088,1043"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2156,841,2292,868"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2340,841,2457,868"/>
<area shape="rect" id="node48" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2343,892,2454,919"/>
<area shape="rect" id="node33" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2527,1111,2658,1137"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2520,740,2665,767"/>
<area shape="rect" id="node35" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2728,740,2897,767"/>
<area shape="rect" id="node39" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2505,689,2680,716"/>
<area shape="rect" id="node40" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2737,972,2888,999"/>
<area shape="rect" id="node41" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="2509,841,2676,868"/>
<area shape="rect" id="node42" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2779,867,2846,893"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="2518,1213,2667,1254"/>
<area shape="rect" id="node44" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2735,1154,2890,1195"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="2524,994,2661,1035"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="2527,1060,2658,1087"/>
<area shape="rect" id="node47" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="2523,639,2662,665"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="3136,1009,3255,1036"/>
<area shape="rect" id="node38" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3303,1009,3445,1036"/>
</map>
</div>

</div>
</div>
<a id="a00570c82c24035ec21e95a29febad86e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00570c82c24035ec21e95a29febad86e">&#9670;&nbsp;</a></span>kick_flushing_inode_caps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kick_flushing_inode_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__client.html">ceph_mds_client</a> *&#160;</td>
          <td class="paramname"><em>mdsc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structceph__mds__session.html">ceph_mds_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; i_ceph_lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a00570c82c24035ec21e95a29febad86e_cgraph.png" border="0" usemap="#caps_8c_a00570c82c24035ec21e95a29febad86e_cgraph" alt=""/></div>
<map name="caps_8c_a00570c82c24035ec21e95a29febad86e_cgraph" id="caps_8c_a00570c82c24035ec21e95a29febad86e_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1341,144,1429,171"/>
<area shape="rect" id="node3" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1705,296,1823,323"/>
<area shape="rect" id="node5" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="224,93,376,120"/>
<area shape="rect" id="node6" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="227,220,373,247"/>
<area shape="rect" id="node4" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1871,296,1960,323"/>
<area shape="rect" id="node7" href="base_8c.html#ab646a44ba0b9aec836ff873cd08a32d9" title="first_tid" alt="" coords="465,245,531,272"/>
<area shape="rect" id="node8" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="891,296,983,323"/>
<area shape="rect" id="node15" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1317,549,1452,576"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="424,996,572,1023"/>
<area shape="rect" id="node49" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="869,144,1004,171"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#aaf6d2f599129a6894897b781703bad49" title="ceph_put_cap_snap" alt="" coords="429,144,567,171"/>
<area shape="rect" id="node9" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="1097,397,1235,424"/>
<area shape="rect" id="node10" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="1125,144,1207,171"/>
<area shape="rect" id="node11" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="1081,296,1251,323"/>
<area shape="rect" id="node13" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="1111,220,1221,247"/>
<area shape="rect" id="node12" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="1300,296,1469,323"/>
<area shape="rect" id="node14" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="1315,195,1454,221"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="620,1072,792,1099"/>
<area shape="rect" id="node18" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="639,1123,773,1149"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="847,1173,1027,1200"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="651,1224,761,1251"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="639,819,773,845"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="629,869,783,896"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="639,920,773,947"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="631,971,781,997"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="624,1021,788,1048"/>
<area shape="rect" id="node20" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1534,1013,1642,1040"/>
<area shape="rect" id="node25" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1337,1123,1432,1149"/>
<area shape="rect" id="node26" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="840,1072,1033,1099"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="879,811,994,837"/>
<area shape="rect" id="node46" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="857,920,1016,947"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="1120,1072,1212,1099"/>
<area shape="rect" id="node29" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="1093,473,1239,500"/>
<area shape="rect" id="node36" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="1116,777,1216,804"/>
<area shape="rect" id="node45" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="1081,971,1251,997"/>
<area shape="rect" id="node30" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="1359,397,1410,424"/>
<area shape="rect" id="node33" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1363,448,1406,475"/>
<area shape="rect" id="node35" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1537,955,1639,981"/>
<area shape="rect" id="node31" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="1559,397,1617,424"/>
<area shape="rect" id="node32" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1519,448,1657,475"/>
<area shape="rect" id="node34" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1551,499,1625,525"/>
<area shape="rect" id="node37" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1299,904,1471,931"/>
<area shape="rect" id="node38" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff" title="__ceph_caps_issued\l_other" alt="" coords="1313,1006,1457,1047"/>
<area shape="rect" id="node39" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1313,955,1456,981"/>
<area shape="rect" id="node40" href="dcache_8c.html#a12f52b8fa0d189193e7462423ca292ac" title="d_find_any_alias" alt="" coords="1325,600,1444,627"/>
<area shape="rect" id="node41" href="mds__client_8c.html#afbadfdaefad86c7e0d8514fe798efeba" title="drop_negative_children" alt="" coords="1307,651,1462,677"/>
<area shape="rect" id="node42" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1357,701,1412,728"/>
<area shape="rect" id="node43" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1565,777,1611,804"/>
<area shape="rect" id="node44" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="1327,803,1443,829"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a00570c82c24035ec21e95a29febad86e_icgraph.png" border="0" usemap="#caps_8c_a00570c82c24035ec21e95a29febad86e_icgraph" alt=""/></div>
<map name="caps_8c_a00570c82c24035ec21e95a29febad86e_icgraph" id="caps_8c_a00570c82c24035ec21e95a29febad86e_icgraph">
<area shape="rect" id="node2" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="224,335,348,361"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="396,360,527,387"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="575,309,765,336"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="1577,715,1647,741"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="813,441,887,468"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="1149,521,1256,548"/>
<area shape="rect" id="node49" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="935,405,1069,446"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1117,471,1288,497"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1336,463,1487,505"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="1364,529,1459,556"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1771,664,1913,691"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2019,309,2129,336"/>
<area shape="rect" id="node11" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1541,619,1683,645"/>
<area shape="rect" id="node12" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1553,360,1671,387"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1546,259,1678,285"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1535,517,1689,544"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1995,664,2153,691"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1776,512,1908,539"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1787,157,1897,184"/>
<area shape="rect" id="node14" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="2034,436,2114,463"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2021,180,2127,207"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2021,256,2127,283"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2009,60,2139,87"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2005,117,2143,144"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1775,461,1909,488"/>
<area shape="rect" id="node22" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1748,5,1936,32"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1766,563,1918,589"/>
<area shape="rect" id="node25" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1759,613,1925,640"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="1737,715,1947,741"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="1753,765,1931,792"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2003,765,2145,792"/>
<area shape="rect" id="node36" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2991,1002,3133,1043"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2201,841,2337,868"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6" title="dlm_lockres_get" alt="" coords="2385,841,2503,868"/>
<area shape="rect" id="node48" href="dlmthread_8c.html#a3b1643a2c5e1584a10ff648a57514737" title="dlm_flush_asts" alt="" coords="2389,892,2499,919"/>
<area shape="rect" id="node33" href="dlmdebug_8h.html#a8aa5c4209c1406291683f25eb00dbab5" title="dlm_print_one_mle" alt="" coords="2573,1111,2703,1137"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#a3ea1a44f420aebc54d145a56bbf64744" title="__dlm_insert_lockres" alt="" coords="2565,740,2711,767"/>
<area shape="rect" id="node35" href="dlmrecovery_8c.html#ace80937921f6805fb2ae2cb3df36ac9b" title="dlm_mig_lockres_handler" alt="" coords="2773,740,2943,767"/>
<area shape="rect" id="node39" href="dlmdomain_8c.html#ad334d8510ef9071075b1f1c3a516be90" title="__dlm_lookup_lockres_full" alt="" coords="2551,689,2725,716"/>
<area shape="rect" id="node40" href="dlmdomain_8c.html#a0f8d87aaca4d3c4ba803a96cca2b636b" title="dlm_migrate_all_locks" alt="" coords="2783,972,2933,999"/>
<area shape="rect" id="node41" href="dlmlock_8c.html#ac2a426185562b36aae11782380f7a25e" title="dlm_lock_attach_lockres" alt="" coords="2555,841,2721,868"/>
<area shape="rect" id="node42" href="dlmlock_8c.html#a13e5233f1ea70df1eed77a148b79a937" title="dlmlock" alt="" coords="2825,867,2891,893"/>
<area shape="rect" id="node43" href="dlmrecovery_8c.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e" title="dlm_move_lockres_to\l_recovery_list" alt="" coords="2563,1213,2713,1254"/>
<area shape="rect" id="node44" href="dlmrecovery_8c.html#abef946308da27e923471ce809ab61809" title="dlm_do_local_recovery\l_cleanup" alt="" coords="2781,1154,2935,1195"/>
<area shape="rect" id="node45" href="dlmthread_8c.html#a461756eecfce141abffa1d9ad40ab629" title="__dlm_lockres_calc\l_usage" alt="" coords="2569,994,2707,1035"/>
<area shape="rect" id="node46" href="dlmthread_8c.html#a524c91f473b65a058ded3b392fca60be" title="dlm_run_purge_list" alt="" coords="2573,1060,2703,1087"/>
<area shape="rect" id="node47" href="dlmthread_8c.html#a460f04cf1a0a46ff870ab5eace8182e3" title="__dlm_dirty_lockres" alt="" coords="2569,639,2707,665"/>
<area shape="rect" id="node37" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="3181,1009,3300,1036"/>
<area shape="rect" id="node38" href="dlmdomain_8c.html#ae919e83248a462e98afc7b41066b992f" title="dlm_register_domain" alt="" coords="3348,1009,3491,1036"/>
</map>
</div>

</div>
</div>
<a id="ab872835e860bc99116998e95a5677b4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab872835e860bc99116998e95a5677b4e">&#9670;&nbsp;</a></span>send_cap_msg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int send_cap_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcap__msg__args.html">cap_msg_args</a> *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ab872835e860bc99116998e95a5677b4e_cgraph.png" border="0" usemap="#caps_8c_ab872835e860bc99116998e95a5677b4e_cgraph" alt=""/></div>
<map name="caps_8c_ab872835e860bc99116998e95a5677b4e_cgraph" id="caps_8c_ab872835e860bc99116998e95a5677b4e_cgraph">
<area shape="rect" id="node2" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="164,5,303,32"/>
<area shape="rect" id="node3" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="175,56,292,83"/>
<area shape="rect" id="node4" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="351,56,440,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_ab872835e860bc99116998e95a5677b4e_icgraph.png" border="0" usemap="#caps_8c_ab872835e860bc99116998e95a5677b4e_icgraph" alt=""/></div>
<map name="caps_8c_ab872835e860bc99116998e95a5677b4e_icgraph" id="caps_8c_ab872835e860bc99116998e95a5677b4e_icgraph">
<area shape="rect" id="node2" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="185,1319,277,1346"/>
<area shape="rect" id="node49" href="caps_8c.html#a961185677a43a7b232f84483351b4c91" title="__send_flush_snap" alt="" coords="164,1268,299,1295"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="562,990,689,1016"/>
<area shape="rect" id="node41" href="caps_8c.html#a3e2f0750ed714d1492735832b74a9044" title="try_flush_caps" alt="" coords="1702,1547,1809,1574"/>
<area shape="rect" id="node44" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="347,1319,493,1346"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1692,939,1819,966"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="2105,1192,2296,1219"/>
<area shape="rect" id="node7" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="2360,1598,2484,1624"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2548,280,2659,307"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="2147,584,2254,611"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1713,1091,1798,1118"/>
<area shape="rect" id="node16" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1896,331,2031,358"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="2344,331,2500,358"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1480,78,1600,104"/>
<area shape="rect" id="node20" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="1020,534,1167,560"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1689,584,1821,611"/>
<area shape="rect" id="node27" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="757,686,967,712"/>
<area shape="rect" id="node30" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="801,1344,923,1371"/>
<area shape="rect" id="node32" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="805,1243,919,1270"/>
<area shape="rect" id="node33" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1245,888,1365,915"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="769,306,955,332"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="1451,1294,1629,1320"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="1229,1154,1381,1180"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="1696,1040,1815,1067"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1908,736,2019,763"/>
<area shape="rect" id="node6" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="2385,1192,2459,1219"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2550,483,2657,510"/>
<area shape="rect" id="node12" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="2135,534,2266,560"/>
<area shape="rect" id="node13" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="2131,483,2270,510"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1898,1091,2029,1118"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="2121,331,2280,358"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="1244,584,1367,611"/>
<area shape="rect" id="node22" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1465,577,1615,618"/>
<area shape="rect" id="node23" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1696,686,1815,712"/>
<area shape="rect" id="node25" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1923,686,2003,712"/>
<area shape="rect" id="node26" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1869,635,2057,662"/>
<area shape="rect" id="node28" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="1015,584,1172,611"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="1039,736,1147,763"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="1265,1344,1346,1371"/>
<area shape="rect" id="node35" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="1023,280,1163,307"/>
<area shape="rect" id="node36" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="1025,179,1162,206"/>
<area shape="rect" id="node37" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="1032,230,1155,256"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="1919,1496,2008,1523"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="1902,1547,2025,1574"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#aff673efc250bb6a90c368456bef28623" title="ceph_flush_snaps" alt="" coords="562,787,689,814"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#ac34d2058d3a01568930600ac796893d2" title="ceph_early_kick_flushing_caps" alt="" coords="1439,1395,1641,1422"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a8a4deabf017814e4cc027b9b2534addb" title="ceph_kick_flushing_caps" alt="" coords="541,1446,709,1472"/>
<area shape="rect" id="node48" href="caps_8c.html#a00570c82c24035ec21e95a29febad86e" title="kick_flushing_inode_caps" alt="" coords="1220,1648,1391,1675"/>
<area shape="rect" id="node50" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="349,990,491,1016"/>
</map>
</div>

</div>
</div>
<a id="a3e2f0750ed714d1492735832b74a9044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2f0750ed714d1492735832b74a9044">&#9670;&nbsp;</a></span>try_flush_caps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int try_flush_caps </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>ptid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a3e2f0750ed714d1492735832b74a9044_cgraph.png" border="0" usemap="#caps_8c_a3e2f0750ed714d1492735832b74a9044_cgraph" alt=""/></div>
<map name="caps_8c_a3e2f0750ed714d1492735832b74a9044_cgraph" id="caps_8c_a3e2f0750ed714d1492735832b74a9044_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a5cfd03d4fd1754c43ab0a99fb09c479c" title="ceph_sb_to_client" alt="" coords="1263,143,1390,169"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1077,193,1165,220"/>
<area shape="rect" id="node4" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1053,969,1188,996"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#ae8a96c131324e7c4e1dbaa37143ed8ca" title="__ceph_caps_wanted" alt="" coords="160,447,308,473"/>
<area shape="rect" id="node41" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="826,92,978,119"/>
<area shape="rect" id="node43" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="627,1096,719,1123"/>
<area shape="rect" id="node50" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="160,1125,308,1152"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="356,447,528,473"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="375,548,509,575"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="583,880,763,907"/>
<area shape="rect" id="node12" href="ceph_2super_8h.html#a00f4b8bf5f373d9da87366991864e8ee" title="ceph_caps_init" alt="" coords="387,599,497,625"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#accedc6bcd1f101ba36dac6b75bab925a" title="ceph_caps_finalize" alt="" coords="375,244,509,271"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a9f4c120b3687dc1d6292006a41a2cfdc" title="ceph_adjust_min_caps" alt="" coords="365,295,519,321"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a46539bd751416a6b35d9d3501d07f719" title="ceph_reserve_caps" alt="" coords="375,497,509,524"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="367,345,517,372"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a8ae6952367177c3515b5ee50ed54a005" title="ceph_reservation_status" alt="" coords="360,396,524,423"/>
<area shape="rect" id="node9" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1273,965,1381,992"/>
<area shape="rect" id="node10" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1447,965,1564,992"/>
<area shape="rect" id="node11" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1612,965,1701,992"/>
<area shape="rect" id="node16" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1073,396,1168,423"/>
<area shape="rect" id="node17" href="mds__client_8c.html#ac46ba8a1334094291c7409f9e64c20d4" title="__ceph_lookup_mds_session" alt="" coords="576,281,769,308"/>
<area shape="rect" id="node19" href="mds__client_8c.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="615,485,730,512"/>
<area shape="rect" id="node38" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="593,371,752,397"/>
<area shape="rect" id="node18" href="mds__client_8c.html#a7453141872aa23f00bf1647584541d12" title="get_session" alt="" coords="856,244,948,271"/>
<area shape="rect" id="node20" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="829,345,975,372"/>
<area shape="rect" id="node27" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="852,675,952,701"/>
<area shape="rect" id="node37" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="817,472,987,499"/>
<area shape="rect" id="node21" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="1095,295,1146,321"/>
<area shape="rect" id="node24" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1099,244,1142,271"/>
<area shape="rect" id="node26" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="1275,447,1378,473"/>
<area shape="rect" id="node22" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="1298,320,1355,347"/>
<area shape="rect" id="node23" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1257,269,1396,296"/>
<area shape="rect" id="node25" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1289,219,1364,245"/>
<area shape="rect" id="node28" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="1035,497,1207,524"/>
<area shape="rect" id="node29" href="caps_8c.html#a31adc6bf9cfe343a24fe87de99e0a3ff" title="__ceph_caps_issued\l_other" alt="" coords="1049,903,1193,945"/>
<area shape="rect" id="node30" href="caps_8c.html#af8a74fb531b951f4f09aeebb8c06cdd6" title="__ceph_remove_cap" alt="" coords="1049,548,1192,575"/>
<area shape="rect" id="node32" href="dcache_8c.html#a12f52b8fa0d189193e7462423ca292ac" title="d_find_any_alias" alt="" coords="1061,700,1180,727"/>
<area shape="rect" id="node33" href="mds__client_8c.html#afbadfdaefad86c7e0d8514fe798efeba" title="drop_negative_children" alt="" coords="1043,751,1198,777"/>
<area shape="rect" id="node34" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1093,801,1148,828"/>
<area shape="rect" id="node35" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="1303,624,1350,651"/>
<area shape="rect" id="node36" href="dcache_8c.html#ac65ece22a0fe3997749e323e5013c803" title="d_prune_aliases" alt="" coords="1063,649,1179,676"/>
<area shape="rect" id="node31" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="1255,548,1399,575"/>
<area shape="rect" id="node42" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="1045,41,1197,68"/>
<area shape="rect" id="node44" href="caps_8c.html#a2d48a717560cedd294fb9a1caaa18197" title="__cap_set_timeouts" alt="" coords="833,1223,971,1249"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="861,295,943,321"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a91c2951a04291baedc3d8a1dd70ff00a" title="__ceph_build_xattrs_blob" alt="" coords="817,1172,987,1199"/>
<area shape="rect" id="node48" href="caps_8c.html#ab872835e860bc99116998e95a5677b4e" title="send_cap_msg" alt="" coords="847,1121,957,1148"/>
<area shape="rect" id="node47" href="ceph_2xattr_8c.html#a5cf2cd5b635ad34ae0d4fec583fb9f81" title="__get_required_blob_size" alt="" coords="1036,1223,1205,1249"/>
<area shape="rect" id="node49" href="strings_8c.html#ab8bd6873b2e6f8d8e07fb8484c969d59" title="ceph_cap_op_name" alt="" coords="1051,1172,1190,1199"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a3e2f0750ed714d1492735832b74a9044_icgraph.png" border="0" usemap="#caps_8c_a3e2f0750ed714d1492735832b74a9044_icgraph" alt=""/></div>
<map name="caps_8c_a3e2f0750ed714d1492735832b74a9044_icgraph" id="caps_8c_a3e2f0750ed714d1492735832b74a9044_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="177,664,266,691"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a819aecf518d6cdaa6e9afcad9f44253f" title="ceph_write_inode" alt="" coords="160,613,283,640"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="331,613,521,640"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="569,335,643,361"/>
<area shape="rect" id="node49" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="696,5,820,32"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="905,360,1012,387"/>
<area shape="rect" id="node47" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="691,298,825,339"/>
<area shape="rect" id="node48" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="873,276,1044,303"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1092,353,1243,394"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2174,233,2269,260"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1516,1019,1659,1045"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2166,791,2277,817"/>
<area shape="rect" id="node12" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1297,309,1439,336"/>
<area shape="rect" id="node13" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1309,563,1427,589"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1302,715,1434,741"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1291,157,1445,184"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1733,1019,1892,1045"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1944,867,2100,893"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2168,917,2275,944"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1521,613,1653,640"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1532,816,1643,843"/>
<area shape="rect" id="node15" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1773,664,1853,691"/>
<area shape="rect" id="node16" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1963,715,2081,741"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1759,765,1866,792"/>
<area shape="rect" id="node19" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1747,917,1878,944"/>
<area shape="rect" id="node20" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1743,968,1882,995"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1520,968,1655,995"/>
<area shape="rect" id="node23" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1493,563,1681,589"/>
<area shape="rect" id="node24" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1731,461,1895,488"/>
<area shape="rect" id="node37" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1731,563,1895,589"/>
<area shape="rect" id="node25" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1951,512,2093,539"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1955,360,2089,387"/>
<area shape="rect" id="node35" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1957,411,2087,437"/>
<area shape="rect" id="node36" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1947,461,2097,488"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2343,132,2413,159"/>
<area shape="rect" id="node29" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2461,107,2671,133"/>
<area shape="rect" id="node30" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2477,157,2655,184"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2719,128,2861,155"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2719,179,2861,221"/>
<area shape="rect" id="node32" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2909,128,3045,155"/>
<area shape="rect" id="node34" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2918,187,3037,213"/>
<area shape="rect" id="node38" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1954,664,2090,691"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1974,613,2070,640"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1946,107,2098,133"/>
<area shape="rect" id="node44" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1504,157,1671,184"/>
<area shape="rect" id="node42" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2148,157,2295,184"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2153,107,2290,133"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1729,157,1896,184"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1957,56,2087,83"/>
</map>
</div>

</div>
</div>
<a id="aaa85072bfd218d07b477a49b86adb0d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa85072bfd218d07b477a49b86adb0d7">&#9670;&nbsp;</a></span>try_get_cap_refs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int try_get_cap_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structceph__inode__info.html">ceph_inode_info</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>need</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>want</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>endoff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>nonblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>got</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aaa85072bfd218d07b477a49b86adb0d7_cgraph.png" border="0" usemap="#caps_8c_aaa85072bfd218d07b477a49b86adb0d7_cgraph" alt=""/></div>
<map name="caps_8c_aaa85072bfd218d07b477a49b86adb0d7_cgraph" id="caps_8c_aaa85072bfd218d07b477a49b86adb0d7_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a5be186be86525c0059b447415c8f9667" title="ceph_inode_to_client" alt="" coords="1091,875,1235,901"/>
<area shape="rect" id="node3" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1325,216,1442,243"/>
<area shape="rect" id="node5" href="caps_8c.html#a257847d3c72f3657e8f7c964223ea362" title="__ceph_caps_file_wanted" alt="" coords="853,976,1025,1003"/>
<area shape="rect" id="node6" href="ceph_2inode_8c.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="400,976,609,1003"/>
<area shape="rect" id="node12" href="caps_8c.html#a14fa9810320f300977cd7b7d04175893" title="__ceph_caps_issued" alt="" coords="867,115,1011,141"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="187,1450,337,1491"/>
<area shape="rect" id="node48" href="ceph_2cache_8h.html#a8fac2802c89799052c8f3fed2ef4cf4d" title="ceph_disable_fscache\l_readpage" alt="" coords="187,1027,337,1069"/>
<area shape="rect" id="node49" href="caps_8c.html#a7b133dd4cf88c7ec0f8ece1d528e6ca7" title="__take_cap_refs" alt="" coords="203,1715,321,1741"/>
<area shape="rect" id="node50" href="caps_8c.html#aa559b6659f3383f2272424bc07176ce9" title="__ceph_caps_mds_wanted" alt="" coords="172,177,352,204"/>
<area shape="rect" id="node4" href="caps_8c.html#aa158fde50093f72901e1c22ecf24fc99" title="gcap_string" alt="" coords="1519,216,1608,243"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1519,1305,1607,1332"/>
<area shape="rect" id="node8" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="666,571,793,597"/>
<area shape="rect" id="node26" href="libfs_8c.html#af7adb3dafae1559e7c0949e8f5cec76c" title="simple_get_link" alt="" coords="673,1077,785,1104"/>
<area shape="rect" id="node28" href="ceph_2inode_8c.html#a22dec927a5b136ef9da82e7a2ff6cbc2" title="ceph_setattr" alt="" coords="682,1027,777,1053"/>
<area shape="rect" id="node29" href="ceph_2inode_8c.html#a3a8c1a81a4350b005cdcb6c3d9720a6a" title="ceph_getattr" alt="" coords="682,976,777,1003"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a22882a5db2396673f1d6329c1f3298f4" title="ceph_listxattr" alt="" coords="679,1128,779,1155"/>
<area shape="rect" id="node9" href="caps_8c.html#a3bceac7de4d0c61179ba53f8c0ac043e" title="__ceph_is_single_caps" alt="" coords="861,419,1018,445"/>
<area shape="rect" id="node10" href="caps_8c.html#a541b8471ba4dd9821ebbb2be062252a5" title="__cap_delay_cancel" alt="" coords="869,469,1009,496"/>
<area shape="rect" id="node11" href="caps_8c.html#a8f57922fd9b23d3ccea0004c3772b67e" title="__ceph_caps_used" alt="" coords="1095,507,1230,533"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a17fc18f7ac76d812b3f8e0cccf641721" title="__ceph_dir_is_complete" alt="" coords="858,520,1021,547"/>
<area shape="rect" id="node15" href="caps_8c.html#a01d7ec2890507f40790cfe0699a49476" title="try_nonblocking_invalidate" alt="" coords="1296,723,1471,749"/>
<area shape="rect" id="node16" href="caps_8c.html#a363ce909719906dbb051956f48f2544d" title="__ceph_should_report_size" alt="" coords="849,925,1029,952"/>
<area shape="rect" id="node17" href="caps_8c.html#af0722049a17a37d1b37e1e1875a28283" title="__kick_flushing_caps" alt="" coords="866,368,1013,395"/>
<area shape="rect" id="node18" href="caps_8c.html#a309eeb79bf13e09946de9d0efdee5fb4" title="__send_cap" alt="" coords="1117,608,1209,635"/>
<area shape="rect" id="node20" href="caps_8c.html#a48ca9cc7df05e63a42fc68d57c130527" title="__ceph_flush_snaps" alt="" coords="869,216,1010,243"/>
<area shape="rect" id="node21" href="caps_8c.html#abdbe61407898cf516422dd4986fb3cec" title="__get_oldest_flush_tid" alt="" coords="1087,267,1239,293"/>
<area shape="rect" id="node22" href="caps_8c.html#aa36f2019c9ab4e108e9ba7a9cb49b1e9" title="__mark_caps_flushing" alt="" coords="863,317,1015,344"/>
<area shape="rect" id="node23" href="caps_8c.html#a234d8e25900d63b468b2487f98052f5c" title="__cap_delay_requeue" alt="" coords="865,773,1013,800"/>
<area shape="rect" id="node24" href="ceph_2inode_8c.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="862,824,1017,851"/>
<area shape="rect" id="node13" href="caps_8c.html#a35c397ce599c93d8d9ac5589d4fa5f1d" title="__cap_is_valid" alt="" coords="1109,64,1217,91"/>
<area shape="rect" id="node19" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="1343,1331,1424,1357"/>
<area shape="rect" id="node25" href="inode_8c.html#a077d9e4c20a3973b2e944b77ae44e658" title="ihold" alt="" coords="1138,1685,1187,1712"/>
<area shape="rect" id="node27" href="libfs_8c.html#a91c91ea39de851f32fce31e8967ceda2" title="EXPORT_SYMBOL" alt="" coords="870,1077,1009,1104"/>
<area shape="rect" id="node32" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="443,1280,566,1307"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#af45286f286a6ed7f795792636af010e9" title="ceph_destroy_inode" alt="" coords="1314,1483,1453,1509"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a24228f5306d6e2a102620adda31c73f6" title="ceph_drop_inode" alt="" coords="445,1432,565,1459"/>
<area shape="rect" id="node35" href="ceph_2super_8h.html#a83866709232aeb323e7709125b5e36f9" title="ceph_get_inode" alt="" coords="448,1483,561,1509"/>
<area shape="rect" id="node36" href="ceph_2super_8h.html#a430ef6c1a467f5dbcb4f94863f4e79f5" title="ceph_get_snapdir" alt="" coords="1101,1280,1225,1307"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#a9f1b9530a7b4898eb3c04bc30092c18b" title="ceph_fill_file_size" alt="" coords="667,1381,792,1408"/>
<area shape="rect" id="node38" href="ceph_2super_8h.html#a0f20fdbdf3dbef013594ec11a45007a7" title="ceph_fill_file_time" alt="" coords="1320,1888,1447,1915"/>
<area shape="rect" id="node39" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="886,1483,993,1509"/>
<area shape="rect" id="node40" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="1077,1533,1248,1560"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a779559d1d0d7351faa1fe9d801c14c74" title="ceph_inode_holds_cap" alt="" coords="427,1736,582,1763"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a8ebada6fe958e0f71cb555c3f5bce413" title="ceph_inode_set_size" alt="" coords="657,1229,801,1256"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="400,1077,609,1104"/>
<area shape="rect" id="node44" href="ceph_2super_8h.html#aa8a69be899366cc0569820948a13a347" title="ceph_queue_vmtruncate" alt="" coords="857,1787,1021,1813"/>
<area shape="rect" id="node45" href="ceph_2super_8h.html#a8bdbe9b65005408169502a1af1c34ade" title="ceph_queue_invalidate" alt="" coords="862,1736,1017,1763"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#a5b0ccce1ce748d9e2a6f8e78fe4536ce" title="ceph_queue_writeback" alt="" coords="862,1685,1017,1712"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#abf9857c564251be9bd7e0e322fc91757" title="__ceph_do_getattr" alt="" coords="875,1635,1004,1661"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_aaa85072bfd218d07b477a49b86adb0d7_icgraph.png" border="0" usemap="#caps_8c_aaa85072bfd218d07b477a49b86adb0d7_icgraph" alt=""/></div>
<map name="caps_8c_aaa85072bfd218d07b477a49b86adb0d7_icgraph" id="caps_8c_aaa85072bfd218d07b477a49b86adb0d7_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="172,353,304,380"/>
<area shape="rect" id="node20" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1553,183,1664,209"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="352,593,543,620"/>
<area shape="rect" id="node16" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1569,132,1649,159"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="591,704,664,731"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="717,981,841,1008"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="927,816,1033,843"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="712,667,847,709"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="895,727,1065,753"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1113,809,1264,850"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2195,892,2290,919"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1537,664,1680,691"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2187,689,2298,716"/>
<area shape="rect" id="node12" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1318,867,1461,893"/>
<area shape="rect" id="node13" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1323,385,1455,412"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1312,968,1467,995"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1755,664,1913,691"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1965,664,2121,691"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2189,107,2296,133"/>
<area shape="rect" id="node14" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1541,537,1676,564"/>
<area shape="rect" id="node15" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1781,208,1887,235"/>
<area shape="rect" id="node18" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1769,259,1899,285"/>
<area shape="rect" id="node19" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1765,309,1903,336"/>
<area shape="rect" id="node21" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1515,436,1703,463"/>
<area shape="rect" id="node17" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1775,5,1893,32"/>
<area shape="rect" id="node22" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1752,563,1916,589"/>
<area shape="rect" id="node35" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1752,411,1916,437"/>
<area shape="rect" id="node23" href="caps_8c.html#a9b434522cf419570a5de5728a11abe87" title="unsafe_request_wait" alt="" coords="1972,512,2115,539"/>
<area shape="rect" id="node24" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1976,765,2111,792"/>
<area shape="rect" id="node33" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1979,613,2108,640"/>
<area shape="rect" id="node34" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1969,563,2118,589"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2364,968,2435,995"/>
<area shape="rect" id="node27" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2483,943,2692,969"/>
<area shape="rect" id="node28" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2499,993,2676,1020"/>
<area shape="rect" id="node29" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2740,964,2883,991"/>
<area shape="rect" id="node31" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2740,1015,2883,1057"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2931,964,3067,991"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2939,1023,3058,1049"/>
<area shape="rect" id="node36" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1975,360,2111,387"/>
<area shape="rect" id="node37" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1995,411,2091,437"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1995,208,2092,235"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1996,259,2091,285"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#a3da7667057519c4fbb3b95a6f20a3094" title="ceph_mknod" alt="" coords="1995,309,2091,336"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1967,1019,2119,1045"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1525,968,1692,995"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2169,1019,2316,1045"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2174,968,2311,995"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1751,968,1917,995"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1978,1069,2109,1096"/>
</map>
</div>

</div>
</div>
<a id="a01d7ec2890507f40790cfe0699a49476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d7ec2890507f40790cfe0699a49476">&#9670;&nbsp;</a></span>try_nonblocking_invalidate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int try_nonblocking_invalidate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a01d7ec2890507f40790cfe0699a49476_cgraph.png" border="0" usemap="#caps_8c_a01d7ec2890507f40790cfe0699a49476_cgraph" alt=""/></div>
<map name="caps_8c_a01d7ec2890507f40790cfe0699a49476_cgraph" id="caps_8c_a01d7ec2890507f40790cfe0699a49476_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="228,5,316,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a01d7ec2890507f40790cfe0699a49476_icgraph.png" border="0" usemap="#caps_8c_a01d7ec2890507f40790cfe0699a49476_icgraph" alt=""/></div>
<map name="caps_8c_a01d7ec2890507f40790cfe0699a49476_icgraph" id="caps_8c_a01d7ec2890507f40790cfe0699a49476_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="228,955,355,981"/>
<area shape="rect" id="node6" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="1916,259,2040,285"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#aec6607bc201e3fc8b74caf23f9ea7bc0" title="ceph_renew_caps" alt="" coords="1248,1005,1375,1032"/>
<area shape="rect" id="node4" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="1661,625,1852,652"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2114,1512,2225,1539"/>
<area shape="rect" id="node12" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1703,1056,1810,1083"/>
<area shape="rect" id="node15" href="ceph_2super_8h.html#a578c11be31bdb5c32c91b2515ef7254a" title="ceph_open" alt="" coords="1269,473,1354,500"/>
<area shape="rect" id="node17" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1452,1411,1587,1437"/>
<area shape="rect" id="node20" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1900,1360,2056,1387"/>
<area shape="rect" id="node21" href="ceph_2file_8c.html#a1d65419faf3378ccb470b7df1ff35ad3" title="ceph_sync_write" alt="" coords="1062,1639,1182,1665"/>
<area shape="rect" id="node22" href="ceph_2inode_8c.html#ae820dd57418e0b7c20baa4f91c0f2a09" title="ceph_invalidate_work" alt="" coords="434,1444,581,1471"/>
<area shape="rect" id="node26" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1245,1208,1377,1235"/>
<area shape="rect" id="node29" href="ceph_2super_8h.html#abaf65f411cc549bcc00d5ac124b2eaa3" title="__ceph_do_pending_vmtruncate" alt="" coords="403,1343,612,1369"/>
<area shape="rect" id="node33" href="ceph_2ioctl_8c.html#a0d6239e94b5e6d3470891c6c07e38316" title="ceph_ioctl_lazyio" alt="" coords="446,701,569,728"/>
<area shape="rect" id="node35" href="addr_8c.html#a6a31f8af064301b75ebb1eae62827a39" title="ceph_write_end" alt="" coords="451,397,564,424"/>
<area shape="rect" id="node36" href="caps_8c.html#aac6239e600c935463a4c7fec060fcc16" title="check_max_size" alt="" coords="1062,1107,1182,1133"/>
<area shape="rect" id="node37" href="ceph_2super_8h.html#ab5769af53a40da684c0bf915920ba71d" title="ceph_put_wrbuffer_cap_refs" alt="" coords="414,904,601,931"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#a7438a50c9c666127a23abbb136741a77" title="ceph_check_delayed_caps" alt="" coords="418,651,597,677"/>
<area shape="rect" id="node43" href="ceph_2super_8h.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="431,144,583,171"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#ae589fb174321ed22eeef2ceffc6e050a" title="ceph_put_fmode" alt="" coords="448,448,567,475"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1464,1005,1575,1032"/>
<area shape="rect" id="node5" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="1941,625,2015,652"/>
<area shape="rect" id="node7" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="2104,328,2235,355"/>
<area shape="rect" id="node8" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2283,328,2353,355"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2116,1208,2223,1235"/>
<area shape="rect" id="node13" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1691,1107,1822,1133"/>
<area shape="rect" id="node14" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1687,1157,1826,1184"/>
<area shape="rect" id="node16" href="ceph_2super_8h.html#a81fbc92a46a9266dda9368909eef7cd1" title="ceph_atomic_open" alt="" coords="1454,448,1585,475"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1677,1411,1836,1437"/>
<area shape="rect" id="node19" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1907,1411,2049,1437"/>
<area shape="rect" id="node23" href="ceph_2super_8h.html#a2f658aeeb3887e20823f510e4187301f" title="ceph_alloc_inode" alt="" coords="874,1444,997,1471"/>
<area shape="rect" id="node24" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1047,1411,1197,1453"/>
<area shape="rect" id="node25" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1252,1157,1371,1184"/>
<area shape="rect" id="node27" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1479,1259,1559,1285"/>
<area shape="rect" id="node28" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1425,1309,1613,1336"/>
<area shape="rect" id="node30" href="ceph_2inode_8c.html#aafbdc5964376807d5ba30ac26cfb5a3d" title="ceph_vmtruncate_work" alt="" coords="663,1444,821,1471"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a77af472b1fbf4bc1f487d16d57daa9ea" title="__ceph_setattr" alt="" coords="688,1343,796,1369"/>
<area shape="rect" id="node32" href="ceph_2acl_8c.html#aca970d3e4749e702fea8af11c927eef6" title="ceph_set_acl" alt="" coords="886,1343,985,1369"/>
<area shape="rect" id="node34" href="ceph_2super_8h.html#a29d7f3c33f6f9eb765995ee00ad9da42" title="ceph_ioctl" alt="" coords="895,701,976,728"/>
<area shape="rect" id="node38" href="addr_8c.html#ae9d79daa0d0b456277e9877ed8ffc33c" title="ceph_invalidatepage" alt="" coords="672,853,812,880"/>
<area shape="rect" id="node39" href="addr_8c.html#ac0cdc395c0d826ed022632e951588691" title="writepage_nounlock" alt="" coords="673,904,811,931"/>
<area shape="rect" id="node40" href="addr_8c.html#ab71dd102a0f3eb9044e4ab9b01fa6063" title="writepages_finish" alt="" coords="681,955,803,981"/>
<area shape="rect" id="node42" href="mds__client_8c.html#a5f584af691004d9ca3bb703c82c071cc" title="delayed_work" alt="" coords="691,600,793,627"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#a8cda3e3207900b5a737dffad0f073243" title="ceph_sync_fs" alt="" coords="884,68,987,95"/>
<area shape="rect" id="node45" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="660,144,824,171"/>
<area shape="rect" id="node46" href="mds__client_8h.html#a2cdaf6b1bd65bdb7a17c4b7a4a9a3881" title="ceph_mdsc_sync" alt="" coords="680,93,804,120"/>
<area shape="rect" id="node48" href="ceph_2file_8c.html#a1ea7f45cf27ad466c8e8ff8cee7eb1c0" title="ceph_init_file_info" alt="" coords="872,397,999,424"/>
<area shape="rect" id="node49" href="ceph_2file_8c.html#a8565051b9159dbbbf9be51f9e9414e51" title="ceph_init_file" alt="" coords="1073,423,1171,449"/>
<area shape="rect" id="node50" href="ceph_2super_8h.html#a2fa762c0fe95298595baee47b2041e08" title="ceph_release" alt="" coords="693,448,791,475"/>
</map>
</div>

</div>
</div>
<a id="a9b434522cf419570a5de5728a11abe87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b434522cf419570a5de5728a11abe87">&#9670;&nbsp;</a></span>unsafe_request_wait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unsafe_request_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a9b434522cf419570a5de5728a11abe87_cgraph.png" border="0" usemap="#caps_8c_a9b434522cf419570a5de5728a11abe87_cgraph" alt=""/></div>
<map name="caps_8c_a9b434522cf419570a5de5728a11abe87_cgraph" id="caps_8c_a9b434522cf419570a5de5728a11abe87_cgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#a558320a759879c6fdd1fe840f0dfa37e" title="ceph_inode" alt="" coords="1289,705,1377,732"/>
<area shape="rect" id="node3" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="196,697,360,724"/>
<area shape="rect" id="node21" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="196,976,360,1003"/>
<area shape="rect" id="node4" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="411,469,599,496"/>
<area shape="rect" id="node5" href="mds__client_8c.html#a0e56b733f092ab72fcfa8f61bdcbff0b" title="destroy_reply_info" alt="" coords="671,208,799,235"/>
<area shape="rect" id="node6" href="caps_8c.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="669,259,801,285"/>
<area shape="rect" id="node16" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="930,477,973,504"/>
<area shape="rect" id="node17" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="928,427,975,453"/>
<area shape="rect" id="node18" href="mds__client_8c.html#a4f976db7742ec92c5b4d64d618c2caed" title="put_request_session" alt="" coords="880,980,1023,1007"/>
<area shape="rect" id="node20" href="caps_8c.html#a70c2dceef782397de5b4d26c5cb8ef08" title="ceph_unreserve_caps" alt="" coords="661,368,810,395"/>
<area shape="rect" id="node7" href="orangefs-bufmap_8c.html#ae7af37ba2ab97a7a598771c9febc5605" title="put" alt="" coords="931,259,971,285"/>
<area shape="rect" id="node8" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="876,361,1027,402"/>
<area shape="rect" id="node10" href="caps_8c.html#a3286643c6716b4bad722b3274dd51eaf" title="ceph_try_drop_cap_snap" alt="" coords="868,56,1035,83"/>
<area shape="rect" id="node11" href="snap_8c.html#ac71b7cc554111d9cfccacf2439937313" title="__ceph_finish_cap_snap" alt="" coords="869,5,1034,32"/>
<area shape="rect" id="node12" href="caps_8c.html#aee4ad867f02c07e329a4e9328fec14a2" title="ceph_cap_string" alt="" coords="1103,208,1221,235"/>
<area shape="rect" id="node13" href="caps_8c.html#a8118ce932726b21b4a6479dde4d24b6f" title="__ceph_is_any_caps" alt="" coords="879,157,1023,184"/>
<area shape="rect" id="node14" href="caps_8c.html#a146c9d08e79a8871a4af9aad8513d7fd" title="drop_inode_snap_realm" alt="" coords="872,208,1031,235"/>
<area shape="rect" id="node15" href="caps_8c.html#a957b777cb29cc87b2701fd646d3c8fad" title="ceph_check_caps" alt="" coords="888,309,1015,336"/>
<area shape="rect" id="node9" href="ceph_2super_8h.html#ab9776e3e695e4d6214fd8061a0ab43cb" title="ceph_vino" alt="" coords="1121,579,1203,605"/>
<area shape="rect" id="node19" href="mds__client_8c.html#ac8b30c6f0d3c66b2a768c251e9e14268" title="ceph_put_mds_session" alt="" coords="1083,1229,1241,1256"/>
<area shape="rect" id="node22" href="mds__client_8h.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="651,875,820,901"/>
<area shape="rect" id="node25" href="mds__client_8h.html#a6c92910b8600ccfefb8063f55e4785a6" title="ceph_mdsc_pre_umount" alt="" coords="423,1027,587,1053"/>
<area shape="rect" id="node29" href="mds__client_8h.html#a0435bf9d87d67b682d73e5bd92f3f41a" title="ceph_mdsc_build_path" alt="" coords="874,781,1029,808"/>
<area shape="rect" id="node32" href="mds__client_8h.html#a05ecbf1d7ee0cdb585e3480b5d9833da" title="__ceph_mdsc_drop_dentry\l_lease" alt="" coords="416,1121,595,1162"/>
<area shape="rect" id="node34" href="mds__client_8h.html#a1d3c4cd04177b319e012186a5a04c39b" title="ceph_mdsc_lease_send_msg" alt="" coords="408,773,603,800"/>
<area shape="rect" id="node36" href="mds__client_8h.html#aafb3b5f8ec2c1db9a721f133b0eafc22" title="ceph_mdsc_handle_mdsmap" alt="" coords="410,1349,601,1376"/>
<area shape="rect" id="node44" href="mds__client_8h.html#abee229f022194ee7d2acd035e0b21f24" title="ceph_mdsc_handle_fsmap" alt="" coords="417,976,594,1003"/>
<area shape="rect" id="node45" href="mds__client_8h.html#a079c415fb97832014699f121021760e6" title="ceph_mdsc_open_export\l_target_session" alt="" coords="422,1443,589,1485"/>
<area shape="rect" id="node46" href="mds__client_8h.html#a6f400bce6e34c2f1d994870cce784825" title="ceph_mdsc_open_export\l_target_sessions" alt="" coords="422,1250,589,1291"/>
<area shape="rect" id="node47" href="mds__client_8h.html#a046537b239b561ee1f8f5c6c187b0190" title="ceph_trim_caps" alt="" coords="448,672,563,699"/>
<area shape="rect" id="node23" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1115,883,1209,909"/>
<area shape="rect" id="node24" href="caps_8c.html#a1371d64310a98228399613df3e3980bb" title="ceph_put_cap" alt="" coords="900,731,1003,757"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a712c4c91d0a31d464c4080556a090ee1" title="lock_unlock_sessions" alt="" coords="660,1077,811,1104"/>
<area shape="rect" id="node27" href="caps_8c.html#aa2bc4dffab60c9ee6f3b9e44b94f0af0" title="ceph_flush_dirty_caps" alt="" coords="659,419,811,445"/>
<area shape="rect" id="node28" href="mds__client_8c.html#a76d3be94ac9fa84095f062062881386e" title="wait_requests" alt="" coords="684,1027,787,1053"/>
<area shape="rect" id="node30" href="ceph_2super_8h.html#a0463a433f603efab7ac10d068bfde5a5" title="ceph_snap" alt="" coords="1119,731,1205,757"/>
<area shape="rect" id="node31" href="ceph_2super_8h.html#a51b0031781f30ee001a1b7307a19ac7f" title="ceph_ino" alt="" coords="1125,781,1199,808"/>
<area shape="rect" id="node33" href="ceph_2super_8h.html#a6ddd70137143052b74727ba4c2a0c35c" title="ceph_dentry" alt="" coords="689,1128,782,1155"/>
<area shape="rect" id="node35" href="strings_8c.html#a3f9976fa3c2051e5bd1259958fbb136f" title="ceph_lease_op_name" alt="" coords="661,773,809,800"/>
<area shape="rect" id="node37" href="mdsmap_8c.html#a4b17597db0e42e01cf3986498fb1d143" title="ceph_mdsmap_decode" alt="" coords="657,1432,813,1459"/>
<area shape="rect" id="node38" href="mdsmap_8c.html#a4185ae10a64e90d979b6f7e855ffb733" title="ceph_mdsmap_destroy" alt="" coords="873,1457,1030,1484"/>
<area shape="rect" id="node39" href="mds__client_8c.html#a4ba32fb092827777f41e6ff07b195eca" title="check_new_map" alt="" coords="675,1280,795,1307"/>
<area shape="rect" id="node40" href="mds__client_8c.html#ad6c214255cffee41f51d230040601d24" title="__wake_requests" alt="" coords="889,1165,1013,1192"/>
<area shape="rect" id="node43" href="mds__client_8c.html#a1bf6dbb12f1e604f72d732845f900a13" title="schedule_delayed" alt="" coords="672,1381,799,1408"/>
<area shape="rect" id="node41" href="mds__client_8c.html#a3de6a54ed45cae705c1aa6ca3b4a51cf" title="__open_export_target\l_sessions" alt="" coords="878,1331,1025,1373"/>
<area shape="rect" id="node42" href="mds__client_8c.html#ad3bea753703365dc7966f81e6a2215cf" title="__open_export_target\l_session" alt="" coords="1089,1425,1235,1466"/>
<area shape="rect" id="node48" href="mds__client_8c.html#a7cf10d86db703fad5e109060d7be6bd3" title="iterate_session_caps" alt="" coords="663,621,808,648"/>
<area shape="rect" id="node49" href="mds__client_8c.html#af88df23c335b89b4ef40140e591ec431" title="trim_caps_cb" alt="" coords="685,520,785,547"/>
<area shape="rect" id="node50" href="mds__client_8c.html#ac9fb160e1775b476bd78942c928ac7b5" title="ceph_send_cap_releases" alt="" coords="651,723,820,749"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="caps_8c_a9b434522cf419570a5de5728a11abe87_icgraph.png" border="0" usemap="#caps_8c_a9b434522cf419570a5de5728a11abe87_icgraph" alt=""/></div>
<map name="caps_8c_a9b434522cf419570a5de5728a11abe87_icgraph" id="caps_8c_a9b434522cf419570a5de5728a11abe87_icgraph">
<area shape="rect" id="node2" href="ceph_2super_8h.html#ad5abe1e50407952feaf4ecbad451a65b" title="ceph_fsync" alt="" coords="196,681,285,707"/>
<area shape="rect" id="node3" href="ceph_2super_8h.html#a10ab1cb33e8d1e3e8bcd63afc90f4071" title="ceph_forget_all_cached_acls" alt="" coords="333,606,524,633"/>
<area shape="rect" id="node4" href="ceph_2inode_8c.html#a749d809b11eaf01cc36c0e42ee5a6b3e" title="fill_inode" alt="" coords="572,606,645,633"/>
<area shape="rect" id="node50" href="caps_8c.html#a51f931cd55da6e3be6088d15ed4623ea" title="handle_cap_grant" alt="" coords="699,722,823,749"/>
<area shape="rect" id="node5" href="ceph_2super_8h.html#a2e92d1e54276132849858250beb26004" title="ceph_fill_trace" alt="" coords="908,547,1015,574"/>
<area shape="rect" id="node48" href="ceph_2inode_8c.html#ae0ba752806ffd0643960ff044d8e8add" title="readdir_prepopulate\l_inodes_only" alt="" coords="693,599,828,640"/>
<area shape="rect" id="node49" href="ceph_2super_8h.html#a10afbf14849b3020d8a824199aca6c03" title="ceph_readdir_prepopulate" alt="" coords="876,635,1047,662"/>
<area shape="rect" id="node6" href="ceph_2super_8h.html#a2d877ed6221c4204fe69a42e7596f2d3" title="__ceph_have_pending\l_cap_snap" alt="" coords="1095,536,1245,577"/>
<area shape="rect" id="node26" href="mds__client_8c.html#a451a6bbf22435804675278baf5585bfd" title="handle_reply" alt="" coords="2177,1014,2271,1041"/>
<area shape="rect" id="node7" href="ceph_2file_8c.html#a1a0bb5be7becec9cff3e6b079b37f6c9" title="ceph_aio_retry_work" alt="" coords="1519,77,1661,103"/>
<area shape="rect" id="node11" href="ceph_2file_8c.html#a94c42f499f5051ae4163de2ead8de322" title="ceph_write_iter" alt="" coords="2169,318,2279,345"/>
<area shape="rect" id="node12" href="addr_8c.html#a8426f068a451b8f5ba5b76f6804abb9f" title="ceph_set_page_dirty" alt="" coords="1299,583,1442,610"/>
<area shape="rect" id="node13" href="caps_8c.html#aaa85072bfd218d07b477a49b86adb0d7" title="try_get_cap_refs" alt="" coords="1311,431,1430,458"/>
<area shape="rect" id="node21" href="ceph_2super_8h.html#a0280a2c437f4b42116fdd5de7b16707f" title="ceph_put_cap_refs" alt="" coords="1305,330,1437,357"/>
<area shape="rect" id="node41" href="ceph_2super_8h.html#aeb6c1f5718c916e5b7eb65eabc4fe5d4" title="ceph_queue_cap_snap" alt="" coords="1293,1039,1448,1066"/>
<area shape="rect" id="node8" href="ceph_2file_8c.html#a47d02131619f551728d4a91a60fff0ae" title="ceph_aio_complete_req" alt="" coords="1736,77,1895,103"/>
<area shape="rect" id="node9" href="ceph_2file_8c.html#a37653a820bbf2b8e23c98ba1deaef31c" title="ceph_direct_read_write" alt="" coords="1947,203,2103,230"/>
<area shape="rect" id="node10" href="ceph_2file_8c.html#ab25c5614757da5077be4710cbb3ec98c" title="ceph_read_iter" alt="" coords="2171,153,2277,179"/>
<area shape="rect" id="node14" href="ceph_2super_8h.html#a2e463cceffd035561247e77ac9058681" title="ceph_try_get_caps" alt="" coords="1524,482,1656,509"/>
<area shape="rect" id="node17" href="ceph_2super_8h.html#abfd47c982944f6921a553278746103eb" title="ceph_get_caps" alt="" coords="1535,229,1645,255"/>
<area shape="rect" id="node15" href="addr_8c.html#a9d57762fcba87987317399973e660b6e" title="start_read" alt="" coords="1775,457,1855,483"/>
<area shape="rect" id="node16" href="addr_8c.html#aece90fd75e75b22610e779f29ddfd33a" title="ceph_readpages" alt="" coords="1966,457,2083,483"/>
<area shape="rect" id="node18" href="ceph_2file_8c.html#a3d7a456cbf9a42c14c7dd1f9f88660b2" title="ceph_fallocate" alt="" coords="1762,279,1869,306"/>
<area shape="rect" id="node19" href="addr_8c.html#aacd8d9959c1d98f530354572a707157b" title="ceph_filemap_fault" alt="" coords="1750,330,1881,357"/>
<area shape="rect" id="node20" href="addr_8c.html#a6c044271600cc580bff68ac3b8bd9510" title="ceph_page_mkwrite" alt="" coords="1746,127,1885,154"/>
<area shape="rect" id="node22" href="ceph_2file_8c.html#a59bf30b603b310b75c4e08c2f60fca70" title="ceph_aio_complete" alt="" coords="1523,127,1657,154"/>
<area shape="rect" id="node23" href="mds__client_8h.html#aaa281eda32f4528f44e1a3aa21b74108" title="ceph_mdsc_release_request" alt="" coords="1496,837,1684,863"/>
<area shape="rect" id="node24" href="mds__client_8h.html#a0acb90b9da78619536106fe846531c68" title="ceph_mdsc_get_request" alt="" coords="1733,735,1897,762"/>
<area shape="rect" id="node36" href="mds__client_8h.html#af4dc0de9d5f330a9348d8a7643acfd4a" title="ceph_mdsc_put_request" alt="" coords="1733,862,1897,889"/>
<area shape="rect" id="node25" href="mds__client_8c.html#a6780d227ccfe04648ead75ebaf7499a1" title="lookup_get_request" alt="" coords="1957,634,2092,661"/>
<area shape="rect" id="node34" href="mds__client_8c.html#a767d7725172b13fcaa4d6f4c1384d369" title="__register_request" alt="" coords="1960,685,2089,711"/>
<area shape="rect" id="node35" href="mds__client_8c.html#ad083ed2bb82b8f93707f9d6867528d0f" title="wait_unsafe_requests" alt="" coords="1950,735,2099,762"/>
<area shape="rect" id="node27" href="mds__client_8c.html#a95f4e94efe1b5a5a4cbea95a2638f495" title="dispatch" alt="" coords="2345,1090,2416,1117"/>
<area shape="rect" id="node28" href="mds__client_8c.html#ab032ec7864ba5924e48e521888386b30" title="mds_check_message_signature" alt="" coords="2464,1065,2673,1091"/>
<area shape="rect" id="node29" href="dlmmaster_8c.html#a340cf70140fb45fa2dd347baced4457e" title="dlm_deref_lockres_handler" alt="" coords="2480,1115,2657,1142"/>
<area shape="rect" id="node30" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e" title="dlm_send_proxy_ast" alt="" coords="2721,1086,2864,1113"/>
<area shape="rect" id="node32" href="dlmdomain_8c.html#a5a1e1b2dfb2beaf2266c20aaa8688155" title="dlm_register_domain\l_handlers" alt="" coords="2721,1137,2864,1179"/>
<area shape="rect" id="node31" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432" title="dlm_do_remote_ast" alt="" coords="2912,1086,3048,1113"/>
<area shape="rect" id="node33" href="dlmdomain_8c.html#affee3bbfcdea87eedd2014d822f30644" title="dlm_join_domain" alt="" coords="2921,1145,3039,1171"/>
<area shape="rect" id="node37" href="ceph_2xattr_8c.html#a39cfe6d76d554d2b75b3270f63ee532b" title="ceph_sync_setxattr" alt="" coords="1957,837,2093,863"/>
<area shape="rect" id="node38" href="ceph_2dir_8c.html#a3cb51a307540663ec2faab7a20d2c67a" title="ceph_readdir" alt="" coords="1977,887,2073,914"/>
<area shape="rect" id="node39" href="ceph_2dir_8c.html#a826a330fc1f5fccde7567e160ccf5483" title="reset_readdir" alt="" coords="1976,938,2073,965"/>
<area shape="rect" id="node40" href="ceph_2dir_8c.html#abfd01783df27fdad82abfb74c01f53fd" title="ceph_lookup" alt="" coords="1977,786,2072,813"/>
<area shape="rect" id="node42" href="ceph_2super_8h.html#a952f93829bf6b3710f300b2098c481e7" title="default_congestion_kb" alt="" coords="1949,1141,2101,1167"/>
<area shape="rect" id="node45" href="snap_8c.html#a881e1f0e5a04350a75c521a320569439" title="queue_realm_cap_snaps" alt="" coords="1507,1090,1673,1117"/>
<area shape="rect" id="node43" href="ceph_2super_8c.html#a9ebde29e4f4e65a54cbef99f7b7bc468" title="parse_mount_options" alt="" coords="2151,1141,2297,1167"/>
<area shape="rect" id="node44" href="ceph_2super_8c.html#ae36bb91fa16db7db371fdec393d3af09" title="ceph_show_options" alt="" coords="2155,1090,2293,1117"/>
<area shape="rect" id="node46" href="ceph_2super_8h.html#adbadf343b12a9c4fa9d4bd0eea1566b1" title="ceph_update_snap_trace" alt="" coords="1732,1090,1899,1117"/>
<area shape="rect" id="node47" href="ceph_2super_8h.html#a2d88899cab3708cdb67a67595749d91a" title="ceph_handle_caps" alt="" coords="1959,1191,2090,1218"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a61f94eb5ed152edf8f09753a050db76b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61f94eb5ed152edf8f09753a050db76b">&#9670;&nbsp;</a></span>cap_str</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char cap_str[<a class="el" href="caps_8c.html#a3f8e99f76715889aa9c4196729a5a4ae">MAX_CAP_STR</a>][40]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a757586f06ca5e1c6442ec98a6f9ea905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a757586f06ca5e1c6442ec98a6f9ea905">&#9670;&nbsp;</a></span>last_cap_str</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int last_cap_str</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_277e9de12ca591d684d25c534e13f5a5.html">ceph</a></li><li class="navelem"><a class="el" href="caps_8c.html">caps.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
