<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/page.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nilfs2_2page_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">page.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/pagemap.h&gt;</code><br />
<code>#include &lt;linux/writeback.h&gt;</code><br />
<code>#include &lt;linux/swap.h&gt;</code><br />
<code>#include &lt;linux/bitops.h&gt;</code><br />
<code>#include &lt;linux/page-flags.h&gt;</code><br />
<code>#include &lt;linux/list.h&gt;</code><br />
<code>#include &lt;linux/highmem.h&gt;</code><br />
<code>#include &lt;linux/pagevec.h&gt;</code><br />
<code>#include &lt;linux/gfp.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nilfs_8h_source.html">nilfs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page_8h_source.html">page.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mdt_8h_source.html">mdt.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for page.c:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c__incl.png" border="0" usemap="#nilfs2_2page_8c" alt=""/></div>
<map name="nilfs2_2page_8c" id="nilfs2_2page_8c">
<area shape="rect" id="node11" href="nilfs_8h.html" title="nilfs.h" alt="" coords="1155,229,1213,256"/>
<area shape="rect" id="node28" href="page_8h.html" title="page.h" alt="" coords="1511,155,1572,181"/>
<area shape="rect" id="node29" href="mdt_8h.html" title="mdt.h" alt="" coords="1329,80,1383,107"/>
<area shape="rect" id="node18" href="the__nilfs_8h.html" title="the_nilfs.h" alt="" coords="819,379,901,405"/>
<area shape="rect" id="node25" href="nilfs2_2bmap_8h.html" title="bmap.h" alt="" coords="1151,304,1217,331"/>
<area shape="rect" id="node26" href="nilfs2_2alloc_8h.html" title="alloc.h" alt="" coords="1285,379,1345,405"/>
<area shape="rect" id="node27" href="dat_8h.html" title="dat.h" alt="" coords="1159,379,1209,405"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a684a5d4b2539d9a9f997d6c15a13d0c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#a684a5d4b2539d9a9f997d6c15a13d0c0">NILFS_BUFFER_INHERENT_BITS</a></td></tr>
<tr class="separator:a684a5d4b2539d9a9f997d6c15a13d0c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a051d0268f3af219ba3e2a9ca79a8843c"><td class="memItemLeft" align="right" valign="top">static struct buffer_head *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c">__nilfs_get_page_block</a> (struct page *page, unsigned long <a class="el" href="sysv_2super_8c.html#a6f5f3480b66f3cc414fd0d6dfcf54046">block</a>, pgoff_t <a class="el" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, int blkbits, unsigned long b_state)</td></tr>
<tr class="separator:a051d0268f3af219ba3e2a9ca79a8843c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a24cc5a684ba71b9e4423f2ea38970"><td class="memItemLeft" align="right" valign="top">struct buffer_head *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970">nilfs_grab_buffer</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct address_space *mapping, unsigned long blkoff, unsigned long b_state)</td></tr>
<tr class="separator:aa4a24cc5a684ba71b9e4423f2ea38970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866283c71b48e2aec59af06e7dd9d0ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#a866283c71b48e2aec59af06e7dd9d0ac">nilfs_forget_buffer</a> (struct buffer_head *bh)</td></tr>
<tr class="separator:a866283c71b48e2aec59af06e7dd9d0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a085a5536428d574ff189bdd2ba0aaf5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#a085a5536428d574ff189bdd2ba0aaf5b">nilfs_copy_buffer</a> (struct buffer_head *dbh, struct buffer_head *sbh)</td></tr>
<tr class="separator:a085a5536428d574ff189bdd2ba0aaf5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae480881857e8afeef790a92ae1772630"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630">nilfs_page_buffers_clean</a> (struct page *page)</td></tr>
<tr class="separator:ae480881857e8afeef790a92ae1772630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0c91fdc7685c47e441b7913071e622"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#a5e0c91fdc7685c47e441b7913071e622">nilfs_page_bug</a> (struct page *page)</td></tr>
<tr class="separator:a5e0c91fdc7685c47e441b7913071e622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae10da2cefd33c9affe7f4960fa4cc712"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#ae10da2cefd33c9affe7f4960fa4cc712">nilfs_copy_page</a> (struct page *dst, struct page *src, int copy_dirty)</td></tr>
<tr class="separator:ae10da2cefd33c9affe7f4960fa4cc712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1f505f6520c69332f0ee920a731e817"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#ab1f505f6520c69332f0ee920a731e817">nilfs_copy_dirty_pages</a> (struct address_space *<a class="el" href="structdmap.html">dmap</a>, struct address_space *smap)</td></tr>
<tr class="separator:ab1f505f6520c69332f0ee920a731e817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19e6ab8bc4014fe39746b3dd2c97b90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#ad19e6ab8bc4014fe39746b3dd2c97b90">nilfs_copy_back_pages</a> (struct address_space *<a class="el" href="structdmap.html">dmap</a>, struct address_space *smap)</td></tr>
<tr class="separator:ad19e6ab8bc4014fe39746b3dd2c97b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32dd4d34ca4d02776c242eb9ff785a87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#a32dd4d34ca4d02776c242eb9ff785a87">nilfs_clear_dirty_pages</a> (struct address_space *mapping, bool silent)</td></tr>
<tr class="separator:a32dd4d34ca4d02776c242eb9ff785a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39eadb85dcf25cb2ceebf0232851674c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#a39eadb85dcf25cb2ceebf0232851674c">nilfs_clear_dirty_page</a> (struct page *page, bool silent)</td></tr>
<tr class="separator:a39eadb85dcf25cb2ceebf0232851674c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f57fe705c8f7852ec85815297d952e"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#ab2f57fe705c8f7852ec85815297d952e">nilfs_page_count_clean_buffers</a> (struct page *page, unsigned int from, unsigned int to)</td></tr>
<tr class="separator:ab2f57fe705c8f7852ec85815297d952e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45dc6fc4ee541d83a508bac51eddfe4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#af45dc6fc4ee541d83a508bac51eddfe4">nilfs_mapping_init</a> (struct address_space *mapping, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:af45dc6fc4ee541d83a508bac51eddfe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6236b3bde5556e05843d2c5e34074b65"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65">__nilfs_clear_page_dirty</a> (struct page *page)</td></tr>
<tr class="separator:a6236b3bde5556e05843d2c5e34074b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3e6491b524d7eebea5d084536d1e80"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2page_8c.html#aee3e6491b524d7eebea5d084536d1e80">nilfs_find_uncommitted_extent</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, sector_t start_blk, sector_t *blkoff)</td></tr>
<tr class="separator:aee3e6491b524d7eebea5d084536d1e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a684a5d4b2539d9a9f997d6c15a13d0c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a684a5d4b2539d9a9f997d6c15a13d0c0">&#9670;&nbsp;</a></span>NILFS_BUFFER_INHERENT_BITS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_BUFFER_INHERENT_BITS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(BIT(BH_Uptodate) | BIT(BH_Mapped) | BIT(<a class="code" href="page_8h.html#ad99ad19d954966f46d918c3610ee987caa581186e4d4fb13541056b5c94433cf3">BH_NILFS_Node</a>) |   \</div><div class="line">     BIT(<a class="code" href="page_8h.html#ad99ad19d954966f46d918c3610ee987caeeb19c451c6647984497aefdb361357b">BH_NILFS_Volatile</a>) | BIT(<a class="code" href="page_8h.html#ad99ad19d954966f46d918c3610ee987ca26258d66bef9ee579d701d3d770ca5b0">BH_NILFS_Checked</a>))</div><div class="ttc" id="page_8h_html_ad99ad19d954966f46d918c3610ee987caa581186e4d4fb13541056b5c94433cf3"><div class="ttname"><a href="page_8h.html#ad99ad19d954966f46d918c3610ee987caa581186e4d4fb13541056b5c94433cf3">BH_NILFS_Node</a></div><div class="ttdef"><b>Definition:</b> page.h:30</div></div>
<div class="ttc" id="page_8h_html_ad99ad19d954966f46d918c3610ee987caeeb19c451c6647984497aefdb361357b"><div class="ttname"><a href="page_8h.html#ad99ad19d954966f46d918c3610ee987caeeb19c451c6647984497aefdb361357b">BH_NILFS_Volatile</a></div><div class="ttdef"><b>Definition:</b> page.h:31</div></div>
<div class="ttc" id="page_8h_html_ad99ad19d954966f46d918c3610ee987ca26258d66bef9ee579d701d3d770ca5b0"><div class="ttname"><a href="page_8h.html#ad99ad19d954966f46d918c3610ee987ca26258d66bef9ee579d701d3d770ca5b0">BH_NILFS_Checked</a></div><div class="ttdef"><b>Definition:</b> page.h:32</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6236b3bde5556e05843d2c5e34074b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6236b3bde5556e05843d2c5e34074b65">&#9670;&nbsp;</a></span>__nilfs_clear_page_dirty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __nilfs_clear_page_dirty </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a6236b3bde5556e05843d2c5e34074b65_icgraph.png" border="0" usemap="#nilfs2_2page_8c_a6236b3bde5556e05843d2c5e34074b65_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a6236b3bde5556e05843d2c5e34074b65_icgraph" id="nilfs2_2page_8c_a6236b3bde5556e05843d2c5e34074b65_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a16dc692dbd44d7383adcfa601135a4a4" title="nilfs_end_page_io" alt="" coords="184,189,311,215"/>
<area shape="rect" id="node19" href="page_8h.html#a6d4bc2ae59028d30651dd2c443e4b62e" title="nilfs_forget_buffer" alt="" coords="184,383,311,410"/>
<area shape="rect" id="node46" href="page_8h.html#aeee4b67023ea2cb95f43276a6d464217" title="nilfs_clear_dirty_page" alt="" coords="781,662,929,689"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="380,130,493,157"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966" title="nilfs_segctor_complete\l_write" alt="" coords="359,181,515,223"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="574,123,706,164"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="765,130,944,157"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1435,5,1585,47"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1225,155,1383,182"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="992,64,1176,105"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1673,13,1778,39"/>
<area shape="rect" id="node8" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1667,101,1783,127"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1436,189,1584,215"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1441,123,1579,164"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1432,71,1588,98"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1636,189,1815,215"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1235,89,1373,131"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1230,38,1378,65"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="577,189,703,215"/>
<area shape="rect" id="node20" href="btnode_8h.html#aa316638e8e1f2b6a1eb2a4b42d1430ae" title="nilfs_btnode_delete" alt="" coords="369,443,504,470"/>
<area shape="rect" id="node34" href="mdt_8h.html#a71bd72ea9804bf749362d28977baeaa7" title="nilfs_mdt_forget_block" alt="" coords="360,353,513,379"/>
<area shape="rect" id="node21" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="574,596,706,637"/>
<area shape="rect" id="node23" href="nilfs2_2btree_8c.html#a3de8c6d593b3851a03f8cb9b52245bb4" title="nilfs_btree_concat_left" alt="" coords="563,414,717,441"/>
<area shape="rect" id="node26" href="nilfs2_2btree_8c.html#ac4156938f93f2e44e1076ca3810c3a25" title="nilfs_btree_concat\l_right" alt="" coords="576,465,704,507"/>
<area shape="rect" id="node27" href="nilfs2_2btree_8c.html#ae3063dc8eb150a857d545e8d9076ef4f" title="nilfs_btree_shrink" alt="" coords="578,363,702,390"/>
<area shape="rect" id="node28" href="btnode_8h.html#a4293aef6a5afcf0297bd88d7a521764b" title="nilfs_btnode_commit\l_change_key" alt="" coords="569,531,711,572"/>
<area shape="rect" id="node22" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="794,611,915,638"/>
<area shape="rect" id="node24" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="789,417,921,459"/>
<area shape="rect" id="node25" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="1022,443,1146,470"/>
<area shape="rect" id="node29" href="nilfs2_2btree_8c.html#a617bbd61f552d01b2ad7ba4c1c8bcd05" title="nilfs_btree_commit\l_update_v" alt="" coords="789,545,921,587"/>
<area shape="rect" id="node32" href="nilfs2_2btree_8c.html#ad4ed69481bdbfadb6861c03069699e3d" title="nilfs_btree_assign_p" alt="" coords="784,494,925,521"/>
<area shape="rect" id="node30" href="nilfs2_2btree_8c.html#abf0e08110853bdfe3cb49b3ad7cd2e2c" title="nilfs_btree_commit\l_propagate_v" alt="" coords="1018,545,1150,587"/>
<area shape="rect" id="node31" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1224,553,1384,579"/>
<area shape="rect" id="node33" href="nilfs2_2btree_8c.html#a699ab54fa5128b631cc1a86b9a3793b4" title="nilfs_btree_assign" alt="" coords="1021,494,1147,521"/>
<area shape="rect" id="node35" href="mdt_8h.html#aee462900ac199be00a3cf832f5f7f154" title="nilfs_mdt_delete_block" alt="" coords="563,283,717,310"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="790,312,919,353"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="789,181,920,223"/>
<area shape="rect" id="node44" href="sufile_8c.html#a6c6906f2fa7470c98e36fadfed86c294" title="nilfs_sufile_delete\l_segment_usage_block" alt="" coords="775,247,934,288"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="1019,312,1149,353"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="1019,377,1149,419"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1243,362,1365,389"/>
<area shape="rect" id="node41" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1021,181,1147,223"/>
<area shape="rect" id="node42" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1245,207,1363,248"/>
<area shape="rect" id="node43" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1241,272,1367,313"/>
<area shape="rect" id="node45" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="1015,247,1153,288"/>
<area shape="rect" id="node47" href="nilfs2_2inode_8c.html#ae1e2e81122833693f29b624c6177bded" title="nilfs_writepage" alt="" coords="1029,662,1139,689"/>
<area shape="rect" id="node48" href="page_8h.html#a4f34595ba2a0bc2a86e1f03bfd0a4b67" title="nilfs_clear_dirty_pages" alt="" coords="1007,713,1161,739"/>
<area shape="rect" id="node50" href="mdt_8c.html#a4242d921f6d6d52e2d451bdcc6972956" title="nilfs_mdt_write_page" alt="" coords="1011,611,1157,638"/>
<area shape="rect" id="node49" href="mdt_8h.html#a673c8a81a5993668b02111eccc3f2b93" title="nilfs_mdt_restore_from\l_shadow_map" alt="" coords="1227,615,1381,656"/>
</map>
</div>

</div>
</div>
<a id="a051d0268f3af219ba3e2a9ca79a8843c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a051d0268f3af219ba3e2a9ca79a8843c">&#9670;&nbsp;</a></span>__nilfs_get_page_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct buffer_head* __nilfs_get_page_block </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blkbits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a051d0268f3af219ba3e2a9ca79a8843c_cgraph.png" border="0" usemap="#nilfs2_2page_8c_a051d0268f3af219ba3e2a9ca79a8843c_cgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a051d0268f3af219ba3e2a9ca79a8843c_cgraph" id="nilfs2_2page_8c_a051d0268f3af219ba3e2a9ca79a8843c_cgraph">
<area shape="rect" id="node2" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="212,56,360,83"/>
<area shape="rect" id="node10" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="221,107,351,149"/>
<area shape="rect" id="node11" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="426,5,521,32"/>
<area shape="rect" id="node3" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="408,157,539,184"/>
<area shape="rect" id="node6" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="807,107,945,133"/>
<area shape="rect" id="node4" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="611,259,735,285"/>
<area shape="rect" id="node7" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="625,107,721,133"/>
<area shape="rect" id="node8" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="613,157,732,184"/>
<area shape="rect" id="node9" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="587,208,759,235"/>
<area shape="rect" id="node5" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="819,208,933,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a051d0268f3af219ba3e2a9ca79a8843c_icgraph.png" border="0" usemap="#nilfs2_2page_8c_a051d0268f3af219ba3e2a9ca79a8843c_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a051d0268f3af219ba3e2a9ca79a8843c_icgraph" id="nilfs2_2page_8c_a051d0268f3af219ba3e2a9ca79a8843c_icgraph">
<area shape="rect" id="node2" href="page_8h.html#a696c4d98c357801a8476060f617853a7" title="nilfs_grab_buffer" alt="" coords="212,717,331,744"/>
<area shape="rect" id="node3" href="btnode_8h.html#aa637db552250ee79451b63053b89dd1d" title="nilfs_btnode_create\l_block" alt="" coords="391,710,525,751"/>
<area shape="rect" id="node14" href="btnode_8h.html#ad34d72b7dbab8036573f78c7d0090b92" title="nilfs_btnode_submit\l_block" alt="" coords="389,310,527,351"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a21beff1a8002838bfc1b6d43de94c5bf" title="nilfs_gccache_submit\l_read_data" alt="" coords="384,219,532,261"/>
<area shape="rect" id="node33" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="380,827,536,853"/>
<area shape="rect" id="node48" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="379,979,537,1005"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a138fc85ede4ab5e3710abf081f3b62fe" title="nilfs_btree_get_new\l_block" alt="" coords="595,735,734,777"/>
<area shape="rect" id="node9" href="btnode_8h.html#a651e3ea218b795647bb8459bad492fcf" title="nilfs_btnode_prepare\l_change_key" alt="" coords="593,670,736,711"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="1018,697,1150,738"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="800,810,939,851"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1250,620,1371,647"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="1018,827,1150,869"/>
<area shape="rect" id="node10" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="803,673,935,714"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#ad4ed69481bdbfadb6861c03069699e3d" title="nilfs_btree_assign_p" alt="" coords="799,435,940,461"/>
<area shape="rect" id="node11" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="1018,762,1150,803"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a699ab54fa5128b631cc1a86b9a3793b4" title="nilfs_btree_assign" alt="" coords="1021,376,1147,403"/>
<area shape="rect" id="node15" href="nilfs2_2btree_8c.html#ace0b607680d7332fe492fa4de2a7b64a" title="__nilfs_btree_get_block" alt="" coords="585,317,744,344"/>
<area shape="rect" id="node28" href="nilfs_8h.html#abea96a1095f0c779a0f99f0aa9416c82" title="nilfs_gccache_submit\l_read_node" alt="" coords="591,251,739,293"/>
<area shape="rect" id="node16" href="nilfs2_2btree_8c.html#aa0e496fd5b5c312b2b5fa455c1ac3889" title="nilfs_btree_get_block" alt="" coords="797,544,942,571"/>
<area shape="rect" id="node23" href="nilfs2_2btree_8c.html#ad35a2f74dcf9c0bb7f0fdc2eb404aa79" title="nilfs_btree_do_lookup" alt="" coords="795,259,943,285"/>
<area shape="rect" id="node25" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="1021,310,1147,351"/>
<area shape="rect" id="node17" href="nilfs2_2btree_8c.html#aeb7662d5fcd14daf1837986756715aef" title="nilfs_btree_do_lookup_last" alt="" coords="996,544,1172,571"/>
<area shape="rect" id="node18" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="1018,478,1150,519"/>
<area shape="rect" id="node20" href="nilfs2_2btree_8c.html#a4dda190598aa77cec2f6e05cd8b70326" title="nilfs_btree_check_delete" alt="" coords="1001,595,1167,621"/>
<area shape="rect" id="node21" href="nilfs2_2btree_8c.html#a60d9b70a37f4805f3735f57148220d44" title="nilfs_btree_gather_data" alt="" coords="1005,645,1163,672"/>
<area shape="rect" id="node22" href="nilfs2_2btree_8c.html#a47716e3a6902added2c99c940230e6a4" title="nilfs_btree_mark" alt="" coords="1025,427,1143,453"/>
<area shape="rect" id="node19" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="1249,271,1373,297"/>
<area shape="rect" id="node24" href="nilfs2_2btree_8c.html#af875fd86471a2ce6b2db190b60611482" title="nilfs_btree_lookup" alt="" coords="1021,208,1147,235"/>
<area shape="rect" id="node26" href="nilfs2_2btree_8c.html#a82c0a1284a0dbaa5f928f64b32c02389" title="nilfs_btree_seek_key" alt="" coords="1011,107,1157,133"/>
<area shape="rect" id="node27" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="1011,157,1157,184"/>
<area shape="rect" id="node29" href="nilfs2_2ioctl_8c.html#abb151dcfb7c15835996fcfe3f602bb23" title="nilfs_ioctl_move_inode\l_block" alt="" coords="792,193,947,234"/>
<area shape="rect" id="node30" href="nilfs2_2ioctl_8c.html#a30a0a343bac14fc5cf5591ee64c4830b" title="nilfs_ioctl_move_blocks" alt="" coords="1003,5,1165,32"/>
<area shape="rect" id="node31" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1221,5,1400,32"/>
<area shape="rect" id="node34" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="800,1049,939,1076"/>
<area shape="rect" id="node35" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="1005,893,1163,934"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1009,959,1159,985"/>
<area shape="rect" id="node41" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="1007,1010,1161,1051"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="995,1075,1173,1117"/>
<area shape="rect" id="node44" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="1007,1193,1161,1234"/>
<area shape="rect" id="node45" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1242,1173,1379,1200"/>
<area shape="rect" id="node46" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1235,1228,1386,1255"/>
<area shape="rect" id="node47" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="1001,1310,1167,1351"/>
<area shape="rect" id="node36" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1247,821,1374,862"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="1237,1017,1384,1058"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="1231,886,1390,927"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="1237,951,1385,993"/>
<area shape="rect" id="node42" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="1221,1083,1400,1109"/>
<area shape="rect" id="node49" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="592,1049,737,1076"/>
<area shape="rect" id="node50" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="799,1100,940,1127"/>
</map>
</div>

</div>
</div>
<a id="a39eadb85dcf25cb2ceebf0232851674c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39eadb85dcf25cb2ceebf0232851674c">&#9670;&nbsp;</a></span>nilfs_clear_dirty_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_clear_dirty_page </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>silent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a39eadb85dcf25cb2ceebf0232851674c_cgraph.png" border="0" usemap="#nilfs2_2page_8c_a39eadb85dcf25cb2ceebf0232851674c_cgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a39eadb85dcf25cb2ceebf0232851674c_cgraph" id="nilfs2_2page_8c_a39eadb85dcf25cb2ceebf0232851674c_cgraph">
<area shape="rect" id="node2" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="217,5,317,32"/>
<area shape="rect" id="node4" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="201,57,332,98"/>
<area shape="rect" id="node3" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="380,5,519,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a39eadb85dcf25cb2ceebf0232851674c_icgraph.png" border="0" usemap="#nilfs2_2page_8c_a39eadb85dcf25cb2ceebf0232851674c_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a39eadb85dcf25cb2ceebf0232851674c_icgraph" id="nilfs2_2page_8c_a39eadb85dcf25cb2ceebf0232851674c_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ae1e2e81122833693f29b624c6177bded" title="nilfs_writepage" alt="" coords="224,27,333,53"/>
<area shape="rect" id="node3" href="page_8h.html#a4f34595ba2a0bc2a86e1f03bfd0a4b67" title="nilfs_clear_dirty_pages" alt="" coords="201,77,356,104"/>
<area shape="rect" id="node16" href="mdt_8c.html#a4242d921f6d6d52e2d451bdcc6972956" title="nilfs_mdt_write_page" alt="" coords="206,128,351,155"/>
<area shape="rect" id="node4" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="423,48,539,75"/>
<area shape="rect" id="node5" href="mdt_8h.html#a673c8a81a5993668b02111eccc3f2b93" title="nilfs_mdt_restore_from\l_shadow_map" alt="" coords="404,99,559,141"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="607,107,755,133"/>
<area shape="rect" id="node7" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="803,107,981,133"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1029,107,1107,133"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1155,81,1275,108"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1331,81,1445,108"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1323,132,1453,159"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1506,5,1595,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1505,56,1597,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1501,107,1600,133"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1508,157,1593,184"/>
</map>
</div>

</div>
</div>
<a id="a32dd4d34ca4d02776c242eb9ff785a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32dd4d34ca4d02776c242eb9ff785a87">&#9670;&nbsp;</a></span>nilfs_clear_dirty_pages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_clear_dirty_pages </td>
          <td>(</td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>silent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_clear_dirty_pages - discard dirty pages in address space : address space with dirty pages for discarding : suppress [true] or print [false] warning messages </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a32dd4d34ca4d02776c242eb9ff785a87_cgraph.png" border="0" usemap="#nilfs2_2page_8c_a32dd4d34ca4d02776c242eb9ff785a87_cgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a32dd4d34ca4d02776c242eb9ff785a87_cgraph" id="nilfs2_2page_8c_a32dd4d34ca4d02776c242eb9ff785a87_cgraph">
<area shape="rect" id="node2" href="nilfs2_2page_8c.html#a39eadb85dcf25cb2ceebf0232851674c" title="nilfs_clear_dirty_page" alt="" coords="208,35,356,61"/>
<area shape="rect" id="node3" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="419,5,519,32"/>
<area shape="rect" id="node5" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="404,57,535,98"/>
<area shape="rect" id="node4" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="583,5,721,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a32dd4d34ca4d02776c242eb9ff785a87_icgraph.png" border="0" usemap="#nilfs2_2page_8c_a32dd4d34ca4d02776c242eb9ff785a87_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a32dd4d34ca4d02776c242eb9ff785a87_icgraph" id="nilfs2_2page_8c_a32dd4d34ca4d02776c242eb9ff785a87_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="227,48,343,75"/>
<area shape="rect" id="node3" href="mdt_8h.html#a673c8a81a5993668b02111eccc3f2b93" title="nilfs_mdt_restore_from\l_shadow_map" alt="" coords="208,99,363,141"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="411,107,559,133"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="607,107,785,133"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="833,107,911,133"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="959,81,1079,108"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1135,81,1249,108"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1127,132,1257,159"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1310,5,1399,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1309,56,1401,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1305,107,1404,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1312,157,1397,184"/>
</map>
</div>

</div>
</div>
<a id="ad19e6ab8bc4014fe39746b3dd2c97b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad19e6ab8bc4014fe39746b3dd2c97b90">&#9670;&nbsp;</a></span>nilfs_copy_back_pages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_copy_back_pages </td>
          <td>(</td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>dmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>smap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_copy_back_pages &ndash; copy back pages to original cache from shadow cache : destination page cache : source page cache</p>
<p>No pages must no be added to the cache during this process. This must be ensured by the caller. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_ad19e6ab8bc4014fe39746b3dd2c97b90_cgraph.png" border="0" usemap="#nilfs2_2page_8c_ad19e6ab8bc4014fe39746b3dd2c97b90_cgraph" alt=""/></div>
<map name="nilfs2_2page_8c_ad19e6ab8bc4014fe39746b3dd2c97b90_cgraph" id="nilfs2_2page_8c_ad19e6ab8bc4014fe39746b3dd2c97b90_cgraph">
<area shape="rect" id="node2" href="nilfs2_2page_8c.html#ae10da2cefd33c9affe7f4960fa4cc712" title="nilfs_copy_page" alt="" coords="212,233,328,260"/>
<area shape="rect" id="node3" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="376,208,524,235"/>
<area shape="rect" id="node11" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="587,259,687,285"/>
<area shape="rect" id="node4" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="572,107,703,133"/>
<area shape="rect" id="node7" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="971,107,1109,133"/>
<area shape="rect" id="node5" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="775,5,899,32"/>
<area shape="rect" id="node8" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="789,107,885,133"/>
<area shape="rect" id="node9" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="777,56,896,83"/>
<area shape="rect" id="node10" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="751,157,923,184"/>
<area shape="rect" id="node6" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="983,31,1097,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_ad19e6ab8bc4014fe39746b3dd2c97b90_icgraph.png" border="0" usemap="#nilfs2_2page_8c_ad19e6ab8bc4014fe39746b3dd2c97b90_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_ad19e6ab8bc4014fe39746b3dd2c97b90_icgraph" id="nilfs2_2page_8c_ad19e6ab8bc4014fe39746b3dd2c97b90_icgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a673c8a81a5993668b02111eccc3f2b93" title="nilfs_mdt_restore_from\l_shadow_map" alt="" coords="212,99,367,141"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="415,107,563,133"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="611,107,789,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="837,107,915,133"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="963,81,1083,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1139,81,1253,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1131,132,1261,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1314,5,1403,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1313,56,1405,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1309,107,1408,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1316,157,1401,184"/>
</map>
</div>

</div>
</div>
<a id="a085a5536428d574ff189bdd2ba0aaf5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a085a5536428d574ff189bdd2ba0aaf5b">&#9670;&nbsp;</a></span>nilfs_copy_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_copy_buffer </td>
          <td>(</td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>dbh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>sbh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_copy_buffer &ndash; copy buffer data and flags : destination buffer : source buffer </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a085a5536428d574ff189bdd2ba0aaf5b_cgraph.png" border="0" usemap="#nilfs2_2page_8c_a085a5536428d574ff189bdd2ba0aaf5b_cgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a085a5536428d574ff189bdd2ba0aaf5b_cgraph" id="nilfs2_2page_8c_a085a5536428d574ff189bdd2ba0aaf5b_cgraph">
<area shape="rect" id="node2" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="175,5,275,32"/>
<area shape="rect" id="node3" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="323,5,461,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a085a5536428d574ff189bdd2ba0aaf5b_icgraph.png" border="0" usemap="#nilfs2_2page_8c_a085a5536428d574ff189bdd2ba0aaf5b_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a085a5536428d574ff189bdd2ba0aaf5b_icgraph" id="nilfs2_2page_8c_a085a5536428d574ff189bdd2ba0aaf5b_icgraph">
<area shape="rect" id="node2" href="btnode_8h.html#a4293aef6a5afcf0297bd88d7a521764b" title="nilfs_btnode_commit\l_change_key" alt="" coords="183,56,325,97"/>
<area shape="rect" id="node9" href="mdt_8h.html#a93c5b4ccdadaa132a86ca0d25f739b09" title="nilfs_mdt_freeze_buffer" alt="" coords="175,122,333,149"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a617bbd61f552d01b2ad7ba4c1c8bcd05" title="nilfs_btree_commit\l_update_v" alt="" coords="386,5,518,47"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#ad4ed69481bdbfadb6861c03069699e3d" title="nilfs_btree_assign_p" alt="" coords="381,71,523,98"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#abf0e08110853bdfe3cb49b3ad7cd2e2c" title="nilfs_btree_commit\l_propagate_v" alt="" coords="579,5,711,47"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="767,13,927,39"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="975,13,1121,39"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#a699ab54fa5128b631cc1a86b9a3793b4" title="nilfs_btree_assign" alt="" coords="581,71,708,98"/>
<area shape="rect" id="node10" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="397,122,507,149"/>
<area shape="rect" id="node11" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="571,122,719,149"/>
</map>
</div>

</div>
</div>
<a id="ab1f505f6520c69332f0ee920a731e817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1f505f6520c69332f0ee920a731e817">&#9670;&nbsp;</a></span>nilfs_copy_dirty_pages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_copy_dirty_pages </td>
          <td>(</td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>dmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>smap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_ab1f505f6520c69332f0ee920a731e817_cgraph.png" border="0" usemap="#nilfs2_2page_8c_ab1f505f6520c69332f0ee920a731e817_cgraph" alt=""/></div>
<map name="nilfs2_2page_8c_ab1f505f6520c69332f0ee920a731e817_cgraph" id="nilfs2_2page_8c_ab1f505f6520c69332f0ee920a731e817_cgraph">
<area shape="rect" id="node2" href="nilfs2_2page_8c.html#ae10da2cefd33c9affe7f4960fa4cc712" title="nilfs_copy_page" alt="" coords="208,233,324,260"/>
<area shape="rect" id="node3" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="372,208,520,235"/>
<area shape="rect" id="node11" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="583,259,683,285"/>
<area shape="rect" id="node4" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="568,107,699,133"/>
<area shape="rect" id="node7" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="967,107,1105,133"/>
<area shape="rect" id="node5" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="771,5,895,32"/>
<area shape="rect" id="node8" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="785,107,881,133"/>
<area shape="rect" id="node9" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="773,56,892,83"/>
<area shape="rect" id="node10" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="747,157,919,184"/>
<area shape="rect" id="node6" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="979,31,1093,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_ab1f505f6520c69332f0ee920a731e817_icgraph.png" border="0" usemap="#nilfs2_2page_8c_ab1f505f6520c69332f0ee920a731e817_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_ab1f505f6520c69332f0ee920a731e817_icgraph" id="nilfs2_2page_8c_ab1f505f6520c69332f0ee920a731e817_icgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a1b91aea5f3e024d438f92e11efb9309b" title="nilfs_mdt_save_to_shadow_map" alt="" coords="208,107,420,133"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="468,107,616,133"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="664,107,843,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="891,107,968,133"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1016,81,1136,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1192,81,1307,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1184,132,1315,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1367,5,1457,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1366,56,1458,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1363,107,1461,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1369,157,1455,184"/>
</map>
</div>

</div>
</div>
<a id="ae10da2cefd33c9affe7f4960fa4cc712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae10da2cefd33c9affe7f4960fa4cc712">&#9670;&nbsp;</a></span>nilfs_copy_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_copy_page </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>copy_dirty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_copy_page &ndash; copy the page with buffers : destination page : source page : flag whether to copy dirty states on the page's buffer heads.</p>
<p>This function is for both data pages and btnode pages. The dirty flag should be treated by caller. The page must not be under i/o. Both src and dst page must be locked </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_ae10da2cefd33c9affe7f4960fa4cc712_cgraph.png" border="0" usemap="#nilfs2_2page_8c_ae10da2cefd33c9affe7f4960fa4cc712_cgraph" alt=""/></div>
<map name="nilfs2_2page_8c_ae10da2cefd33c9affe7f4960fa4cc712_cgraph" id="nilfs2_2page_8c_ae10da2cefd33c9affe7f4960fa4cc712_cgraph">
<area shape="rect" id="node2" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="169,208,317,235"/>
<area shape="rect" id="node10" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="381,259,481,285"/>
<area shape="rect" id="node3" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="365,107,496,133"/>
<area shape="rect" id="node6" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="764,107,903,133"/>
<area shape="rect" id="node4" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="568,5,692,32"/>
<area shape="rect" id="node7" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="582,107,678,133"/>
<area shape="rect" id="node8" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="571,56,689,83"/>
<area shape="rect" id="node9" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="544,157,716,184"/>
<area shape="rect" id="node5" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="776,31,891,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_ae10da2cefd33c9affe7f4960fa4cc712_icgraph.png" border="0" usemap="#nilfs2_2page_8c_ae10da2cefd33c9affe7f4960fa4cc712_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_ae10da2cefd33c9affe7f4960fa4cc712_icgraph" id="nilfs2_2page_8c_ae10da2cefd33c9affe7f4960fa4cc712_icgraph">
<area shape="rect" id="node2" href="page_8h.html#a422472074a2f582e6f748c5ec0a0c2ea" title="nilfs_copy_dirty_pages" alt="" coords="171,80,326,107"/>
<area shape="rect" id="node14" href="page_8h.html#a76873b478d20fa7ba9473d233567e5b1" title="nilfs_copy_back_pages" alt="" coords="169,132,328,159"/>
<area shape="rect" id="node3" href="mdt_8h.html#a1b91aea5f3e024d438f92e11efb9309b" title="nilfs_mdt_save_to_shadow_map" alt="" coords="376,77,588,104"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="636,107,784,133"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="832,107,1011,133"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1059,107,1136,133"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1184,81,1304,108"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1360,81,1475,108"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1352,132,1483,159"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1535,5,1625,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1534,56,1626,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1531,107,1629,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1537,157,1623,184"/>
<area shape="rect" id="node15" href="mdt_8h.html#a673c8a81a5993668b02111eccc3f2b93" title="nilfs_mdt_restore_from\l_shadow_map" alt="" coords="405,129,559,170"/>
</map>
</div>

</div>
</div>
<a id="aee3e6491b524d7eebea5d084536d1e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee3e6491b524d7eebea5d084536d1e80">&#9670;&nbsp;</a></span>nilfs_find_uncommitted_extent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long nilfs_find_uncommitted_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>start_blk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t *&#160;</td>
          <td class="paramname"><em>blkoff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_find_uncommitted_extent - find extent of uncommitted data : inode : start block offset (in) : start offset of the found extent (out)</p>
<p>This function searches an extent of buffers marked "delayed" which starts from a block offset equal to or larger than . If such an extent was found, this will store the start offset in  and return its length in blocks. Otherwise, zero is returned. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_aee3e6491b524d7eebea5d084536d1e80_icgraph.png" border="0" usemap="#nilfs2_2page_8c_aee3e6491b524d7eebea5d084536d1e80_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_aee3e6491b524d7eebea5d084536d1e80_icgraph" id="nilfs2_2page_8c_aee3e6491b524d7eebea5d084536d1e80_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#aa3b3b43de967957800b020d3c28d0fb4" title="nilfs_fiemap" alt="" coords="209,139,301,165"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="349,139,469,165"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="525,111,640,137"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="517,164,648,191"/>
<area shape="rect" id="node5" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="701,5,790,32"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="699,56,791,83"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="696,107,795,133"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="703,157,788,184"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="707,232,784,259"/>
</map>
</div>

</div>
</div>
<a id="a866283c71b48e2aec59af06e7dd9d0ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866283c71b48e2aec59af06e7dd9d0ac">&#9670;&nbsp;</a></span>nilfs_forget_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_forget_buffer </td>
          <td>(</td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_forget_buffer - discard dirty state : owner inode of the buffer : buffer head of the buffer to be discarded </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a866283c71b48e2aec59af06e7dd9d0ac_cgraph.png" border="0" usemap="#nilfs2_2page_8c_a866283c71b48e2aec59af06e7dd9d0ac_cgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a866283c71b48e2aec59af06e7dd9d0ac_cgraph" id="nilfs2_2page_8c_a866283c71b48e2aec59af06e7dd9d0ac_cgraph">
<area shape="rect" id="node2" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="181,5,309,47"/>
<area shape="rect" id="node3" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="180,71,311,112"/>
<area shape="rect" id="node4" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="195,137,295,163"/>
<area shape="rect" id="node5" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="359,137,497,163"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_a866283c71b48e2aec59af06e7dd9d0ac_icgraph.png" border="0" usemap="#nilfs2_2page_8c_a866283c71b48e2aec59af06e7dd9d0ac_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_a866283c71b48e2aec59af06e7dd9d0ac_icgraph" id="nilfs2_2page_8c_a866283c71b48e2aec59af06e7dd9d0ac_icgraph">
<area shape="rect" id="node2" href="btnode_8h.html#aa316638e8e1f2b6a1eb2a4b42d1430ae" title="nilfs_btnode_delete" alt="" coords="189,159,324,186"/>
<area shape="rect" id="node17" href="mdt_8h.html#a71bd72ea9804bf749362d28977baeaa7" title="nilfs_mdt_forget_block" alt="" coords="180,275,333,302"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="393,5,525,47"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a3de8c6d593b3851a03f8cb9b52245bb4" title="nilfs_btree_concat_left" alt="" coords="382,71,535,98"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#ac4156938f93f2e44e1076ca3810c3a25" title="nilfs_btree_concat\l_right" alt="" coords="395,123,523,164"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#ae3063dc8eb150a857d545e8d9076ef4f" title="nilfs_btree_shrink" alt="" coords="397,189,521,215"/>
<area shape="rect" id="node10" href="btnode_8h.html#a4293aef6a5afcf0297bd88d7a521764b" title="nilfs_btnode_commit\l_change_key" alt="" coords="387,240,530,281"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="603,13,724,39"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="597,119,729,160"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="798,126,922,153"/>
<area shape="rect" id="node11" href="nilfs2_2btree_8c.html#a617bbd61f552d01b2ad7ba4c1c8bcd05" title="nilfs_btree_commit\l_update_v" alt="" coords="597,184,729,225"/>
<area shape="rect" id="node15" href="nilfs2_2btree_8c.html#ad4ed69481bdbfadb6861c03069699e3d" title="nilfs_btree_assign_p" alt="" coords="593,250,734,277"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#abf0e08110853bdfe3cb49b3ad7cd2e2c" title="nilfs_btree_commit\l_propagate_v" alt="" coords="794,184,926,225"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="977,191,1137,218"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="1202,191,1349,218"/>
<area shape="rect" id="node16" href="nilfs2_2btree_8c.html#a699ab54fa5128b631cc1a86b9a3793b4" title="nilfs_btree_assign" alt="" coords="797,250,923,277"/>
<area shape="rect" id="node18" href="mdt_8h.html#aee462900ac199be00a3cf832f5f7f154" title="nilfs_mdt_delete_block" alt="" coords="381,403,536,430"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="599,367,728,408"/>
<area shape="rect" id="node32" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="992,423,1123,464"/>
<area shape="rect" id="node37" href="sufile_8c.html#a6c6906f2fa7470c98e36fadfed86c294" title="nilfs_sufile_delete\l_segment_usage_block" alt="" coords="584,535,743,576"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="795,301,925,343"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="795,367,925,408"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="996,311,1119,338"/>
<area shape="rect" id="node22" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1222,311,1329,338"/>
<area shape="rect" id="node23" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="1413,311,1583,338"/>
<area shape="rect" id="node24" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1631,337,1757,379"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1805,370,1953,397"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2353,361,2473,387"/>
<area shape="rect" id="node26" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2001,370,2180,397"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2228,411,2305,438"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2529,361,2644,387"/>
<area shape="rect" id="node30" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2521,411,2652,438"/>
<area shape="rect" id="node33" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1212,417,1339,459"/>
<area shape="rect" id="node34" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1439,363,1557,404"/>
<area shape="rect" id="node35" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1816,421,1943,463"/>
<area shape="rect" id="node36" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="2031,421,2150,463"/>
<area shape="rect" id="node38" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="791,619,929,660"/>
<area shape="rect" id="node39" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="994,626,1121,653"/>
<area shape="rect" id="node40" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1641,487,1747,514"/>
<area shape="rect" id="node42" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="1185,677,1365,703"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="2031,487,2150,514"/>
<area shape="rect" id="node43" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1429,601,1567,627"/>
<area shape="rect" id="node45" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="1433,651,1563,678"/>
<area shape="rect" id="node46" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="1427,535,1569,576"/>
<area shape="rect" id="node47" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="1439,702,1557,729"/>
<area shape="rect" id="node48" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="1429,753,1567,779"/>
<area shape="rect" id="node49" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="1423,803,1573,830"/>
<area shape="rect" id="node50" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="1440,854,1556,881"/>
<area shape="rect" id="node44" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="1634,601,1754,627"/>
</map>
</div>

</div>
</div>
<a id="aa4a24cc5a684ba71b9e4423f2ea38970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4a24cc5a684ba71b9e4423f2ea38970">&#9670;&nbsp;</a></span>nilfs_grab_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct buffer_head* nilfs_grab_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>blkoff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_aa4a24cc5a684ba71b9e4423f2ea38970_cgraph.png" border="0" usemap="#nilfs2_2page_8c_aa4a24cc5a684ba71b9e4423f2ea38970_cgraph" alt=""/></div>
<map name="nilfs2_2page_8c_aa4a24cc5a684ba71b9e4423f2ea38970_cgraph" id="nilfs2_2page_8c_aa4a24cc5a684ba71b9e4423f2ea38970_cgraph">
<area shape="rect" id="node2" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="172,56,331,83"/>
<area shape="rect" id="node3" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="379,56,527,83"/>
<area shape="rect" id="node11" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="387,107,518,149"/>
<area shape="rect" id="node12" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="593,5,687,32"/>
<area shape="rect" id="node4" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="575,157,705,184"/>
<area shape="rect" id="node7" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="973,107,1112,133"/>
<area shape="rect" id="node5" href="buffer_8c.html#a981702f40cf45ec9b31ad0139bef0ad4" title="alloc_buffer_head" alt="" coords="777,259,901,285"/>
<area shape="rect" id="node8" href="buffer_8c.html#a3b86ea46b7b35adeb32cc031574c6caf" title="set_bh_page" alt="" coords="791,107,887,133"/>
<area shape="rect" id="node9" href="buffer_8c.html#a075f98dd5ac2332bbf2f2f7093c9f131" title="free_buffer_head" alt="" coords="780,157,899,184"/>
<area shape="rect" id="node10" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="753,208,925,235"/>
<area shape="rect" id="node6" href="buffer_8c.html#a47e9ba092637c653e61f12f9a14cdd4a" title="recalc_bh_state" alt="" coords="985,208,1100,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_aa4a24cc5a684ba71b9e4423f2ea38970_icgraph.png" border="0" usemap="#nilfs2_2page_8c_aa4a24cc5a684ba71b9e4423f2ea38970_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_aa4a24cc5a684ba71b9e4423f2ea38970_icgraph" id="nilfs2_2page_8c_aa4a24cc5a684ba71b9e4423f2ea38970_icgraph">
<area shape="rect" id="node2" href="btnode_8h.html#aa637db552250ee79451b63053b89dd1d" title="nilfs_btnode_create\l_block" alt="" coords="184,710,319,751"/>
<area shape="rect" id="node13" href="btnode_8h.html#ad34d72b7dbab8036573f78c7d0090b92" title="nilfs_btnode_submit\l_block" alt="" coords="182,310,321,351"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a21beff1a8002838bfc1b6d43de94c5bf" title="nilfs_gccache_submit\l_read_data" alt="" coords="177,219,325,261"/>
<area shape="rect" id="node32" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="173,827,329,853"/>
<area shape="rect" id="node48" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="172,979,331,1005"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a138fc85ede4ab5e3710abf081f3b62fe" title="nilfs_btree_get_new\l_block" alt="" coords="389,735,527,777"/>
<area shape="rect" id="node8" href="btnode_8h.html#a651e3ea218b795647bb8459bad492fcf" title="nilfs_btnode_prepare\l_change_key" alt="" coords="387,670,529,711"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="811,697,943,738"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="593,810,732,851"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1043,620,1165,647"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="811,827,943,869"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="597,673,729,714"/>
<area shape="rect" id="node11" href="nilfs2_2btree_8c.html#ad4ed69481bdbfadb6861c03069699e3d" title="nilfs_btree_assign_p" alt="" coords="592,435,733,461"/>
<area shape="rect" id="node10" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="811,762,943,803"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#a699ab54fa5128b631cc1a86b9a3793b4" title="nilfs_btree_assign" alt="" coords="814,376,941,403"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#ace0b607680d7332fe492fa4de2a7b64a" title="__nilfs_btree_get_block" alt="" coords="379,317,537,344"/>
<area shape="rect" id="node27" href="nilfs_8h.html#abea96a1095f0c779a0f99f0aa9416c82" title="nilfs_gccache_submit\l_read_node" alt="" coords="384,251,532,293"/>
<area shape="rect" id="node15" href="nilfs2_2btree_8c.html#aa0e496fd5b5c312b2b5fa455c1ac3889" title="nilfs_btree_get_block" alt="" coords="590,544,735,571"/>
<area shape="rect" id="node22" href="nilfs2_2btree_8c.html#ad35a2f74dcf9c0bb7f0fdc2eb404aa79" title="nilfs_btree_do_lookup" alt="" coords="589,259,737,285"/>
<area shape="rect" id="node24" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="814,310,941,351"/>
<area shape="rect" id="node16" href="nilfs2_2btree_8c.html#aeb7662d5fcd14daf1837986756715aef" title="nilfs_btree_do_lookup_last" alt="" coords="789,544,965,571"/>
<area shape="rect" id="node17" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="811,478,943,519"/>
<area shape="rect" id="node19" href="nilfs2_2btree_8c.html#a4dda190598aa77cec2f6e05cd8b70326" title="nilfs_btree_check_delete" alt="" coords="794,595,961,621"/>
<area shape="rect" id="node20" href="nilfs2_2btree_8c.html#a60d9b70a37f4805f3735f57148220d44" title="nilfs_btree_gather_data" alt="" coords="799,645,956,672"/>
<area shape="rect" id="node21" href="nilfs2_2btree_8c.html#a47716e3a6902added2c99c940230e6a4" title="nilfs_btree_mark" alt="" coords="818,427,937,453"/>
<area shape="rect" id="node18" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="1042,271,1166,297"/>
<area shape="rect" id="node23" href="nilfs2_2btree_8c.html#af875fd86471a2ce6b2db190b60611482" title="nilfs_btree_lookup" alt="" coords="814,208,941,235"/>
<area shape="rect" id="node25" href="nilfs2_2btree_8c.html#a82c0a1284a0dbaa5f928f64b32c02389" title="nilfs_btree_seek_key" alt="" coords="805,107,950,133"/>
<area shape="rect" id="node26" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="804,157,951,184"/>
<area shape="rect" id="node28" href="nilfs2_2ioctl_8c.html#abb151dcfb7c15835996fcfe3f602bb23" title="nilfs_ioctl_move_inode\l_block" alt="" coords="585,193,740,234"/>
<area shape="rect" id="node29" href="nilfs2_2ioctl_8c.html#a30a0a343bac14fc5cf5591ee64c4830b" title="nilfs_ioctl_move_blocks" alt="" coords="797,5,958,32"/>
<area shape="rect" id="node30" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1015,5,1193,32"/>
<area shape="rect" id="node33" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="593,1049,732,1076"/>
<area shape="rect" id="node34" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="798,893,957,934"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="802,959,953,985"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="800,1075,955,1117"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="788,1010,967,1051"/>
<area shape="rect" id="node44" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="800,1193,955,1234"/>
<area shape="rect" id="node45" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1035,1181,1173,1208"/>
<area shape="rect" id="node46" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1029,1236,1179,1263"/>
<area shape="rect" id="node47" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="794,1310,961,1351"/>
<area shape="rect" id="node35" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1041,785,1167,826"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="1031,915,1177,957"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="1025,981,1183,1022"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="1030,850,1178,891"/>
<area shape="rect" id="node41" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="1015,1112,1193,1139"/>
<area shape="rect" id="node42" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1041,1046,1167,1087"/>
<area shape="rect" id="node49" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="385,1049,531,1076"/>
<area shape="rect" id="node50" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="592,1100,733,1127"/>
</map>
</div>

</div>
</div>
<a id="af45dc6fc4ee541d83a508bac51eddfe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af45dc6fc4ee541d83a508bac51eddfe4">&#9670;&nbsp;</a></span>nilfs_mapping_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_mapping_init </td>
          <td>(</td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_af45dc6fc4ee541d83a508bac51eddfe4_icgraph.png" border="0" usemap="#nilfs2_2page_8c_af45dc6fc4ee541d83a508bac51eddfe4_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_af45dc6fc4ee541d83a508bac51eddfe4_icgraph" id="nilfs2_2page_8c_af45dc6fc4ee541d83a508bac51eddfe4_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a0bc905a0c49ad7f332ca68ed9f88b381" title="nilfs_alloc_inode" alt="" coords="220,601,339,628"/>
<area shape="rect" id="node48" href="mdt_8h.html#af086b786e77eaa33878204ec7e161bb3" title="nilfs_mdt_setup_shadow_map" alt="" coords="180,652,379,679"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="427,583,613,609"/>
<area shape="rect" id="node4" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="679,537,789,564"/>
<area shape="rect" id="node5" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="855,233,993,260"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1227,309,1347,336"/>
<area shape="rect" id="node24" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="857,613,991,640"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="871,664,977,691"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="867,715,981,741"/>
<area shape="rect" id="node27" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1227,563,1346,589"/>
<area shape="rect" id="node28" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="871,183,977,209"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="874,360,974,387"/>
<area shape="rect" id="node31" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1217,497,1356,538"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="1056,208,1155,235"/>
<area shape="rect" id="node16" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1055,107,1156,133"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="1043,157,1167,184"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="1041,259,1169,285"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1239,208,1335,235"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1417,157,1532,184"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1816,360,1947,387"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1636,69,1725,96"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1635,132,1727,159"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1631,12,1730,39"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1638,208,1723,235"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2822,360,2899,387"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1417,5,1533,32"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1250,5,1323,32"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1233,107,1341,133"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1431,56,1518,83"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1433,107,1516,133"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1046,461,1165,488"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1060,309,1151,336"/>
<area shape="rect" id="node32" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1404,508,1545,535"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1593,509,1768,536"/>
<area shape="rect" id="node34" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1843,511,1920,537"/>
<area shape="rect" id="node35" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2001,512,2106,539"/>
<area shape="rect" id="node37" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1995,461,2112,488"/>
<area shape="rect" id="node36" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2194,512,2283,539"/>
<area shape="rect" id="node38" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2189,411,2288,437"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2160,461,2317,488"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2369,411,2517,437"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2374,513,2513,554"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2365,461,2521,488"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2569,411,2748,437"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2589,520,2728,547"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2796,513,2925,554"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2585,461,2732,488"/>
<area shape="rect" id="node49" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="469,652,571,679"/>
<area shape="rect" id="node50" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="661,728,807,755"/>
</map>
</div>

</div>
</div>
<a id="ae480881857e8afeef790a92ae1772630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae480881857e8afeef790a92ae1772630">&#9670;&nbsp;</a></span>nilfs_page_buffers_clean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_page_buffers_clean </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_ae480881857e8afeef790a92ae1772630_icgraph.png" border="0" usemap="#nilfs2_2page_8c_ae480881857e8afeef790a92ae1772630_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_ae480881857e8afeef790a92ae1772630_icgraph" id="nilfs2_2page_8c_ae480881857e8afeef790a92ae1772630_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a16dc692dbd44d7383adcfa601135a4a4" title="nilfs_end_page_io" alt="" coords="181,119,308,145"/>
<area shape="rect" id="node23" href="page_8h.html#a6d4bc2ae59028d30651dd2c443e4b62e" title="nilfs_forget_buffer" alt="" coords="181,287,308,313"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="377,60,491,87"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966" title="nilfs_segctor_complete\l_write" alt="" coords="356,111,512,153"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="571,53,703,94"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="763,76,941,103"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1433,57,1582,98"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1223,173,1380,200"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="989,69,1173,110"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1670,17,1775,44"/>
<area shape="rect" id="node9" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1665,68,1781,95"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1860,17,1980,44"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1433,173,1581,200"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1438,225,1577,266"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1429,123,1585,149"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1633,173,1812,200"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1653,232,1792,259"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1649,123,1796,149"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1232,57,1371,98"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1227,123,1375,149"/>
<area shape="rect" id="node19" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1438,5,1577,32"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="574,119,701,145"/>
<area shape="rect" id="node24" href="btnode_8h.html#aa316638e8e1f2b6a1eb2a4b42d1430ae" title="nilfs_btnode_delete" alt="" coords="367,287,501,313"/>
<area shape="rect" id="node38" href="mdt_8h.html#a71bd72ea9804bf749362d28977baeaa7" title="nilfs_mdt_forget_block" alt="" coords="357,407,511,433"/>
<area shape="rect" id="node25" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="571,403,703,445"/>
<area shape="rect" id="node27" href="nilfs2_2btree_8c.html#a3de8c6d593b3851a03f8cb9b52245bb4" title="nilfs_btree_concat_left" alt="" coords="561,169,714,196"/>
<area shape="rect" id="node30" href="nilfs2_2btree_8c.html#ac4156938f93f2e44e1076ca3810c3a25" title="nilfs_btree_concat\l_right" alt="" coords="573,221,701,262"/>
<area shape="rect" id="node31" href="nilfs2_2btree_8c.html#ae3063dc8eb150a857d545e8d9076ef4f" title="nilfs_btree_shrink" alt="" coords="575,287,699,313"/>
<area shape="rect" id="node32" href="btnode_8h.html#a4293aef6a5afcf0297bd88d7a521764b" title="nilfs_btnode_commit\l_change_key" alt="" coords="566,338,709,379"/>
<area shape="rect" id="node26" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="791,411,913,437"/>
<area shape="rect" id="node28" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="786,221,918,262"/>
<area shape="rect" id="node29" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="1019,228,1143,255"/>
<area shape="rect" id="node33" href="nilfs2_2btree_8c.html#a617bbd61f552d01b2ad7ba4c1c8bcd05" title="nilfs_btree_commit\l_update_v" alt="" coords="786,338,918,379"/>
<area shape="rect" id="node36" href="nilfs2_2btree_8c.html#ad4ed69481bdbfadb6861c03069699e3d" title="nilfs_btree_assign_p" alt="" coords="781,287,923,313"/>
<area shape="rect" id="node34" href="nilfs2_2btree_8c.html#abf0e08110853bdfe3cb49b3ad7cd2e2c" title="nilfs_btree_commit\l_propagate_v" alt="" coords="1015,338,1147,379"/>
<area shape="rect" id="node35" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1221,345,1381,372"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a699ab54fa5128b631cc1a86b9a3793b4" title="nilfs_btree_assign" alt="" coords="1018,287,1145,313"/>
<area shape="rect" id="node39" href="mdt_8h.html#aee462900ac199be00a3cf832f5f7f154" title="nilfs_mdt_delete_block" alt="" coords="560,508,715,535"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="787,469,917,510"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="787,534,917,575"/>
<area shape="rect" id="node48" href="sufile_8c.html#a6c6906f2fa7470c98e36fadfed86c294" title="nilfs_sufile_delete\l_segment_usage_block" alt="" coords="773,599,931,641"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="1017,403,1146,445"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="1017,469,1146,510"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1240,415,1363,441"/>
<area shape="rect" id="node45" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1018,534,1145,575"/>
<area shape="rect" id="node46" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1242,537,1361,578"/>
<area shape="rect" id="node47" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1238,471,1365,513"/>
<area shape="rect" id="node49" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="1012,599,1151,641"/>
<area shape="rect" id="node50" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="1238,607,1365,633"/>
</map>
</div>

</div>
</div>
<a id="a5e0c91fdc7685c47e441b7913071e622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e0c91fdc7685c47e441b7913071e622">&#9670;&nbsp;</a></span>nilfs_page_bug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_page_bug </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab2f57fe705c8f7852ec85815297d952e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2f57fe705c8f7852ec85815297d952e">&#9670;&nbsp;</a></span>nilfs_page_count_clean_buffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int nilfs_page_count_clean_buffers </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_ab2f57fe705c8f7852ec85815297d952e_cgraph.png" border="0" usemap="#nilfs2_2page_8c_ab2f57fe705c8f7852ec85815297d952e_cgraph" alt=""/></div>
<map name="nilfs2_2page_8c_ab2f57fe705c8f7852ec85815297d952e_cgraph" id="nilfs2_2page_8c_ab2f57fe705c8f7852ec85815297d952e_cgraph">
<area shape="rect" id="node2" href="itree__common_8c.html#a182737ecd86ab9ca3806858e693d4db9" title="block_end" alt="" coords="212,13,293,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2page_8c_ab2f57fe705c8f7852ec85815297d952e_icgraph.png" border="0" usemap="#nilfs2_2page_8c_ab2f57fe705c8f7852ec85815297d952e_icgraph" alt=""/></div>
<map name="nilfs2_2page_8c_ab2f57fe705c8f7852ec85815297d952e_icgraph" id="nilfs2_2page_8c_ab2f57fe705c8f7852ec85815297d952e_icgraph">
<area shape="rect" id="node2" href="nilfs2_2dir_8c.html#a9b63edc6037bc7a5d62c94080b5d25e0" title="nilfs_commit_chunk" alt="" coords="212,233,351,260"/>
<area shape="rect" id="node21" href="nilfs2_2inode_8c.html#a10b8a3b1edc71b5a865f9eb19d8bae9c" title="nilfs_write_end" alt="" coords="227,284,336,311"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="413,208,512,235"/>
<area shape="rect" id="node13" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="412,259,513,285"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="401,157,525,184"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="399,309,527,336"/>
<area shape="rect" id="node4" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="587,157,683,184"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="575,208,695,235"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="751,259,865,285"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="743,107,873,133"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="926,259,1015,285"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="925,157,1017,184"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="921,208,1020,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="928,309,1013,336"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="932,107,1009,133"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="750,208,866,235"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="598,360,671,387"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="581,56,689,83"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="765,5,851,32"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="767,56,849,83"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="nilfs2_2page_8c.html">page.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
