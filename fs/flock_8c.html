<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: afs/flock.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('flock_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">flock.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="afs_2internal_8h_source.html">internal.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for flock.c:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c__incl.png" border="0" usemap="#afs_2flock_8c" alt=""/></div>
<map name="afs_2flock_8c" id="afs_2flock_8c">
<area shape="rect" id="node2" href="afs_2internal_8h.html" title="internal.h" alt="" coords="1017,80,1091,107"/>
<area shape="rect" id="node17" href="afs_8h.html" title="afs.h" alt="" coords="1857,229,1907,256"/>
<area shape="rect" id="node19" href="afs__vl_8h.html" title="afs_vl.h" alt="" coords="1884,155,1952,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a09a6c2be997d1bb60f70b20690056c29"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a09a6c2be997d1bb60f70b20690056c29">AFS_LOCK_GRANTED</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a09a6c2be997d1bb60f70b20690056c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0270871121e80fe1f6bea37ebd64e74d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a0270871121e80fe1f6bea37ebd64e74d">AFS_LOCK_PENDING</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a0270871121e80fe1f6bea37ebd64e74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6a803202b15338a5faae52d9fa986417"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a6a803202b15338a5faae52d9fa986417">afs_fl_copy_lock</a> (struct file_lock *new, struct file_lock *fl)</td></tr>
<tr class="separator:a6a803202b15338a5faae52d9fa986417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8c0dd3f942e9b2cae30aafcd6c907c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a3a8c0dd3f942e9b2cae30aafcd6c907c">afs_fl_release_private</a> (struct file_lock *fl)</td></tr>
<tr class="separator:a3a8c0dd3f942e9b2cae30aafcd6c907c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab359dd36e5f4cdc8c6136e99fd3e2d56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#ab359dd36e5f4cdc8c6136e99fd3e2d56">afs_lock_may_be_available</a> (struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *vnode)</td></tr>
<tr class="separator:ab359dd36e5f4cdc8c6136e99fd3e2d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a101f040a8cfb3a9c255f1a30e4256517"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a101f040a8cfb3a9c255f1a30e4256517">afs_schedule_lock_extension</a> (struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *vnode)</td></tr>
<tr class="separator:a101f040a8cfb3a9c255f1a30e4256517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02cdffcaf6770492499cbca8fa0a9eab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a02cdffcaf6770492499cbca8fa0a9eab">afs_grant_locks</a> (struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *vnode, struct file_lock *fl)</td></tr>
<tr class="separator:a02cdffcaf6770492499cbca8fa0a9eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70039bd56fe8817c3ce0817c88d62fd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd">afs_set_lock</a> (struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *vnode, struct <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, <a class="el" href="afs_8h.html#a38e93ddc172f1f186bd8047fe754c10e">afs_lock_type_t</a> <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr class="separator:ad70039bd56fe8817c3ce0817c88d62fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a30fbf4ddbb44e3a170fac4f7fabb4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4">afs_extend_lock</a> (struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *vnode, struct <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:a51a30fbf4ddbb44e3a170fac4f7fabb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0354372a22ce7aec3665d6e23843596f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f">afs_release_lock</a> (struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *vnode, struct <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:a0354372a22ce7aec3665d6e23843596f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3910bfbe1a7a588662bb302a0074ce70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a3910bfbe1a7a588662bb302a0074ce70">afs_lock_work</a> (struct work_struct *work)</td></tr>
<tr class="separator:a3910bfbe1a7a588662bb302a0074ce70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae55c6e5b2325d7b05f2b3e1750b40c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#adae55c6e5b2325d7b05f2b3e1750b40c">afs_defer_unlock</a> (struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *vnode)</td></tr>
<tr class="separator:adae55c6e5b2325d7b05f2b3e1750b40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f54137a794b1c00d1fc81a68da3a2d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a74f54137a794b1c00d1fc81a68da3a2d">afs_do_setlk_check</a> (struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *vnode, struct <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, <a class="el" href="afs_8h.html#a38e93ddc172f1f186bd8047fe754c10e">afs_lock_type_t</a> <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>, bool can_sleep)</td></tr>
<tr class="separator:a74f54137a794b1c00d1fc81a68da3a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ea08174e39b8f23bace222c109127f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a58ea08174e39b8f23bace222c109127f">afs_dequeue_lock</a> (struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *vnode, struct file_lock *fl)</td></tr>
<tr class="separator:a58ea08174e39b8f23bace222c109127f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951ebbb6cf0df3e4f2622cd531fa038a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a951ebbb6cf0df3e4f2622cd531fa038a">afs_do_setlk</a> (struct file *file, struct file_lock *fl)</td></tr>
<tr class="separator:a951ebbb6cf0df3e4f2622cd531fa038a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d05209d42a7a1d13bffe391b8ab187"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a45d05209d42a7a1d13bffe391b8ab187">afs_do_unlk</a> (struct file *file, struct file_lock *fl)</td></tr>
<tr class="separator:a45d05209d42a7a1d13bffe391b8ab187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42612cb541ff5fe35aeb74a8709e14a4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a42612cb541ff5fe35aeb74a8709e14a4">afs_do_getlk</a> (struct file *file, struct file_lock *fl)</td></tr>
<tr class="separator:a42612cb541ff5fe35aeb74a8709e14a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75dfc0531983b5d661f253ebb0c7c8f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a75dfc0531983b5d661f253ebb0c7c8f6">afs_lock</a> (struct file *file, int <a class="el" href="send_8h.html#aba87c031cbb3e372df508f4153bd3f1c">cmd</a>, struct file_lock *fl)</td></tr>
<tr class="separator:a75dfc0531983b5d661f253ebb0c7c8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d19217459437fd785d5128845abc900"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a3d19217459437fd785d5128845abc900">afs_flock</a> (struct file *file, int <a class="el" href="send_8h.html#aba87c031cbb3e372df508f4153bd3f1c">cmd</a>, struct file_lock *fl)</td></tr>
<tr class="separator:a3d19217459437fd785d5128845abc900"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9fc8d335b2a5f3762d7552cf06b63d93"><td class="memItemLeft" align="right" valign="top">struct workqueue_struct *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#a9fc8d335b2a5f3762d7552cf06b63d93">afs_lock_manager</a></td></tr>
<tr class="separator:a9fc8d335b2a5f3762d7552cf06b63d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfb5c9c366d040f9f1651ed4fc48162a"><td class="memItemLeft" align="right" valign="top">static const struct file_lock_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flock_8c.html#abfb5c9c366d040f9f1651ed4fc48162a">afs_lock_ops</a></td></tr>
<tr class="separator:abfb5c9c366d040f9f1651ed4fc48162a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a09a6c2be997d1bb60f70b20690056c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a6c2be997d1bb60f70b20690056c29">&#9670;&nbsp;</a></span>AFS_LOCK_GRANTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AFS_LOCK_GRANTED&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0270871121e80fe1f6bea37ebd64e74d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0270871121e80fe1f6bea37ebd64e74d">&#9670;&nbsp;</a></span>AFS_LOCK_PENDING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AFS_LOCK_PENDING&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="adae55c6e5b2325d7b05f2b3e1750b40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adae55c6e5b2325d7b05f2b3e1750b40c">&#9670;&nbsp;</a></span>afs_defer_unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void afs_defer_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *&#160;</td>
          <td class="paramname"><em>vnode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_adae55c6e5b2325d7b05f2b3e1750b40c_cgraph.png" border="0" usemap="#flock_8c_adae55c6e5b2325d7b05f2b3e1750b40c_cgraph" alt=""/></div>
<map name="flock_8c_adae55c6e5b2325d7b05f2b3e1750b40c_cgraph" id="flock_8c_adae55c6e5b2325d7b05f2b3e1750b40c_cgraph">
<area shape="rect" id="node2" href="flock_8c.html#ab359dd36e5f4cdc8c6136e99fd3e2d56" title="afs_lock_may_be_available" alt="" coords="175,5,357,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_adae55c6e5b2325d7b05f2b3e1750b40c_icgraph.png" border="0" usemap="#flock_8c_adae55c6e5b2325d7b05f2b3e1750b40c_icgraph" alt=""/></div>
<map name="flock_8c_adae55c6e5b2325d7b05f2b3e1750b40c_icgraph" id="flock_8c_adae55c6e5b2325d7b05f2b3e1750b40c_icgraph">
<area shape="rect" id="node2" href="flock_8c.html#a58ea08174e39b8f23bace222c109127f" title="afs_dequeue_lock" alt="" coords="175,1819,301,1846"/>
<area shape="rect" id="node3" href="flock_8c.html#a951ebbb6cf0df3e4f2622cd531fa038a" title="afs_do_setlk" alt="" coords="376,1769,472,1795"/>
<area shape="rect" id="node50" href="flock_8c.html#a3a8c0dd3f942e9b2cae30aafcd6c907c" title="afs_fl_release_private" alt="" coords="349,1819,499,1846"/>
<area shape="rect" id="node4" href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958" title="afs_lock" alt="" coords="549,1718,619,1745"/>
<area shape="rect" id="node49" href="afs_2internal_8h.html#a70b72a06652b89ad9da5d68e012e070e" title="afs_flock" alt="" coords="547,1769,621,1795"/>
<area shape="rect" id="node5" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="669,1718,801,1745"/>
<area shape="rect" id="node6" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="1245,155,1420,182"/>
<area shape="rect" id="node11" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="849,1414,975,1441"/>
<area shape="rect" id="node7" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="1692,5,1831,47"/>
<area shape="rect" id="node8" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="1471,155,1641,182"/>
<area shape="rect" id="node9" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="1692,88,1831,129"/>
<area shape="rect" id="node10" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="1486,207,1626,248"/>
<area shape="rect" id="node12" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="1034,983,1186,1010"/>
<area shape="rect" id="node31" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="1023,1414,1197,1441"/>
<area shape="rect" id="node13" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="1267,1009,1398,1035"/>
<area shape="rect" id="node14" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="1487,1001,1625,1043"/>
<area shape="rect" id="node17" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="1273,535,1392,562"/>
<area shape="rect" id="node16" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="1475,1067,1637,1094"/>
<area shape="rect" id="node15" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="1708,1009,1815,1035"/>
<area shape="rect" id="node18" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="1475,273,1637,299"/>
<area shape="rect" id="node19" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="1491,324,1621,365"/>
<area shape="rect" id="node20" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="1491,389,1621,431"/>
<area shape="rect" id="node21" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="1483,455,1629,482"/>
<area shape="rect" id="node22" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="1468,506,1644,533"/>
<area shape="rect" id="node23" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="1487,557,1625,599"/>
<area shape="rect" id="node24" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="1492,623,1620,664"/>
<area shape="rect" id="node25" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="1492,688,1620,729"/>
<area shape="rect" id="node26" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="1493,54,1619,81"/>
<area shape="rect" id="node27" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="1482,754,1630,781"/>
<area shape="rect" id="node28" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="1493,805,1619,847"/>
<area shape="rect" id="node29" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="1493,871,1619,912"/>
<area shape="rect" id="node30" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="1483,936,1629,977"/>
<area shape="rect" id="node32" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="1293,1059,1372,1086"/>
<area shape="rect" id="node33" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="1295,1110,1371,1137"/>
<area shape="rect" id="node34" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1292,1161,1373,1187"/>
<area shape="rect" id="node35" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="1291,1211,1374,1238"/>
<area shape="rect" id="node36" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="1299,1262,1366,1289"/>
<area shape="rect" id="node37" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="1287,1313,1379,1339"/>
<area shape="rect" id="node38" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="1287,1363,1378,1390"/>
<area shape="rect" id="node39" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="1279,1718,1387,1745"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="1273,1414,1392,1441"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="1291,1465,1375,1491"/>
<area shape="rect" id="node44" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="1293,1515,1373,1542"/>
<area shape="rect" id="node45" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="1285,1819,1381,1846"/>
<area shape="rect" id="node46" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="1274,1566,1391,1593"/>
<area shape="rect" id="node47" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="1273,1617,1393,1643"/>
<area shape="rect" id="node48" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="1279,1667,1387,1694"/>
<area shape="rect" id="node40" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="1509,1718,1603,1745"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0" title="afs_page_filler" alt="" coords="1503,1769,1609,1795"/>
</map>
</div>

</div>
</div>
<a id="a58ea08174e39b8f23bace222c109127f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ea08174e39b8f23bace222c109127f">&#9670;&nbsp;</a></span>afs_dequeue_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void afs_dequeue_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *&#160;</td>
          <td class="paramname"><em>vnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a58ea08174e39b8f23bace222c109127f_cgraph.png" border="0" usemap="#flock_8c_a58ea08174e39b8f23bace222c109127f_cgraph" alt=""/></div>
<map name="flock_8c_a58ea08174e39b8f23bace222c109127f_cgraph" id="flock_8c_a58ea08174e39b8f23bace222c109127f_cgraph">
<area shape="rect" id="node2" href="flock_8c.html#adae55c6e5b2325d7b05f2b3e1750b40c" title="afs_defer_unlock" alt="" coords="180,5,301,32"/>
<area shape="rect" id="node3" href="flock_8c.html#ab359dd36e5f4cdc8c6136e99fd3e2d56" title="afs_lock_may_be_available" alt="" coords="349,31,532,57"/>
<area shape="rect" id="node4" href="afs_2internal_8h.html#a4ce1b395f96dba53d265d5d12e590670" title="afs_file_key" alt="" coords="195,107,287,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a58ea08174e39b8f23bace222c109127f_icgraph.png" border="0" usemap="#flock_8c_a58ea08174e39b8f23bace222c109127f_icgraph" alt=""/></div>
<map name="flock_8c_a58ea08174e39b8f23bace222c109127f_icgraph" id="flock_8c_a58ea08174e39b8f23bace222c109127f_icgraph">
<area shape="rect" id="node2" href="flock_8c.html#a951ebbb6cf0df3e4f2622cd531fa038a" title="afs_do_setlk" alt="" coords="207,157,303,184"/>
<area shape="rect" id="node50" href="flock_8c.html#a3a8c0dd3f942e9b2cae30aafcd6c907c" title="afs_fl_release_private" alt="" coords="180,208,329,235"/>
<area shape="rect" id="node3" href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958" title="afs_lock" alt="" coords="379,157,450,184"/>
<area shape="rect" id="node49" href="afs_2internal_8h.html#a70b72a06652b89ad9da5d68e012e070e" title="afs_flock" alt="" coords="377,107,452,133"/>
<area shape="rect" id="node4" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="500,107,632,133"/>
<area shape="rect" id="node5" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="1076,107,1251,133"/>
<area shape="rect" id="node10" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="680,461,805,488"/>
<area shape="rect" id="node6" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="1523,189,1661,230"/>
<area shape="rect" id="node7" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="1301,325,1472,352"/>
<area shape="rect" id="node8" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="1523,330,1661,371"/>
<area shape="rect" id="node9" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="1317,259,1457,301"/>
<area shape="rect" id="node11" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="865,943,1017,969"/>
<area shape="rect" id="node30" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="853,461,1028,488"/>
<area shape="rect" id="node12" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="1098,1191,1229,1217"/>
<area shape="rect" id="node13" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="1317,1183,1456,1225"/>
<area shape="rect" id="node16" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="1104,867,1223,893"/>
<area shape="rect" id="node15" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="1305,1249,1468,1276"/>
<area shape="rect" id="node14" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="1539,1191,1645,1217"/>
<area shape="rect" id="node17" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="1306,899,1467,925"/>
<area shape="rect" id="node18" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="1321,950,1452,991"/>
<area shape="rect" id="node19" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="1321,1015,1452,1057"/>
<area shape="rect" id="node20" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="1314,1081,1459,1108"/>
<area shape="rect" id="node21" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="1299,1132,1475,1159"/>
<area shape="rect" id="node22" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="1317,454,1456,495"/>
<area shape="rect" id="node23" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="1323,519,1451,561"/>
<area shape="rect" id="node24" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="1323,585,1451,626"/>
<area shape="rect" id="node25" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="1323,376,1450,403"/>
<area shape="rect" id="node26" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="1313,651,1461,677"/>
<area shape="rect" id="node27" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="1323,702,1450,743"/>
<area shape="rect" id="node28" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="1323,767,1450,809"/>
<area shape="rect" id="node29" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="1314,833,1459,874"/>
<area shape="rect" id="node31" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="1124,461,1203,488"/>
<area shape="rect" id="node32" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="1125,512,1201,539"/>
<area shape="rect" id="node33" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1123,563,1204,589"/>
<area shape="rect" id="node34" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="1122,613,1205,640"/>
<area shape="rect" id="node35" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="1130,664,1197,691"/>
<area shape="rect" id="node36" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="1117,715,1209,741"/>
<area shape="rect" id="node37" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="1118,765,1209,792"/>
<area shape="rect" id="node38" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="1109,56,1217,83"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="1104,157,1223,184"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="1121,208,1205,235"/>
<area shape="rect" id="node44" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="1123,259,1203,285"/>
<area shape="rect" id="node45" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="1115,816,1211,843"/>
<area shape="rect" id="node46" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="1105,309,1222,336"/>
<area shape="rect" id="node47" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="1103,360,1223,387"/>
<area shape="rect" id="node48" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="1109,411,1217,437"/>
<area shape="rect" id="node39" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="1340,107,1433,133"/>
<area shape="rect" id="node40" href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0" title="afs_page_filler" alt="" coords="1333,5,1440,32"/>
<area shape="rect" id="node41" href="afs_2file_8c.html#a21cd27d9dee2493ce5a73c030c14acbc" title="afs_readpages_one" alt="" coords="1319,56,1454,83"/>
</map>
</div>

</div>
</div>
<a id="a42612cb541ff5fe35aeb74a8709e14a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42612cb541ff5fe35aeb74a8709e14a4">&#9670;&nbsp;</a></span>afs_do_getlk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int afs_do_getlk </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a42612cb541ff5fe35aeb74a8709e14a4_cgraph.png" border="0" usemap="#flock_8c_a42612cb541ff5fe35aeb74a8709e14a4_cgraph" alt=""/></div>
<map name="flock_8c_a42612cb541ff5fe35aeb74a8709e14a4_cgraph" id="flock_8c_a42612cb541ff5fe35aeb74a8709e14a4_cgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a4319ab62063070e450460f28d1b250f3" title="AFS_FS_I" alt="" coords="167,56,250,83"/>
<area shape="rect" id="node3" href="afs_2internal_8h.html#a4ce1b395f96dba53d265d5d12e590670" title="afs_file_key" alt="" coords="163,107,255,133"/>
<area shape="rect" id="node4" href="locks_8c.html#ae13ea8d3ee951a3de5de182e39d9a0f4" title="posix_test_lock" alt="" coords="152,157,265,184"/>
<area shape="rect" id="node11" href="afs_2inode_8c.html#a7dc95ec3f39d090776a359f87cf747b3" title="afs_fetch_status" alt="" coords="149,413,268,440"/>
<area shape="rect" id="node5" href="locks_8c.html#aad16468669f264d9945a5c59d5117ed8" title="posix_locks_conflict" alt="" coords="336,81,476,108"/>
<area shape="rect" id="node9" href="locks_8c.html#a087e6b3ca4cc4a9b1b6a5da70e9ac838" title="locks_copy_conflock" alt="" coords="334,132,478,159"/>
<area shape="rect" id="node10" href="locks_8c.html#ac392262fb562857fdac04d764121e0b7" title="EXPORT_SYMBOL" alt="" coords="562,157,701,184"/>
<area shape="rect" id="node6" href="locks_8c.html#add16e3a243beb3ce042a53f767599e7e" title="posix_same_owner" alt="" coords="564,5,699,32"/>
<area shape="rect" id="node7" href="locks_8c.html#a708cd2317b05abfa607c61ecff3cd345" title="locks_overlap" alt="" coords="580,56,683,83"/>
<area shape="rect" id="node8" href="locks_8c.html#a299223ee3c8715c0018e770fb35164de" title="locks_conflict" alt="" coords="580,107,683,133"/>
<area shape="rect" id="node12" href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643" title="afs_begin_vnode_operation" alt="" coords="316,388,496,415"/>
<area shape="rect" id="node14" href="afs_2internal_8h.html#a105fdee4b920ba59a26550abc7bfc419" title="afs_select_fileserver" alt="" coords="335,765,477,792"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c" title="afs_calc_vnode_cb_break" alt="" coords="319,816,493,843"/>
<area shape="rect" id="node42" href="fsclient_8c.html#a336582599481c9dfad1ecdd4933612e4" title="afs_fs_fetch_file_status" alt="" coords="325,1272,487,1299"/>
<area shape="rect" id="node46" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04" title="afs_check_for_remote\l_deletion" alt="" coords="331,239,481,281"/>
<area shape="rect" id="node48" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="319,316,493,343"/>
<area shape="rect" id="node50" href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d" title="afs_end_vnode_operation" alt="" coords="546,512,717,539"/>
<area shape="rect" id="node13" href="rotate_8c.html#a07fb8d8d35619bc0f7e49b3acc8782ee" title="afs_init_fs_cursor" alt="" coords="569,309,694,336"/>
<area shape="rect" id="node15" href="afs_2internal_8h.html#a7903104f5ae92cb09d002470375e0f44" title="afs_check_volume_status" alt="" coords="544,411,719,437"/>
<area shape="rect" id="node17" href="afs_2internal_8h.html#aaac25a890c99d6fcb4cb429e93727ddc" title="afs_put_serverlist" alt="" coords="1015,436,1140,463"/>
<area shape="rect" id="node18" href="afs_2callback_8c.html#a1fb0cb3663862e4ac804ff42a51947a3" title="afs_put_cb_interest" alt="" coords="1227,563,1363,589"/>
<area shape="rect" id="node20" href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d" title="afs_abort_to_error" alt="" coords="793,360,919,387"/>
<area shape="rect" id="node21" href="rotate_8c.html#a4ea0dc63121a25baa66119d91686c0a1" title="afs_busy" alt="" coords="594,984,669,1011"/>
<area shape="rect" id="node22" href="rotate_8c.html#a1e09f4525a5525dfb3f1f715c5797231" title="afs_sleep_and_retry" alt="" coords="562,1035,701,1061"/>
<area shape="rect" id="node23" href="addr__list_8c.html#aeb46a0b30847fee49270792788198bf3" title="afs_end_cursor" alt="" coords="801,664,911,691"/>
<area shape="rect" id="node24" href="addr__list_8c.html#a92d6343a3001a8d0bc55b221202723fa" title="afs_put_addrlist" alt="" coords="1429,1221,1544,1248"/>
<area shape="rect" id="node25" href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9" title="afs_v2net" alt="" coords="817,715,895,741"/>
<area shape="rect" id="node26" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="559,613,703,640"/>
<area shape="rect" id="node28" href="afs_2internal_8h.html#a71c538c2f32b68d3516c4a1125e59799" title="afs_check_server_record" alt="" coords="993,1221,1161,1248"/>
<area shape="rect" id="node30" href="afs_2callback_8c.html#a64ebd0db95d8573a3a44f7dd19de78cd" title="afs_register_server\l_cb_interest" alt="" coords="565,867,698,909"/>
<area shape="rect" id="node31" href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f" title="afs_get_cb_interest" alt="" coords="788,1120,924,1147"/>
<area shape="rect" id="node33" href="afs_2internal_8h.html#ad0da2b1acac130ae38fcbf223520a184" title="afs_probe_fileserver" alt="" coords="1008,1171,1147,1197"/>
<area shape="rect" id="node34" href="afs_2internal_8h.html#ab24a354689c8e62717613a48bdea9454" title="afs_get_addrlist" alt="" coords="574,816,689,843"/>
<area shape="rect" id="node40" href="addr__list_8c.html#a496ae3e51cf7b82ced45227a04438b98" title="afs_iterate_addresses" alt="" coords="556,1085,707,1112"/>
<area shape="rect" id="node16" href="volume_8c.html#acf5974cc8c30a198834cde050b96ad96" title="afs_update_volume_status" alt="" coords="767,309,945,336"/>
<area shape="rect" id="node19" href="afs_2internal_8h.html#ac302952d9136c1a378f99892a114ef0d" title="afs_put_server" alt="" coords="1433,563,1541,589"/>
<area shape="rect" id="node27" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a" title="afs_get_serverlist" alt="" coords="793,461,919,488"/>
<area shape="rect" id="node29" href="server_8c.html#a011e2dddcdbe0101ba542e7b5be04ec3" title="afs_update_server_record" alt="" coords="1209,1221,1381,1248"/>
<area shape="rect" id="node32" href="afs_2internal_8h.html#a6adf9289842e0cdd6de872328e4a0c75" title="afs_get_server" alt="" coords="802,1069,910,1096"/>
<area shape="rect" id="node35" href="afs_2internal_8h.html#adb84a1a68225abcfda83632c3277373e" title="afs_alloc_addrlist" alt="" coords="795,968,917,995"/>
<area shape="rect" id="node36" href="afs_2internal_8h.html#af40c0b89c86bd9e600473bf5bf316bca" title="afs_put_addrlist" alt="" coords="799,765,913,792"/>
<area shape="rect" id="node37" href="afs_2internal_8h.html#a5f75115c846143c2f0ade735da97cb92" title="afs_parse_text_addrs" alt="" coords="783,816,929,843"/>
<area shape="rect" id="node38" href="afs_2internal_8h.html#a3345bf5b612581b757a3cc7266415b09" title="afs_dns_query" alt="" coords="803,867,909,893"/>
<area shape="rect" id="node39" href="afs_2internal_8h.html#adedb3f91a1777c8b43058aadb72f580f" title="afs_iterate_addresses" alt="" coords="781,917,931,944"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#aeb1fe9d974fa2aec125189049dad59d6" title="afs_alloc_flat_call" alt="" coords="568,1373,695,1400"/>
<area shape="rect" id="node44" href="fsclient_8c.html#a7b1f6e97dbf1e12441d605abe6836c28" title="afs_use_fs_server" alt="" coords="567,1272,696,1299"/>
<area shape="rect" id="node45" href="afs_2internal_8h.html#ad797c9747d3a4467e02f386f3f969e02" title="afs_make_call" alt="" coords="578,1424,685,1451"/>
<area shape="rect" id="node47" href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827" title="afs_break_callback" alt="" coords="564,208,699,235"/>
<area shape="rect" id="node49" href="afs_2internal_8h.html#a90b8777c7b642a1704c74033cda95572" title="afs_cache_permit" alt="" coords="569,259,694,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a42612cb541ff5fe35aeb74a8709e14a4_icgraph.png" border="0" usemap="#flock_8c_a42612cb541ff5fe35aeb74a8709e14a4_icgraph" alt=""/></div>
<map name="flock_8c_a42612cb541ff5fe35aeb74a8709e14a4_icgraph" id="flock_8c_a42612cb541ff5fe35aeb74a8709e14a4_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958" title="afs_lock" alt="" coords="149,171,220,197"/>
<area shape="rect" id="node3" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="268,196,400,223"/>
<area shape="rect" id="node4" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="844,1809,1019,1836"/>
<area shape="rect" id="node9" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="448,500,573,527"/>
<area shape="rect" id="node5" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="1291,1761,1429,1802"/>
<area shape="rect" id="node6" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="1069,1809,1240,1836"/>
<area shape="rect" id="node7" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="1291,1865,1429,1906"/>
<area shape="rect" id="node8" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="1085,1743,1225,1785"/>
<area shape="rect" id="node10" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="633,931,785,957"/>
<area shape="rect" id="node29" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="621,500,796,527"/>
<area shape="rect" id="node11" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="866,905,997,932"/>
<area shape="rect" id="node12" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="1085,898,1224,939"/>
<area shape="rect" id="node15" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="872,1364,991,1391"/>
<area shape="rect" id="node14" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="1073,847,1236,873"/>
<area shape="rect" id="node13" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="1307,905,1413,932"/>
<area shape="rect" id="node16" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="1074,1641,1235,1668"/>
<area shape="rect" id="node17" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="1089,963,1220,1005"/>
<area shape="rect" id="node18" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="1089,1029,1220,1070"/>
<area shape="rect" id="node19" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="1082,1095,1227,1121"/>
<area shape="rect" id="node20" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="1067,1145,1243,1172"/>
<area shape="rect" id="node21" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="1085,1197,1224,1238"/>
<area shape="rect" id="node22" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="1091,1262,1219,1303"/>
<area shape="rect" id="node23" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="1091,1327,1219,1369"/>
<area shape="rect" id="node24" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="1091,1692,1218,1719"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="1081,1393,1229,1420"/>
<area shape="rect" id="node26" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="1091,1445,1218,1486"/>
<area shape="rect" id="node27" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="1091,1510,1218,1551"/>
<area shape="rect" id="node28" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="1082,1575,1227,1617"/>
<area shape="rect" id="node30" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="892,703,971,729"/>
<area shape="rect" id="node31" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="893,753,969,780"/>
<area shape="rect" id="node32" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1319,297,1401,324"/>
<area shape="rect" id="node33" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="890,804,973,831"/>
<area shape="rect" id="node34" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="898,855,965,881"/>
<area shape="rect" id="node35" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="885,247,977,273"/>
<area shape="rect" id="node36" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="886,297,977,324"/>
<area shape="rect" id="node37" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="877,145,985,172"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="872,69,991,96"/>
<area shape="rect" id="node45" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="889,348,973,375"/>
<area shape="rect" id="node46" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="891,399,971,425"/>
<area shape="rect" id="node47" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="883,449,979,476"/>
<area shape="rect" id="node48" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="873,500,990,527"/>
<area shape="rect" id="node49" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="871,601,991,628"/>
<area shape="rect" id="node50" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="877,652,985,679"/>
<area shape="rect" id="node38" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="1108,208,1201,235"/>
<area shape="rect" id="node39" href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0" title="afs_page_filler" alt="" coords="1101,259,1208,285"/>
<area shape="rect" id="node40" href="afs_2file_8c.html#a21cd27d9dee2493ce5a73c030c14acbc" title="afs_readpages_one" alt="" coords="1087,107,1222,133"/>
<area shape="rect" id="node41" href="afs_2write_8c.html#a2919129e013a0094985a59a4966cc855" title="afs_fill_page" alt="" coords="1107,157,1202,184"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#a1ce0b0ac76e5bc5df354db41c1417bc2" title="afs_iget" alt="" coords="1121,5,1189,32"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a13fe29b5fe144a615ccee62dcfed63a9" title="afs_validate" alt="" coords="1109,56,1201,83"/>
</map>
</div>

</div>
</div>
<a id="a951ebbb6cf0df3e4f2622cd531fa038a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951ebbb6cf0df3e4f2622cd531fa038a">&#9670;&nbsp;</a></span>afs_do_setlk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int afs_do_setlk </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a951ebbb6cf0df3e4f2622cd531fa038a_cgraph.png" border="0" usemap="#flock_8c_a951ebbb6cf0df3e4f2622cd531fa038a_cgraph" alt=""/></div>
<map name="flock_8c_a951ebbb6cf0df3e4f2622cd531fa038a_cgraph" id="flock_8c_a951ebbb6cf0df3e4f2622cd531fa038a_cgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a4319ab62063070e450460f28d1b250f3" title="AFS_FS_I" alt="" coords="205,852,287,879"/>
<area shape="rect" id="node3" href="afs_2internal_8h.html#a4ce1b395f96dba53d265d5d12e590670" title="afs_file_key" alt="" coords="414,1212,506,1239"/>
<area shape="rect" id="node4" href="flock_8c.html#a74f54137a794b1c00d1fc81a68da3a2d" title="afs_do_setlk_check" alt="" coords="177,903,315,929"/>
<area shape="rect" id="node5" href="afs_2inode_8c.html#aeff822b4edfe3ea35bcacec0252a55e3" title="afs_validate" alt="" coords="414,879,506,905"/>
<area shape="rect" id="node36" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="609,929,705,956"/>
<area shape="rect" id="node41" href="flock_8c.html#a101f040a8cfb3a9c255f1a30e4256517" title="afs_schedule_lock_extension" alt="" coords="149,1339,343,1365"/>
<area shape="rect" id="node42" href="locks_8c.html#aef6cce9ffe73d28f09b5ccc2e6d6e348" title="posix_lock_file" alt="" coords="192,1440,300,1467"/>
<area shape="rect" id="node49" href="flock_8c.html#a58ea08174e39b8f23bace222c109127f" title="afs_dequeue_lock" alt="" coords="183,1237,309,1264"/>
<area shape="rect" id="node50" href="flock_8c.html#adae55c6e5b2325d7b05f2b3e1750b40c" title="afs_defer_unlock" alt="" coords="399,1339,521,1365"/>
<area shape="rect" id="node35" href="afs_2internal_8h.html#a1d5bdae54d23475ed9e1873127414d12" title="afs_check_permit" alt="" coords="397,719,523,745"/>
<area shape="rect" id="node6" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="615,828,699,855"/>
<area shape="rect" id="node7" href="afs_2inode_8c.html#a7dc95ec3f39d090776a359f87cf747b3" title="afs_fetch_status" alt="" coords="597,665,716,692"/>
<area shape="rect" id="node34" href="afs_2inode_8c.html#a2f78e0f9b26fe109dd6f21172433aa8a" title="afs_zap_data" alt="" coords="607,879,707,905"/>
<area shape="rect" id="node8" href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643" title="afs_begin_vnode_operation" alt="" coords="784,183,964,209"/>
<area shape="rect" id="node10" href="afs_2internal_8h.html#a105fdee4b920ba59a26550abc7bfc419" title="afs_select_fileserver" alt="" coords="803,639,945,665"/>
<area shape="rect" id="node27" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c" title="afs_calc_vnode_cb_break" alt="" coords="787,588,961,615"/>
<area shape="rect" id="node28" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04" title="afs_check_for_remote\l_deletion" alt="" coords="799,1111,949,1153"/>
<area shape="rect" id="node31" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="787,929,961,956"/>
<area shape="rect" id="node33" href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d" title="afs_end_vnode_operation" alt="" coords="789,233,959,260"/>
<area shape="rect" id="node9" href="rotate_8c.html#a07fb8d8d35619bc0f7e49b3acc8782ee" title="afs_init_fs_cursor" alt="" coords="1037,5,1162,32"/>
<area shape="rect" id="node11" href="afs_2internal_8h.html#a7903104f5ae92cb09d002470375e0f44" title="afs_check_volume_status" alt="" coords="1012,512,1187,539"/>
<area shape="rect" id="node12" href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d" title="afs_abort_to_error" alt="" coords="1036,208,1163,235"/>
<area shape="rect" id="node13" href="rotate_8c.html#a4ea0dc63121a25baa66119d91686c0a1" title="afs_busy" alt="" coords="1062,563,1137,589"/>
<area shape="rect" id="node14" href="rotate_8c.html#a1e09f4525a5525dfb3f1f715c5797231" title="afs_sleep_and_retry" alt="" coords="1030,613,1169,640"/>
<area shape="rect" id="node15" href="addr__list_8c.html#aeb46a0b30847fee49270792788198bf3" title="afs_end_cursor" alt="" coords="1044,107,1155,133"/>
<area shape="rect" id="node16" href="addr__list_8c.html#a92d6343a3001a8d0bc55b221202723fa" title="afs_put_addrlist" alt="" coords="1269,208,1383,235"/>
<area shape="rect" id="node17" href="afs_2callback_8c.html#a1fb0cb3663862e4ac804ff42a51947a3" title="afs_put_cb_interest" alt="" coords="1258,360,1394,387"/>
<area shape="rect" id="node18" href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9" title="afs_v2net" alt="" coords="1287,824,1365,851"/>
<area shape="rect" id="node19" href="afs_2internal_8h.html#aaac25a890c99d6fcb4cb429e93727ddc" title="afs_put_serverlist" alt="" coords="1037,259,1162,285"/>
<area shape="rect" id="node20" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="1027,411,1171,437"/>
<area shape="rect" id="node21" href="afs_2internal_8h.html#a71c538c2f32b68d3516c4a1125e59799" title="afs_check_server_record" alt="" coords="1015,664,1183,691"/>
<area shape="rect" id="node22" href="afs_2callback_8c.html#a64ebd0db95d8573a3a44f7dd19de78cd" title="afs_register_server\l_cb_interest" alt="" coords="1033,817,1166,858"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f" title="afs_get_cb_interest" alt="" coords="1258,933,1394,960"/>
<area shape="rect" id="node24" href="afs_2internal_8h.html#ab24a354689c8e62717613a48bdea9454" title="afs_get_addrlist" alt="" coords="1042,715,1157,741"/>
<area shape="rect" id="node25" href="afs_2internal_8h.html#ad0da2b1acac130ae38fcbf223520a184" title="afs_probe_fileserver" alt="" coords="1030,765,1169,792"/>
<area shape="rect" id="node26" href="addr__list_8c.html#a496ae3e51cf7b82ced45227a04438b98" title="afs_iterate_addresses" alt="" coords="1024,461,1175,488"/>
<area shape="rect" id="node29" href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827" title="afs_break_callback" alt="" coords="1032,1237,1167,1264"/>
<area shape="rect" id="node30" href="flock_8c.html#ab359dd36e5f4cdc8c6136e99fd3e2d56" title="afs_lock_may_be_available" alt="" coords="1235,1288,1417,1315"/>
<area shape="rect" id="node32" href="afs_2internal_8h.html#a90b8777c7b642a1704c74033cda95572" title="afs_cache_permit" alt="" coords="1037,984,1162,1011"/>
<area shape="rect" id="node37" href="fsclient_8c.html#ac8f5df618a1c83f3e8e348c88a68817f" title="afs_fs_set_lock" alt="" coords="817,1060,931,1087"/>
<area shape="rect" id="node38" href="afs_2internal_8h.html#aeb1fe9d974fa2aec125189049dad59d6" title="afs_alloc_flat_call" alt="" coords="1036,1187,1163,1213"/>
<area shape="rect" id="node39" href="fsclient_8c.html#a7b1f6e97dbf1e12441d605abe6836c28" title="afs_use_fs_server" alt="" coords="1035,1085,1164,1112"/>
<area shape="rect" id="node40" href="afs_2internal_8h.html#ad797c9747d3a4467e02f386f3f969e02" title="afs_make_call" alt="" coords="1046,1136,1153,1163"/>
<area shape="rect" id="node43" href="locks_8c.html#a74932dd2a00fd241c25a16e67ed4ef25" title="posix_lock_inode" alt="" coords="399,1440,521,1467"/>
<area shape="rect" id="node48" href="locks_8c.html#ac392262fb562857fdac04d764121e0b7" title="EXPORT_SYMBOL" alt="" coords="391,1491,529,1517"/>
<area shape="rect" id="node44" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="609,1389,704,1416"/>
<area shape="rect" id="node45" href="locks_8c.html#a329ba984f34a261ff361fca1a25b6d3a" title="locks_get_lock_context" alt="" coords="577,1440,736,1467"/>
<area shape="rect" id="node46" href="locks_8c.html#a2566d7885e0afef541b1d95747f9e40e" title="locks_alloc_lock" alt="" coords="597,1491,716,1517"/>
<area shape="rect" id="node47" href="locks_8c.html#aad16468669f264d9945a5c59d5117ed8" title="posix_locks_conflict" alt="" coords="587,1541,727,1568"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a951ebbb6cf0df3e4f2622cd531fa038a_icgraph.png" border="0" usemap="#flock_8c_a951ebbb6cf0df3e4f2622cd531fa038a_icgraph" alt=""/></div>
<map name="flock_8c_a951ebbb6cf0df3e4f2622cd531fa038a_icgraph" id="flock_8c_a951ebbb6cf0df3e4f2622cd531fa038a_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958" title="afs_lock" alt="" coords="151,1628,222,1655"/>
<area shape="rect" id="node50" href="afs_2internal_8h.html#a70b72a06652b89ad9da5d68e012e070e" title="afs_flock" alt="" coords="149,1679,224,1705"/>
<area shape="rect" id="node3" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="272,1640,404,1667"/>
<area shape="rect" id="node4" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="848,969,1023,996"/>
<area shape="rect" id="node9" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="452,1273,577,1300"/>
<area shape="rect" id="node5" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="1295,921,1433,962"/>
<area shape="rect" id="node6" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="1073,969,1244,996"/>
<area shape="rect" id="node7" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="1295,1025,1433,1066"/>
<area shape="rect" id="node8" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="1089,903,1229,945"/>
<area shape="rect" id="node10" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="637,403,789,429"/>
<area shape="rect" id="node29" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="625,1375,800,1401"/>
<area shape="rect" id="node11" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="870,64,1001,91"/>
<area shape="rect" id="node12" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="1089,57,1228,98"/>
<area shape="rect" id="node15" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="876,527,995,553"/>
<area shape="rect" id="node14" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="1077,5,1240,32"/>
<area shape="rect" id="node13" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="1311,64,1417,91"/>
<area shape="rect" id="node16" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="1078,436,1239,463"/>
<area shape="rect" id="node17" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="1093,487,1224,529"/>
<area shape="rect" id="node18" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="1093,553,1224,594"/>
<area shape="rect" id="node19" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="1086,619,1231,645"/>
<area shape="rect" id="node20" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="1071,669,1247,696"/>
<area shape="rect" id="node21" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="1089,721,1228,762"/>
<area shape="rect" id="node22" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="1095,786,1223,827"/>
<area shape="rect" id="node23" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="1095,122,1223,163"/>
<area shape="rect" id="node24" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="1095,852,1222,879"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="1085,188,1233,215"/>
<area shape="rect" id="node26" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="1095,239,1222,281"/>
<area shape="rect" id="node27" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="1095,305,1222,346"/>
<area shape="rect" id="node28" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="1086,370,1231,411"/>
<area shape="rect" id="node30" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="896,1273,975,1300"/>
<area shape="rect" id="node31" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="897,1324,973,1351"/>
<area shape="rect" id="node32" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="895,1375,976,1401"/>
<area shape="rect" id="node33" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="894,1425,977,1452"/>
<area shape="rect" id="node34" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="902,1476,969,1503"/>
<area shape="rect" id="node35" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="889,1527,981,1553"/>
<area shape="rect" id="node36" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="890,1577,981,1604"/>
<area shape="rect" id="node37" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="881,1679,989,1705"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="876,1628,995,1655"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="893,1071,977,1097"/>
<area shape="rect" id="node45" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="895,1121,975,1148"/>
<area shape="rect" id="node46" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="887,1729,983,1756"/>
<area shape="rect" id="node47" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="877,1172,994,1199"/>
<area shape="rect" id="node48" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="875,1223,995,1249"/>
<area shape="rect" id="node49" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="881,1020,989,1047"/>
<area shape="rect" id="node38" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="1112,1628,1205,1655"/>
<area shape="rect" id="node39" href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0" title="afs_page_filler" alt="" coords="1105,1780,1212,1807"/>
<area shape="rect" id="node40" href="afs_2file_8c.html#a21cd27d9dee2493ce5a73c030c14acbc" title="afs_readpages_one" alt="" coords="1091,1679,1226,1705"/>
<area shape="rect" id="node41" href="afs_2write_8c.html#a2919129e013a0094985a59a4966cc855" title="afs_fill_page" alt="" coords="1111,1729,1206,1756"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#a1ce0b0ac76e5bc5df354db41c1417bc2" title="afs_iget" alt="" coords="1125,1577,1193,1604"/>
</map>
</div>

</div>
</div>
<a id="a74f54137a794b1c00d1fc81a68da3a2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74f54137a794b1c00d1fc81a68da3a2d">&#9670;&nbsp;</a></span>afs_do_setlk_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int afs_do_setlk_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *&#160;</td>
          <td class="paramname"><em>vnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="afs_8h.html#a38e93ddc172f1f186bd8047fe754c10e">afs_lock_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>can_sleep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a74f54137a794b1c00d1fc81a68da3a2d_cgraph.png" border="0" usemap="#flock_8c_a74f54137a794b1c00d1fc81a68da3a2d_cgraph" alt=""/></div>
<map name="flock_8c_a74f54137a794b1c00d1fc81a68da3a2d_cgraph" id="flock_8c_a74f54137a794b1c00d1fc81a68da3a2d_cgraph">
<area shape="rect" id="node2" href="afs_2inode_8c.html#aeff822b4edfe3ea35bcacec0252a55e3" title="afs_validate" alt="" coords="209,816,301,843"/>
<area shape="rect" id="node50" href="afs_2internal_8h.html#a1d5bdae54d23475ed9e1873127414d12" title="afs_check_permit" alt="" coords="192,867,317,893"/>
<area shape="rect" id="node3" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="383,816,467,843"/>
<area shape="rect" id="node5" href="afs_2inode_8c.html#a7dc95ec3f39d090776a359f87cf747b3" title="afs_fetch_status" alt="" coords="365,867,484,893"/>
<area shape="rect" id="node49" href="afs_2inode_8c.html#a2f78e0f9b26fe109dd6f21172433aa8a" title="afs_zap_data" alt="" coords="375,765,475,792"/>
<area shape="rect" id="node4" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="553,689,691,716"/>
<area shape="rect" id="node6" href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643" title="afs_begin_vnode_operation" alt="" coords="532,791,712,817"/>
<area shape="rect" id="node8" href="afs_2internal_8h.html#a105fdee4b920ba59a26550abc7bfc419" title="afs_select_fileserver" alt="" coords="551,892,693,919"/>
<area shape="rect" id="node39" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c" title="afs_calc_vnode_cb_break" alt="" coords="535,1211,709,1237"/>
<area shape="rect" id="node40" href="fsclient_8c.html#a336582599481c9dfad1ecdd4933612e4" title="afs_fs_fetch_file_status" alt="" coords="541,1160,703,1187"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04" title="afs_check_for_remote\l_deletion" alt="" coords="547,1443,697,1485"/>
<area shape="rect" id="node46" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="535,740,709,767"/>
<area shape="rect" id="node48" href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d" title="afs_end_vnode_operation" alt="" coords="762,512,933,539"/>
<area shape="rect" id="node7" href="rotate_8c.html#a07fb8d8d35619bc0f7e49b3acc8782ee" title="afs_init_fs_cursor" alt="" coords="785,208,910,235"/>
<area shape="rect" id="node9" href="afs_2internal_8h.html#a7903104f5ae92cb09d002470375e0f44" title="afs_check_volume_status" alt="" coords="760,664,935,691"/>
<area shape="rect" id="node11" href="afs_2internal_8h.html#aaac25a890c99d6fcb4cb429e93727ddc" title="afs_put_serverlist" alt="" coords="1231,689,1356,716"/>
<area shape="rect" id="node12" href="afs_2callback_8c.html#a1fb0cb3663862e4ac804ff42a51947a3" title="afs_put_cb_interest" alt="" coords="1443,765,1579,792"/>
<area shape="rect" id="node14" href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d" title="afs_abort_to_error" alt="" coords="1009,563,1135,589"/>
<area shape="rect" id="node15" href="rotate_8c.html#a4ea0dc63121a25baa66119d91686c0a1" title="afs_busy" alt="" coords="810,765,885,792"/>
<area shape="rect" id="node16" href="rotate_8c.html#a1e09f4525a5525dfb3f1f715c5797231" title="afs_sleep_and_retry" alt="" coords="778,816,917,843"/>
<area shape="rect" id="node17" href="addr__list_8c.html#aeb46a0b30847fee49270792788198bf3" title="afs_end_cursor" alt="" coords="1017,816,1127,843"/>
<area shape="rect" id="node18" href="addr__list_8c.html#a92d6343a3001a8d0bc55b221202723fa" title="afs_put_addrlist" alt="" coords="1645,1107,1760,1133"/>
<area shape="rect" id="node19" href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9" title="afs_v2net" alt="" coords="1033,917,1111,944"/>
<area shape="rect" id="node20" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="775,715,919,741"/>
<area shape="rect" id="node22" href="afs_2internal_8h.html#a71c538c2f32b68d3516c4a1125e59799" title="afs_check_server_record" alt="" coords="1209,1233,1377,1260"/>
<area shape="rect" id="node24" href="afs_2callback_8c.html#a64ebd0db95d8573a3a44f7dd19de78cd" title="afs_register_server\l_cb_interest" alt="" coords="781,1171,914,1213"/>
<area shape="rect" id="node25" href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f" title="afs_get_cb_interest" alt="" coords="1004,1237,1140,1264"/>
<area shape="rect" id="node27" href="afs_2internal_8h.html#ad0da2b1acac130ae38fcbf223520a184" title="afs_probe_fileserver" alt="" coords="1224,1081,1363,1108"/>
<area shape="rect" id="node28" href="afs_2internal_8h.html#ab24a354689c8e62717613a48bdea9454" title="afs_get_addrlist" alt="" coords="790,259,905,285"/>
<area shape="rect" id="node38" href="addr__list_8c.html#a496ae3e51cf7b82ced45227a04438b98" title="afs_iterate_addresses" alt="" coords="772,968,923,995"/>
<area shape="rect" id="node10" href="volume_8c.html#acf5974cc8c30a198834cde050b96ad96" title="afs_update_volume_status" alt="" coords="983,664,1161,691"/>
<area shape="rect" id="node13" href="afs_2internal_8h.html#ac302952d9136c1a378f99892a114ef0d" title="afs_put_server" alt="" coords="1649,765,1757,792"/>
<area shape="rect" id="node21" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a" title="afs_get_serverlist" alt="" coords="1009,715,1135,741"/>
<area shape="rect" id="node23" href="server_8c.html#a011e2dddcdbe0101ba542e7b5be04ec3" title="afs_update_server_record" alt="" coords="1425,1233,1597,1260"/>
<area shape="rect" id="node26" href="afs_2internal_8h.html#a6adf9289842e0cdd6de872328e4a0c75" title="afs_get_server" alt="" coords="1018,1183,1126,1209"/>
<area shape="rect" id="node29" href="afs_2internal_8h.html#adb84a1a68225abcfda83632c3277373e" title="afs_alloc_addrlist" alt="" coords="1011,360,1133,387"/>
<area shape="rect" id="node30" href="afs_2internal_8h.html#af40c0b89c86bd9e600473bf5bf316bca" title="afs_put_addrlist" alt="" coords="1015,5,1129,32"/>
<area shape="rect" id="node31" href="afs_2internal_8h.html#a5f75115c846143c2f0ade735da97cb92" title="afs_parse_text_addrs" alt="" coords="999,56,1145,83"/>
<area shape="rect" id="node32" href="afs_2internal_8h.html#a3345bf5b612581b757a3cc7266415b09" title="afs_dns_query" alt="" coords="1019,107,1125,133"/>
<area shape="rect" id="node33" href="afs_2internal_8h.html#adedb3f91a1777c8b43058aadb72f580f" title="afs_iterate_addresses" alt="" coords="997,157,1147,184"/>
<area shape="rect" id="node34" href="afs_2internal_8h.html#a5321a618b7fb8d3fb9ca27b87aa48f03" title="afs_end_cursor" alt="" coords="1456,532,1567,559"/>
<area shape="rect" id="node35" href="afs_2internal_8h.html#af79f4fac2041d7339b848eebcf89fc53" title="afs_set_vl_cursor" alt="" coords="1009,208,1135,235"/>
<area shape="rect" id="node36" href="afs_2internal_8h.html#aebc4dca57e6987e799c507ed5db328ce" title="afs_merge_fs_addr4" alt="" coords="1002,259,1142,285"/>
<area shape="rect" id="node37" href="afs_2internal_8h.html#a543ab64b81243be165175261a307249e" title="afs_merge_fs_addr6" alt="" coords="1002,309,1142,336"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#aeb1fe9d974fa2aec125189049dad59d6" title="afs_alloc_flat_call" alt="" coords="784,1491,911,1517"/>
<area shape="rect" id="node42" href="fsclient_8c.html#a7b1f6e97dbf1e12441d605abe6836c28" title="afs_use_fs_server" alt="" coords="783,1339,912,1365"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#ad797c9747d3a4467e02f386f3f969e02" title="afs_make_call" alt="" coords="794,1440,901,1467"/>
<area shape="rect" id="node45" href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827" title="afs_break_callback" alt="" coords="780,1541,915,1568"/>
<area shape="rect" id="node47" href="afs_2internal_8h.html#a90b8777c7b642a1704c74033cda95572" title="afs_cache_permit" alt="" coords="785,157,910,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a74f54137a794b1c00d1fc81a68da3a2d_icgraph.png" border="0" usemap="#flock_8c_a74f54137a794b1c00d1fc81a68da3a2d_icgraph" alt=""/></div>
<map name="flock_8c_a74f54137a794b1c00d1fc81a68da3a2d_icgraph" id="flock_8c_a74f54137a794b1c00d1fc81a68da3a2d_icgraph">
<area shape="rect" id="node2" href="flock_8c.html#a951ebbb6cf0df3e4f2622cd531fa038a" title="afs_do_setlk" alt="" coords="192,1769,288,1795"/>
<area shape="rect" id="node3" href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958" title="afs_lock" alt="" coords="338,1718,409,1745"/>
<area shape="rect" id="node50" href="afs_2internal_8h.html#a70b72a06652b89ad9da5d68e012e070e" title="afs_flock" alt="" coords="336,1769,411,1795"/>
<area shape="rect" id="node4" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="459,1718,591,1745"/>
<area shape="rect" id="node5" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="1035,155,1209,182"/>
<area shape="rect" id="node10" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="639,1414,764,1441"/>
<area shape="rect" id="node6" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="1481,5,1620,47"/>
<area shape="rect" id="node7" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="1260,155,1431,182"/>
<area shape="rect" id="node8" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="1481,88,1620,129"/>
<area shape="rect" id="node9" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="1275,207,1415,248"/>
<area shape="rect" id="node11" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="823,983,975,1010"/>
<area shape="rect" id="node30" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="812,1414,987,1441"/>
<area shape="rect" id="node12" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="1057,1009,1187,1035"/>
<area shape="rect" id="node13" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="1276,1001,1415,1043"/>
<area shape="rect" id="node16" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="1063,535,1181,562"/>
<area shape="rect" id="node15" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="1264,1067,1427,1094"/>
<area shape="rect" id="node14" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="1497,1009,1604,1035"/>
<area shape="rect" id="node17" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="1265,273,1426,299"/>
<area shape="rect" id="node18" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="1280,324,1411,365"/>
<area shape="rect" id="node19" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="1280,389,1411,431"/>
<area shape="rect" id="node20" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="1273,455,1418,482"/>
<area shape="rect" id="node21" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="1257,506,1433,533"/>
<area shape="rect" id="node22" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="1276,557,1415,599"/>
<area shape="rect" id="node23" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="1281,623,1409,664"/>
<area shape="rect" id="node24" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="1281,688,1409,729"/>
<area shape="rect" id="node25" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="1282,54,1409,81"/>
<area shape="rect" id="node26" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="1271,754,1419,781"/>
<area shape="rect" id="node27" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="1282,805,1409,847"/>
<area shape="rect" id="node28" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="1282,871,1409,912"/>
<area shape="rect" id="node29" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="1273,936,1418,977"/>
<area shape="rect" id="node31" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="1083,1059,1161,1086"/>
<area shape="rect" id="node32" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="1084,1110,1160,1137"/>
<area shape="rect" id="node33" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1081,1161,1163,1187"/>
<area shape="rect" id="node34" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="1081,1211,1163,1238"/>
<area shape="rect" id="node35" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="1089,1262,1155,1289"/>
<area shape="rect" id="node36" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="1076,1313,1168,1339"/>
<area shape="rect" id="node37" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="1077,1363,1167,1390"/>
<area shape="rect" id="node38" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="1068,1718,1176,1745"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="1063,1414,1181,1441"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="1080,1465,1164,1491"/>
<area shape="rect" id="node45" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="1082,1515,1162,1542"/>
<area shape="rect" id="node46" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="1074,1819,1170,1846"/>
<area shape="rect" id="node47" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="1063,1566,1181,1593"/>
<area shape="rect" id="node48" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="1062,1617,1182,1643"/>
<area shape="rect" id="node49" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="1068,1667,1176,1694"/>
<area shape="rect" id="node39" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="1299,1617,1392,1643"/>
<area shape="rect" id="node40" href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0" title="afs_page_filler" alt="" coords="1292,1769,1399,1795"/>
<area shape="rect" id="node41" href="afs_2file_8c.html#a21cd27d9dee2493ce5a73c030c14acbc" title="afs_readpages_one" alt="" coords="1278,1667,1413,1694"/>
<area shape="rect" id="node42" href="afs_2write_8c.html#a2919129e013a0094985a59a4966cc855" title="afs_fill_page" alt="" coords="1298,1718,1393,1745"/>
</map>
</div>

</div>
</div>
<a id="a45d05209d42a7a1d13bffe391b8ab187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45d05209d42a7a1d13bffe391b8ab187">&#9670;&nbsp;</a></span>afs_do_unlk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int afs_do_unlk </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a45d05209d42a7a1d13bffe391b8ab187_cgraph.png" border="0" usemap="#flock_8c_a45d05209d42a7a1d13bffe391b8ab187_cgraph" alt=""/></div>
<map name="flock_8c_a45d05209d42a7a1d13bffe391b8ab187_cgraph" id="flock_8c_a45d05209d42a7a1d13bffe391b8ab187_cgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a4319ab62063070e450460f28d1b250f3" title="AFS_FS_I" alt="" coords="158,5,241,32"/>
<area shape="rect" id="node3" href="sync_8c.html#afccf0b8bd0e71e4a5872e15fb493d987" title="vfs_fsync" alt="" coords="160,56,239,83"/>
<area shape="rect" id="node6" href="locks_8c.html#aef6cce9ffe73d28f09b5ccc2e6d6e348" title="posix_lock_file" alt="" coords="145,107,253,133"/>
<area shape="rect" id="node4" href="sync_8c.html#ae306f1702cb8dc8c79c3388afc632a4f" title="vfs_fsync_range" alt="" coords="303,5,422,32"/>
<area shape="rect" id="node5" href="sync_8c.html#a362b873c39d0612c99510b5d04c18cfc" title="EXPORT_SYMBOL" alt="" coords="482,31,621,57"/>
<area shape="rect" id="node7" href="locks_8c.html#a74932dd2a00fd241c25a16e67ed4ef25" title="posix_lock_inode" alt="" coords="301,461,424,488"/>
<area shape="rect" id="node18" href="locks_8c.html#ac392262fb562857fdac04d764121e0b7" title="EXPORT_SYMBOL" alt="" coords="915,183,1053,209"/>
<area shape="rect" id="node8" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="504,411,599,437"/>
<area shape="rect" id="node9" href="locks_8c.html#a329ba984f34a261ff361fca1a25b6d3a" title="locks_get_lock_context" alt="" coords="472,461,631,488"/>
<area shape="rect" id="node10" href="locks_8c.html#a2566d7885e0afef541b1d95747f9e40e" title="locks_alloc_lock" alt="" coords="492,732,611,759"/>
<area shape="rect" id="node13" href="locks_8c.html#aad16468669f264d9945a5c59d5117ed8" title="posix_locks_conflict" alt="" coords="481,664,621,691"/>
<area shape="rect" id="node14" href="locks_8c.html#add16e3a243beb3ce042a53f767599e7e" title="posix_same_owner" alt="" coords="917,871,1051,897"/>
<area shape="rect" id="node17" href="locks_8c.html#a087e6b3ca4cc4a9b1b6a5da70e9ac838" title="locks_copy_conflock" alt="" coords="696,208,840,235"/>
<area shape="rect" id="node19" href="locks_8c.html#a8e4f043488fc3129c67769083c866fab" title="posix_locks_deadlock" alt="" coords="476,833,627,860"/>
<area shape="rect" id="node22" href="locks_8c.html#a031960b4f1060703c82757cbb4f3c19f" title="__locks_insert_block" alt="" coords="479,613,623,640"/>
<area shape="rect" id="node24" href="locks_8c.html#a18eab8557cb03c6bf18166b922df3fad" title="locks_delete_lock_ctx" alt="" coords="476,512,627,539"/>
<area shape="rect" id="node27" href="locks_8c.html#a0aca39f10696418358050604c8c6838a" title="locks_wake_up_blocks" alt="" coords="905,292,1063,319"/>
<area shape="rect" id="node30" href="locks_8c.html#a3946eda3effdd575cb8fb0a1e20c267c" title="locks_free_lock" alt="" coords="711,343,825,369"/>
<area shape="rect" id="node32" href="locks_8c.html#a1422e47f8cb74382412c08a77127f00d" title="locks_copy_lock" alt="" coords="492,157,611,184"/>
<area shape="rect" id="node33" href="locks_8c.html#a94eddde277cc9dba246c92525ac69bab" title="locks_insert_lock_ctx" alt="" coords="477,563,625,589"/>
<area shape="rect" id="node35" href="locks_8c.html#ac12b58b3307f3ea0e51a6310457e5366" title="locks_dispose_list" alt="" coords="487,360,616,387"/>
<area shape="rect" id="node11" href="locks_8c.html#aaf0eec7769579a2fbc1ddd9804470873" title="locks_init_lock_heads" alt="" coords="693,783,843,809"/>
<area shape="rect" id="node12" href="locks_8c.html#ae0e51117f92ae6dc5ccfbaa60aaa53f1" title="EXPORT_SYMBOL_GPL" alt="" coords="1111,537,1283,564"/>
<area shape="rect" id="node15" href="locks_8c.html#a708cd2317b05abfa607c61ecff3cd345" title="locks_overlap" alt="" coords="717,631,819,657"/>
<area shape="rect" id="node16" href="locks_8c.html#a299223ee3c8715c0018e770fb35164de" title="locks_conflict" alt="" coords="717,580,819,607"/>
<area shape="rect" id="node20" href="locks_8c.html#a6a435269009726e3693dd16b6ff26cf4" title="what_owner_is_waiting_for" alt="" coords="679,833,857,860"/>
<area shape="rect" id="node21" href="locks_8c.html#a647ea7d19826cc32c8d7dc869167a4df" title="posix_owner_key" alt="" coords="923,795,1045,821"/>
<area shape="rect" id="node23" href="locks_8c.html#a20a8676d431cbbf605a58cfb757ae919" title="locks_insert_global\l_blocked" alt="" coords="701,514,835,555"/>
<area shape="rect" id="node25" href="locks_8c.html#abf58467415726d687ab799cddf63f385" title="locks_unlink_lock_ctx" alt="" coords="693,397,843,424"/>
<area shape="rect" id="node26" href="locks_8c.html#a593e269556a3d38cfa401e437c8d970c" title="locks_delete_global\l_locks" alt="" coords="916,394,1052,435"/>
<area shape="rect" id="node28" href="locks_8c.html#a34706a070522e1ed9f54d505deec93cd" title="__locks_delete_block" alt="" coords="1123,292,1270,319"/>
<area shape="rect" id="node29" href="locks_8c.html#aca1f3e9910253289155c5236c83b9ff4" title="locks_delete_global\l_blocked" alt="" coords="1331,285,1467,326"/>
<area shape="rect" id="node31" href="locks_8c.html#a8fd94e778fd9f51467c83f045029c2d1" title="locks_release_private" alt="" coords="910,343,1058,369"/>
<area shape="rect" id="node34" href="locks_8c.html#a2a74fb7e08cc91f2b40e6e8407e19334" title="locks_insert_global\l_locks" alt="" coords="701,449,835,490"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a45d05209d42a7a1d13bffe391b8ab187_icgraph.png" border="0" usemap="#flock_8c_a45d05209d42a7a1d13bffe391b8ab187_icgraph" alt=""/></div>
<map name="flock_8c_a45d05209d42a7a1d13bffe391b8ab187_icgraph" id="flock_8c_a45d05209d42a7a1d13bffe391b8ab187_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958" title="afs_lock" alt="" coords="147,1051,218,1078"/>
<area shape="rect" id="node50" href="afs_2internal_8h.html#a70b72a06652b89ad9da5d68e012e070e" title="afs_flock" alt="" coords="145,1102,220,1129"/>
<area shape="rect" id="node3" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="268,1077,400,1103"/>
<area shape="rect" id="node4" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="844,223,1019,250"/>
<area shape="rect" id="node9" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="448,987,573,1014"/>
<area shape="rect" id="node5" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="1291,191,1429,232"/>
<area shape="rect" id="node6" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="1069,223,1240,250"/>
<area shape="rect" id="node7" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="1291,295,1429,336"/>
<area shape="rect" id="node8" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="1085,275,1225,316"/>
<area shape="rect" id="node10" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="633,505,785,531"/>
<area shape="rect" id="node29" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="621,987,796,1014"/>
<area shape="rect" id="node11" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="866,71,997,98"/>
<area shape="rect" id="node12" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="1085,5,1224,47"/>
<area shape="rect" id="node15" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="872,582,991,609"/>
<area shape="rect" id="node14" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="1073,71,1236,98"/>
<area shape="rect" id="node13" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="1307,13,1413,39"/>
<area shape="rect" id="node16" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="1074,706,1235,733"/>
<area shape="rect" id="node17" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="1089,757,1220,799"/>
<area shape="rect" id="node18" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="1089,823,1220,864"/>
<area shape="rect" id="node19" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="1082,889,1227,915"/>
<area shape="rect" id="node20" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="1067,939,1243,966"/>
<area shape="rect" id="node21" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="1085,991,1224,1032"/>
<area shape="rect" id="node22" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="1091,1056,1219,1097"/>
<area shape="rect" id="node23" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="1091,392,1219,433"/>
<area shape="rect" id="node24" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="1091,341,1218,367"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="1081,458,1229,485"/>
<area shape="rect" id="node26" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="1091,509,1218,551"/>
<area shape="rect" id="node27" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="1091,575,1218,616"/>
<area shape="rect" id="node28" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="1082,640,1227,681"/>
<area shape="rect" id="node30" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="892,1089,971,1115"/>
<area shape="rect" id="node31" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="893,1139,969,1166"/>
<area shape="rect" id="node32" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="891,1190,972,1217"/>
<area shape="rect" id="node33" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="890,1241,973,1267"/>
<area shape="rect" id="node34" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="898,1291,965,1318"/>
<area shape="rect" id="node35" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="885,633,977,659"/>
<area shape="rect" id="node36" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="886,683,977,710"/>
<area shape="rect" id="node37" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="877,1342,985,1369"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="872,734,991,761"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="889,785,973,811"/>
<area shape="rect" id="node45" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="891,835,971,862"/>
<area shape="rect" id="node46" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="883,886,979,913"/>
<area shape="rect" id="node47" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="873,937,990,963"/>
<area shape="rect" id="node48" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="871,987,991,1014"/>
<area shape="rect" id="node49" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="877,1038,985,1065"/>
<area shape="rect" id="node38" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="1108,1241,1201,1267"/>
<area shape="rect" id="node39" href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0" title="afs_page_filler" alt="" coords="1101,1393,1208,1419"/>
<area shape="rect" id="node40" href="afs_2file_8c.html#a21cd27d9dee2493ce5a73c030c14acbc" title="afs_readpages_one" alt="" coords="1087,1291,1222,1318"/>
<area shape="rect" id="node41" href="afs_2write_8c.html#a2919129e013a0094985a59a4966cc855" title="afs_fill_page" alt="" coords="1107,1342,1202,1369"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#a1ce0b0ac76e5bc5df354db41c1417bc2" title="afs_iget" alt="" coords="1121,1122,1189,1149"/>
</map>
</div>

</div>
</div>
<a id="a51a30fbf4ddbb44e3a170fac4f7fabb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51a30fbf4ddbb44e3a170fac4f7fabb4">&#9670;&nbsp;</a></span>afs_extend_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int afs_extend_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *&#160;</td>
          <td class="paramname"><em>vnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a51a30fbf4ddbb44e3a170fac4f7fabb4_cgraph.png" border="0" usemap="#flock_8c_a51a30fbf4ddbb44e3a170fac4f7fabb4_cgraph" alt=""/></div>
<map name="flock_8c_a51a30fbf4ddbb44e3a170fac4f7fabb4_cgraph" id="flock_8c_a51a30fbf4ddbb44e3a170fac4f7fabb4_cgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643" title="afs_begin_vnode_operation" alt="" coords="171,484,351,511"/>
<area shape="rect" id="node4" href="afs_2internal_8h.html#a38be7e1a8eaac71104e2f93763156258" title="afs_select_current\l_fileserver" alt="" coords="401,529,531,570"/>
<area shape="rect" id="node21" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c" title="afs_calc_vnode_cb_break" alt="" coords="174,747,347,773"/>
<area shape="rect" id="node22" href="fsclient_8c.html#a23fa0865b1349a334e4907b1bf066e82" title="afs_fs_extend_lock" alt="" coords="193,696,328,723"/>
<area shape="rect" id="node39" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04" title="afs_check_for_remote\l_deletion" alt="" coords="185,885,336,926"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="173,1124,348,1151"/>
<area shape="rect" id="node48" href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d" title="afs_end_vnode_operation" alt="" coords="587,588,758,615"/>
<area shape="rect" id="node3" href="rotate_8c.html#a07fb8d8d35619bc0f7e49b3acc8782ee" title="afs_init_fs_cursor" alt="" coords="403,477,529,504"/>
<area shape="rect" id="node5" href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f" title="afs_get_cb_interest" alt="" coords="605,643,741,669"/>
<area shape="rect" id="node6" href="afs_2internal_8h.html#ab24a354689c8e62717613a48bdea9454" title="afs_get_addrlist" alt="" coords="615,208,730,235"/>
<area shape="rect" id="node19" href="addr__list_8c.html#a496ae3e51cf7b82ced45227a04438b98" title="afs_iterate_addresses" alt="" coords="597,485,748,512"/>
<area shape="rect" id="node20" href="addr__list_8c.html#aeb46a0b30847fee49270792788198bf3" title="afs_end_cursor" alt="" coords="841,461,951,488"/>
<area shape="rect" id="node7" href="afs_2internal_8h.html#adb84a1a68225abcfda83632c3277373e" title="afs_alloc_addrlist" alt="" coords="835,259,957,285"/>
<area shape="rect" id="node8" href="afs_2internal_8h.html#af40c0b89c86bd9e600473bf5bf316bca" title="afs_put_addrlist" alt="" coords="839,309,953,336"/>
<area shape="rect" id="node9" href="afs_2internal_8h.html#a5f75115c846143c2f0ade735da97cb92" title="afs_parse_text_addrs" alt="" coords="1042,348,1189,375"/>
<area shape="rect" id="node11" href="afs_2internal_8h.html#a3345bf5b612581b757a3cc7266415b09" title="afs_dns_query" alt="" coords="843,5,949,32"/>
<area shape="rect" id="node13" href="afs_2internal_8h.html#adedb3f91a1777c8b43058aadb72f580f" title="afs_iterate_addresses" alt="" coords="821,56,971,83"/>
<area shape="rect" id="node14" href="afs_2internal_8h.html#a5321a618b7fb8d3fb9ca27b87aa48f03" title="afs_end_cursor" alt="" coords="841,411,951,437"/>
<area shape="rect" id="node16" href="afs_2internal_8h.html#af79f4fac2041d7339b848eebcf89fc53" title="afs_set_vl_cursor" alt="" coords="833,107,959,133"/>
<area shape="rect" id="node17" href="afs_2internal_8h.html#aebc4dca57e6987e799c507ed5db328ce" title="afs_merge_fs_addr4" alt="" coords="826,157,966,184"/>
<area shape="rect" id="node18" href="afs_2internal_8h.html#a543ab64b81243be165175261a307249e" title="afs_merge_fs_addr6" alt="" coords="826,208,966,235"/>
<area shape="rect" id="node10" href="addr__list_8c.html#a6185f66e2646da029253a87212eb3da6" title="afs_alloc_addrlist" alt="" coords="1257,247,1380,273"/>
<area shape="rect" id="node12" href="addr__list_8c.html#ade155873bc41c58ce5f96ebdcd0313ea" title="afs_parse_text_addrs" alt="" coords="1042,145,1189,172"/>
<area shape="rect" id="node15" href="addr__list_8c.html#a92d6343a3001a8d0bc55b221202723fa" title="afs_put_addrlist" alt="" coords="1058,424,1173,451"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9" title="afs_v2net" alt="" coords="857,664,935,691"/>
<area shape="rect" id="node24" href="afs_2internal_8h.html#aeb1fe9d974fa2aec125189049dad59d6" title="afs_alloc_flat_call" alt="" coords="403,1035,529,1061"/>
<area shape="rect" id="node30" href="fsclient_8c.html#a7b1f6e97dbf1e12441d605abe6836c28" title="afs_use_fs_server" alt="" coords="401,645,531,672"/>
<area shape="rect" id="node31" href="afs_2internal_8h.html#ad797c9747d3a4467e02f386f3f969e02" title="afs_make_call" alt="" coords="619,816,726,843"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#aba673798be50b67a163039d0c6655ce6" title="afs_alloc_call" alt="" coords="622,1085,723,1112"/>
<area shape="rect" id="node27" href="rxrpc_8c.html#a5fa178cc440c7ea1647441cd04c53d8c" title="afs_put_call" alt="" coords="1069,917,1161,944"/>
<area shape="rect" id="node26" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="815,1085,977,1112"/>
<area shape="rect" id="node28" href="afs_2internal_8h.html#ac302952d9136c1a378f99892a114ef0d" title="afs_put_server" alt="" coords="1435,563,1543,589"/>
<area shape="rect" id="node29" href="afs_2callback_8c.html#a1fb0cb3663862e4ac804ff42a51947a3" title="afs_put_cb_interest" alt="" coords="1251,563,1387,589"/>
<area shape="rect" id="node32" href="rxrpc_8c.html#a719741b8195e3eb687e8aadaec3f0e46" title="afs_wake_up_async_call" alt="" coords="812,917,980,944"/>
<area shape="rect" id="node33" href="rxrpc_8c.html#a2a41414b5057b6568e074a7959e59d84" title="afs_wake_up_call_waiter" alt="" coords="812,715,980,741"/>
<area shape="rect" id="node34" href="rxrpc_8c.html#ad072fcf21d333ab1d029f57e69be0e49" title="afs_notify_end_request_tx" alt="" coords="1028,765,1203,792"/>
<area shape="rect" id="node36" href="rxrpc_8c.html#a8c47785c4f8aebf4e773153a47904416" title="afs_send_pages" alt="" coords="837,816,955,843"/>
<area shape="rect" id="node38" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="827,969,965,1010"/>
<area shape="rect" id="node35" href="afs_2internal_8h.html#a4b8af249f6ab8fd36a632c17b3392169" title="afs_set_call_state" alt="" coords="1255,765,1383,792"/>
<area shape="rect" id="node37" href="rxrpc_8c.html#a73667b1e0ab00e208d227dbf4db33454" title="afs_load_bvec" alt="" coords="1062,816,1169,843"/>
<area shape="rect" id="node40" href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827" title="afs_break_callback" alt="" coords="399,1136,533,1163"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#af1ee7732bdf3bb47391a9c2db2d75def" title="afs_clear_permits" alt="" coords="610,1136,735,1163"/>
<area shape="rect" id="node43" href="flock_8c.html#ab359dd36e5f4cdc8c6136e99fd3e2d56" title="afs_lock_may_be_available" alt="" coords="581,1187,764,1213"/>
<area shape="rect" id="node42" href="afs_2security_8c.html#ab229522a5babbc4c97e607e5124c101e" title="afs_put_permits" alt="" coords="839,1237,953,1264"/>
<area shape="rect" id="node45" href="afs_2internal_8h.html#a90b8777c7b642a1704c74033cda95572" title="afs_cache_permit" alt="" coords="403,1263,529,1289"/>
<area shape="rect" id="node46" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="607,1237,739,1264"/>
<area shape="rect" id="node47" href="afs_2security_8c.html#ac5ed4ec8a09b71a430235345d87d68f7" title="afs_hash_permits" alt="" coords="610,1288,735,1315"/>
<area shape="rect" id="node49" href="afs_2internal_8h.html#aaac25a890c99d6fcb4cb429e93727ddc" title="afs_put_serverlist" alt="" coords="1053,512,1178,539"/>
<area shape="rect" id="node50" href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d" title="afs_abort_to_error" alt="" coords="833,613,959,640"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a51a30fbf4ddbb44e3a170fac4f7fabb4_icgraph.png" border="0" usemap="#flock_8c_a51a30fbf4ddbb44e3a170fac4f7fabb4_icgraph" alt=""/></div>
<map name="flock_8c_a51a30fbf4ddbb44e3a170fac4f7fabb4_icgraph" id="flock_8c_a51a30fbf4ddbb44e3a170fac4f7fabb4_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a0662a614c0a5d712d406c8197d253bee" title="afs_lock_work" alt="" coords="171,1079,277,1106"/>
<area shape="rect" id="node3" href="afs_2super_8c.html#ab9af92c281d6d83d82d07c6a277485e5" title="afs_i_init_once" alt="" coords="325,1155,435,1182"/>
<area shape="rect" id="node17" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="1325,1079,1457,1106"/>
<area shape="rect" id="node4" href="afs_2super_8c.html#ad051f62d36e5d198179569ebe8140810" title="afs_fs_init" alt="" coords="483,1181,565,1207"/>
<area shape="rect" id="node5" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a" title="afs_get_serverlist" alt="" coords="613,1257,739,1283"/>
<area shape="rect" id="node50" href="afs_2main_8c.html#a6c32b7e048d19484ff1747eabb3cabae" title="afs_init" alt="" coords="644,1181,708,1207"/>
<area shape="rect" id="node6" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="787,1459,931,1486"/>
<area shape="rect" id="node7" href="rotate_8c.html#aedbf1d1c5c30d4ba155cc39cab2a7985" title="afs_select_fileserver" alt="" coords="979,1510,1121,1537"/>
<area shape="rect" id="node8" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="1949,1589,2028,1615"/>
<area shape="rect" id="node9" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="1951,1642,2027,1669"/>
<area shape="rect" id="node10" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1948,1699,2029,1726"/>
<area shape="rect" id="node11" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="1947,1762,2030,1789"/>
<area shape="rect" id="node12" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="1955,1838,2022,1865"/>
<area shape="rect" id="node13" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="1943,1231,2035,1258"/>
<area shape="rect" id="node14" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="1943,1282,2034,1309"/>
<area shape="rect" id="node15" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="1169,1181,1277,1207"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="1929,1358,2048,1385"/>
<area shape="rect" id="node45" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="1947,1434,2031,1461"/>
<area shape="rect" id="node46" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="1949,1485,2029,1511"/>
<area shape="rect" id="node47" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="1941,1130,2037,1157"/>
<area shape="rect" id="node49" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="1935,1537,2043,1563"/>
<area shape="rect" id="node16" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="1345,1181,1438,1207"/>
<area shape="rect" id="node18" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="1901,75,2076,102"/>
<area shape="rect" id="node23" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="1505,1079,1631,1106"/>
<area shape="rect" id="node19" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="2348,147,2487,188"/>
<area shape="rect" id="node20" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="2127,75,2297,102"/>
<area shape="rect" id="node21" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="2348,5,2487,47"/>
<area shape="rect" id="node22" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="2142,127,2282,168"/>
<area shape="rect" id="node24" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="1690,927,1842,954"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="1679,1434,1853,1461"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="1923,974,2054,1001"/>
<area shape="rect" id="node26" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="2143,1025,2281,1067"/>
<area shape="rect" id="node29" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="1929,533,2048,559"/>
<area shape="rect" id="node28" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="2131,974,2293,1001"/>
<area shape="rect" id="node27" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="2364,1033,2471,1059"/>
<area shape="rect" id="node30" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="2131,623,2293,650"/>
<area shape="rect" id="node31" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="2147,675,2277,716"/>
<area shape="rect" id="node32" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="2147,740,2277,781"/>
<area shape="rect" id="node33" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="2139,806,2285,833"/>
<area shape="rect" id="node34" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="2124,857,2300,883"/>
<area shape="rect" id="node35" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="2143,908,2281,949"/>
<area shape="rect" id="node36" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="2148,244,2276,285"/>
<area shape="rect" id="node37" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="2148,309,2276,351"/>
<area shape="rect" id="node38" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="2149,193,2275,219"/>
<area shape="rect" id="node39" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="2138,375,2286,402"/>
<area shape="rect" id="node40" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="2149,427,2275,468"/>
<area shape="rect" id="node41" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="2149,492,2275,533"/>
<area shape="rect" id="node42" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="2139,557,2285,599"/>
<area shape="rect" id="node48" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="1929,1181,2049,1207"/>
</map>
</div>

</div>
</div>
<a id="a6a803202b15338a5faae52d9fa986417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a803202b15338a5faae52d9fa986417">&#9670;&nbsp;</a></span>afs_fl_copy_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void afs_fl_copy_lock </td>
          <td>(</td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a6a803202b15338a5faae52d9fa986417_cgraph.png" border="0" usemap="#flock_8c_a6a803202b15338a5faae52d9fa986417_cgraph" alt=""/></div>
<map name="flock_8c_a6a803202b15338a5faae52d9fa986417_cgraph" id="flock_8c_a6a803202b15338a5faae52d9fa986417_cgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a4319ab62063070e450460f28d1b250f3" title="AFS_FS_I" alt="" coords="173,5,256,32"/>
</map>
</div>

</div>
</div>
<a id="a3a8c0dd3f942e9b2cae30aafcd6c907c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a8c0dd3f942e9b2cae30aafcd6c907c">&#9670;&nbsp;</a></span>afs_fl_release_private()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void afs_fl_release_private </td>
          <td>(</td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a3a8c0dd3f942e9b2cae30aafcd6c907c_cgraph.png" border="0" usemap="#flock_8c_a3a8c0dd3f942e9b2cae30aafcd6c907c_cgraph" alt=""/></div>
<map name="flock_8c_a3a8c0dd3f942e9b2cae30aafcd6c907c_cgraph" id="flock_8c_a3a8c0dd3f942e9b2cae30aafcd6c907c_cgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a4319ab62063070e450460f28d1b250f3" title="AFS_FS_I" alt="" coords="225,5,307,32"/>
<area shape="rect" id="node3" href="flock_8c.html#a58ea08174e39b8f23bace222c109127f" title="afs_dequeue_lock" alt="" coords="203,56,329,83"/>
<area shape="rect" id="node4" href="flock_8c.html#adae55c6e5b2325d7b05f2b3e1750b40c" title="afs_defer_unlock" alt="" coords="377,5,499,32"/>
<area shape="rect" id="node5" href="flock_8c.html#ab359dd36e5f4cdc8c6136e99fd3e2d56" title="afs_lock_may_be_available" alt="" coords="547,31,729,57"/>
<area shape="rect" id="node6" href="afs_2internal_8h.html#a4ce1b395f96dba53d265d5d12e590670" title="afs_file_key" alt="" coords="392,107,484,133"/>
</map>
</div>

</div>
</div>
<a id="a3d19217459437fd785d5128845abc900"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d19217459437fd785d5128845abc900">&#9670;&nbsp;</a></span>afs_flock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int afs_flock </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a3d19217459437fd785d5128845abc900_cgraph.png" border="0" usemap="#flock_8c_a3d19217459437fd785d5128845abc900_cgraph" alt=""/></div>
<map name="flock_8c_a3d19217459437fd785d5128845abc900_cgraph" id="flock_8c_a3d19217459437fd785d5128845abc900_cgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a4319ab62063070e450460f28d1b250f3" title="AFS_FS_I" alt="" coords="327,671,410,697"/>
<area shape="rect" id="node3" href="flock_8c.html#a45d05209d42a7a1d13bffe391b8ab187" title="afs_do_unlk" alt="" coords="130,583,222,609"/>
<area shape="rect" id="node24" href="flock_8c.html#a951ebbb6cf0df3e4f2622cd531fa038a" title="afs_do_setlk" alt="" coords="128,816,224,843"/>
<area shape="rect" id="node4" href="sync_8c.html#afccf0b8bd0e71e4a5872e15fb493d987" title="vfs_fsync" alt="" coords="329,31,408,57"/>
<area shape="rect" id="node7" href="locks_8c.html#aef6cce9ffe73d28f09b5ccc2e6d6e348" title="posix_lock_file" alt="" coords="315,507,423,533"/>
<area shape="rect" id="node5" href="sync_8c.html#ae306f1702cb8dc8c79c3388afc632a4f" title="vfs_fsync_range" alt="" coords="517,31,635,57"/>
<area shape="rect" id="node6" href="sync_8c.html#a362b873c39d0612c99510b5d04c18cfc" title="EXPORT_SYMBOL" alt="" coords="709,5,847,32"/>
<area shape="rect" id="node8" href="locks_8c.html#a74932dd2a00fd241c25a16e67ed4ef25" title="posix_lock_inode" alt="" coords="515,487,637,513"/>
<area shape="rect" id="node15" href="locks_8c.html#ac392262fb562857fdac04d764121e0b7" title="EXPORT_SYMBOL" alt="" coords="1163,208,1302,235"/>
<area shape="rect" id="node9" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="731,436,825,463"/>
<area shape="rect" id="node10" href="locks_8c.html#a329ba984f34a261ff361fca1a25b6d3a" title="locks_get_lock_context" alt="" coords="699,487,857,513"/>
<area shape="rect" id="node11" href="locks_8c.html#a2566d7885e0afef541b1d95747f9e40e" title="locks_alloc_lock" alt="" coords="719,537,837,564"/>
<area shape="rect" id="node12" href="locks_8c.html#aad16468669f264d9945a5c59d5117ed8" title="posix_locks_conflict" alt="" coords="708,791,848,817"/>
<area shape="rect" id="node13" href="locks_8c.html#add16e3a243beb3ce042a53f767599e7e" title="posix_same_owner" alt="" coords="940,689,1075,716"/>
<area shape="rect" id="node14" href="locks_8c.html#a087e6b3ca4cc4a9b1b6a5da70e9ac838" title="locks_copy_conflock" alt="" coords="935,284,1079,311"/>
<area shape="rect" id="node16" href="locks_8c.html#a8e4f043488fc3129c67769083c866fab" title="posix_locks_deadlock" alt="" coords="703,639,853,665"/>
<area shape="rect" id="node17" href="locks_8c.html#a031960b4f1060703c82757cbb4f3c19f" title="__locks_insert_block" alt="" coords="706,335,850,361"/>
<area shape="rect" id="node18" href="locks_8c.html#a18eab8557cb03c6bf18166b922df3fad" title="locks_delete_lock_ctx" alt="" coords="703,132,853,159"/>
<area shape="rect" id="node19" href="locks_8c.html#a3946eda3effdd575cb8fb0a1e20c267c" title="locks_free_lock" alt="" coords="951,183,1064,209"/>
<area shape="rect" id="node20" href="locks_8c.html#a1422e47f8cb74382412c08a77127f00d" title="locks_copy_lock" alt="" coords="719,284,837,311"/>
<area shape="rect" id="node21" href="locks_8c.html#a94eddde277cc9dba246c92525ac69bab" title="locks_insert_lock_ctx" alt="" coords="704,385,852,412"/>
<area shape="rect" id="node22" href="locks_8c.html#a0aca39f10696418358050604c8c6838a" title="locks_wake_up_blocks" alt="" coords="699,740,857,767"/>
<area shape="rect" id="node23" href="locks_8c.html#ac12b58b3307f3ea0e51a6310457e5366" title="locks_dispose_list" alt="" coords="713,183,843,209"/>
<area shape="rect" id="node25" href="afs_2internal_8h.html#a4ce1b395f96dba53d265d5d12e590670" title="afs_file_key" alt="" coords="530,892,622,919"/>
<area shape="rect" id="node26" href="flock_8c.html#a74f54137a794b1c00d1fc81a68da3a2d" title="afs_do_setlk_check" alt="" coords="299,740,438,767"/>
<area shape="rect" id="node27" href="afs_2inode_8c.html#aeff822b4edfe3ea35bcacec0252a55e3" title="afs_validate" alt="" coords="530,841,622,868"/>
<area shape="rect" id="node45" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="730,1044,826,1071"/>
<area shape="rect" id="node47" href="flock_8c.html#a101f040a8cfb3a9c255f1a30e4256517" title="afs_schedule_lock_extension" alt="" coords="272,791,465,817"/>
<area shape="rect" id="node48" href="flock_8c.html#a58ea08174e39b8f23bace222c109127f" title="afs_dequeue_lock" alt="" coords="305,943,432,969"/>
<area shape="rect" id="node49" href="flock_8c.html#adae55c6e5b2325d7b05f2b3e1750b40c" title="afs_defer_unlock" alt="" coords="515,993,637,1020"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a1d5bdae54d23475ed9e1873127414d12" title="afs_check_permit" alt="" coords="513,765,639,792"/>
<area shape="rect" id="node28" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="736,892,820,919"/>
<area shape="rect" id="node29" href="afs_2inode_8c.html#a7dc95ec3f39d090776a359f87cf747b3" title="afs_fetch_status" alt="" coords="719,841,837,868"/>
<area shape="rect" id="node43" href="afs_2inode_8c.html#a2f78e0f9b26fe109dd6f21172433aa8a" title="afs_zap_data" alt="" coords="728,943,828,969"/>
<area shape="rect" id="node30" href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643" title="afs_begin_vnode_operation" alt="" coords="917,1052,1097,1079"/>
<area shape="rect" id="node32" href="afs_2internal_8h.html#a105fdee4b920ba59a26550abc7bfc419" title="afs_select_fileserver" alt="" coords="936,1001,1079,1028"/>
<area shape="rect" id="node39" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c" title="afs_calc_vnode_cb_break" alt="" coords="921,783,1094,809"/>
<area shape="rect" id="node40" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04" title="afs_check_for_remote\l_deletion" alt="" coords="932,834,1083,875"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="920,900,1095,927"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d" title="afs_end_vnode_operation" alt="" coords="922,951,1093,977"/>
<area shape="rect" id="node31" href="rotate_8c.html#a07fb8d8d35619bc0f7e49b3acc8782ee" title="afs_init_fs_cursor" alt="" coords="1170,1179,1295,1205"/>
<area shape="rect" id="node33" href="afs_2internal_8h.html#a7903104f5ae92cb09d002470375e0f44" title="afs_check_volume_status" alt="" coords="1145,1027,1320,1053"/>
<area shape="rect" id="node34" href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d" title="afs_abort_to_error" alt="" coords="1169,925,1296,952"/>
<area shape="rect" id="node35" href="rotate_8c.html#a4ea0dc63121a25baa66119d91686c0a1" title="afs_busy" alt="" coords="1195,1077,1270,1104"/>
<area shape="rect" id="node36" href="rotate_8c.html#a1e09f4525a5525dfb3f1f715c5797231" title="afs_sleep_and_retry" alt="" coords="1163,1128,1302,1155"/>
<area shape="rect" id="node37" href="addr__list_8c.html#aeb46a0b30847fee49270792788198bf3" title="afs_end_cursor" alt="" coords="1177,976,1288,1003"/>
<area shape="rect" id="node38" href="afs_2callback_8c.html#a1fb0cb3663862e4ac804ff42a51947a3" title="afs_put_cb_interest" alt="" coords="1165,875,1301,901"/>
<area shape="rect" id="node46" href="fsclient_8c.html#ac8f5df618a1c83f3e8e348c88a68817f" title="afs_fs_set_lock" alt="" coords="950,1103,1065,1129"/>
<area shape="rect" id="node50" href="flock_8c.html#ab359dd36e5f4cdc8c6136e99fd3e2d56" title="afs_lock_may_be_available" alt="" coords="687,993,869,1020"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a3d19217459437fd785d5128845abc900_icgraph.png" border="0" usemap="#flock_8c_a3d19217459437fd785d5128845abc900_icgraph" alt=""/></div>
<map name="flock_8c_a3d19217459437fd785d5128845abc900_icgraph" id="flock_8c_a3d19217459437fd785d5128845abc900_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="128,1575,260,1602"/>
<area shape="rect" id="node3" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="704,903,879,930"/>
<area shape="rect" id="node8" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="308,1461,433,1487"/>
<area shape="rect" id="node4" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="1151,767,1289,808"/>
<area shape="rect" id="node5" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="929,853,1100,879"/>
<area shape="rect" id="node6" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="1151,908,1289,949"/>
<area shape="rect" id="node7" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="945,787,1085,828"/>
<area shape="rect" id="node9" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="493,1030,645,1057"/>
<area shape="rect" id="node28" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="481,1461,656,1487"/>
<area shape="rect" id="node10" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="726,1005,857,1031"/>
<area shape="rect" id="node11" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="945,1056,1084,1097"/>
<area shape="rect" id="node14" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="732,473,851,499"/>
<area shape="rect" id="node13" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="933,1005,1096,1031"/>
<area shape="rect" id="node12" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="1167,1063,1273,1090"/>
<area shape="rect" id="node15" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="934,319,1095,346"/>
<area shape="rect" id="node16" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="949,371,1080,412"/>
<area shape="rect" id="node17" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="949,436,1080,477"/>
<area shape="rect" id="node18" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="942,502,1087,529"/>
<area shape="rect" id="node19" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="927,553,1103,579"/>
<area shape="rect" id="node20" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="945,604,1084,645"/>
<area shape="rect" id="node21" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="951,669,1079,711"/>
<area shape="rect" id="node22" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="951,5,1079,47"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="951,735,1078,762"/>
<area shape="rect" id="node24" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="941,71,1089,98"/>
<area shape="rect" id="node25" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="951,123,1078,164"/>
<area shape="rect" id="node26" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="951,188,1078,229"/>
<area shape="rect" id="node27" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="942,253,1087,295"/>
<area shape="rect" id="node29" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="752,1562,831,1589"/>
<area shape="rect" id="node30" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="753,1613,829,1639"/>
<area shape="rect" id="node31" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1179,1739,1261,1766"/>
<area shape="rect" id="node32" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="750,1663,833,1690"/>
<area shape="rect" id="node33" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="758,1106,825,1133"/>
<area shape="rect" id="node34" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="745,1157,837,1183"/>
<area shape="rect" id="node35" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="746,1207,837,1234"/>
<area shape="rect" id="node36" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="737,1841,845,1867"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="732,1714,851,1741"/>
<area shape="rect" id="node45" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="749,1258,833,1285"/>
<area shape="rect" id="node46" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="751,1309,831,1335"/>
<area shape="rect" id="node47" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="743,1359,839,1386"/>
<area shape="rect" id="node48" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="733,1410,850,1437"/>
<area shape="rect" id="node49" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="731,1461,851,1487"/>
<area shape="rect" id="node50" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="737,1511,845,1538"/>
<area shape="rect" id="node37" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="968,1866,1061,1893"/>
<area shape="rect" id="node38" href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0" title="afs_page_filler" alt="" coords="961,1967,1068,1994"/>
<area shape="rect" id="node39" href="afs_2file_8c.html#a21cd27d9dee2493ce5a73c030c14acbc" title="afs_readpages_one" alt="" coords="947,1917,1082,1943"/>
<area shape="rect" id="node40" href="afs_2write_8c.html#a2919129e013a0094985a59a4966cc855" title="afs_fill_page" alt="" coords="967,1815,1062,1842"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#a1ce0b0ac76e5bc5df354db41c1417bc2" title="afs_iget" alt="" coords="981,1613,1049,1639"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#a13fe29b5fe144a615ccee62dcfed63a9" title="afs_validate" alt="" coords="969,1714,1061,1741"/>
<area shape="rect" id="node44" href="flock_8c.html#a42612cb541ff5fe35aeb74a8709e14a4" title="afs_do_getlk" alt="" coords="967,1663,1063,1690"/>
</map>
</div>

</div>
</div>
<a id="a02cdffcaf6770492499cbca8fa0a9eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02cdffcaf6770492499cbca8fa0a9eab">&#9670;&nbsp;</a></span>afs_grant_locks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void afs_grant_locks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *&#160;</td>
          <td class="paramname"><em>vnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a02cdffcaf6770492499cbca8fa0a9eab_icgraph.png" border="0" usemap="#flock_8c_a02cdffcaf6770492499cbca8fa0a9eab_icgraph" alt=""/></div>
<map name="flock_8c_a02cdffcaf6770492499cbca8fa0a9eab_icgraph" id="flock_8c_a02cdffcaf6770492499cbca8fa0a9eab_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a0662a614c0a5d712d406c8197d253bee" title="afs_lock_work" alt="" coords="168,715,275,741"/>
<area shape="rect" id="node3" href="afs_2super_8c.html#ab9af92c281d6d83d82d07c6a277485e5" title="afs_i_init_once" alt="" coords="323,512,432,539"/>
<area shape="rect" id="node16" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="1323,664,1455,691"/>
<area shape="rect" id="node4" href="afs_2super_8c.html#ad051f62d36e5d198179569ebe8140810" title="afs_fs_init" alt="" coords="480,473,563,500"/>
<area shape="rect" id="node5" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a" title="afs_get_serverlist" alt="" coords="611,397,736,424"/>
<area shape="rect" id="node50" href="afs_2main_8c.html#a6c32b7e048d19484ff1747eabb3cabae" title="afs_init" alt="" coords="641,473,705,500"/>
<area shape="rect" id="node6" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="784,385,928,412"/>
<area shape="rect" id="node7" href="rotate_8c.html#aedbf1d1c5c30d4ba155cc39cab2a7985" title="afs_select_fileserver" alt="" coords="976,335,1119,361"/>
<area shape="rect" id="node8" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="1947,363,2025,389"/>
<area shape="rect" id="node9" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="1948,417,2024,444"/>
<area shape="rect" id="node10" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1945,480,2027,507"/>
<area shape="rect" id="node11" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="1945,537,2027,564"/>
<area shape="rect" id="node12" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="1953,5,2019,32"/>
<area shape="rect" id="node13" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="1940,56,2032,83"/>
<area shape="rect" id="node14" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="1941,107,2031,133"/>
<area shape="rect" id="node15" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="1167,512,1275,539"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="1927,160,2045,187"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="1944,211,2028,237"/>
<area shape="rect" id="node45" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="1946,261,2026,288"/>
<area shape="rect" id="node46" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="1938,613,2034,640"/>
<area shape="rect" id="node49" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="1932,312,2040,339"/>
<area shape="rect" id="node17" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="1899,1684,2073,1711"/>
<area shape="rect" id="node22" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="1503,664,1628,691"/>
<area shape="rect" id="node18" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="2345,1643,2484,1685"/>
<area shape="rect" id="node19" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="2124,1625,2295,1652"/>
<area shape="rect" id="node20" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="2345,1747,2484,1789"/>
<area shape="rect" id="node21" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="2139,1677,2279,1718"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="1687,867,1839,893"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="1676,411,1851,437"/>
<area shape="rect" id="node24" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="1921,787,2051,813"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="2140,779,2279,821"/>
<area shape="rect" id="node28" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="1927,1239,2045,1265"/>
<area shape="rect" id="node27" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="2128,728,2291,755"/>
<area shape="rect" id="node26" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="2361,787,2468,813"/>
<area shape="rect" id="node29" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="2129,976,2290,1003"/>
<area shape="rect" id="node30" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="2144,1027,2275,1069"/>
<area shape="rect" id="node31" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="2144,1093,2275,1134"/>
<area shape="rect" id="node32" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="2137,1159,2282,1185"/>
<area shape="rect" id="node33" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="2121,1209,2297,1236"/>
<area shape="rect" id="node34" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="2140,1261,2279,1302"/>
<area shape="rect" id="node35" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="2145,1326,2273,1367"/>
<area shape="rect" id="node36" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="2145,1391,2273,1433"/>
<area shape="rect" id="node37" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="2146,1575,2273,1601"/>
<area shape="rect" id="node38" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="2135,1457,2283,1484"/>
<area shape="rect" id="node39" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="2146,1509,2273,1550"/>
<area shape="rect" id="node40" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="2146,845,2273,886"/>
<area shape="rect" id="node41" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="2137,910,2282,951"/>
<area shape="rect" id="node47" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="1927,667,2045,693"/>
<area shape="rect" id="node48" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="1926,724,2046,751"/>
</map>
</div>

</div>
</div>
<a id="a75dfc0531983b5d661f253ebb0c7c8f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75dfc0531983b5d661f253ebb0c7c8f6">&#9670;&nbsp;</a></span>afs_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int afs_lock </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&#160;</td>
          <td class="paramname"><em>fl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a75dfc0531983b5d661f253ebb0c7c8f6_cgraph.png" border="0" usemap="#flock_8c_a75dfc0531983b5d661f253ebb0c7c8f6_cgraph" alt=""/></div>
<map name="flock_8c_a75dfc0531983b5d661f253ebb0c7c8f6_cgraph" id="flock_8c_a75dfc0531983b5d661f253ebb0c7c8f6_cgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a4319ab62063070e450460f28d1b250f3" title="AFS_FS_I" alt="" coords="323,145,406,172"/>
<area shape="rect" id="node3" href="flock_8c.html#a42612cb541ff5fe35aeb74a8709e14a4" title="afs_do_getlk" alt="" coords="124,247,220,273"/>
<area shape="rect" id="node33" href="flock_8c.html#a45d05209d42a7a1d13bffe391b8ab187" title="afs_do_unlk" alt="" coords="126,196,218,223"/>
<area shape="rect" id="node39" href="flock_8c.html#a951ebbb6cf0df3e4f2622cd531fa038a" title="afs_do_setlk" alt="" coords="124,475,220,501"/>
<area shape="rect" id="node4" href="afs_2internal_8h.html#a4ce1b395f96dba53d265d5d12e590670" title="afs_file_key" alt="" coords="526,551,618,577"/>
<area shape="rect" id="node5" href="locks_8c.html#ae13ea8d3ee951a3de5de182e39d9a0f4" title="posix_test_lock" alt="" coords="515,184,629,211"/>
<area shape="rect" id="node12" href="afs_2inode_8c.html#a7dc95ec3f39d090776a359f87cf747b3" title="afs_fetch_status" alt="" coords="715,400,833,427"/>
<area shape="rect" id="node6" href="locks_8c.html#aad16468669f264d9945a5c59d5117ed8" title="posix_locks_conflict" alt="" coords="704,284,844,311"/>
<area shape="rect" id="node10" href="locks_8c.html#a087e6b3ca4cc4a9b1b6a5da70e9ac838" title="locks_copy_conflock" alt="" coords="702,183,846,209"/>
<area shape="rect" id="node11" href="locks_8c.html#ac392262fb562857fdac04d764121e0b7" title="EXPORT_SYMBOL" alt="" coords="934,132,1073,159"/>
<area shape="rect" id="node7" href="locks_8c.html#add16e3a243beb3ce042a53f767599e7e" title="posix_same_owner" alt="" coords="936,183,1071,209"/>
<area shape="rect" id="node8" href="locks_8c.html#a708cd2317b05abfa607c61ecff3cd345" title="locks_overlap" alt="" coords="952,284,1055,311"/>
<area shape="rect" id="node9" href="locks_8c.html#a299223ee3c8715c0018e770fb35164de" title="locks_conflict" alt="" coords="952,233,1055,260"/>
<area shape="rect" id="node13" href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643" title="afs_begin_vnode_operation" alt="" coords="913,655,1093,681"/>
<area shape="rect" id="node15" href="afs_2internal_8h.html#a105fdee4b920ba59a26550abc7bfc419" title="afs_select_fileserver" alt="" coords="932,503,1075,529"/>
<area shape="rect" id="node28" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c" title="afs_calc_vnode_cb_break" alt="" coords="917,385,1090,412"/>
<area shape="rect" id="node29" href="fsclient_8c.html#a336582599481c9dfad1ecdd4933612e4" title="afs_fs_fetch_file_status" alt="" coords="1148,31,1309,57"/>
<area shape="rect" id="node30" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04" title="afs_check_for_remote\l_deletion" alt="" coords="928,437,1079,478"/>
<area shape="rect" id="node31" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="916,604,1091,631"/>
<area shape="rect" id="node32" href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d" title="afs_end_vnode_operation" alt="" coords="918,553,1089,580"/>
<area shape="rect" id="node14" href="rotate_8c.html#a07fb8d8d35619bc0f7e49b3acc8782ee" title="afs_init_fs_cursor" alt="" coords="1166,807,1291,833"/>
<area shape="rect" id="node16" href="afs_2internal_8h.html#a7903104f5ae92cb09d002470375e0f44" title="afs_check_volume_status" alt="" coords="1141,233,1316,260"/>
<area shape="rect" id="node17" href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d" title="afs_abort_to_error" alt="" coords="1165,553,1292,580"/>
<area shape="rect" id="node18" href="rotate_8c.html#a4ea0dc63121a25baa66119d91686c0a1" title="afs_busy" alt="" coords="1191,183,1266,209"/>
<area shape="rect" id="node19" href="rotate_8c.html#a1e09f4525a5525dfb3f1f715c5797231" title="afs_sleep_and_retry" alt="" coords="1159,81,1298,108"/>
<area shape="rect" id="node20" href="addr__list_8c.html#aeb46a0b30847fee49270792788198bf3" title="afs_end_cursor" alt="" coords="1173,604,1284,631"/>
<area shape="rect" id="node21" href="afs_2callback_8c.html#a1fb0cb3663862e4ac804ff42a51947a3" title="afs_put_cb_interest" alt="" coords="1364,503,1500,529"/>
<area shape="rect" id="node22" href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9" title="afs_v2net" alt="" coords="1393,421,1471,448"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#aaac25a890c99d6fcb4cb429e93727ddc" title="afs_put_serverlist" alt="" coords="1166,655,1291,681"/>
<area shape="rect" id="node24" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="1157,452,1301,479"/>
<area shape="rect" id="node25" href="afs_2internal_8h.html#a71c538c2f32b68d3516c4a1125e59799" title="afs_check_server_record" alt="" coords="1145,132,1313,159"/>
<area shape="rect" id="node26" href="afs_2callback_8c.html#a64ebd0db95d8573a3a44f7dd19de78cd" title="afs_register_server\l_cb_interest" alt="" coords="1162,386,1295,427"/>
<area shape="rect" id="node27" href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f" title="afs_get_cb_interest" alt="" coords="1364,367,1500,393"/>
<area shape="rect" id="node34" href="sync_8c.html#afccf0b8bd0e71e4a5872e15fb493d987" title="vfs_fsync" alt="" coords="325,31,404,57"/>
<area shape="rect" id="node37" href="locks_8c.html#aef6cce9ffe73d28f09b5ccc2e6d6e348" title="posix_lock_file" alt="" coords="311,247,419,273"/>
<area shape="rect" id="node35" href="sync_8c.html#ae306f1702cb8dc8c79c3388afc632a4f" title="vfs_fsync_range" alt="" coords="513,31,631,57"/>
<area shape="rect" id="node36" href="sync_8c.html#a362b873c39d0612c99510b5d04c18cfc" title="EXPORT_SYMBOL" alt="" coords="705,5,843,32"/>
<area shape="rect" id="node38" href="locks_8c.html#a74932dd2a00fd241c25a16e67ed4ef25" title="posix_lock_inode" alt="" coords="511,243,633,269"/>
<area shape="rect" id="node40" href="flock_8c.html#a74f54137a794b1c00d1fc81a68da3a2d" title="afs_do_setlk_check" alt="" coords="295,348,434,375"/>
<area shape="rect" id="node41" href="afs_2inode_8c.html#aeff822b4edfe3ea35bcacec0252a55e3" title="afs_validate" alt="" coords="526,449,618,476"/>
<area shape="rect" id="node45" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="726,553,822,580"/>
<area shape="rect" id="node47" href="flock_8c.html#a101f040a8cfb3a9c255f1a30e4256517" title="afs_schedule_lock_extension" alt="" coords="268,601,461,628"/>
<area shape="rect" id="node48" href="flock_8c.html#a58ea08174e39b8f23bace222c109127f" title="afs_dequeue_lock" alt="" coords="301,652,428,679"/>
<area shape="rect" id="node49" href="flock_8c.html#adae55c6e5b2325d7b05f2b3e1750b40c" title="afs_defer_unlock" alt="" coords="511,703,633,729"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a1d5bdae54d23475ed9e1873127414d12" title="afs_check_permit" alt="" coords="509,373,635,400"/>
<area shape="rect" id="node42" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="732,451,816,477"/>
<area shape="rect" id="node43" href="afs_2inode_8c.html#a2f78e0f9b26fe109dd6f21172433aa8a" title="afs_zap_data" alt="" coords="724,501,824,528"/>
<area shape="rect" id="node46" href="fsclient_8c.html#ac8f5df618a1c83f3e8e348c88a68817f" title="afs_fs_set_lock" alt="" coords="946,781,1061,808"/>
<area shape="rect" id="node50" href="flock_8c.html#ab359dd36e5f4cdc8c6136e99fd3e2d56" title="afs_lock_may_be_available" alt="" coords="683,677,865,704"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a75dfc0531983b5d661f253ebb0c7c8f6_icgraph.png" border="0" usemap="#flock_8c_a75dfc0531983b5d661f253ebb0c7c8f6_icgraph" alt=""/></div>
<map name="flock_8c_a75dfc0531983b5d661f253ebb0c7c8f6_icgraph" id="flock_8c_a75dfc0531983b5d661f253ebb0c7c8f6_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="124,1575,256,1602"/>
<area shape="rect" id="node3" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="700,903,875,930"/>
<area shape="rect" id="node8" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="304,1461,429,1487"/>
<area shape="rect" id="node4" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="1147,767,1285,808"/>
<area shape="rect" id="node5" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="925,853,1096,879"/>
<area shape="rect" id="node6" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="1147,908,1285,949"/>
<area shape="rect" id="node7" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="941,787,1081,828"/>
<area shape="rect" id="node9" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="489,1030,641,1057"/>
<area shape="rect" id="node28" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="477,1461,652,1487"/>
<area shape="rect" id="node10" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="722,1005,853,1031"/>
<area shape="rect" id="node11" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="941,1056,1080,1097"/>
<area shape="rect" id="node14" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="728,473,847,499"/>
<area shape="rect" id="node13" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="929,1005,1092,1031"/>
<area shape="rect" id="node12" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="1163,1063,1269,1090"/>
<area shape="rect" id="node15" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="930,319,1091,346"/>
<area shape="rect" id="node16" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="945,371,1076,412"/>
<area shape="rect" id="node17" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="945,436,1076,477"/>
<area shape="rect" id="node18" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="938,502,1083,529"/>
<area shape="rect" id="node19" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="923,553,1099,579"/>
<area shape="rect" id="node20" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="941,604,1080,645"/>
<area shape="rect" id="node21" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="947,669,1075,711"/>
<area shape="rect" id="node22" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="947,5,1075,47"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="947,735,1074,762"/>
<area shape="rect" id="node24" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="937,71,1085,98"/>
<area shape="rect" id="node25" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="947,123,1074,164"/>
<area shape="rect" id="node26" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="947,188,1074,229"/>
<area shape="rect" id="node27" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="938,253,1083,295"/>
<area shape="rect" id="node29" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="748,1562,827,1589"/>
<area shape="rect" id="node30" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="749,1613,825,1639"/>
<area shape="rect" id="node31" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1175,1739,1257,1766"/>
<area shape="rect" id="node32" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="746,1663,829,1690"/>
<area shape="rect" id="node33" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="754,1106,821,1133"/>
<area shape="rect" id="node34" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="741,1157,833,1183"/>
<area shape="rect" id="node35" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="742,1207,833,1234"/>
<area shape="rect" id="node36" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="733,1841,841,1867"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="728,1714,847,1741"/>
<area shape="rect" id="node45" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="745,1258,829,1285"/>
<area shape="rect" id="node46" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="747,1309,827,1335"/>
<area shape="rect" id="node47" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="739,1359,835,1386"/>
<area shape="rect" id="node48" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="729,1410,846,1437"/>
<area shape="rect" id="node49" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="727,1461,847,1487"/>
<area shape="rect" id="node50" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="733,1511,841,1538"/>
<area shape="rect" id="node37" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="964,1866,1057,1893"/>
<area shape="rect" id="node38" href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0" title="afs_page_filler" alt="" coords="957,1967,1064,1994"/>
<area shape="rect" id="node39" href="afs_2file_8c.html#a21cd27d9dee2493ce5a73c030c14acbc" title="afs_readpages_one" alt="" coords="943,1917,1078,1943"/>
<area shape="rect" id="node40" href="afs_2write_8c.html#a2919129e013a0094985a59a4966cc855" title="afs_fill_page" alt="" coords="963,1815,1058,1842"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#a1ce0b0ac76e5bc5df354db41c1417bc2" title="afs_iget" alt="" coords="977,1613,1045,1639"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#a13fe29b5fe144a615ccee62dcfed63a9" title="afs_validate" alt="" coords="965,1714,1057,1741"/>
<area shape="rect" id="node44" href="flock_8c.html#a42612cb541ff5fe35aeb74a8709e14a4" title="afs_do_getlk" alt="" coords="963,1663,1059,1690"/>
</map>
</div>

</div>
</div>
<a id="ab359dd36e5f4cdc8c6136e99fd3e2d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab359dd36e5f4cdc8c6136e99fd3e2d56">&#9670;&nbsp;</a></span>afs_lock_may_be_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void afs_lock_may_be_available </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *&#160;</td>
          <td class="paramname"><em>vnode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_ab359dd36e5f4cdc8c6136e99fd3e2d56_icgraph.png" border="0" usemap="#flock_8c_ab359dd36e5f4cdc8c6136e99fd3e2d56_icgraph" alt=""/></div>
<map name="flock_8c_ab359dd36e5f4cdc8c6136e99fd3e2d56_icgraph" id="flock_8c_ab359dd36e5f4cdc8c6136e99fd3e2d56_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827" title="afs_break_callback" alt="" coords="236,752,371,779"/>
<area shape="rect" id="node13" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="1029,333,1161,360"/>
<area shape="rect" id="node48" href="flock_8c.html#adae55c6e5b2325d7b05f2b3e1750b40c" title="afs_defer_unlock" alt="" coords="243,195,364,221"/>
<area shape="rect" id="node49" href="flock_8c.html#a58ea08174e39b8f23bace222c109127f" title="afs_dequeue_lock" alt="" coords="437,195,563,221"/>
<area shape="rect" id="node3" href="afs_2callback_8c.html#a79075c14fec608103625806f5c650b98" title="afs_break_one_callback" alt="" coords="419,971,581,997"/>
<area shape="rect" id="node6" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04" title="afs_check_for_remote\l_deletion" alt="" coords="425,745,575,786"/>
<area shape="rect" id="node4" href="afs_2internal_8h.html#a0e3cb35ab647d29e891dc242e5ddcfdb" title="afs_break_callbacks" alt="" coords="633,1120,775,1147"/>
<area shape="rect" id="node5" href="cmservice_8c.html#a01f014d872f39a3b3261b0f7214ec03d" title="SRXAFSCB_CallBack" alt="" coords="827,1120,981,1147"/>
<area shape="rect" id="node7" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="1626,651,1705,677"/>
<area shape="rect" id="node8" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="1624,701,1707,728"/>
<area shape="rect" id="node9" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="1619,853,1711,880"/>
<area shape="rect" id="node10" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="650,499,758,525"/>
<area shape="rect" id="node29" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="1606,955,1725,981"/>
<area shape="rect" id="node37" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="1623,904,1707,931"/>
<area shape="rect" id="node38" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="1625,347,1705,373"/>
<area shape="rect" id="node39" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="1617,245,1713,272"/>
<area shape="rect" id="node41" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="1607,397,1724,424"/>
<area shape="rect" id="node42" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="1605,448,1725,475"/>
<area shape="rect" id="node43" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="1611,752,1719,779"/>
<area shape="rect" id="node11" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="857,397,951,424"/>
<area shape="rect" id="node12" href="afs_2internal_8h.html#a9c7a6cfd94b177766abb7f7d388181b0" title="afs_page_filler" alt="" coords="851,549,957,576"/>
<area shape="rect" id="node46" href="afs_2file_8c.html#a21cd27d9dee2493ce5a73c030c14acbc" title="afs_readpages_one" alt="" coords="837,448,971,475"/>
<area shape="rect" id="node47" href="afs_2write_8c.html#a2919129e013a0094985a59a4966cc855" title="afs_fill_page" alt="" coords="857,347,951,373"/>
<area shape="rect" id="node14" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="2164,93,2339,120"/>
<area shape="rect" id="node19" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="1209,701,1335,728"/>
<area shape="rect" id="node15" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="2403,91,2541,133"/>
<area shape="rect" id="node16" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="2387,165,2557,192"/>
<area shape="rect" id="node17" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="2403,26,2541,67"/>
<area shape="rect" id="node18" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="2402,234,2542,275"/>
<area shape="rect" id="node20" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="1964,1005,2116,1032"/>
<area shape="rect" id="node24" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="1383,651,1557,677"/>
<area shape="rect" id="node21" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="2186,980,2317,1007"/>
<area shape="rect" id="node22" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="2403,998,2541,1039"/>
<area shape="rect" id="node23" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="2192,245,2311,272"/>
<area shape="rect" id="node25" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="1627,600,1703,627"/>
<area shape="rect" id="node26" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1999,828,2081,855"/>
<area shape="rect" id="node27" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="1632,499,1699,525"/>
<area shape="rect" id="node28" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="1620,549,1711,576"/>
<area shape="rect" id="node30" href="afs_2internal_8h.html#a1ce0b0ac76e5bc5df354db41c1417bc2" title="afs_iget" alt="" coords="1811,904,1879,931"/>
<area shape="rect" id="node31" href="afs_2internal_8h.html#a13fe29b5fe144a615ccee62dcfed63a9" title="afs_validate" alt="" coords="1799,853,1891,880"/>
<area shape="rect" id="node35" href="flock_8c.html#a42612cb541ff5fe35aeb74a8709e14a4" title="afs_do_getlk" alt="" coords="1992,929,2088,956"/>
<area shape="rect" id="node36" href="afs_2security_8c.html#a4b2857968cd65e7487851bd6bb3055c1" title="afs_check_permit" alt="" coords="1782,1005,1907,1032"/>
<area shape="rect" id="node32" href="flock_8c.html#a951ebbb6cf0df3e4f2622cd531fa038a" title="afs_do_setlk" alt="" coords="1992,144,2088,171"/>
<area shape="rect" id="node33" href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958" title="afs_lock" alt="" coords="2216,195,2287,221"/>
<area shape="rect" id="node34" href="afs_2internal_8h.html#a70b72a06652b89ad9da5d68e012e070e" title="afs_flock" alt="" coords="2214,144,2289,171"/>
<area shape="rect" id="node40" href="afs_2internal_8h.html#a0662a614c0a5d712d406c8197d253bee" title="afs_lock_work" alt="" coords="1791,347,1898,373"/>
<area shape="rect" id="node44" href="afs_2write_8c.html#aaa4470df2f42dc16be6b560a28e9bd88" title="afs_write_back_from\l_locked_page" alt="" coords="1773,686,1916,727"/>
<area shape="rect" id="node45" href="afs_2write_8c.html#a14e63c90f5dde4906828c6cd732780b5" title="afs_launder_page" alt="" coords="1783,752,1907,779"/>
<area shape="rect" id="node50" href="flock_8c.html#a3a8c0dd3f942e9b2cae30aafcd6c907c" title="afs_fl_release_private" alt="" coords="629,195,779,221"/>
</map>
</div>

</div>
</div>
<a id="a3910bfbe1a7a588662bb302a0074ce70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3910bfbe1a7a588662bb302a0074ce70">&#9670;&nbsp;</a></span>afs_lock_work()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void afs_lock_work </td>
          <td>(</td>
          <td class="paramtype">struct work_struct *&#160;</td>
          <td class="paramname"><em>work</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a3910bfbe1a7a588662bb302a0074ce70_cgraph.png" border="0" usemap="#flock_8c_a3910bfbe1a7a588662bb302a0074ce70_cgraph" alt=""/></div>
<map name="flock_8c_a3910bfbe1a7a588662bb302a0074ce70_cgraph" id="flock_8c_a3910bfbe1a7a588662bb302a0074ce70_cgraph">
<area shape="rect" id="node2" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="197,317,317,344"/>
<area shape="rect" id="node36" href="afs_2internal_8h.html#a4ce1b395f96dba53d265d5d12e590670" title="afs_file_key" alt="" coords="211,368,303,395"/>
<area shape="rect" id="node37" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="198,419,315,445"/>
<area shape="rect" id="node39" href="flock_8c.html#a101f040a8cfb3a9c255f1a30e4256517" title="afs_schedule_lock_extension" alt="" coords="160,469,353,496"/>
<area shape="rect" id="node40" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="209,520,305,547"/>
<area shape="rect" id="node50" href="flock_8c.html#a02cdffcaf6770492499cbca8fa0a9eab" title="afs_grant_locks" alt="" coords="199,571,314,597"/>
<area shape="rect" id="node3" href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643" title="afs_begin_vnode_operation" alt="" coords="401,301,581,328"/>
<area shape="rect" id="node5" href="afs_2internal_8h.html#a38be7e1a8eaac71104e2f93763156258" title="afs_select_current\l_fileserver" alt="" coords="427,403,556,445"/>
<area shape="rect" id="node20" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c" title="afs_calc_vnode_cb_break" alt="" coords="405,520,578,547"/>
<area shape="rect" id="node21" href="fsclient_8c.html#a2d3c214fa03555bc6d9b1c27ae649474" title="afs_fs_release_lock" alt="" coords="422,352,561,379"/>
<area shape="rect" id="node29" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04" title="afs_check_for_remote\l_deletion" alt="" coords="416,235,567,277"/>
<area shape="rect" id="node31" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="404,184,579,211"/>
<area shape="rect" id="node33" href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d" title="afs_end_vnode_operation" alt="" coords="406,621,577,648"/>
<area shape="rect" id="node4" href="rotate_8c.html#a07fb8d8d35619bc0f7e49b3acc8782ee" title="afs_init_fs_cursor" alt="" coords="654,208,779,235"/>
<area shape="rect" id="node6" href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f" title="afs_get_cb_interest" alt="" coords="859,715,995,741"/>
<area shape="rect" id="node7" href="afs_2internal_8h.html#ab24a354689c8e62717613a48bdea9454" title="afs_get_addrlist" alt="" coords="659,259,774,285"/>
<area shape="rect" id="node18" href="addr__list_8c.html#a496ae3e51cf7b82ced45227a04438b98" title="afs_iterate_addresses" alt="" coords="641,765,792,792"/>
<area shape="rect" id="node19" href="addr__list_8c.html#aeb46a0b30847fee49270792788198bf3" title="afs_end_cursor" alt="" coords="661,563,772,589"/>
<area shape="rect" id="node8" href="afs_2internal_8h.html#adb84a1a68225abcfda83632c3277373e" title="afs_alloc_addrlist" alt="" coords="866,360,989,387"/>
<area shape="rect" id="node9" href="afs_2internal_8h.html#af40c0b89c86bd9e600473bf5bf316bca" title="afs_put_addrlist" alt="" coords="870,5,985,32"/>
<area shape="rect" id="node10" href="afs_2internal_8h.html#a5f75115c846143c2f0ade735da97cb92" title="afs_parse_text_addrs" alt="" coords="854,56,1001,83"/>
<area shape="rect" id="node11" href="afs_2internal_8h.html#a3345bf5b612581b757a3cc7266415b09" title="afs_dns_query" alt="" coords="874,107,981,133"/>
<area shape="rect" id="node12" href="afs_2internal_8h.html#adedb3f91a1777c8b43058aadb72f580f" title="afs_iterate_addresses" alt="" coords="852,157,1003,184"/>
<area shape="rect" id="node13" href="afs_2internal_8h.html#a5321a618b7fb8d3fb9ca27b87aa48f03" title="afs_end_cursor" alt="" coords="872,411,983,437"/>
<area shape="rect" id="node15" href="afs_2internal_8h.html#af79f4fac2041d7339b848eebcf89fc53" title="afs_set_vl_cursor" alt="" coords="865,208,990,235"/>
<area shape="rect" id="node16" href="afs_2internal_8h.html#aebc4dca57e6987e799c507ed5db328ce" title="afs_merge_fs_addr4" alt="" coords="857,259,997,285"/>
<area shape="rect" id="node17" href="afs_2internal_8h.html#a543ab64b81243be165175261a307249e" title="afs_merge_fs_addr6" alt="" coords="857,309,997,336"/>
<area shape="rect" id="node14" href="addr__list_8c.html#a92d6343a3001a8d0bc55b221202723fa" title="afs_put_addrlist" alt="" coords="1061,563,1176,589"/>
<area shape="rect" id="node22" href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9" title="afs_v2net" alt="" coords="888,816,967,843"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#aeb1fe9d974fa2aec125189049dad59d6" title="afs_alloc_flat_call" alt="" coords="653,360,780,387"/>
<area shape="rect" id="node27" href="fsclient_8c.html#a7b1f6e97dbf1e12441d605abe6836c28" title="afs_use_fs_server" alt="" coords="652,512,781,539"/>
<area shape="rect" id="node28" href="afs_2internal_8h.html#ad797c9747d3a4467e02f386f3f969e02" title="afs_make_call" alt="" coords="663,461,770,488"/>
<area shape="rect" id="node24" href="rxrpc_8c.html#aba673798be50b67a163039d0c6655ce6" title="afs_alloc_call" alt="" coords="877,461,978,488"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#a5fa178cc440c7ea1647441cd04c53d8c" title="afs_put_call" alt="" coords="881,512,973,539"/>
<area shape="rect" id="node26" href="afs_2callback_8c.html#a1fb0cb3663862e4ac804ff42a51947a3" title="afs_put_cb_interest" alt="" coords="1051,1111,1187,1137"/>
<area shape="rect" id="node30" href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827" title="afs_break_callback" alt="" coords="649,157,784,184"/>
<area shape="rect" id="node32" href="afs_2internal_8h.html#a90b8777c7b642a1704c74033cda95572" title="afs_cache_permit" alt="" coords="654,107,779,133"/>
<area shape="rect" id="node34" href="afs_2internal_8h.html#aaac25a890c99d6fcb4cb429e93727ddc" title="afs_put_serverlist" alt="" coords="654,1085,779,1112"/>
<area shape="rect" id="node35" href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d" title="afs_abort_to_error" alt="" coords="653,867,780,893"/>
<area shape="rect" id="node38" href="fsclient_8c.html#a23fa0865b1349a334e4907b1bf066e82" title="afs_fs_extend_lock" alt="" coords="424,469,559,496"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#a105fdee4b920ba59a26550abc7bfc419" title="afs_select_fileserver" alt="" coords="420,1085,563,1112"/>
<area shape="rect" id="node49" href="fsclient_8c.html#ac8f5df618a1c83f3e8e348c88a68817f" title="afs_fs_set_lock" alt="" coords="434,571,549,597"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#a7903104f5ae92cb09d002470375e0f44" title="afs_check_volume_status" alt="" coords="629,1440,804,1467"/>
<area shape="rect" id="node43" href="rotate_8c.html#a4ea0dc63121a25baa66119d91686c0a1" title="afs_busy" alt="" coords="679,1237,754,1264"/>
<area shape="rect" id="node44" href="rotate_8c.html#a1e09f4525a5525dfb3f1f715c5797231" title="afs_sleep_and_retry" alt="" coords="647,1288,786,1315"/>
<area shape="rect" id="node45" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="645,1491,789,1517"/>
<area shape="rect" id="node46" href="afs_2internal_8h.html#a71c538c2f32b68d3516c4a1125e59799" title="afs_check_server_record" alt="" coords="633,1339,801,1365"/>
<area shape="rect" id="node47" href="afs_2callback_8c.html#a64ebd0db95d8573a3a44f7dd19de78cd" title="afs_register_server\l_cb_interest" alt="" coords="650,1019,783,1061"/>
<area shape="rect" id="node48" href="afs_2internal_8h.html#ad0da2b1acac130ae38fcbf223520a184" title="afs_probe_fileserver" alt="" coords="647,1389,786,1416"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a3910bfbe1a7a588662bb302a0074ce70_icgraph.png" border="0" usemap="#flock_8c_a3910bfbe1a7a588662bb302a0074ce70_icgraph" alt=""/></div>
<map name="flock_8c_a3910bfbe1a7a588662bb302a0074ce70_icgraph" id="flock_8c_a3910bfbe1a7a588662bb302a0074ce70_icgraph">
<area shape="rect" id="node2" href="afs_2super_8c.html#ab9af92c281d6d83d82d07c6a277485e5" title="afs_i_init_once" alt="" coords="160,664,269,691"/>
<area shape="rect" id="node16" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="1160,715,1292,741"/>
<area shape="rect" id="node3" href="afs_2super_8c.html#ad051f62d36e5d198179569ebe8140810" title="afs_fs_init" alt="" coords="317,664,400,691"/>
<area shape="rect" id="node4" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a" title="afs_get_serverlist" alt="" coords="448,664,573,691"/>
<area shape="rect" id="node50" href="afs_2main_8c.html#a6c32b7e048d19484ff1747eabb3cabae" title="afs_init" alt="" coords="479,613,543,640"/>
<area shape="rect" id="node5" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="621,537,765,564"/>
<area shape="rect" id="node6" href="rotate_8c.html#aedbf1d1c5c30d4ba155cc39cab2a7985" title="afs_select_fileserver" alt="" coords="813,348,956,375"/>
<area shape="rect" id="node7" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="1784,56,1863,83"/>
<area shape="rect" id="node8" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="1785,107,1861,133"/>
<area shape="rect" id="node9" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1783,157,1864,184"/>
<area shape="rect" id="node10" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="1782,208,1865,235"/>
<area shape="rect" id="node11" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="1790,259,1857,285"/>
<area shape="rect" id="node12" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="1777,309,1869,336"/>
<area shape="rect" id="node13" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="1778,461,1869,488"/>
<area shape="rect" id="node14" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="1004,385,1112,412"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="1764,512,1883,539"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="1781,563,1865,589"/>
<area shape="rect" id="node45" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="1783,613,1863,640"/>
<area shape="rect" id="node46" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="1775,664,1871,691"/>
<area shape="rect" id="node49" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="1769,5,1877,32"/>
<area shape="rect" id="node15" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="1179,360,1273,387"/>
<area shape="rect" id="node17" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="1736,1620,1911,1647"/>
<area shape="rect" id="node22" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="1340,715,1465,741"/>
<area shape="rect" id="node18" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="2183,1571,2321,1613"/>
<area shape="rect" id="node19" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="1961,1620,2132,1647"/>
<area shape="rect" id="node20" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="2183,1675,2321,1717"/>
<area shape="rect" id="node21" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="1977,1554,2117,1595"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="1525,740,1677,767"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="1513,385,1688,412"/>
<area shape="rect" id="node24" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="1758,715,1889,741"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="1977,707,2116,749"/>
<area shape="rect" id="node28" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="1764,1181,1883,1208"/>
<area shape="rect" id="node27" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="1965,656,2128,683"/>
<area shape="rect" id="node26" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="2199,715,2305,741"/>
<area shape="rect" id="node29" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="1966,1152,2127,1179"/>
<area shape="rect" id="node30" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="1981,1203,2112,1245"/>
<area shape="rect" id="node31" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="1981,1269,2112,1310"/>
<area shape="rect" id="node32" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="1974,1335,2119,1361"/>
<area shape="rect" id="node33" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="1959,1385,2135,1412"/>
<area shape="rect" id="node34" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="1977,1437,2116,1478"/>
<area shape="rect" id="node35" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="1983,773,2111,814"/>
<area shape="rect" id="node36" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="1983,838,2111,879"/>
<area shape="rect" id="node37" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="1983,1503,2110,1529"/>
<area shape="rect" id="node38" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="1973,904,2121,931"/>
<area shape="rect" id="node39" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="1983,955,2110,997"/>
<area shape="rect" id="node40" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="1983,1021,2110,1062"/>
<area shape="rect" id="node41" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="1974,1086,2119,1127"/>
<area shape="rect" id="node47" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="1765,411,1882,437"/>
<area shape="rect" id="node48" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="1763,360,1883,387"/>
</map>
</div>

</div>
</div>
<a id="a0354372a22ce7aec3665d6e23843596f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0354372a22ce7aec3665d6e23843596f">&#9670;&nbsp;</a></span>afs_release_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int afs_release_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *&#160;</td>
          <td class="paramname"><em>vnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a0354372a22ce7aec3665d6e23843596f_cgraph.png" border="0" usemap="#flock_8c_a0354372a22ce7aec3665d6e23843596f_cgraph" alt=""/></div>
<map name="flock_8c_a0354372a22ce7aec3665d6e23843596f_cgraph" id="flock_8c_a0354372a22ce7aec3665d6e23843596f_cgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643" title="afs_begin_vnode_operation" alt="" coords="173,484,353,511"/>
<area shape="rect" id="node4" href="afs_2internal_8h.html#a38be7e1a8eaac71104e2f93763156258" title="afs_select_current\l_fileserver" alt="" coords="404,529,533,570"/>
<area shape="rect" id="node21" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c" title="afs_calc_vnode_cb_break" alt="" coords="177,747,350,773"/>
<area shape="rect" id="node22" href="fsclient_8c.html#a2d3c214fa03555bc6d9b1c27ae649474" title="afs_fs_release_lock" alt="" coords="194,696,333,723"/>
<area shape="rect" id="node39" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04" title="afs_check_for_remote\l_deletion" alt="" coords="188,885,339,926"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="176,1124,351,1151"/>
<area shape="rect" id="node48" href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d" title="afs_end_vnode_operation" alt="" coords="590,588,761,615"/>
<area shape="rect" id="node3" href="rotate_8c.html#a07fb8d8d35619bc0f7e49b3acc8782ee" title="afs_init_fs_cursor" alt="" coords="406,477,531,504"/>
<area shape="rect" id="node5" href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f" title="afs_get_cb_interest" alt="" coords="607,643,743,669"/>
<area shape="rect" id="node6" href="afs_2internal_8h.html#ab24a354689c8e62717613a48bdea9454" title="afs_get_addrlist" alt="" coords="618,208,733,235"/>
<area shape="rect" id="node19" href="addr__list_8c.html#a496ae3e51cf7b82ced45227a04438b98" title="afs_iterate_addresses" alt="" coords="600,485,751,512"/>
<area shape="rect" id="node20" href="addr__list_8c.html#aeb46a0b30847fee49270792788198bf3" title="afs_end_cursor" alt="" coords="843,461,954,488"/>
<area shape="rect" id="node7" href="afs_2internal_8h.html#adb84a1a68225abcfda83632c3277373e" title="afs_alloc_addrlist" alt="" coords="837,259,960,285"/>
<area shape="rect" id="node8" href="afs_2internal_8h.html#af40c0b89c86bd9e600473bf5bf316bca" title="afs_put_addrlist" alt="" coords="841,309,956,336"/>
<area shape="rect" id="node9" href="afs_2internal_8h.html#a5f75115c846143c2f0ade735da97cb92" title="afs_parse_text_addrs" alt="" coords="1045,348,1191,375"/>
<area shape="rect" id="node11" href="afs_2internal_8h.html#a3345bf5b612581b757a3cc7266415b09" title="afs_dns_query" alt="" coords="845,5,952,32"/>
<area shape="rect" id="node13" href="afs_2internal_8h.html#adedb3f91a1777c8b43058aadb72f580f" title="afs_iterate_addresses" alt="" coords="823,56,974,83"/>
<area shape="rect" id="node14" href="afs_2internal_8h.html#a5321a618b7fb8d3fb9ca27b87aa48f03" title="afs_end_cursor" alt="" coords="843,411,954,437"/>
<area shape="rect" id="node16" href="afs_2internal_8h.html#af79f4fac2041d7339b848eebcf89fc53" title="afs_set_vl_cursor" alt="" coords="836,107,961,133"/>
<area shape="rect" id="node17" href="afs_2internal_8h.html#aebc4dca57e6987e799c507ed5db328ce" title="afs_merge_fs_addr4" alt="" coords="829,157,969,184"/>
<area shape="rect" id="node18" href="afs_2internal_8h.html#a543ab64b81243be165175261a307249e" title="afs_merge_fs_addr6" alt="" coords="829,208,969,235"/>
<area shape="rect" id="node10" href="addr__list_8c.html#a6185f66e2646da029253a87212eb3da6" title="afs_alloc_addrlist" alt="" coords="1260,247,1383,273"/>
<area shape="rect" id="node12" href="addr__list_8c.html#ade155873bc41c58ce5f96ebdcd0313ea" title="afs_parse_text_addrs" alt="" coords="1045,145,1191,172"/>
<area shape="rect" id="node15" href="addr__list_8c.html#a92d6343a3001a8d0bc55b221202723fa" title="afs_put_addrlist" alt="" coords="1061,424,1175,451"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9" title="afs_v2net" alt="" coords="859,664,938,691"/>
<area shape="rect" id="node24" href="afs_2internal_8h.html#aeb1fe9d974fa2aec125189049dad59d6" title="afs_alloc_flat_call" alt="" coords="405,1035,532,1061"/>
<area shape="rect" id="node30" href="fsclient_8c.html#a7b1f6e97dbf1e12441d605abe6836c28" title="afs_use_fs_server" alt="" coords="404,645,533,672"/>
<area shape="rect" id="node31" href="afs_2internal_8h.html#ad797c9747d3a4467e02f386f3f969e02" title="afs_make_call" alt="" coords="622,816,729,843"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#aba673798be50b67a163039d0c6655ce6" title="afs_alloc_call" alt="" coords="625,1085,726,1112"/>
<area shape="rect" id="node27" href="rxrpc_8c.html#a5fa178cc440c7ea1647441cd04c53d8c" title="afs_put_call" alt="" coords="1072,917,1164,944"/>
<area shape="rect" id="node26" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="817,1085,980,1112"/>
<area shape="rect" id="node28" href="afs_2internal_8h.html#ac302952d9136c1a378f99892a114ef0d" title="afs_put_server" alt="" coords="1437,563,1545,589"/>
<area shape="rect" id="node29" href="afs_2callback_8c.html#a1fb0cb3663862e4ac804ff42a51947a3" title="afs_put_cb_interest" alt="" coords="1253,563,1389,589"/>
<area shape="rect" id="node32" href="rxrpc_8c.html#a719741b8195e3eb687e8aadaec3f0e46" title="afs_wake_up_async_call" alt="" coords="815,917,983,944"/>
<area shape="rect" id="node33" href="rxrpc_8c.html#a2a41414b5057b6568e074a7959e59d84" title="afs_wake_up_call_waiter" alt="" coords="815,715,983,741"/>
<area shape="rect" id="node34" href="rxrpc_8c.html#ad072fcf21d333ab1d029f57e69be0e49" title="afs_notify_end_request_tx" alt="" coords="1031,765,1205,792"/>
<area shape="rect" id="node36" href="rxrpc_8c.html#a8c47785c4f8aebf4e773153a47904416" title="afs_send_pages" alt="" coords="840,816,957,843"/>
<area shape="rect" id="node38" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="829,969,968,1010"/>
<area shape="rect" id="node35" href="afs_2internal_8h.html#a4b8af249f6ab8fd36a632c17b3392169" title="afs_set_call_state" alt="" coords="1257,765,1385,792"/>
<area shape="rect" id="node37" href="rxrpc_8c.html#a73667b1e0ab00e208d227dbf4db33454" title="afs_load_bvec" alt="" coords="1065,816,1171,843"/>
<area shape="rect" id="node40" href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827" title="afs_break_callback" alt="" coords="401,1136,536,1163"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#af1ee7732bdf3bb47391a9c2db2d75def" title="afs_clear_permits" alt="" coords="613,1136,738,1163"/>
<area shape="rect" id="node43" href="flock_8c.html#ab359dd36e5f4cdc8c6136e99fd3e2d56" title="afs_lock_may_be_available" alt="" coords="584,1187,767,1213"/>
<area shape="rect" id="node42" href="afs_2security_8c.html#ab229522a5babbc4c97e607e5124c101e" title="afs_put_permits" alt="" coords="841,1237,956,1264"/>
<area shape="rect" id="node45" href="afs_2internal_8h.html#a90b8777c7b642a1704c74033cda95572" title="afs_cache_permit" alt="" coords="406,1263,531,1289"/>
<area shape="rect" id="node46" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="609,1237,741,1264"/>
<area shape="rect" id="node47" href="afs_2security_8c.html#ac5ed4ec8a09b71a430235345d87d68f7" title="afs_hash_permits" alt="" coords="613,1288,738,1315"/>
<area shape="rect" id="node49" href="afs_2internal_8h.html#aaac25a890c99d6fcb4cb429e93727ddc" title="afs_put_serverlist" alt="" coords="1055,512,1181,539"/>
<area shape="rect" id="node50" href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d" title="afs_abort_to_error" alt="" coords="835,613,962,640"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a0354372a22ce7aec3665d6e23843596f_icgraph.png" border="0" usemap="#flock_8c_a0354372a22ce7aec3665d6e23843596f_icgraph" alt=""/></div>
<map name="flock_8c_a0354372a22ce7aec3665d6e23843596f_icgraph" id="flock_8c_a0354372a22ce7aec3665d6e23843596f_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a0662a614c0a5d712d406c8197d253bee" title="afs_lock_work" alt="" coords="173,1079,280,1106"/>
<area shape="rect" id="node3" href="afs_2super_8c.html#ab9af92c281d6d83d82d07c6a277485e5" title="afs_i_init_once" alt="" coords="328,1155,437,1182"/>
<area shape="rect" id="node17" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="1328,1079,1460,1106"/>
<area shape="rect" id="node4" href="afs_2super_8c.html#ad051f62d36e5d198179569ebe8140810" title="afs_fs_init" alt="" coords="485,1181,568,1207"/>
<area shape="rect" id="node5" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a" title="afs_get_serverlist" alt="" coords="616,1257,741,1283"/>
<area shape="rect" id="node50" href="afs_2main_8c.html#a6c32b7e048d19484ff1747eabb3cabae" title="afs_init" alt="" coords="647,1181,711,1207"/>
<area shape="rect" id="node6" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="789,1459,933,1486"/>
<area shape="rect" id="node7" href="rotate_8c.html#aedbf1d1c5c30d4ba155cc39cab2a7985" title="afs_select_fileserver" alt="" coords="981,1510,1124,1537"/>
<area shape="rect" id="node8" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="1952,1589,2031,1615"/>
<area shape="rect" id="node9" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="1953,1642,2029,1669"/>
<area shape="rect" id="node10" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1951,1699,2032,1726"/>
<area shape="rect" id="node11" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="1950,1762,2033,1789"/>
<area shape="rect" id="node12" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="1958,1838,2025,1865"/>
<area shape="rect" id="node13" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="1945,1231,2037,1258"/>
<area shape="rect" id="node14" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="1946,1282,2037,1309"/>
<area shape="rect" id="node15" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="1172,1181,1280,1207"/>
<area shape="rect" id="node44" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="1932,1358,2051,1385"/>
<area shape="rect" id="node45" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="1949,1434,2033,1461"/>
<area shape="rect" id="node46" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="1951,1485,2031,1511"/>
<area shape="rect" id="node47" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="1943,1130,2039,1157"/>
<area shape="rect" id="node49" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="1937,1537,2045,1563"/>
<area shape="rect" id="node16" href="afs_2dir_8c.html#a7c97055c10819dbebc8ea604d3f26d78" title="afs_read_dir" alt="" coords="1347,1181,1441,1207"/>
<area shape="rect" id="node18" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="1904,75,2079,102"/>
<area shape="rect" id="node23" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="1508,1079,1633,1106"/>
<area shape="rect" id="node19" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="2351,147,2489,188"/>
<area shape="rect" id="node20" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="2129,75,2300,102"/>
<area shape="rect" id="node21" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="2351,5,2489,47"/>
<area shape="rect" id="node22" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="2145,127,2285,168"/>
<area shape="rect" id="node24" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="1693,927,1845,954"/>
<area shape="rect" id="node43" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="1681,1434,1856,1461"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="1926,974,2057,1001"/>
<area shape="rect" id="node26" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="2145,1025,2284,1067"/>
<area shape="rect" id="node29" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="1932,533,2051,559"/>
<area shape="rect" id="node28" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="2133,974,2296,1001"/>
<area shape="rect" id="node27" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="2367,1033,2473,1059"/>
<area shape="rect" id="node30" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="2134,623,2295,650"/>
<area shape="rect" id="node31" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="2149,675,2280,716"/>
<area shape="rect" id="node32" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="2149,740,2280,781"/>
<area shape="rect" id="node33" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="2142,806,2287,833"/>
<area shape="rect" id="node34" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="2127,857,2303,883"/>
<area shape="rect" id="node35" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="2145,908,2284,949"/>
<area shape="rect" id="node36" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="2151,244,2279,285"/>
<area shape="rect" id="node37" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="2151,309,2279,351"/>
<area shape="rect" id="node38" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="2151,193,2278,219"/>
<area shape="rect" id="node39" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="2141,375,2289,402"/>
<area shape="rect" id="node40" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="2151,427,2278,468"/>
<area shape="rect" id="node41" href="vlclient_8c.html#ac78a1a5d8561feb524a5b76de5d7003a" title="afs_deliver_vl_get\l_capabilities" alt="" coords="2151,492,2278,533"/>
<area shape="rect" id="node42" href="vlclient_8c.html#a761587d48332e44940f2034b3218ecf0" title="afs_deliver_yfsvl_get\l_endpoints" alt="" coords="2142,557,2287,599"/>
<area shape="rect" id="node48" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="1933,1181,2050,1207"/>
</map>
</div>

</div>
</div>
<a id="a101f040a8cfb3a9c255f1a30e4256517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a101f040a8cfb3a9c255f1a30e4256517">&#9670;&nbsp;</a></span>afs_schedule_lock_extension()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void afs_schedule_lock_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *&#160;</td>
          <td class="paramname"><em>vnode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_a101f040a8cfb3a9c255f1a30e4256517_icgraph.png" border="0" usemap="#flock_8c_a101f040a8cfb3a9c255f1a30e4256517_icgraph" alt=""/></div>
<map name="flock_8c_a101f040a8cfb3a9c255f1a30e4256517_icgraph" id="flock_8c_a101f040a8cfb3a9c255f1a30e4256517_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a0662a614c0a5d712d406c8197d253bee" title="afs_lock_work" alt="" coords="247,761,353,788"/>
<area shape="rect" id="node44" href="flock_8c.html#a951ebbb6cf0df3e4f2622cd531fa038a" title="afs_do_setlk" alt="" coords="2240,803,2336,829"/>
<area shape="rect" id="node3" href="afs_2super_8c.html#ab9af92c281d6d83d82d07c6a277485e5" title="afs_i_init_once" alt="" coords="401,720,511,747"/>
<area shape="rect" id="node16" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="1401,803,1533,829"/>
<area shape="rect" id="node4" href="afs_2super_8c.html#ad051f62d36e5d198179569ebe8140810" title="afs_fs_init" alt="" coords="559,689,641,716"/>
<area shape="rect" id="node5" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a" title="afs_get_serverlist" alt="" coords="689,512,815,539"/>
<area shape="rect" id="node50" href="afs_2main_8c.html#a6c32b7e048d19484ff1747eabb3cabae" title="afs_init" alt="" coords="720,689,784,716"/>
<area shape="rect" id="node6" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="863,480,1007,507"/>
<area shape="rect" id="node7" href="rotate_8c.html#aedbf1d1c5c30d4ba155cc39cab2a7985" title="afs_select_fileserver" alt="" coords="1055,423,1197,449"/>
<area shape="rect" id="node8" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="2025,397,2104,424"/>
<area shape="rect" id="node9" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="2027,448,2103,475"/>
<area shape="rect" id="node10" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="2024,499,2105,525"/>
<area shape="rect" id="node11" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="2023,549,2106,576"/>
<area shape="rect" id="node12" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="2031,600,2098,627"/>
<area shape="rect" id="node13" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="2019,651,2111,677"/>
<area shape="rect" id="node14" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="2019,144,2110,171"/>
<area shape="rect" id="node15" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="1245,752,1353,779"/>
<area shape="rect" id="node40" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="2005,195,2124,221"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="2023,245,2107,272"/>
<area shape="rect" id="node42" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="2025,296,2105,323"/>
<area shape="rect" id="node43" href="flock_8c.html#ad70039bd56fe8817c3ce0817c88d62fd" title="afs_set_lock" alt="" coords="2017,93,2113,120"/>
<area shape="rect" id="node49" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="2011,347,2119,373"/>
<area shape="rect" id="node17" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="1977,1671,2152,1697"/>
<area shape="rect" id="node22" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="1581,803,1707,829"/>
<area shape="rect" id="node18" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="2424,1421,2563,1462"/>
<area shape="rect" id="node19" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="2203,1671,2373,1697"/>
<area shape="rect" id="node20" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="2424,1309,2563,1350"/>
<area shape="rect" id="node21" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="2218,1605,2358,1646"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="1766,963,1918,989"/>
<area shape="rect" id="node39" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="1755,448,1929,475"/>
<area shape="rect" id="node24" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="1999,988,2130,1015"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="2219,854,2357,895"/>
<area shape="rect" id="node28" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="2005,1263,2124,1289"/>
<area shape="rect" id="node27" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="2207,920,2369,947"/>
<area shape="rect" id="node26" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="2440,861,2547,888"/>
<area shape="rect" id="node29" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="2207,1503,2369,1529"/>
<area shape="rect" id="node30" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="2223,1022,2353,1063"/>
<area shape="rect" id="node31" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="2223,1087,2353,1129"/>
<area shape="rect" id="node32" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="2215,1153,2361,1180"/>
<area shape="rect" id="node33" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="2200,1204,2376,1231"/>
<area shape="rect" id="node34" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="2219,1255,2357,1297"/>
<area shape="rect" id="node35" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="2224,1321,2352,1362"/>
<area shape="rect" id="node36" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="2224,1386,2352,1427"/>
<area shape="rect" id="node37" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="2225,971,2351,997"/>
<area shape="rect" id="node38" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="2214,1452,2362,1479"/>
<area shape="rect" id="node47" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="2006,701,2123,728"/>
<area shape="rect" id="node48" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="2005,17,2125,44"/>
<area shape="rect" id="node45" href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958" title="afs_lock" alt="" coords="2458,777,2529,804"/>
<area shape="rect" id="node46" href="afs_2internal_8h.html#a70b72a06652b89ad9da5d68e012e070e" title="afs_flock" alt="" coords="2456,1233,2531,1260"/>
</map>
</div>

</div>
</div>
<a id="ad70039bd56fe8817c3ce0817c88d62fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad70039bd56fe8817c3ce0817c88d62fd">&#9670;&nbsp;</a></span>afs_set_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int afs_set_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structafs__vnode.html">afs_vnode</a> *&#160;</td>
          <td class="paramname"><em>vnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="afs_8h.html#a38e93ddc172f1f186bd8047fe754c10e">afs_lock_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_ad70039bd56fe8817c3ce0817c88d62fd_cgraph.png" border="0" usemap="#flock_8c_ad70039bd56fe8817c3ce0817c88d62fd_cgraph" alt=""/></div>
<map name="flock_8c_ad70039bd56fe8817c3ce0817c88d62fd_cgraph" id="flock_8c_ad70039bd56fe8817c3ce0817c88d62fd_cgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a38408dd1eaa8799b226105a9d4b6c643" title="afs_begin_vnode_operation" alt="" coords="149,141,329,168"/>
<area shape="rect" id="node4" href="afs_2internal_8h.html#a105fdee4b920ba59a26550abc7bfc419" title="afs_select_fileserver" alt="" coords="168,917,311,944"/>
<area shape="rect" id="node36" href="afs_2internal_8h.html#af9818b2ae8d5771668707f3f3fc9274c" title="afs_calc_vnode_cb_break" alt="" coords="153,968,326,995"/>
<area shape="rect" id="node37" href="fsclient_8c.html#ac8f5df618a1c83f3e8e348c88a68817f" title="afs_fs_set_lock" alt="" coords="182,365,297,392"/>
<area shape="rect" id="node46" href="afs_2internal_8h.html#a49b043bb8b2bf96b7f1d8e85383cdb04" title="afs_check_for_remote\l_deletion" alt="" coords="164,1205,315,1246"/>
<area shape="rect" id="node48" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="152,1643,327,1669"/>
<area shape="rect" id="node50" href="afs_2internal_8h.html#ad60d2bfce45061954c0d87d95a604e0d" title="afs_end_vnode_operation" alt="" coords="604,765,775,792"/>
<area shape="rect" id="node3" href="rotate_8c.html#a07fb8d8d35619bc0f7e49b3acc8782ee" title="afs_init_fs_cursor" alt="" coords="402,5,527,32"/>
<area shape="rect" id="node5" href="afs_2internal_8h.html#a7903104f5ae92cb09d002470375e0f44" title="afs_check_volume_status" alt="" coords="377,867,552,893"/>
<area shape="rect" id="node7" href="afs_2internal_8h.html#aaac25a890c99d6fcb4cb429e93727ddc" title="afs_put_serverlist" alt="" coords="848,956,973,983"/>
<area shape="rect" id="node8" href="afs_2callback_8c.html#a1fb0cb3663862e4ac804ff42a51947a3" title="afs_put_cb_interest" alt="" coords="1061,703,1197,729"/>
<area shape="rect" id="node10" href="afs_2internal_8h.html#ac281e8123d215cdc17251a65f885128d" title="afs_abort_to_error" alt="" coords="1275,1057,1401,1084"/>
<area shape="rect" id="node11" href="rotate_8c.html#a4ea0dc63121a25baa66119d91686c0a1" title="afs_busy" alt="" coords="427,968,502,995"/>
<area shape="rect" id="node12" href="rotate_8c.html#a1e09f4525a5525dfb3f1f715c5797231" title="afs_sleep_and_retry" alt="" coords="395,765,534,792"/>
<area shape="rect" id="node13" href="addr__list_8c.html#aeb46a0b30847fee49270792788198bf3" title="afs_end_cursor" alt="" coords="1283,1336,1393,1363"/>
<area shape="rect" id="node14" href="addr__list_8c.html#a92d6343a3001a8d0bc55b221202723fa" title="afs_put_addrlist" alt="" coords="1461,1652,1576,1679"/>
<area shape="rect" id="node15" href="afs_2internal_8h.html#aeed68744612ed49ebb9f38dae92533d9" title="afs_v2net" alt="" coords="1299,525,1377,552"/>
<area shape="rect" id="node16" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="393,664,537,691"/>
<area shape="rect" id="node18" href="afs_2internal_8h.html#a71c538c2f32b68d3516c4a1125e59799" title="afs_check_server_record" alt="" coords="827,1627,995,1653"/>
<area shape="rect" id="node20" href="afs_2callback_8c.html#a64ebd0db95d8573a3a44f7dd19de78cd" title="afs_register_server\l_cb_interest" alt="" coords="398,555,531,597"/>
<area shape="rect" id="node21" href="afs_2internal_8h.html#abdbac84be4c1930d5b4e73f001b9271f" title="afs_get_cb_interest" alt="" coords="621,461,757,488"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#ad0da2b1acac130ae38fcbf223520a184" title="afs_probe_fileserver" alt="" coords="841,1108,980,1135"/>
<area shape="rect" id="node25" href="addr__list_8c.html#a496ae3e51cf7b82ced45227a04438b98" title="afs_iterate_addresses" alt="" coords="1263,1475,1413,1501"/>
<area shape="rect" id="node26" href="afs_2internal_8h.html#ab24a354689c8e62717613a48bdea9454" title="afs_get_addrlist" alt="" coords="407,1221,522,1248"/>
<area shape="rect" id="node6" href="volume_8c.html#acf5974cc8c30a198834cde050b96ad96" title="afs_update_volume_status" alt="" coords="600,867,779,893"/>
<area shape="rect" id="node9" href="afs_2internal_8h.html#ac302952d9136c1a378f99892a114ef0d" title="afs_put_server" alt="" coords="1284,785,1392,812"/>
<area shape="rect" id="node17" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a" title="afs_get_serverlist" alt="" coords="627,816,752,843"/>
<area shape="rect" id="node19" href="server_8c.html#a011e2dddcdbe0101ba542e7b5be04ec3" title="afs_update_server_record" alt="" coords="1043,1627,1215,1653"/>
<area shape="rect" id="node22" href="afs_2internal_8h.html#a6adf9289842e0cdd6de872328e4a0c75" title="afs_get_server" alt="" coords="635,968,743,995"/>
<area shape="rect" id="node24" href="server_8c.html#ae56d6e2d79cddd3e98bcf4d88c4a6797" title="afs_do_probe_fileserver" alt="" coords="1049,1108,1209,1135"/>
<area shape="rect" id="node27" href="afs_2internal_8h.html#adb84a1a68225abcfda83632c3277373e" title="afs_alloc_addrlist" alt="" coords="628,1323,751,1349"/>
<area shape="rect" id="node28" href="afs_2internal_8h.html#af40c0b89c86bd9e600473bf5bf316bca" title="afs_put_addrlist" alt="" coords="632,1373,747,1400"/>
<area shape="rect" id="node29" href="afs_2internal_8h.html#a5f75115c846143c2f0ade735da97cb92" title="afs_parse_text_addrs" alt="" coords="616,1424,763,1451"/>
<area shape="rect" id="node30" href="afs_2internal_8h.html#a3345bf5b612581b757a3cc7266415b09" title="afs_dns_query" alt="" coords="636,1069,743,1096"/>
<area shape="rect" id="node31" href="afs_2internal_8h.html#adedb3f91a1777c8b43058aadb72f580f" title="afs_iterate_addresses" alt="" coords="614,1120,765,1147"/>
<area shape="rect" id="node32" href="afs_2internal_8h.html#a5321a618b7fb8d3fb9ca27b87aa48f03" title="afs_end_cursor" alt="" coords="1073,1677,1184,1704"/>
<area shape="rect" id="node33" href="afs_2internal_8h.html#af79f4fac2041d7339b848eebcf89fc53" title="afs_set_vl_cursor" alt="" coords="627,1171,752,1197"/>
<area shape="rect" id="node34" href="afs_2internal_8h.html#aebc4dca57e6987e799c507ed5db328ce" title="afs_merge_fs_addr4" alt="" coords="619,1221,759,1248"/>
<area shape="rect" id="node35" href="afs_2internal_8h.html#a543ab64b81243be165175261a307249e" title="afs_merge_fs_addr6" alt="" coords="619,1272,759,1299"/>
<area shape="rect" id="node38" href="afs_2internal_8h.html#aeb1fe9d974fa2aec125189049dad59d6" title="afs_alloc_flat_call" alt="" coords="401,365,528,392"/>
<area shape="rect" id="node41" href="fsclient_8c.html#a7b1f6e97dbf1e12441d605abe6836c28" title="afs_use_fs_server" alt="" coords="400,421,529,448"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#ad797c9747d3a4467e02f386f3f969e02" title="afs_make_call" alt="" coords="411,259,518,285"/>
<area shape="rect" id="node39" href="rxrpc_8c.html#aba673798be50b67a163039d0c6655ce6" title="afs_alloc_call" alt="" coords="639,360,740,387"/>
<area shape="rect" id="node40" href="rxrpc_8c.html#a5fa178cc440c7ea1647441cd04c53d8c" title="afs_put_call" alt="" coords="865,411,957,437"/>
<area shape="rect" id="node43" href="rxrpc_8c.html#a719741b8195e3eb687e8aadaec3f0e46" title="afs_wake_up_async_call" alt="" coords="605,259,773,285"/>
<area shape="rect" id="node44" href="rxrpc_8c.html#a2a41414b5057b6568e074a7959e59d84" title="afs_wake_up_call_waiter" alt="" coords="605,208,773,235"/>
<area shape="rect" id="node45" href="rxrpc_8c.html#ad072fcf21d333ab1d029f57e69be0e49" title="afs_notify_end_request_tx" alt="" coords="602,157,777,184"/>
<area shape="rect" id="node47" href="afs_2internal_8h.html#a6fc29945104c0f99fc6ae24bdfcbd827" title="afs_break_callback" alt="" coords="397,1779,532,1805"/>
<area shape="rect" id="node49" href="afs_2internal_8h.html#a90b8777c7b642a1704c74033cda95572" title="afs_cache_permit" alt="" coords="402,1829,527,1856"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="flock_8c_ad70039bd56fe8817c3ce0817c88d62fd_icgraph.png" border="0" usemap="#flock_8c_ad70039bd56fe8817c3ce0817c88d62fd_icgraph" alt=""/></div>
<map name="flock_8c_ad70039bd56fe8817c3ce0817c88d62fd_icgraph" id="flock_8c_ad70039bd56fe8817c3ce0817c88d62fd_icgraph">
<area shape="rect" id="node2" href="afs_2internal_8h.html#a0662a614c0a5d712d406c8197d253bee" title="afs_lock_work" alt="" coords="149,765,256,792"/>
<area shape="rect" id="node48" href="flock_8c.html#a951ebbb6cf0df3e4f2622cd531fa038a" title="afs_do_setlk" alt="" coords="981,664,1077,691"/>
<area shape="rect" id="node3" href="afs_2super_8c.html#ab9af92c281d6d83d82d07c6a277485e5" title="afs_i_init_once" alt="" coords="304,701,413,728"/>
<area shape="rect" id="node16" href="afs_2internal_8h.html#a0b3bfb36f35c9837597f9f844439149a" title="afs_cb_break_sum" alt="" coords="1304,715,1436,741"/>
<area shape="rect" id="node4" href="afs_2super_8c.html#ad051f62d36e5d198179569ebe8140810" title="afs_fs_init" alt="" coords="461,651,544,677"/>
<area shape="rect" id="node5" href="afs_2internal_8h.html#a3b88b36f03f98170a64bacb2b7e0b92a" title="afs_get_serverlist" alt="" coords="592,448,717,475"/>
<area shape="rect" id="node47" href="afs_2main_8c.html#a6c32b7e048d19484ff1747eabb3cabae" title="afs_init" alt="" coords="623,651,687,677"/>
<area shape="rect" id="node6" href="rotate_8c.html#ab7ce59514bd6575ea9d3289441deecc7" title="afs_start_fs_iteration" alt="" coords="765,436,909,463"/>
<area shape="rect" id="node7" href="rotate_8c.html#aedbf1d1c5c30d4ba155cc39cab2a7985" title="afs_select_fileserver" alt="" coords="957,335,1100,361"/>
<area shape="rect" id="node8" href="afs_2dir_8c.html#acf545be8d0285c9a92b20888fea37880" title="afs_mkdir" alt="" coords="1928,259,2007,285"/>
<area shape="rect" id="node9" href="afs_2dir_8c.html#a61f4e7d77f3151fae4a114154c5f6b16" title="afs_rmdir" alt="" coords="1929,361,2005,388"/>
<area shape="rect" id="node10" href="afs_2dir_8c.html#a8c6e38e98c88faa37aee17236bb88d67" title="afs_unlink" alt="" coords="1927,413,2008,440"/>
<area shape="rect" id="node11" href="afs_2dir_8c.html#a463b4270f652c4172b6ffea42664953a" title="afs_create" alt="" coords="1926,467,2009,493"/>
<area shape="rect" id="node12" href="afs_2dir_8c.html#a1427c8778b196f8c29f953e7095ea12d" title="afs_link" alt="" coords="1934,524,2001,551"/>
<area shape="rect" id="node13" href="afs_2dir_8c.html#affe37bec2dc28c435b953a439ea713d1" title="afs_symlink" alt="" coords="1921,5,2013,32"/>
<area shape="rect" id="node14" href="afs_2dir_8c.html#ae4cd67776d315c3e7ee4d635d2025977" title="afs_rename" alt="" coords="1922,56,2013,83"/>
<area shape="rect" id="node15" href="afs_2internal_8h.html#ac60dd227c67eb43644cbf893f3a4bf79" title="afs_fetch_data" alt="" coords="1148,563,1256,589"/>
<area shape="rect" id="node41" href="afs_2internal_8h.html#ae20f770d4a7b505a412683c528ecfb0a" title="afs_fetch_status" alt="" coords="1908,107,2027,133"/>
<area shape="rect" id="node42" href="afs_2internal_8h.html#a536e78f49417b99b9d96f792c1e8ac50" title="afs_setattr" alt="" coords="1925,157,2009,184"/>
<area shape="rect" id="node43" href="afs_2super_8c.html#a63f30212ef1d2ac20019b2cfeec53c6e" title="afs_statfs" alt="" coords="1927,208,2007,235"/>
<area shape="rect" id="node46" href="afs_2write_8c.html#a9816ea2812b33b7ad9472a89d23e5249" title="afs_store_data" alt="" coords="1913,309,2021,336"/>
<area shape="rect" id="node17" href="fsclient_8c.html#a9e7640c7fe2ce6673200d9a358e1e11b" title="xdr_decode_AFSCallBack" alt="" coords="1880,1529,2055,1556"/>
<area shape="rect" id="node22" href="afs_2security_8c.html#abc0d533ff7b6a14c516dfbb6c1bdbba4" title="afs_cache_permit" alt="" coords="1484,715,1609,741"/>
<area shape="rect" id="node18" href="fsclient_8c.html#aa5dac82a8444b9ea6b17166496f0dba3" title="afs_deliver_fs_fetch\l_status_vnode" alt="" coords="2327,1489,2465,1530"/>
<area shape="rect" id="node19" href="fsclient_8c.html#a07b91e8e6dab34e72bbc6c9e6fd412b7" title="afs_deliver_fs_fetch_data" alt="" coords="2105,1471,2276,1497"/>
<area shape="rect" id="node20" href="fsclient_8c.html#a6c11006d406d97a017b6dcd5ea836533" title="afs_deliver_fs_fetch\l_status" alt="" coords="2327,1593,2465,1634"/>
<area shape="rect" id="node21" href="fsclient_8c.html#a06a566d495a34e0a4c2b9aaf871dd449" title="afs_deliver_fs_inline\l_bulk_status" alt="" coords="2121,1522,2261,1563"/>
<area shape="rect" id="node23" href="afs_2internal_8h.html#ae77416aa8c3d397b2c747c0e8428b909" title="afs_set_call_complete" alt="" coords="1669,917,1821,944"/>
<area shape="rect" id="node40" href="afs_2internal_8h.html#a023e8df9dfd2f9562706827b627a50cf" title="afs_vnode_commit_status" alt="" coords="1657,411,1832,437"/>
<area shape="rect" id="node24" href="rxrpc_8c.html#a698f7bca7ec6431b3894433fb425c240" title="afs_deliver_to_call" alt="" coords="1902,764,2033,791"/>
<area shape="rect" id="node25" href="rxrpc_8c.html#a95bf08ce9a766c074617c9cb980ed747" title="afs_wait_for_call_to\l_complete" alt="" coords="2121,757,2260,798"/>
<area shape="rect" id="node28" href="rxrpc_8c.html#ab64d8de1d63dd718760a8ab5401d5057" title="afs_extract_data" alt="" coords="1908,1165,2027,1192"/>
<area shape="rect" id="node27" href="rxrpc_8c.html#a5c29ee609a88d340be7d96a81938e81a" title="afs_process_async_call" alt="" coords="2109,705,2272,732"/>
<area shape="rect" id="node26" href="rxrpc_8c.html#aa12c3ceedc585dabafa49067aa1515f8" title="afs_make_call" alt="" coords="2343,764,2449,791"/>
<area shape="rect" id="node29" href="cmservice_8c.html#a922c0e12250bbca3c5a0c586e13bb306" title="afs_deliver_cb_callback" alt="" coords="2110,1136,2271,1163"/>
<area shape="rect" id="node30" href="cmservice_8c.html#a795235e7b427f163ee4f4c1d6598b580" title="afs_deliver_cb_init\l_call_back_state" alt="" coords="2125,1187,2256,1229"/>
<area shape="rect" id="node31" href="cmservice_8c.html#ae4eb62cc0e603101ba71392935530c2c" title="afs_deliver_cb_init\l_call_back_state3" alt="" coords="2125,1253,2256,1294"/>
<area shape="rect" id="node32" href="cmservice_8c.html#a4e67d3b05f2df42727724017f383fb81" title="afs_deliver_cb_probe" alt="" coords="2118,1319,2263,1345"/>
<area shape="rect" id="node33" href="cmservice_8c.html#ae597b3138b2ca01bd317d7a4d35d6fd2" title="afs_deliver_cb_probe_uuid" alt="" coords="2103,1369,2279,1396"/>
<area shape="rect" id="node34" href="cmservice_8c.html#af6d7d87cb1b06cbb2ba46947fe946c8d" title="afs_deliver_cb_tell\l_me_about_yourself" alt="" coords="2121,822,2260,863"/>
<area shape="rect" id="node35" href="fsclient_8c.html#adb06b3eb85eb82ccd4ee87c9c94a8c9d" title="afs_deliver_fs_get\l_volume_status" alt="" coords="2127,887,2255,929"/>
<area shape="rect" id="node36" href="fsclient_8c.html#a700df00a72fffc2b81545d23a89ffad6" title="afs_deliver_fs_get\l_capabilities" alt="" coords="2127,953,2255,994"/>
<area shape="rect" id="node37" href="afs_2internal_8h.html#afbd99b882d0648b79b1be32ec55c5f86" title="afs_transfer_reply" alt="" coords="2127,1420,2254,1447"/>
<area shape="rect" id="node38" href="rxrpc_8c.html#a268617afd01ad433f2fa3916732a095b" title="afs_deliver_cm_op_id" alt="" coords="2117,1019,2265,1045"/>
<area shape="rect" id="node39" href="vlclient_8c.html#a41c871ca9773ef1d5ec239708cb69cb8" title="afs_deliver_vl_get\l_addrs_u" alt="" coords="2127,1070,2254,1111"/>
<area shape="rect" id="node44" href="flock_8c.html#a51a30fbf4ddbb44e3a170fac4f7fabb4" title="afs_extend_lock" alt="" coords="1909,587,2026,613"/>
<area shape="rect" id="node45" href="flock_8c.html#a0354372a22ce7aec3665d6e23843596f" title="afs_release_lock" alt="" coords="1907,663,2027,689"/>
<area shape="rect" id="node49" href="afs_2internal_8h.html#a04b2ca0386df4d4604d5143160b08958" title="afs_lock" alt="" coords="1167,715,1237,741"/>
<area shape="rect" id="node50" href="afs_2internal_8h.html#a70b72a06652b89ad9da5d68e012e070e" title="afs_flock" alt="" coords="1165,664,1239,691"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9fc8d335b2a5f3762d7552cf06b63d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fc8d335b2a5f3762d7552cf06b63d93">&#9670;&nbsp;</a></span>afs_lock_manager</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct workqueue_struct* afs_lock_manager</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abfb5c9c366d040f9f1651ed4fc48162a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfb5c9c366d040f9f1651ed4fc48162a">&#9670;&nbsp;</a></span>afs_lock_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct file_lock_operations afs_lock_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .fl_copy_lock       = <a class="code" href="flock_8c.html#a6a803202b15338a5faae52d9fa986417">afs_fl_copy_lock</a>,</div><div class="line">    .fl_release_private = <a class="code" href="flock_8c.html#a3a8c0dd3f942e9b2cae30aafcd6c907c">afs_fl_release_private</a>,</div><div class="line">}</div><div class="ttc" id="flock_8c_html_a6a803202b15338a5faae52d9fa986417"><div class="ttname"><a href="flock_8c.html#a6a803202b15338a5faae52d9fa986417">afs_fl_copy_lock</a></div><div class="ttdeci">static void afs_fl_copy_lock(struct file_lock *new, struct file_lock *fl)</div><div class="ttdef"><b>Definition:</b> flock.c:691</div></div>
<div class="ttc" id="flock_8c_html_a3a8c0dd3f942e9b2cae30aafcd6c907c"><div class="ttname"><a href="flock_8c.html#a3a8c0dd3f942e9b2cae30aafcd6c907c">afs_fl_release_private</a></div><div class="ttdeci">static void afs_fl_release_private(struct file_lock *fl)</div><div class="ttdef"><b>Definition:</b> flock.c:706</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ffa8011cbb6779b73c9e45f2b5eaeb12.html">afs</a></li><li class="navelem"><a class="el" href="flock_8c.html">flock.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
