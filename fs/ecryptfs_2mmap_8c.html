<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ecryptfs/mmap.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ecryptfs_2mmap_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">mmap.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/pagemap.h&gt;</code><br />
<code>#include &lt;linux/writeback.h&gt;</code><br />
<code>#include &lt;linux/page-flags.h&gt;</code><br />
<code>#include &lt;linux/mount.h&gt;</code><br />
<code>#include &lt;linux/file.h&gt;</code><br />
<code>#include &lt;linux/scatterlist.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/xattr.h&gt;</code><br />
<code>#include &lt;asm/unaligned.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ecryptfs__kernel_8h_source.html">ecryptfs_kernel.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mmap.c:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c__incl.png" border="0" usemap="#ecryptfs_2mmap_8c" alt=""/></div>
<map name="ecryptfs_2mmap_8c" id="ecryptfs_2mmap_8c">
<area shape="rect" id="node11" href="ecryptfs__kernel_8h.html" title="ecryptfs_kernel.h" alt="" coords="1209,80,1332,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aca1df323be205e111a6dfc298c4edada"><td class="memItemLeft" align="right" valign="top">struct page *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#aca1df323be205e111a6dfc298c4edada">ecryptfs_get_locked_page</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, loff_t <a class="el" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>)</td></tr>
<tr class="separator:aca1df323be205e111a6dfc298c4edada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c709c67cbb144bffe29cff5a7ac0f8c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#a1c709c67cbb144bffe29cff5a7ac0f8c">ecryptfs_writepage</a> (struct page *page, struct writeback_control *wbc)</td></tr>
<tr class="separator:a1c709c67cbb144bffe29cff5a7ac0f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc61f37e04f31bbf3dce9ad8b242108e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#adc61f37e04f31bbf3dce9ad8b242108e">strip_xattr_flag</a> (char *page_virt, struct <a class="el" href="structecryptfs__crypt__stat.html">ecryptfs_crypt_stat</a> *crypt_stat)</td></tr>
<tr class="separator:adc61f37e04f31bbf3dce9ad8b242108e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71adfacc67a2f9b01c0680e05f5a2a73"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#a71adfacc67a2f9b01c0680e05f5a2a73">ecryptfs_copy_up_encrypted_with_header</a> (struct page *page, struct <a class="el" href="structecryptfs__crypt__stat.html">ecryptfs_crypt_stat</a> *crypt_stat)</td></tr>
<tr class="separator:a71adfacc67a2f9b01c0680e05f5a2a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8e487f41eae0bd59f0f73483c8b0bd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#a8f8e487f41eae0bd59f0f73483c8b0bd">ecryptfs_readpage</a> (struct file *file, struct page *page)</td></tr>
<tr class="separator:a8f8e487f41eae0bd59f0f73483c8b0bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad403ab8e5066307678c530430e8bf713"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#ad403ab8e5066307678c530430e8bf713">fill_zeros_to_end_of_page</a> (struct page *page, unsigned int to)</td></tr>
<tr class="separator:ad403ab8e5066307678c530430e8bf713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4799f05bb0baa6b8d31732c51a633f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f">ecryptfs_write_begin</a> (struct file *file, struct address_space *mapping, loff_t pos, unsigned <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, unsigned <a class="el" href="structflags.html">flags</a>, struct page **pagep, void **fsdata)</td></tr>
<tr class="separator:a6a4799f05bb0baa6b8d31732c51a633f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b74e0ca76af820971547c9fca1d36d9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#a0b74e0ca76af820971547c9fca1d36d9">ecryptfs_write_inode_size_to_header</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *ecryptfs_inode)</td></tr>
<tr class="separator:a0b74e0ca76af820971547c9fca1d36d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528f4af2fcdb491f72647ffc136b862a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#a528f4af2fcdb491f72647ffc136b862a">ecryptfs_write_inode_size_to_xattr</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *ecryptfs_inode)</td></tr>
<tr class="separator:a528f4af2fcdb491f72647ffc136b862a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f11bbda657ce45e00bcea3c689260b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#ae7f11bbda657ce45e00bcea3c689260b">ecryptfs_write_inode_size_to_metadata</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *ecryptfs_inode)</td></tr>
<tr class="separator:ae7f11bbda657ce45e00bcea3c689260b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2c17cca4323636c254626963421f3f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#aba2c17cca4323636c254626963421f3f">ecryptfs_write_end</a> (struct file *file, struct address_space *mapping, loff_t pos, unsigned <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, unsigned copied, struct page *page, void *fsdata)</td></tr>
<tr class="separator:aba2c17cca4323636c254626963421f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7241c5e2e81b9f7a05cd2137bbdd8c42"><td class="memItemLeft" align="right" valign="top">static sector_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#a7241c5e2e81b9f7a05cd2137bbdd8c42">ecryptfs_bmap</a> (struct address_space *mapping, sector_t <a class="el" href="sysv_2super_8c.html#a6f5f3480b66f3cc414fd0d6dfcf54046">block</a>)</td></tr>
<tr class="separator:a7241c5e2e81b9f7a05cd2137bbdd8c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ade537f4bcb78d15bf476b5d013fb55b3"><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#ade537f4bcb78d15bf476b5d013fb55b3">ecryptfs_xattr_cache</a></td></tr>
<tr class="separator:ade537f4bcb78d15bf476b5d013fb55b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91df1a63aae0054a1b873383158f5d0"><td class="memItemLeft" align="right" valign="top">const struct address_space_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ecryptfs_2mmap_8c.html#ac91df1a63aae0054a1b873383158f5d0">ecryptfs_aops</a></td></tr>
<tr class="separator:ac91df1a63aae0054a1b873383158f5d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7241c5e2e81b9f7a05cd2137bbdd8c42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7241c5e2e81b9f7a05cd2137bbdd8c42">&#9670;&nbsp;</a></span>ecryptfs_bmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static sector_t ecryptfs_bmap </td>
          <td>(</td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_a7241c5e2e81b9f7a05cd2137bbdd8c42_cgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_a7241c5e2e81b9f7a05cd2137bbdd8c42_cgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_a7241c5e2e81b9f7a05cd2137bbdd8c42_cgraph" id="ecryptfs_2mmap_8c_a7241c5e2e81b9f7a05cd2137bbdd8c42_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a113da429d81deb7cc5d4c4536e72a92c" title="ecryptfs_inode_to_lower" alt="" coords="161,5,324,32"/>
<area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="372,5,543,32"/>
</map>
</div>

</div>
</div>
<a id="a71adfacc67a2f9b01c0680e05f5a2a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71adfacc67a2f9b01c0680e05f5a2a73">&#9670;&nbsp;</a></span>ecryptfs_copy_up_encrypted_with_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_copy_up_encrypted_with_header </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__crypt__stat.html">ecryptfs_crypt_stat</a> *&#160;</td>
          <td class="paramname"><em>crypt_stat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_a71adfacc67a2f9b01c0680e05f5a2a73_cgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_a71adfacc67a2f9b01c0680e05f5a2a73_cgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_a71adfacc67a2f9b01c0680e05f5a2a73_cgraph" id="ecryptfs_2mmap_8c_a71adfacc67a2f9b01c0680e05f5a2a73_cgraph">
<area shape="rect" id="node2" href="ecryptfs_2crypto_8c.html#a0328356e623d00183afc5c85cc63e932" title="ecryptfs_read_xattr\l_region" alt="" coords="251,99,385,141"/>
<area shape="rect" id="node12" href="ecryptfs_2mmap_8c.html#adc61f37e04f31bbf3dce9ad8b242108e" title="strip_xattr_flag" alt="" coords="264,165,372,192"/>
<area shape="rect" id="node14" href="ecryptfs_2crypto_8c.html#a897cc3b03edffb1e113ad7aa251cd365" title="ecryptfs_write_header\l_metadata" alt="" coords="243,217,393,258"/>
<area shape="rect" id="node15" href="ecryptfs__kernel_8h.html#a2348e4afee0be4d429778964b8943d2c" title="ecryptfs_read_lower\l_page_segment" alt="" coords="249,282,387,323"/>
<area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="652,157,823,184"/>
<area shape="rect" id="node4" href="ecryptfs__kernel_8h.html#a4074bdd2d3ef8504a93fd2cfee910e75" title="ecryptfs_getxattr_lower" alt="" coords="443,56,602,83"/>
<area shape="rect" id="node11" href="ecryptfs__kernel_8h.html#a113da429d81deb7cc5d4c4536e72a92c" title="ecryptfs_inode_to_lower" alt="" coords="441,107,604,133"/>
<area shape="rect" id="node5" href="xattr_8c.html#a1ff7c8af792a48852857133789fd641f" title="__vfs_getxattr" alt="" coords="685,56,790,83"/>
<area shape="rect" id="node6" href="xattr_8c.html#a2493c428b6ebfafab005c15b05d82d1c" title="xattr_resolve_name" alt="" coords="872,31,1008,57"/>
<area shape="rect" id="node10" href="xattr_8c.html#a57b6079645d9335c929506d64d398859" title="EXPORT_SYMBOL" alt="" coords="871,81,1009,108"/>
<area shape="rect" id="node7" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1061,5,1160,32"/>
<area shape="rect" id="node9" href="xattr_8c.html#a982179d3df182fe48e35c17858bd7812" title="strcmp_prefix" alt="" coords="1060,56,1161,83"/>
<area shape="rect" id="node8" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1212,5,1351,32"/>
<area shape="rect" id="node13" href="ecryptfs_2crypto_8c.html#a50ad608c942c06e27fb6759d031cb1bc" title="ecryptfs_write_crypt\l_stat_flags" alt="" coords="453,209,593,250"/>
<area shape="rect" id="node16" href="ecryptfs_2read__write_8c.html#a7a8f9447eb75e1878c99de4166fdd6fb" title="ecryptfs_read_lower" alt="" coords="453,281,592,308"/>
<area shape="rect" id="node17" href="read__write_8c.html#aaba61dc816033d727abd7463945e1918" title="kernel_read" alt="" coords="693,281,782,308"/>
<area shape="rect" id="node18" href="read__write_8c.html#ae2990ccc374ee3c52e0e80f82c95d985" title="vfs_read" alt="" coords="904,256,976,283"/>
<area shape="rect" id="node23" href="read__write_8c.html#a3a79a75f5f3d3fd6699e64d26dbda713" title="EXPORT_SYMBOL" alt="" coords="871,307,1009,333"/>
<area shape="rect" id="node19" href="read__write_8c.html#afbdfb0b8e152ecdfe09483ddf1f64787" title="rw_verify_area" alt="" coords="1057,231,1164,257"/>
<area shape="rect" id="node21" href="read__write_8c.html#aaad08cb7a69ffa5dd39ecb2c25be9456" title="__vfs_read" alt="" coords="1067,281,1154,308"/>
<area shape="rect" id="node20" href="read__write_8c.html#afa09670f9dece7b455c7759c110fb0bb" title="unsigned_offsets" alt="" coords="1221,231,1342,257"/>
<area shape="rect" id="node22" href="read__write_8c.html#a3c8dee4a7ac07ac76e7f2269e90f0993" title="new_sync_read" alt="" coords="1225,281,1338,308"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_a71adfacc67a2f9b01c0680e05f5a2a73_icgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_a71adfacc67a2f9b01c0680e05f5a2a73_icgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_a71adfacc67a2f9b01c0680e05f5a2a73_icgraph" id="ecryptfs_2mmap_8c_a71adfacc67a2f9b01c0680e05f5a2a73_icgraph">
<area shape="rect" id="node2" href="ecryptfs_2mmap_8c.html#a8f8e487f41eae0bd59f0f73483c8b0bd" title="ecryptfs_readpage" alt="" coords="249,5,379,32"/>
<area shape="rect" id="node3" href="ecryptfs_2mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="243,56,385,83"/>
</map>
</div>

</div>
</div>
<a id="aca1df323be205e111a6dfc298c4edada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca1df323be205e111a6dfc298c4edada">&#9670;&nbsp;</a></span>ecryptfs_get_locked_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct page* ecryptfs_get_locked_page </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>eCryptfs: Linux filesystem encryption layer This is where eCryptfs coordinates the symmetric encryption and decryption of the file data as it passes between the lower encrypted file and the upper decrypted file.</p>
<p>Copyright (C) 1997-2003 Erez Zadok Copyright (C) 2001-2003 Stony Brook University Copyright (C) 2004-2007 International Business Machines Corp. Author(s): Michael A. Halcrow <a href="#" onclick="location.href='mai'+'lto:'+'mah'+'al'+'cro'+'@u'+'s.i'+'bm'+'.co'+'m'; return false;">mahal<span style="display: none;">.nosp@m.</span>cro@<span style="display: none;">.nosp@m.</span>us.ib<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a></p>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. ecryptfs_get_locked_page</p>
<p>Get one page from cache or lower f/s, return error otherwise.</p>
<p>Returns locked and up-to-date page (if ok), with increased refcnt. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_aca1df323be205e111a6dfc298c4edada_icgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_aca1df323be205e111a6dfc298c4edada_icgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_aca1df323be205e111a6dfc298c4edada_icgraph" id="ecryptfs_2mmap_8c_aca1df323be205e111a6dfc298c4edada_icgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#ac96ef599ae7878dc4c2459b1f2f3de4b" title="ecryptfs_wait_for_response" alt="" coords="380,5,563,32"/>
<area shape="rect" id="node3" href="ecryptfs_2read__write_8c.html#a1f6fb7e71433ccea976b2cba69741f2a" title="ecryptfs_write" alt="" coords="228,56,332,83"/>
<area shape="rect" id="node4" href="ecryptfs_2inode_8c.html#a6d535560db4f881686903ff564b74faf" title="truncate_upper" alt="" coords="417,56,525,83"/>
<area shape="rect" id="node5" href="ecryptfs_2inode_8c.html#ae6d4593f3f6d169ca3ecc1a07550cec1" title="ecryptfs_truncate" alt="" coords="611,31,733,57"/>
<area shape="rect" id="node7" href="ecryptfs_2inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="615,81,729,108"/>
<area shape="rect" id="node6" href="ecryptfs_2mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="781,31,924,57"/>
</map>
</div>

</div>
</div>
<a id="a8f8e487f41eae0bd59f0f73483c8b0bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f8e487f41eae0bd59f0f73483c8b0bd">&#9670;&nbsp;</a></span>ecryptfs_readpage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_readpage </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_a8f8e487f41eae0bd59f0f73483c8b0bd_cgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_a8f8e487f41eae0bd59f0f73483c8b0bd_cgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_a8f8e487f41eae0bd59f0f73483c8b0bd_cgraph" id="ecryptfs_2mmap_8c_a8f8e487f41eae0bd59f0f73483c8b0bd_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="840,187,1011,214"/>
<area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a2348e4afee0be4d429778964b8943d2c" title="ecryptfs_read_lower\l_page_segment" alt="" coords="428,260,567,301"/>
<area shape="rect" id="node12" href="ecryptfs_2mmap_8c.html#a71adfacc67a2f9b01c0680e05f5a2a73" title="ecryptfs_copy_up_encrypted\l_with_header" alt="" coords="183,194,372,236"/>
<area shape="rect" id="node25" href="ecryptfs_2crypto_8c.html#a8f0e0486293ab97cca8219ee1fee7f4b" title="ecryptfs_decrypt_page" alt="" coords="420,354,575,380"/>
<area shape="rect" id="node4" href="ecryptfs_2read__write_8c.html#a7a8f9447eb75e1878c99de4166fdd6fb" title="ecryptfs_read_lower" alt="" coords="635,252,773,279"/>
<area shape="rect" id="node5" href="read__write_8c.html#aaba61dc816033d727abd7463945e1918" title="kernel_read" alt="" coords="881,290,970,316"/>
<area shape="rect" id="node6" href="read__write_8c.html#ae2990ccc374ee3c52e0e80f82c95d985" title="vfs_read" alt="" coords="1109,308,1181,335"/>
<area shape="rect" id="node11" href="read__write_8c.html#a3a79a75f5f3d3fd6699e64d26dbda713" title="EXPORT_SYMBOL" alt="" coords="1076,258,1215,284"/>
<area shape="rect" id="node7" href="read__write_8c.html#afbdfb0b8e152ecdfe09483ddf1f64787" title="rw_verify_area" alt="" coords="1293,334,1400,360"/>
<area shape="rect" id="node9" href="read__write_8c.html#aaad08cb7a69ffa5dd39ecb2c25be9456" title="__vfs_read" alt="" coords="1303,283,1390,310"/>
<area shape="rect" id="node8" href="read__write_8c.html#afa09670f9dece7b455c7759c110fb0bb" title="unsigned_offsets" alt="" coords="1477,334,1598,360"/>
<area shape="rect" id="node10" href="read__write_8c.html#a3c8dee4a7ac07ac76e7f2269e90f0993" title="new_sync_read" alt="" coords="1481,283,1594,310"/>
<area shape="rect" id="node13" href="ecryptfs_2crypto_8c.html#a0328356e623d00183afc5c85cc63e932" title="ecryptfs_read_xattr\l_region" alt="" coords="430,77,565,118"/>
<area shape="rect" id="node22" href="ecryptfs_2mmap_8c.html#adc61f37e04f31bbf3dce9ad8b242108e" title="strip_xattr_flag" alt="" coords="443,143,551,170"/>
<area shape="rect" id="node24" href="ecryptfs_2crypto_8c.html#a897cc3b03edffb1e113ad7aa251cd365" title="ecryptfs_write_header\l_metadata" alt="" coords="422,194,573,236"/>
<area shape="rect" id="node14" href="ecryptfs__kernel_8h.html#a4074bdd2d3ef8504a93fd2cfee910e75" title="ecryptfs_getxattr_lower" alt="" coords="625,34,783,60"/>
<area shape="rect" id="node21" href="ecryptfs__kernel_8h.html#a113da429d81deb7cc5d4c4536e72a92c" title="ecryptfs_inode_to_lower" alt="" coords="623,84,785,111"/>
<area shape="rect" id="node15" href="xattr_8c.html#a1ff7c8af792a48852857133789fd641f" title="__vfs_getxattr" alt="" coords="873,34,978,60"/>
<area shape="rect" id="node16" href="xattr_8c.html#a2493c428b6ebfafab005c15b05d82d1c" title="xattr_resolve_name" alt="" coords="1077,59,1213,86"/>
<area shape="rect" id="node20" href="xattr_8c.html#a57b6079645d9335c929506d64d398859" title="EXPORT_SYMBOL" alt="" coords="1076,8,1215,35"/>
<area shape="rect" id="node17" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1297,84,1396,111"/>
<area shape="rect" id="node19" href="xattr_8c.html#a982179d3df182fe48e35c17858bd7812" title="strcmp_prefix" alt="" coords="1296,34,1397,60"/>
<area shape="rect" id="node18" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1468,84,1607,111"/>
<area shape="rect" id="node23" href="ecryptfs_2crypto_8c.html#a50ad608c942c06e27fb6759d031cb1bc" title="ecryptfs_write_crypt\l_stat_flags" alt="" coords="634,186,774,228"/>
<area shape="rect" id="node26" href="ecryptfs_2crypto_8c.html#ad12963ad5b68a9cf6293be7143d194ac" title="lower_offset_for_page" alt="" coords="629,404,779,431"/>
<area shape="rect" id="node28" href="ecryptfs__kernel_8h.html#a7a8f9447eb75e1878c99de4166fdd6fb" title="ecryptfs_read_lower" alt="" coords="635,354,773,380"/>
<area shape="rect" id="node29" href="ecryptfs_2crypto_8c.html#a3732d78983618c24dfa609679d089807" title="crypt_extent" alt="" coords="657,455,751,482"/>
<area shape="rect" id="node27" href="ecryptfs__kernel_8h.html#ab2813066482c96f346fbf23e1eba0d8f" title="ecryptfs_lower_header_size" alt="" coords="833,404,1017,431"/>
<area shape="rect" id="node30" href="ecryptfs_2crypto_8c.html#aa4738f6aeb7582859b83cdbc08285349" title="ecryptfs_derive_iv" alt="" coords="861,455,989,482"/>
<area shape="rect" id="node34" href="ecryptfs_2crypto_8c.html#a5e8c886dee08f09877d14958da5378ce" title="crypt_scatterlist" alt="" coords="868,506,983,532"/>
<area shape="rect" id="node31" href="ecryptfs_2debug_8c.html#a045879c3d789610d64a216956beeaf09" title="ecryptfs_dump_hex" alt="" coords="1077,480,1213,507"/>
<area shape="rect" id="node32" href="ecryptfs_2crypto_8c.html#afe9ebb3f8af0e14969d856f179bccc8d" title="ecryptfs_calculate_md5" alt="" coords="1065,430,1225,456"/>
<area shape="rect" id="node33" href="ecryptfs_2crypto_8c.html#a726904aa633b92bfbeed8630f90d532d" title="ecryptfs_hash_digest" alt="" coords="1273,430,1420,456"/>
<area shape="rect" id="node35" href="ecryptfs_2crypto_8c.html#a4ab616c4970b99d534139e9a1a08324a" title="extent_crypt_complete" alt="" coords="1068,531,1223,558"/>
</map>
</div>

</div>
</div>
<a id="a6a4799f05bb0baa6b8d31732c51a633f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a4799f05bb0baa6b8d31732c51a633f">&#9670;&nbsp;</a></span>ecryptfs_write_begin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_write_begin </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page **&#160;</td>
          <td class="paramname"><em>pagep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>fsdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_a6a4799f05bb0baa6b8d31732c51a633f_cgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_a6a4799f05bb0baa6b8d31732c51a633f_cgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_a6a4799f05bb0baa6b8d31732c51a633f_cgraph" id="ecryptfs_2mmap_8c_a6a4799f05bb0baa6b8d31732c51a633f_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="1275,475,1445,502"/>
<area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a2348e4afee0be4d429778964b8943d2c" title="ecryptfs_read_lower\l_page_segment" alt="" coords="853,5,991,47"/>
<area shape="rect" id="node8" href="ecryptfs_2mmap_8c.html#a71adfacc67a2f9b01c0680e05f5a2a73" title="ecryptfs_copy_up_encrypted\l_with_header" alt="" coords="597,123,787,164"/>
<area shape="rect" id="node16" href="ecryptfs_2crypto_8c.html#a8f0e0486293ab97cca8219ee1fee7f4b" title="ecryptfs_decrypt_page" alt="" coords="845,938,999,965"/>
<area shape="rect" id="node26" href="ecryptfs__kernel_8h.html#ae6d4593f3f6d169ca3ecc1a07550cec1" title="ecryptfs_truncate" alt="" coords="196,1090,319,1117"/>
<area shape="rect" id="node4" href="ecryptfs_2read__write_8c.html#a7a8f9447eb75e1878c99de4166fdd6fb" title="ecryptfs_read_lower" alt="" coords="1069,13,1208,39"/>
<area shape="rect" id="node5" href="read__write_8c.html#aaba61dc816033d727abd7463945e1918" title="kernel_read" alt="" coords="1315,57,1405,83"/>
<area shape="rect" id="node6" href="read__write_8c.html#ae2990ccc374ee3c52e0e80f82c95d985" title="vfs_read" alt="" coords="1544,82,1616,109"/>
<area shape="rect" id="node7" href="read__write_8c.html#a3a79a75f5f3d3fd6699e64d26dbda713" title="EXPORT_SYMBOL" alt="" coords="1511,31,1649,58"/>
<area shape="rect" id="node9" href="ecryptfs_2crypto_8c.html#a0328356e623d00183afc5c85cc63e932" title="ecryptfs_read_xattr\l_region" alt="" coords="855,188,989,229"/>
<area shape="rect" id="node13" href="ecryptfs_2mmap_8c.html#adc61f37e04f31bbf3dce9ad8b242108e" title="strip_xattr_flag" alt="" coords="868,71,976,98"/>
<area shape="rect" id="node15" href="ecryptfs_2crypto_8c.html#a897cc3b03edffb1e113ad7aa251cd365" title="ecryptfs_write_header\l_metadata" alt="" coords="847,123,997,164"/>
<area shape="rect" id="node10" href="ecryptfs__kernel_8h.html#a4074bdd2d3ef8504a93fd2cfee910e75" title="ecryptfs_getxattr_lower" alt="" coords="1059,130,1218,157"/>
<area shape="rect" id="node12" href="ecryptfs__kernel_8h.html#a113da429d81deb7cc5d4c4536e72a92c" title="ecryptfs_inode_to_lower" alt="" coords="1057,181,1220,207"/>
<area shape="rect" id="node11" href="xattr_8c.html#a1ff7c8af792a48852857133789fd641f" title="__vfs_getxattr" alt="" coords="1307,195,1413,222"/>
<area shape="rect" id="node14" href="ecryptfs_2crypto_8c.html#a50ad608c942c06e27fb6759d031cb1bc" title="ecryptfs_write_crypt\l_stat_flags" alt="" coords="1069,64,1209,105"/>
<area shape="rect" id="node17" href="ecryptfs_2crypto_8c.html#ad12963ad5b68a9cf6293be7143d194ac" title="lower_offset_for_page" alt="" coords="1063,989,1214,1015"/>
<area shape="rect" id="node19" href="ecryptfs__kernel_8h.html#a7a8f9447eb75e1878c99de4166fdd6fb" title="ecryptfs_read_lower" alt="" coords="1069,618,1208,645"/>
<area shape="rect" id="node20" href="ecryptfs_2crypto_8c.html#a3732d78983618c24dfa609679d089807" title="crypt_extent" alt="" coords="1091,938,1186,965"/>
<area shape="rect" id="node18" href="ecryptfs__kernel_8h.html#ab2813066482c96f346fbf23e1eba0d8f" title="ecryptfs_lower_header_size" alt="" coords="1268,1014,1452,1041"/>
<area shape="rect" id="node21" href="ecryptfs_2crypto_8c.html#aa4738f6aeb7582859b83cdbc08285349" title="ecryptfs_derive_iv" alt="" coords="1296,899,1424,926"/>
<area shape="rect" id="node24" href="ecryptfs_2crypto_8c.html#a5e8c886dee08f09877d14958da5378ce" title="crypt_scatterlist" alt="" coords="1303,950,1417,977"/>
<area shape="rect" id="node22" href="ecryptfs_2debug_8c.html#a045879c3d789610d64a216956beeaf09" title="ecryptfs_dump_hex" alt="" coords="1512,925,1648,951"/>
<area shape="rect" id="node23" href="ecryptfs_2crypto_8c.html#afe9ebb3f8af0e14969d856f179bccc8d" title="ecryptfs_calculate_md5" alt="" coords="1500,874,1660,901"/>
<area shape="rect" id="node25" href="ecryptfs_2crypto_8c.html#a4ab616c4970b99d534139e9a1a08324a" title="extent_crypt_complete" alt="" coords="1503,975,1657,1002"/>
<area shape="rect" id="node27" href="ecryptfs_2inode_8c.html#ad95ed932cd1af280d51ecae55649f9b2" title="ecryptfs_inode_newsize_ok" alt="" coords="367,1090,549,1117"/>
<area shape="rect" id="node31" href="ecryptfs_2inode_8c.html#a6d535560db4f881686903ff564b74faf" title="truncate_upper" alt="" coords="404,669,512,695"/>
<area shape="rect" id="node44" href="ecryptfs__kernel_8h.html#ac2ee045a66c2ebc91f8a5dbc00570d95" title="ecryptfs_dentry_to\l_lower" alt="" coords="393,1293,523,1335"/>
<area shape="rect" id="node45" href="attr_8c.html#a2fc972643685d1477207a6f262103f01" title="notify_change" alt="" coords="407,1242,509,1269"/>
<area shape="rect" id="node28" href="ecryptfs_2inode_8c.html#ad709eee5a6c6b811313d07f3c325a131" title="upper_size_to_lower_size" alt="" coords="606,1039,778,1066"/>
<area shape="rect" id="node29" href="attr_8c.html#a7827e769d8b5704301fc520df3edad83" title="inode_newsize_ok" alt="" coords="627,1141,757,1167"/>
<area shape="rect" id="node30" href="attr_8c.html#a95285eda06ebaecaa53b77857030ae2d" title="EXPORT_SYMBOL" alt="" coords="853,1166,991,1193"/>
<area shape="rect" id="node32" href="ecryptfs__kernel_8h.html#a2582c9fe43efb3c9e872e168005cdc53" title="ecryptfs_get_lower_file" alt="" coords="614,669,770,695"/>
<area shape="rect" id="node35" href="ecryptfs__kernel_8h.html#a506acbde5e6d09e7ef7d569c176c23d6" title="ecryptfs_write" alt="" coords="640,795,744,822"/>
<area shape="rect" id="node39" href="ecryptfs__kernel_8h.html#ae7f11bbda657ce45e00bcea3c689260b" title="ecryptfs_write_inode\l_size_to_metadata" alt="" coords="851,552,993,593"/>
<area shape="rect" id="node42" href="ecryptfs__kernel_8h.html#a4bfb6c2a4e6a0ff43724257e0a63c62f" title="ecryptfs_put_lower_file" alt="" coords="614,501,770,527"/>
<area shape="rect" id="node33" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="895,719,949,746"/>
<area shape="rect" id="node34" href="ecryptfs_2main_8c.html#a079a4a8b808b1c28fb8a5735a2d5dbe6" title="ecryptfs_init_lower_file" alt="" coords="845,669,999,695"/>
<area shape="rect" id="node36" href="ecryptfs__kernel_8h.html#aca1df323be205e111a6dfc298c4edada" title="ecryptfs_get_locked_page" alt="" coords="835,821,1009,847"/>
<area shape="rect" id="node37" href="ecryptfs_2crypto_8c.html#a26de129ca477fc9762d6750b5020914f" title="ecryptfs_encrypt_page" alt="" coords="845,989,999,1015"/>
<area shape="rect" id="node38" href="ecryptfs_2read__write_8c.html#a0b63d7743285b6e930dd7a651ba92ada" title="ecryptfs_write_lower\l_page_segment" alt="" coords="851,872,993,913"/>
<area shape="rect" id="node40" href="ecryptfs_2mmap_8c.html#a528f4af2fcdb491f72647ffc136b862a" title="ecryptfs_write_inode\l_size_to_xattr" alt="" coords="1067,232,1210,273"/>
<area shape="rect" id="node41" href="ecryptfs_2mmap_8c.html#a0b74e0ca76af820971547c9fca1d36d9" title="ecryptfs_write_inode\l_size_to_header" alt="" coords="1067,552,1210,593"/>
<area shape="rect" id="node43" href="file__table_8c.html#a954ff124da0467afebf44e5f58c85f27" title="fput" alt="" coords="900,501,944,527"/>
<area shape="rect" id="node46" href="inode_8c.html#a2359f9f4ea541a79ff23035a6c89cb03" title="inode_owner_or_capable" alt="" coords="609,1394,775,1421"/>
<area shape="rect" id="node48" href="namei_8c.html#a62cb14cabd13a7720eccf273235df9cb" title="inode_permission" alt="" coords="631,1242,753,1269"/>
<area shape="rect" id="node49" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="645,1343,739,1370"/>
<area shape="rect" id="node50" href="libfs_8c.html#a8cfc62c3538d7740b251bfd66e8dec18" title="simple_setattr" alt="" coords="640,1293,744,1319"/>
<area shape="rect" id="node47" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="853,1369,991,1395"/>
</map>
</div>

</div>
</div>
<a id="aba2c17cca4323636c254626963421f3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba2c17cca4323636c254626963421f3f">&#9670;&nbsp;</a></span>ecryptfs_write_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_write_end </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>copied</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fsdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_aba2c17cca4323636c254626963421f3f_cgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_aba2c17cca4323636c254626963421f3f_cgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_aba2c17cca4323636c254626963421f3f_cgraph" id="ecryptfs_2mmap_8c_aba2c17cca4323636c254626963421f3f_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="832,335,1003,361"/>
<area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a0b63d7743285b6e930dd7a651ba92ada" title="ecryptfs_write_lower\l_page_segment" alt="" coords="201,237,343,278"/>
<area shape="rect" id="node12" href="stack_8c.html#a90f03e0e41074e00cf6fc076f388268a" title="fsstack_copy_inode_size" alt="" coords="187,487,357,513"/>
<area shape="rect" id="node14" href="ecryptfs__kernel_8h.html#a113da429d81deb7cc5d4c4536e72a92c" title="ecryptfs_inode_to_lower" alt="" coords="411,436,574,463"/>
<area shape="rect" id="node15" href="ecryptfs_2mmap_8c.html#ad403ab8e5066307678c530430e8bf713" title="fill_zeros_to_end_of_page" alt="" coords="185,537,359,564"/>
<area shape="rect" id="node16" href="ecryptfs_2crypto_8c.html#a26de129ca477fc9762d6750b5020914f" title="ecryptfs_encrypt_page" alt="" coords="415,167,570,193"/>
<area shape="rect" id="node27" href="ecryptfs_2mmap_8c.html#ae7f11bbda657ce45e00bcea3c689260b" title="ecryptfs_write_inode\l_size_to_metadata" alt="" coords="201,319,343,361"/>
<area shape="rect" id="node4" href="ecryptfs_2read__write_8c.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="631,284,773,311"/>
<area shape="rect" id="node5" href="read__write_8c.html#ac6f49e41c807d8118fbf37d68ca28a74" title="kernel_write" alt="" coords="871,259,963,285"/>
<area shape="rect" id="node6" href="read__write_8c.html#a23ff4bbdd012c1944bd2366c76c1371c" title="vfs_write" alt="" coords="1100,233,1175,260"/>
<area shape="rect" id="node11" href="read__write_8c.html#a3a79a75f5f3d3fd6699e64d26dbda713" title="EXPORT_SYMBOL" alt="" coords="1068,284,1207,311"/>
<area shape="rect" id="node7" href="read__write_8c.html#afbdfb0b8e152ecdfe09483ddf1f64787" title="rw_verify_area" alt="" coords="1285,259,1392,285"/>
<area shape="rect" id="node9" href="read__write_8c.html#afa78d288f1d4bb4b053c65e1b0155dbd" title="__vfs_write" alt="" coords="1294,208,1383,235"/>
<area shape="rect" id="node8" href="read__write_8c.html#afa09670f9dece7b455c7759c110fb0bb" title="unsigned_offsets" alt="" coords="1460,259,1581,285"/>
<area shape="rect" id="node10" href="read__write_8c.html#a4b2f4ef6718d3c4726de9b775fb4ea0f" title="new_sync_write" alt="" coords="1463,208,1579,235"/>
<area shape="rect" id="node13" href="stack_8c.html#ab90f6323ef73e764e075908d9ffc9abe" title="EXPORT_SYMBOL_GPL" alt="" coords="407,553,579,580"/>
<area shape="rect" id="node17" href="ecryptfs_2crypto_8c.html#a3732d78983618c24dfa609679d089807" title="crypt_extent" alt="" coords="655,81,749,108"/>
<area shape="rect" id="node24" href="ecryptfs_2crypto_8c.html#ad12963ad5b68a9cf6293be7143d194ac" title="lower_offset_for_page" alt="" coords="627,132,777,159"/>
<area shape="rect" id="node26" href="ecryptfs__kernel_8h.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="631,233,773,260"/>
<area shape="rect" id="node18" href="ecryptfs_2crypto_8c.html#aa4738f6aeb7582859b83cdbc08285349" title="ecryptfs_derive_iv" alt="" coords="853,81,981,108"/>
<area shape="rect" id="node22" href="ecryptfs_2crypto_8c.html#a5e8c886dee08f09877d14958da5378ce" title="crypt_scatterlist" alt="" coords="860,31,975,57"/>
<area shape="rect" id="node19" href="ecryptfs_2debug_8c.html#a045879c3d789610d64a216956beeaf09" title="ecryptfs_dump_hex" alt="" coords="1069,56,1205,83"/>
<area shape="rect" id="node20" href="ecryptfs_2crypto_8c.html#afe9ebb3f8af0e14969d856f179bccc8d" title="ecryptfs_calculate_md5" alt="" coords="1057,107,1217,133"/>
<area shape="rect" id="node21" href="ecryptfs_2crypto_8c.html#a726904aa633b92bfbeed8630f90d532d" title="ecryptfs_hash_digest" alt="" coords="1265,107,1412,133"/>
<area shape="rect" id="node23" href="ecryptfs_2crypto_8c.html#a4ab616c4970b99d534139e9a1a08324a" title="extent_crypt_complete" alt="" coords="1060,5,1215,32"/>
<area shape="rect" id="node25" href="ecryptfs__kernel_8h.html#ab2813066482c96f346fbf23e1eba0d8f" title="ecryptfs_lower_header_size" alt="" coords="825,132,1009,159"/>
<area shape="rect" id="node28" href="ecryptfs_2mmap_8c.html#a528f4af2fcdb491f72647ffc136b862a" title="ecryptfs_write_inode\l_size_to_xattr" alt="" coords="421,487,564,529"/>
<area shape="rect" id="node36" href="ecryptfs_2mmap_8c.html#a0b74e0ca76af820971547c9fca1d36d9" title="ecryptfs_write_inode\l_size_to_header" alt="" coords="421,269,564,310"/>
<area shape="rect" id="node29" href="xattr_8c.html#a1ff7c8af792a48852857133789fd641f" title="__vfs_getxattr" alt="" coords="649,588,755,615"/>
<area shape="rect" id="node35" href="xattr_8c.html#a55ad17598a3f01cbfdc3e2205c4ddf61" title="__vfs_setxattr" alt="" coords="649,537,755,564"/>
<area shape="rect" id="node30" href="xattr_8c.html#a2493c428b6ebfafab005c15b05d82d1c" title="xattr_resolve_name" alt="" coords="849,537,985,564"/>
<area shape="rect" id="node34" href="xattr_8c.html#a57b6079645d9335c929506d64d398859" title="EXPORT_SYMBOL" alt="" coords="848,588,987,615"/>
<area shape="rect" id="node31" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1088,563,1187,589"/>
<area shape="rect" id="node33" href="xattr_8c.html#a982179d3df182fe48e35c17858bd7812" title="strcmp_prefix" alt="" coords="1087,512,1188,539"/>
<area shape="rect" id="node32" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1269,563,1408,589"/>
</map>
</div>

</div>
</div>
<a id="a0b74e0ca76af820971547c9fca1d36d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b74e0ca76af820971547c9fca1d36d9">&#9670;&nbsp;</a></span>ecryptfs_write_inode_size_to_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_write_inode_size_to_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>ecryptfs_inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ecryptfs_write_inode_size_to_header</p>
<p>Writes the lower file size to the first 8 bytes of the header.</p>
<p>Returns zero on success; non-zero on error. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_a0b74e0ca76af820971547c9fca1d36d9_cgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_a0b74e0ca76af820971547c9fca1d36d9_cgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_a0b74e0ca76af820971547c9fca1d36d9_cgraph" id="ecryptfs_2mmap_8c_a0b74e0ca76af820971547c9fca1d36d9_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="196,31,339,57"/>
<area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="387,5,557,32"/>
<area shape="rect" id="node4" href="read__write_8c.html#ac6f49e41c807d8118fbf37d68ca28a74" title="kernel_write" alt="" coords="426,56,518,83"/>
<area shape="rect" id="node5" href="read__write_8c.html#a23ff4bbdd012c1944bd2366c76c1371c" title="vfs_write" alt="" coords="637,31,712,57"/>
<area shape="rect" id="node10" href="read__write_8c.html#a3a79a75f5f3d3fd6699e64d26dbda713" title="EXPORT_SYMBOL" alt="" coords="605,81,744,108"/>
<area shape="rect" id="node6" href="read__write_8c.html#afbdfb0b8e152ecdfe09483ddf1f64787" title="rw_verify_area" alt="" coords="792,5,899,32"/>
<area shape="rect" id="node8" href="read__write_8c.html#afa78d288f1d4bb4b053c65e1b0155dbd" title="__vfs_write" alt="" coords="801,56,890,83"/>
<area shape="rect" id="node7" href="read__write_8c.html#afa09670f9dece7b455c7759c110fb0bb" title="unsigned_offsets" alt="" coords="947,5,1068,32"/>
<area shape="rect" id="node9" href="read__write_8c.html#a4b2f4ef6718d3c4726de9b775fb4ea0f" title="new_sync_write" alt="" coords="949,56,1065,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_a0b74e0ca76af820971547c9fca1d36d9_icgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_a0b74e0ca76af820971547c9fca1d36d9_icgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_a0b74e0ca76af820971547c9fca1d36d9_icgraph" id="ecryptfs_2mmap_8c_a0b74e0ca76af820971547c9fca1d36d9_icgraph">
<area shape="rect" id="node2" href="ecryptfs_2mmap_8c.html#ae7f11bbda657ce45e00bcea3c689260b" title="ecryptfs_write_inode\l_size_to_metadata" alt="" coords="196,49,339,90"/>
<area shape="rect" id="node3" href="ecryptfs_2inode_8c.html#a6d535560db4f881686903ff564b74faf" title="truncate_upper" alt="" coords="604,31,712,57"/>
<area shape="rect" id="node7" href="ecryptfs_2mmap_8c.html#aba2c17cca4323636c254626963421f3f" title="ecryptfs_write_end" alt="" coords="387,56,519,83"/>
<area shape="rect" id="node8" href="ecryptfs_2read__write_8c.html#a1f6fb7e71433ccea976b2cba69741f2a" title="ecryptfs_write" alt="" coords="401,107,505,133"/>
<area shape="rect" id="node4" href="ecryptfs_2inode_8c.html#ae6d4593f3f6d169ca3ecc1a07550cec1" title="ecryptfs_truncate" alt="" coords="797,5,920,32"/>
<area shape="rect" id="node6" href="ecryptfs_2inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="802,56,915,83"/>
<area shape="rect" id="node5" href="ecryptfs_2mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="968,5,1111,32"/>
<area shape="rect" id="node9" href="ecryptfs__kernel_8h.html#ac96ef599ae7878dc4c2459b1f2f3de4b" title="ecryptfs_wait_for_response" alt="" coords="567,107,749,133"/>
</map>
</div>

</div>
</div>
<a id="ae7f11bbda657ce45e00bcea3c689260b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7f11bbda657ce45e00bcea3c689260b">&#9670;&nbsp;</a></span>ecryptfs_write_inode_size_to_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_write_inode_size_to_metadata </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>ecryptfs_inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_ae7f11bbda657ce45e00bcea3c689260b_cgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_ae7f11bbda657ce45e00bcea3c689260b_cgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_ae7f11bbda657ce45e00bcea3c689260b_cgraph" id="ecryptfs_2mmap_8c_ae7f11bbda657ce45e00bcea3c689260b_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="577,183,748,209"/>
<area shape="rect" id="node3" href="ecryptfs_2mmap_8c.html#a528f4af2fcdb491f72647ffc136b862a" title="ecryptfs_write_inode\l_size_to_xattr" alt="" coords="196,95,339,137"/>
<area shape="rect" id="node11" href="ecryptfs_2mmap_8c.html#a0b74e0ca76af820971547c9fca1d36d9" title="ecryptfs_write_inode\l_size_to_header" alt="" coords="196,234,339,275"/>
<area shape="rect" id="node4" href="xattr_8c.html#a1ff7c8af792a48852857133789fd641f" title="__vfs_getxattr" alt="" coords="405,81,511,108"/>
<area shape="rect" id="node10" href="xattr_8c.html#a55ad17598a3f01cbfdc3e2205c4ddf61" title="__vfs_setxattr" alt="" coords="405,31,511,57"/>
<area shape="rect" id="node5" href="xattr_8c.html#a2493c428b6ebfafab005c15b05d82d1c" title="xattr_resolve_name" alt="" coords="595,31,731,57"/>
<area shape="rect" id="node9" href="xattr_8c.html#a57b6079645d9335c929506d64d398859" title="EXPORT_SYMBOL" alt="" coords="593,81,732,108"/>
<area shape="rect" id="node6" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="816,5,915,32"/>
<area shape="rect" id="node8" href="xattr_8c.html#a982179d3df182fe48e35c17858bd7812" title="strcmp_prefix" alt="" coords="815,56,916,83"/>
<area shape="rect" id="node7" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="983,5,1121,32"/>
<area shape="rect" id="node12" href="ecryptfs__kernel_8h.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="387,237,529,264"/>
<area shape="rect" id="node13" href="read__write_8c.html#ac6f49e41c807d8118fbf37d68ca28a74" title="kernel_write" alt="" coords="617,237,709,264"/>
<area shape="rect" id="node14" href="read__write_8c.html#a23ff4bbdd012c1944bd2366c76c1371c" title="vfs_write" alt="" coords="828,212,903,239"/>
<area shape="rect" id="node19" href="read__write_8c.html#a3a79a75f5f3d3fd6699e64d26dbda713" title="EXPORT_SYMBOL" alt="" coords="796,263,935,289"/>
<area shape="rect" id="node15" href="read__write_8c.html#afbdfb0b8e152ecdfe09483ddf1f64787" title="rw_verify_area" alt="" coords="999,237,1105,264"/>
<area shape="rect" id="node17" href="read__write_8c.html#afa78d288f1d4bb4b053c65e1b0155dbd" title="__vfs_write" alt="" coords="1007,187,1097,213"/>
<area shape="rect" id="node16" href="read__write_8c.html#afa09670f9dece7b455c7759c110fb0bb" title="unsigned_offsets" alt="" coords="1169,237,1291,264"/>
<area shape="rect" id="node18" href="read__write_8c.html#a4b2f4ef6718d3c4726de9b775fb4ea0f" title="new_sync_write" alt="" coords="1172,187,1288,213"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_ae7f11bbda657ce45e00bcea3c689260b_icgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_ae7f11bbda657ce45e00bcea3c689260b_icgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_ae7f11bbda657ce45e00bcea3c689260b_icgraph" id="ecryptfs_2mmap_8c_ae7f11bbda657ce45e00bcea3c689260b_icgraph">
<area shape="rect" id="node2" href="ecryptfs_2inode_8c.html#a6d535560db4f881686903ff564b74faf" title="truncate_upper" alt="" coords="413,31,521,57"/>
<area shape="rect" id="node6" href="ecryptfs_2mmap_8c.html#aba2c17cca4323636c254626963421f3f" title="ecryptfs_write_end" alt="" coords="196,56,328,83"/>
<area shape="rect" id="node7" href="ecryptfs_2read__write_8c.html#a1f6fb7e71433ccea976b2cba69741f2a" title="ecryptfs_write" alt="" coords="210,107,314,133"/>
<area shape="rect" id="node3" href="ecryptfs_2inode_8c.html#ae6d4593f3f6d169ca3ecc1a07550cec1" title="ecryptfs_truncate" alt="" coords="607,5,729,32"/>
<area shape="rect" id="node5" href="ecryptfs_2inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="611,56,725,83"/>
<area shape="rect" id="node4" href="ecryptfs_2mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="777,5,920,32"/>
<area shape="rect" id="node8" href="ecryptfs__kernel_8h.html#ac96ef599ae7878dc4c2459b1f2f3de4b" title="ecryptfs_wait_for_response" alt="" coords="376,107,559,133"/>
</map>
</div>

</div>
</div>
<a id="a528f4af2fcdb491f72647ffc136b862a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528f4af2fcdb491f72647ffc136b862a">&#9670;&nbsp;</a></span>ecryptfs_write_inode_size_to_xattr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_write_inode_size_to_xattr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>ecryptfs_inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_a528f4af2fcdb491f72647ffc136b862a_cgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_a528f4af2fcdb491f72647ffc136b862a_cgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_a528f4af2fcdb491f72647ffc136b862a_cgraph" id="ecryptfs_2mmap_8c_a528f4af2fcdb491f72647ffc136b862a_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="196,5,367,32"/>
<area shape="rect" id="node3" href="xattr_8c.html#a1ff7c8af792a48852857133789fd641f" title="__vfs_getxattr" alt="" coords="229,107,334,133"/>
<area shape="rect" id="node9" href="xattr_8c.html#a55ad17598a3f01cbfdc3e2205c4ddf61" title="__vfs_setxattr" alt="" coords="229,56,334,83"/>
<area shape="rect" id="node4" href="xattr_8c.html#a2493c428b6ebfafab005c15b05d82d1c" title="xattr_resolve_name" alt="" coords="416,56,552,83"/>
<area shape="rect" id="node8" href="xattr_8c.html#a57b6079645d9335c929506d64d398859" title="EXPORT_SYMBOL" alt="" coords="415,107,553,133"/>
<area shape="rect" id="node5" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="603,31,701,57"/>
<area shape="rect" id="node7" href="xattr_8c.html#a982179d3df182fe48e35c17858bd7812" title="strcmp_prefix" alt="" coords="601,81,703,108"/>
<area shape="rect" id="node6" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="751,31,889,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_a528f4af2fcdb491f72647ffc136b862a_icgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_a528f4af2fcdb491f72647ffc136b862a_icgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_a528f4af2fcdb491f72647ffc136b862a_icgraph" id="ecryptfs_2mmap_8c_a528f4af2fcdb491f72647ffc136b862a_icgraph">
<area shape="rect" id="node2" href="ecryptfs_2mmap_8c.html#ae7f11bbda657ce45e00bcea3c689260b" title="ecryptfs_write_inode\l_size_to_metadata" alt="" coords="196,49,339,90"/>
<area shape="rect" id="node3" href="ecryptfs_2inode_8c.html#a6d535560db4f881686903ff564b74faf" title="truncate_upper" alt="" coords="604,31,712,57"/>
<area shape="rect" id="node7" href="ecryptfs_2mmap_8c.html#aba2c17cca4323636c254626963421f3f" title="ecryptfs_write_end" alt="" coords="387,56,519,83"/>
<area shape="rect" id="node8" href="ecryptfs_2read__write_8c.html#a1f6fb7e71433ccea976b2cba69741f2a" title="ecryptfs_write" alt="" coords="401,107,505,133"/>
<area shape="rect" id="node4" href="ecryptfs_2inode_8c.html#ae6d4593f3f6d169ca3ecc1a07550cec1" title="ecryptfs_truncate" alt="" coords="797,5,920,32"/>
<area shape="rect" id="node6" href="ecryptfs_2inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="802,56,915,83"/>
<area shape="rect" id="node5" href="ecryptfs_2mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="968,5,1111,32"/>
<area shape="rect" id="node9" href="ecryptfs__kernel_8h.html#ac96ef599ae7878dc4c2459b1f2f3de4b" title="ecryptfs_wait_for_response" alt="" coords="567,107,749,133"/>
</map>
</div>

</div>
</div>
<a id="a1c709c67cbb144bffe29cff5a7ac0f8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c709c67cbb144bffe29cff5a7ac0f8c">&#9670;&nbsp;</a></span>ecryptfs_writepage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_writepage </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct writeback_control *&#160;</td>
          <td class="paramname"><em>wbc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_a1c709c67cbb144bffe29cff5a7ac0f8c_cgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_a1c709c67cbb144bffe29cff5a7ac0f8c_cgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_a1c709c67cbb144bffe29cff5a7ac0f8c_cgraph" id="ecryptfs_2mmap_8c_a1c709c67cbb144bffe29cff5a7ac0f8c_cgraph">
<area shape="rect" id="node2" href="ecryptfs_2crypto_8c.html#a26de129ca477fc9762d6750b5020914f" title="ecryptfs_encrypt_page" alt="" coords="185,157,340,184"/>
<area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="593,132,764,159"/>
<area shape="rect" id="node4" href="ecryptfs_2crypto_8c.html#a3732d78983618c24dfa609679d089807" title="crypt_extent" alt="" coords="416,81,511,108"/>
<area shape="rect" id="node11" href="ecryptfs_2crypto_8c.html#ad12963ad5b68a9cf6293be7143d194ac" title="lower_offset_for_page" alt="" coords="388,233,539,260"/>
<area shape="rect" id="node13" href="ecryptfs__kernel_8h.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="392,183,535,209"/>
<area shape="rect" id="node5" href="ecryptfs_2crypto_8c.html#aa4738f6aeb7582859b83cdbc08285349" title="ecryptfs_derive_iv" alt="" coords="615,81,743,108"/>
<area shape="rect" id="node9" href="ecryptfs_2crypto_8c.html#a5e8c886dee08f09877d14958da5378ce" title="crypt_scatterlist" alt="" coords="621,31,736,57"/>
<area shape="rect" id="node6" href="ecryptfs_2debug_8c.html#a045879c3d789610d64a216956beeaf09" title="ecryptfs_dump_hex" alt="" coords="831,56,967,83"/>
<area shape="rect" id="node7" href="ecryptfs_2crypto_8c.html#afe9ebb3f8af0e14969d856f179bccc8d" title="ecryptfs_calculate_md5" alt="" coords="819,107,979,133"/>
<area shape="rect" id="node8" href="ecryptfs_2crypto_8c.html#a726904aa633b92bfbeed8630f90d532d" title="ecryptfs_hash_digest" alt="" coords="1027,107,1173,133"/>
<area shape="rect" id="node10" href="ecryptfs_2crypto_8c.html#a4ab616c4970b99d534139e9a1a08324a" title="extent_crypt_complete" alt="" coords="821,5,976,32"/>
<area shape="rect" id="node12" href="ecryptfs__kernel_8h.html#ab2813066482c96f346fbf23e1eba0d8f" title="ecryptfs_lower_header_size" alt="" coords="587,233,771,260"/>
<area shape="rect" id="node14" href="read__write_8c.html#ac6f49e41c807d8118fbf37d68ca28a74" title="kernel_write" alt="" coords="633,183,725,209"/>
<area shape="rect" id="node15" href="read__write_8c.html#a23ff4bbdd012c1944bd2366c76c1371c" title="vfs_write" alt="" coords="861,208,936,235"/>
<area shape="rect" id="node20" href="read__write_8c.html#a3a79a75f5f3d3fd6699e64d26dbda713" title="EXPORT_SYMBOL" alt="" coords="829,157,968,184"/>
<area shape="rect" id="node16" href="read__write_8c.html#afbdfb0b8e152ecdfe09483ddf1f64787" title="rw_verify_area" alt="" coords="1047,208,1153,235"/>
<area shape="rect" id="node18" href="read__write_8c.html#afa78d288f1d4bb4b053c65e1b0155dbd" title="__vfs_write" alt="" coords="1055,157,1145,184"/>
<area shape="rect" id="node17" href="read__write_8c.html#afa09670f9dece7b455c7759c110fb0bb" title="unsigned_offsets" alt="" coords="1221,208,1343,235"/>
<area shape="rect" id="node19" href="read__write_8c.html#a4b2f4ef6718d3c4726de9b775fb4ea0f" title="new_sync_write" alt="" coords="1224,157,1340,184"/>
</map>
</div>

</div>
</div>
<a id="ad403ab8e5066307678c530430e8bf713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad403ab8e5066307678c530430e8bf713">&#9670;&nbsp;</a></span>fill_zeros_to_end_of_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fill_zeros_to_end_of_page </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called with lower inode mutex held. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_ad403ab8e5066307678c530430e8bf713_icgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_ad403ab8e5066307678c530430e8bf713_icgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_ad403ab8e5066307678c530430e8bf713_icgraph" id="ecryptfs_2mmap_8c_ad403ab8e5066307678c530430e8bf713_icgraph">
<area shape="rect" id="node2" href="ecryptfs_2mmap_8c.html#aba2c17cca4323636c254626963421f3f" title="ecryptfs_write_end" alt="" coords="227,5,359,32"/>
</map>
</div>

</div>
</div>
<a id="adc61f37e04f31bbf3dce9ad8b242108e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc61f37e04f31bbf3dce9ad8b242108e">&#9670;&nbsp;</a></span>strip_xattr_flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void strip_xattr_flag </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>page_virt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__crypt__stat.html">ecryptfs_crypt_stat</a> *&#160;</td>
          <td class="paramname"><em>crypt_stat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_adc61f37e04f31bbf3dce9ad8b242108e_cgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_adc61f37e04f31bbf3dce9ad8b242108e_cgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_adc61f37e04f31bbf3dce9ad8b242108e_cgraph" id="ecryptfs_2mmap_8c_adc61f37e04f31bbf3dce9ad8b242108e_cgraph">
<area shape="rect" id="node2" href="ecryptfs_2crypto_8c.html#a50ad608c942c06e27fb6759d031cb1bc" title="ecryptfs_write_crypt\l_stat_flags" alt="" coords="161,5,301,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ecryptfs_2mmap_8c_adc61f37e04f31bbf3dce9ad8b242108e_icgraph.png" border="0" usemap="#ecryptfs_2mmap_8c_adc61f37e04f31bbf3dce9ad8b242108e_icgraph" alt=""/></div>
<map name="ecryptfs_2mmap_8c_adc61f37e04f31bbf3dce9ad8b242108e_icgraph" id="ecryptfs_2mmap_8c_adc61f37e04f31bbf3dce9ad8b242108e_icgraph">
<area shape="rect" id="node2" href="ecryptfs_2mmap_8c.html#a71adfacc67a2f9b01c0680e05f5a2a73" title="ecryptfs_copy_up_encrypted\l_with_header" alt="" coords="161,23,351,65"/>
<area shape="rect" id="node3" href="ecryptfs_2mmap_8c.html#a8f8e487f41eae0bd59f0f73483c8b0bd" title="ecryptfs_readpage" alt="" coords="405,5,535,32"/>
<area shape="rect" id="node4" href="ecryptfs_2mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="399,56,541,83"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac91df1a63aae0054a1b873383158f5d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91df1a63aae0054a1b873383158f5d0">&#9670;&nbsp;</a></span>ecryptfs_aops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct address_space_operations ecryptfs_aops</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .writepage = <a class="code" href="ecryptfs_2mmap_8c.html#a1c709c67cbb144bffe29cff5a7ac0f8c">ecryptfs_writepage</a>,</div><div class="line">    .readpage = <a class="code" href="ecryptfs_2mmap_8c.html#a8f8e487f41eae0bd59f0f73483c8b0bd">ecryptfs_readpage</a>,</div><div class="line">    .write_begin = <a class="code" href="ecryptfs_2mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f">ecryptfs_write_begin</a>,</div><div class="line">    .write_end = <a class="code" href="ecryptfs_2mmap_8c.html#aba2c17cca4323636c254626963421f3f">ecryptfs_write_end</a>,</div><div class="line">    .bmap = <a class="code" href="ecryptfs_2mmap_8c.html#a7241c5e2e81b9f7a05cd2137bbdd8c42">ecryptfs_bmap</a>,</div><div class="line">}</div><div class="ttc" id="ecryptfs_2mmap_8c_html_aba2c17cca4323636c254626963421f3f"><div class="ttname"><a href="ecryptfs_2mmap_8c.html#aba2c17cca4323636c254626963421f3f">ecryptfs_write_end</a></div><div class="ttdeci">static int ecryptfs_write_end(struct file *file, struct address_space *mapping, loff_t pos, unsigned len, unsigned copied, struct page *page, void *fsdata)</div><div class="ttdef"><b>Definition:</b> mmap.c:476</div></div>
<div class="ttc" id="ecryptfs_2mmap_8c_html_a6a4799f05bb0baa6b8d31732c51a633f"><div class="ttname"><a href="ecryptfs_2mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f">ecryptfs_write_begin</a></div><div class="ttdeci">static int ecryptfs_write_begin(struct file *file, struct address_space *mapping, loff_t pos, unsigned len, unsigned flags, struct page **pagep, void **fsdata)</div><div class="ttdef"><b>Definition:</b> mmap.c:278</div></div>
<div class="ttc" id="ecryptfs_2mmap_8c_html_a8f8e487f41eae0bd59f0f73483c8b0bd"><div class="ttname"><a href="ecryptfs_2mmap_8c.html#a8f8e487f41eae0bd59f0f73483c8b0bd">ecryptfs_readpage</a></div><div class="ttdeci">static int ecryptfs_readpage(struct file *file, struct page *page)</div><div class="ttdef"><b>Definition:</b> mmap.c:194</div></div>
<div class="ttc" id="ecryptfs_2mmap_8c_html_a7241c5e2e81b9f7a05cd2137bbdd8c42"><div class="ttname"><a href="ecryptfs_2mmap_8c.html#a7241c5e2e81b9f7a05cd2137bbdd8c42">ecryptfs_bmap</a></div><div class="ttdeci">static sector_t ecryptfs_bmap(struct address_space *mapping, sector_t block)</div><div class="ttdef"><b>Definition:</b> mmap.c:539</div></div>
<div class="ttc" id="ecryptfs_2mmap_8c_html_a1c709c67cbb144bffe29cff5a7ac0f8c"><div class="ttname"><a href="ecryptfs_2mmap_8c.html#a1c709c67cbb144bffe29cff5a7ac0f8c">ecryptfs_writepage</a></div><div class="ttdeci">static int ecryptfs_writepage(struct page *page, struct writeback_control *wbc)</div><div class="ttdef"><b>Definition:</b> mmap.c:65</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ade537f4bcb78d15bf476b5d013fb55b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade537f4bcb78d15bf476b5d013fb55b3">&#9670;&nbsp;</a></span>ecryptfs_xattr_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* ecryptfs_xattr_cache</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_583ccf86ea8dcf3a3fea5fb2a2c1dc2f.html">ecryptfs</a></li><li class="navelem"><a class="el" href="ecryptfs_2mmap_8c.html">mmap.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
