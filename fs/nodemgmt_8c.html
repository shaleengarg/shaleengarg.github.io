<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: jffs2/nodemgmt.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nodemgmt_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">nodemgmt.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/kernel.h&gt;</code><br />
<code>#include &lt;linux/mtd/mtd.h&gt;</code><br />
<code>#include &lt;linux/compiler.h&gt;</code><br />
<code>#include &lt;linux/sched/signal.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nodelist_8h_source.html">nodelist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="jffs2_2debug_8h_source.html">debug.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for nodemgmt.c:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c__incl.png" border="0" usemap="#jffs2_2nodemgmt_8c" alt=""/></div>
<map name="jffs2_2nodemgmt_8c" id="jffs2_2nodemgmt_8c">
<area shape="rect" id="node6" href="nodelist_8h.html" title="nodelist.h" alt="" coords="1502,80,1581,107"/>
<area shape="rect" id="node28" href="jffs2_2debug_8h.html" title="debug.h" alt="" coords="1887,155,1955,181"/>
<area shape="rect" id="node10" href="jffs2__fs__sb_8h.html" title="jffs2_fs_sb.h" alt="" coords="562,155,659,181"/>
<area shape="rect" id="node19" href="jffs2__fs__i_8h.html" title="jffs2_fs_i.h" alt="" coords="1187,155,1274,181"/>
<area shape="rect" id="node22" href="jffs2_2xattr_8h.html" title="xattr.h" alt="" coords="1364,155,1423,181"/>
<area shape="rect" id="node24" href="jffs2_2acl_8h.html" title="acl.h" alt="" coords="1609,155,1660,181"/>
<area shape="rect" id="node25" href="summary_8h.html" title="summary.h" alt="" coords="1498,155,1585,181"/>
<area shape="rect" id="node27" href="os-linux_8h.html" title="os&#45;linux.h" alt="" coords="1685,155,1763,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(<a class="el" href="xfs__message_8h.html#a7da740c2b1c947b99a8ae43a36660222">fmt</a>)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; <a class="el" href="xfs__message_8h.html#a7da740c2b1c947b99a8ae43a36660222">fmt</a></td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a93590050124d41bd4fa4bed78a795727"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#a93590050124d41bd4fa4bed78a795727">jffs2_rp_can_write</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c)</td></tr>
<tr class="separator:a93590050124d41bd4fa4bed78a795727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a543d7bdeb86df90a631321ab7c4775a7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7">jffs2_do_reserve_space</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, uint32_t minsize, uint32_t *<a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, uint32_t sumsize)</td></tr>
<tr class="separator:a543d7bdeb86df90a631321ab7c4775a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236a605141cf07e742deb629e594c231"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231">jffs2_reserve_space</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, uint32_t minsize, uint32_t *<a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int prio, uint32_t sumsize)</td></tr>
<tr class="separator:a236a605141cf07e742deb629e594c231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf9f16ceefe74441ab32eb80620fc99"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#a1bf9f16ceefe74441ab32eb80620fc99">jffs2_reserve_space_gc</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, uint32_t minsize, uint32_t *<a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, uint32_t sumsize)</td></tr>
<tr class="separator:a1bf9f16ceefe74441ab32eb80620fc99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1ccb3cdd4d86eb390cdfbc628acfb01"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01">jffs2_close_nextblock</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *jeb)</td></tr>
<tr class="separator:ae1ccb3cdd4d86eb390cdfbc628acfb01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa50551eba4b1d5df59d026a45a5c6442"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442">jffs2_find_nextblock</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c)</td></tr>
<tr class="separator:aa50551eba4b1d5df59d026a45a5c6442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac76aa8eadecb6eaf3198edf1d45c6f4e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structjffs2__raw__node__ref.html">jffs2_raw_node_ref</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#ac76aa8eadecb6eaf3198edf1d45c6f4e">jffs2_add_physical_node_ref</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, uint32_t ofs, uint32_t <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, struct <a class="el" href="structjffs2__inode__cache.html">jffs2_inode_cache</a> *ic)</td></tr>
<tr class="separator:ac76aa8eadecb6eaf3198edf1d45c6f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed5ba921167387d2affbb30ed386fe8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#aed5ba921167387d2affbb30ed386fe8c">jffs2_complete_reservation</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c)</td></tr>
<tr class="separator:aed5ba921167387d2affbb30ed386fe8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac287e87c05deeebfa225e916d55b4108"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108">on_list</a> (struct list_head *obj, struct list_head *head)</td></tr>
<tr class="separator:ac287e87c05deeebfa225e916d55b4108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1dbc249468da59bf44c4be91f26d24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24">jffs2_mark_node_obsolete</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c, struct <a class="el" href="structjffs2__raw__node__ref.html">jffs2_raw_node_ref</a> *ref)</td></tr>
<tr class="separator:aab1dbc249468da59bf44c4be91f26d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff0293c12b3db05d2f57539d3d17b2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemgmt_8c.html#a3ff0293c12b3db05d2f57539d3d17b2e">jffs2_thread_should_wake</a> (struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *c)</td></tr>
<tr class="separator:a3ff0293c12b3db05d2f57539d3d17b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1f8c165bf4196327bc3abff648276d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8c165bf4196327bc3abff648276d92">&#9670;&nbsp;</a></span>pr_fmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="xfs__message_8h.html#a7da740c2b1c947b99a8ae43a36660222">fmt</a></td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; <a class="el" href="xfs__message_8h.html#a7da740c2b1c947b99a8ae43a36660222">fmt</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac76aa8eadecb6eaf3198edf1d45c6f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76aa8eadecb6eaf3198edf1d45c6f4e">&#9670;&nbsp;</a></span>jffs2_add_physical_node_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structjffs2__raw__node__ref.html">jffs2_raw_node_ref</a>* jffs2_add_physical_node_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__inode__cache.html">jffs2_inode_cache</a> *&#160;</td>
          <td class="paramname"><em>ic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>jffs2_add_physical_node_ref - add a physical node reference to the list <code></code>: superblock info : new node reference to add : length of this physical node</p>
<p>Should only be used to report nodes for which space has been allocated by jffs2_reserve_space.</p>
<p>Must be called with the alloc_sem held. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_ac76aa8eadecb6eaf3198edf1d45c6f4e_cgraph.png" border="0" usemap="#nodemgmt_8c_ac76aa8eadecb6eaf3198edf1d45c6f4e_cgraph" alt=""/></div>
<map name="nodemgmt_8c_ac76aa8eadecb6eaf3198edf1d45c6f4e_cgraph" id="nodemgmt_8c_ac76aa8eadecb6eaf3198edf1d45c6f4e_cgraph">
<area shape="rect" id="node2" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1639,1471,1769,1497"/>
<area shape="rect" id="node3" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="184,1509,329,1536"/>
<area shape="rect" id="node4" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="377,1285,508,1312"/>
<area shape="rect" id="node5" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1425,1201,1551,1242"/>
<area shape="rect" id="node7" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="573,1091,705,1117"/>
<area shape="rect" id="node49" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="557,863,720,889"/>
<area shape="rect" id="node50" href="wbuf_8c.html#a8b238a278724d3dd8e27a1f4f2718fb4" title="jffs2_clear_wbuf_ino_list" alt="" coords="556,1040,721,1067"/>
<area shape="rect" id="node6" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="1637,1208,1771,1235"/>
<area shape="rect" id="node8" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="1219,1065,1339,1092"/>
<area shape="rect" id="node9" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1415,930,1561,971"/>
<area shape="rect" id="node11" href="nodelist_8h.html#a2235e2eece61b1bd0e54ee9cf914825e" title="ref_next" alt="" coords="818,1065,887,1092"/>
<area shape="rect" id="node12" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="773,1217,933,1244"/>
<area shape="rect" id="node17" href="summary_8c.html#a1ae8b6439603985143220ee61a455e12" title="jffs2_sum_disable_collecting" alt="" coords="1609,832,1799,859"/>
<area shape="rect" id="node24" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1422,1005,1554,1032"/>
<area shape="rect" id="node25" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="787,1561,918,1602"/>
<area shape="rect" id="node26" href="fs_8c.html#a235ffdcdadf6de64a4d731be29aa900e" title="jffs2_gc_fetch_inode" alt="" coords="781,508,924,535"/>
<area shape="rect" id="node46" href="wbuf_8c.html#a32711faa7943b0a25cf7128ca65c29d6" title="jffs2_incore_replace_raw" alt="" coords="769,964,936,991"/>
<area shape="rect" id="node48" href="fs_8c.html#aac28f239d557feaf73f8bb5495a41597" title="jffs2_gc_release_inode" alt="" coords="987,609,1141,636"/>
<area shape="rect" id="node10" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="1617,937,1791,964"/>
<area shape="rect" id="node13" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="984,1268,1144,1295"/>
<area shape="rect" id="node14" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="1204,1369,1355,1396"/>
<area shape="rect" id="node15" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="1192,1116,1367,1143"/>
<area shape="rect" id="node20" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="1205,1319,1353,1345"/>
<area shape="rect" id="node21" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1210,812,1349,839"/>
<area shape="rect" id="node23" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="1192,964,1367,991"/>
<area shape="rect" id="node16" href="summary_8c.html#a4f3ceb1b008b22953acabc4cb961ff2d" title="jffs2_sum_write_data" alt="" coords="1415,1067,1561,1093"/>
<area shape="rect" id="node19" href="summary_8c.html#a1b17c64496052faeedc5f0f9f50f55d6" title="jffs2_sum_reset_collected" alt="" coords="1617,883,1791,909"/>
<area shape="rect" id="node18" href="summary_8c.html#a0c3c0f0ff4c4ae614c89a35c3a0306e2" title="jffs2_sum_clean_collected" alt="" coords="1847,857,2023,884"/>
<area shape="rect" id="node22" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="1419,813,1557,854"/>
<area shape="rect" id="node27" href="inode_8c.html#afeec9db8a05732a90bb418fb4f08112a" title="ilookup" alt="" coords="1248,457,1311,484"/>
<area shape="rect" id="node30" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1467,505,1509,532"/>
<area shape="rect" id="node33" href="nodelist_8c.html#a885b269cad17a1c5af0cd9e199526fb0" title="jffs2_get_ino_cache" alt="" coords="1419,607,1557,633"/>
<area shape="rect" id="node34" href="fs_8c.html#afa94c42873099722791acea5f100b4d5" title="jffs2_iget" alt="" coords="1027,280,1101,307"/>
<area shape="rect" id="node45" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1015,128,1113,155"/>
<area shape="rect" id="node28" href="inode_8c.html#aa1822403d896f1040c371de082022045" title="hash" alt="" coords="1463,404,1513,431"/>
<area shape="rect" id="node29" href="inode_8c.html#ac03034148530fde7bcb803bec96556fc" title="find_inode_fast" alt="" coords="1433,353,1543,380"/>
<area shape="rect" id="node32" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1635,252,1773,279"/>
<area shape="rect" id="node31" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1667,505,1741,532"/>
<area shape="rect" id="node35" href="inode_8c.html#a2e4fab3a29971a7bc96043a5dbcd77a3" title="iget_locked" alt="" coords="1235,305,1323,332"/>
<area shape="rect" id="node36" href="os-linux_8h.html#a79d3721a64bc96c65ef615c5d945918b" title="jffs2_init_inode_info" alt="" coords="1211,407,1348,433"/>
<area shape="rect" id="node37" href="nodelist_8h.html#abbeb0705bf80ad4c6c91aca47d52c988" title="jffs2_do_read_inode" alt="" coords="1210,508,1349,535"/>
<area shape="rect" id="node38" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="1451,5,1525,32"/>
<area shape="rect" id="node39" href="inode_8c.html#a9e6c5f183e4d22feba01bc18e9866dd1" title="inc_nlink" alt="" coords="1451,125,1525,152"/>
<area shape="rect" id="node40" href="nodelist_8h.html#a61cac09251fd2d847bacd94dd6d81868" title="jffs2_read_dnode" alt="" coords="1219,356,1340,383"/>
<area shape="rect" id="node41" href="inode_8c.html#aa992afd465d948c7fca769d396933c98" title="init_special_inode" alt="" coords="1217,255,1342,281"/>
<area shape="rect" id="node42" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="1423,201,1553,228"/>
<area shape="rect" id="node43" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="1239,204,1320,231"/>
<area shape="rect" id="node44" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1419,63,1557,89"/>
<area shape="rect" id="node47" href="nodelist_8c.html#ac66b85114c803740998555e26a7300cd" title="jffs2_lookup_node_frag" alt="" coords="986,964,1142,991"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_ac76aa8eadecb6eaf3198edf1d45c6f4e_icgraph.png" border="0" usemap="#nodemgmt_8c_ac76aa8eadecb6eaf3198edf1d45c6f4e_icgraph" alt=""/></div>
<map name="nodemgmt_8c_ac76aa8eadecb6eaf3198edf1d45c6f4e_icgraph" id="nodemgmt_8c_ac76aa8eadecb6eaf3198edf1d45c6f4e_icgraph">
<area shape="rect" id="node2" href="jffs2_2xattr_8c.html#a29254b6ab7d132032d9d132d0a5db361" title="save_xattr_datum" alt="" coords="736,633,863,659"/>
<area shape="rect" id="node8" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1525,443,1631,470"/>
<area shape="rect" id="node18" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="2333,603,2457,630"/>
<area shape="rect" id="node30" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="2335,245,2456,271"/>
<area shape="rect" id="node46" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="1719,109,1864,151"/>
<area shape="rect" id="node47" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="184,699,316,726"/>
<area shape="rect" id="node3" href="jffs2_2xattr_8c.html#a2a9601f0426b3536e537e42c141c7def" title="create_xattr_datum" alt="" coords="911,531,1045,558"/>
<area shape="rect" id="node45" href="jffs2_2xattr_8c.html#a272e1e9cdc538d765b111b254b242d3f" title="jffs2_garbage_collect\l_xattr_datum" alt="" coords="1093,625,1239,667"/>
<area shape="rect" id="node4" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="1107,493,1225,519"/>
<area shape="rect" id="node5" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="1947,771,2057,798"/>
<area shape="rect" id="node7" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="1301,619,1423,646"/>
<area shape="rect" id="node41" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="1310,417,1414,443"/>
<area shape="rect" id="node42" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="1287,467,1437,494"/>
<area shape="rect" id="node43" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="1289,315,1435,342"/>
<area shape="rect" id="node44" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="1297,366,1427,393"/>
<area shape="rect" id="node6" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="2752,822,2848,849"/>
<area shape="rect" id="node10" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="1719,600,1864,641"/>
<area shape="rect" id="node40" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="1485,545,1671,571"/>
<area shape="rect" id="node9" href="jffs2_2xattr_8c.html#a136b282d575490253eae1eb27b29cac3" title="create_xattr_ref" alt="" coords="1735,335,1848,362"/>
<area shape="rect" id="node11" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1912,609,2092,635"/>
<area shape="rect" id="node12" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="2140,601,2285,643"/>
<area shape="rect" id="node13" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="2143,451,2282,478"/>
<area shape="rect" id="node39" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="2143,771,2282,798"/>
<area shape="rect" id="node14" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="2535,350,2634,377"/>
<area shape="rect" id="node15" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="2541,401,2628,427"/>
<area shape="rect" id="node16" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="2538,451,2631,478"/>
<area shape="rect" id="node17" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="2525,502,2645,529"/>
<area shape="rect" id="node19" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="2505,553,2664,579"/>
<area shape="rect" id="node21" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="2529,299,2640,326"/>
<area shape="rect" id="node27" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="2529,771,2641,798"/>
<area shape="rect" id="node31" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="2530,131,2639,158"/>
<area shape="rect" id="node35" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="2537,182,2632,209"/>
<area shape="rect" id="node23" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="2727,604,2873,645"/>
<area shape="rect" id="node25" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="2712,670,2888,697"/>
<area shape="rect" id="node26" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="2512,604,2657,645"/>
<area shape="rect" id="node20" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="2745,502,2855,529"/>
<area shape="rect" id="node22" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="2755,390,2845,417"/>
<area shape="rect" id="node24" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="2936,553,3108,579"/>
<area shape="rect" id="node28" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="2755,721,2845,747"/>
<area shape="rect" id="node29" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="2741,771,2859,798"/>
<area shape="rect" id="node37" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="2512,233,2657,275"/>
<area shape="rect" id="node32" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="2756,70,2844,97"/>
<area shape="rect" id="node33" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="2759,121,2841,147"/>
<area shape="rect" id="node34" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="2751,171,2849,198"/>
<area shape="rect" id="node36" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="2763,222,2837,249"/>
<area shape="rect" id="node38" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="2727,324,2873,365"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="364,715,495,742"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="543,822,688,849"/>
<area shape="rect" id="node50" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="553,695,677,722"/>
</map>
</div>

</div>
</div>
<a id="ae1ccb3cdd4d86eb390cdfbc628acfb01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1ccb3cdd4d86eb390cdfbc628acfb01">&#9670;&nbsp;</a></span>jffs2_close_nextblock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jffs2_close_nextblock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__eraseblock.html">jffs2_eraseblock</a> *&#160;</td>
          <td class="paramname"><em>jeb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_ae1ccb3cdd4d86eb390cdfbc628acfb01_icgraph.png" border="0" usemap="#nodemgmt_8c_ae1ccb3cdd4d86eb390cdfbc628acfb01_icgraph" alt=""/></div>
<map name="nodemgmt_8c_ae1ccb3cdd4d86eb390cdfbc628acfb01_icgraph" id="nodemgmt_8c_ae1ccb3cdd4d86eb390cdfbc628acfb01_icgraph">
<area shape="rect" id="node2" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="201,798,361,824"/>
<area shape="rect" id="node3" href="nodemgmt_8c.html#a93590050124d41bd4fa4bed78a795727" title="jffs2_rp_can_write" alt="" coords="409,747,537,774"/>
<area shape="rect" id="node4" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="596,747,735,774"/>
<area shape="rect" id="node46" href="nodemgmt_8c.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="585,1471,745,1498"/>
<area shape="rect" id="node5" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="807,611,925,638"/>
<area shape="rect" id="node9" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1481,823,1579,850"/>
<area shape="rect" id="node10" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1487,975,1573,1002"/>
<area shape="rect" id="node11" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1483,114,1577,140"/>
<area shape="rect" id="node12" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1475,519,1585,546"/>
<area shape="rect" id="node26" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1015,1076,1135,1103"/>
<area shape="rect" id="node27" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="804,1000,928,1027"/>
<area shape="rect" id="node28" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="995,418,1154,444"/>
<area shape="rect" id="node34" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1019,722,1131,748"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="805,772,927,799"/>
<area shape="rect" id="node38" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1020,316,1129,343"/>
<area shape="rect" id="node42" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1027,367,1122,394"/>
<area shape="rect" id="node6" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="1019,620,1130,647"/>
<area shape="rect" id="node14" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="1013,1159,1136,1186"/>
<area shape="rect" id="node21" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="1023,468,1127,495"/>
<area shape="rect" id="node23" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="999,63,1150,90"/>
<area shape="rect" id="node24" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="1002,114,1147,140"/>
<area shape="rect" id="node25" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="1009,164,1140,191"/>
<area shape="rect" id="node7" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1255,671,1351,698"/>
<area shape="rect" id="node8" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1240,620,1367,647"/>
<area shape="rect" id="node13" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1709,519,1799,546"/>
<area shape="rect" id="node15" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1251,1076,1356,1103"/>
<area shape="rect" id="node16" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="1457,1182,1603,1224"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="1211,1127,1396,1154"/>
<area shape="rect" id="node17" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1664,1446,1844,1472"/>
<area shape="rect" id="node18" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="1892,1438,2037,1480"/>
<area shape="rect" id="node19" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="1895,1586,2034,1612"/>
<area shape="rect" id="node22" href="jffs2_2security_8c.html#a886dd8cfb3c01352a5f4e6411c5fb4eb" title="jffs2_init_security" alt="" coords="1241,519,1365,546"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="1002,1456,1147,1497"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="987,1587,1163,1614"/>
<area shape="rect" id="node33" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="1002,1638,1147,1680"/>
<area shape="rect" id="node29" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1248,418,1359,444"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="1444,1564,1616,1591"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1258,772,1349,799"/>
<area shape="rect" id="node36" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1245,722,1362,748"/>
<area shape="rect" id="node44" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="1002,1521,1147,1562"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1259,215,1347,242"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1262,266,1345,292"/>
<area shape="rect" id="node41" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1255,316,1352,343"/>
<area shape="rect" id="node43" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1266,367,1341,394"/>
<area shape="rect" id="node45" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="1231,1557,1376,1598"/>
<area shape="rect" id="node47" href="jffs2_2xattr_8c.html#a272e1e9cdc538d765b111b254b242d3f" title="jffs2_garbage_collect\l_xattr_datum" alt="" coords="793,1354,939,1396"/>
<area shape="rect" id="node48" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="1231,1725,1376,1766"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="800,1774,932,1800"/>
<area shape="rect" id="node50" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="1689,1750,1819,1776"/>
</map>
</div>

</div>
</div>
<a id="aed5ba921167387d2affbb30ed386fe8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed5ba921167387d2affbb30ed386fe8c">&#9670;&nbsp;</a></span>jffs2_complete_reservation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jffs2_complete_reservation </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_aed5ba921167387d2affbb30ed386fe8c_cgraph.png" border="0" usemap="#nodemgmt_8c_aed5ba921167387d2affbb30ed386fe8c_cgraph" alt=""/></div>
<map name="nodemgmt_8c_aed5ba921167387d2affbb30ed386fe8c_cgraph" id="nodemgmt_8c_aed5ba921167387d2affbb30ed386fe8c_cgraph">
<area shape="rect" id="node2" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="232,5,377,47"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="425,13,599,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_aed5ba921167387d2affbb30ed386fe8c_icgraph.png" border="0" usemap="#nodemgmt_8c_aed5ba921167387d2affbb30ed386fe8c_icgraph" alt=""/></div>
<map name="nodemgmt_8c_aed5ba921167387d2affbb30ed386fe8c_icgraph" id="nodemgmt_8c_aed5ba921167387d2affbb30ed386fe8c_icgraph">
<area shape="rect" id="node2" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="232,648,351,674"/>
<area shape="rect" id="node6" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1663,673,1762,700"/>
<area shape="rect" id="node7" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1669,729,1756,756"/>
<area shape="rect" id="node8" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1666,622,1759,649"/>
<area shape="rect" id="node9" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1657,785,1768,812"/>
<area shape="rect" id="node20" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1653,1332,1773,1358"/>
<area shape="rect" id="node21" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="1455,977,1579,1004"/>
<area shape="rect" id="node22" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="1633,1028,1792,1054"/>
<area shape="rect" id="node28" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1657,1281,1769,1308"/>
<area shape="rect" id="node31" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="1456,521,1577,548"/>
<area shape="rect" id="node32" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1658,433,1767,460"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1665,361,1760,388"/>
<area shape="rect" id="node3" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="1272,825,1383,852"/>
<area shape="rect" id="node11" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="413,420,535,446"/>
<area shape="rect" id="node46" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="638,584,742,610"/>
<area shape="rect" id="node48" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="399,572,549,598"/>
<area shape="rect" id="node49" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="401,622,547,649"/>
<area shape="rect" id="node50" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="409,774,539,801"/>
<area shape="rect" id="node4" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1880,1230,1976,1257"/>
<area shape="rect" id="node5" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1453,724,1580,750"/>
<area shape="rect" id="node10" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1883,785,1973,812"/>
<area shape="rect" id="node12" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="637,494,743,521"/>
<area shape="rect" id="node14" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="832,424,977,466"/>
<area shape="rect" id="node43" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="597,293,783,320"/>
<area shape="rect" id="node13" href="jffs2_2xattr_8c.html#a136b282d575490253eae1eb27b29cac3" title="create_xattr_ref" alt="" coords="848,662,961,689"/>
<area shape="rect" id="node15" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1027,369,1207,396"/>
<area shape="rect" id="node16" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="1255,151,1400,192"/>
<area shape="rect" id="node19" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="1258,724,1397,750"/>
<area shape="rect" id="node40" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="1258,318,1397,345"/>
<area shape="rect" id="node17" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="1450,151,1583,192"/>
<area shape="rect" id="node18" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="1649,53,1776,80"/>
<area shape="rect" id="node24" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="1855,944,2001,986"/>
<area shape="rect" id="node26" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="1840,889,2016,916"/>
<area shape="rect" id="node27" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="1640,836,1785,878"/>
<area shape="rect" id="node23" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1873,1028,1983,1054"/>
<area shape="rect" id="node25" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="2064,722,2236,749"/>
<area shape="rect" id="node29" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1883,1332,1973,1358"/>
<area shape="rect" id="node30" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1869,1281,1987,1308"/>
<area shape="rect" id="node38" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="1640,506,1785,547"/>
<area shape="rect" id="node33" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1884,462,1972,489"/>
<area shape="rect" id="node34" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1887,412,1969,438"/>
<area shape="rect" id="node35" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1879,361,1977,388"/>
<area shape="rect" id="node37" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1891,310,1965,337"/>
<area shape="rect" id="node39" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="1855,564,2001,606"/>
<area shape="rect" id="node41" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="1473,268,1560,294"/>
<area shape="rect" id="node42" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="1448,318,1585,345"/>
<area shape="rect" id="node44" href="build_8c.html#a6a125309aed46b9b1e8a7ac2e0ea9fc4" title="jffs2_build_filesystem" alt="" coords="831,286,979,313"/>
<area shape="rect" id="node45" href="nodelist_8h.html#ace445086ae828460cfec2eafe668b0bc" title="jffs2_do_mount_fs" alt="" coords="1052,280,1181,306"/>
<area shape="rect" id="node47" href="jffs2_2security_8c.html#a886dd8cfb3c01352a5f4e6411c5fb4eb" title="jffs2_init_security" alt="" coords="1455,622,1579,649"/>
</map>
</div>

</div>
</div>
<a id="a543d7bdeb86df90a631321ab7c4775a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a543d7bdeb86df90a631321ab7c4775a7">&#9670;&nbsp;</a></span>jffs2_do_reserve_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jffs2_do_reserve_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>minsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sumsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>jffs2_reserve_space - request physical space to write nodes to flash <code></code>: superblock info : Minimum acceptable size of allocation : Returned value of allocation length : Allocation type - ALLOC_{NORMAL,DELETION}</p>
<p>Requests a block of physical space on the flash. Returns zero for success and puts 'len' into the appropriate place, or returns -ENOSPC or other error if appropriate. Doesn't return len since that's</p>
<p>If it returns zero, <a class="el" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231">jffs2_reserve_space()</a> also downs the per-filesystem allocation semaphore, to prevent more than one allocation from being active at any time. The semaphore is later released by jffs2_commit_allocation()</p>
<p><a class="el" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231">jffs2_reserve_space()</a> may trigger garbage collection in order to make room for the requested allocation. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_a543d7bdeb86df90a631321ab7c4775a7_cgraph.png" border="0" usemap="#nodemgmt_8c_a543d7bdeb86df90a631321ab7c4775a7_cgraph" alt=""/></div>
<map name="nodemgmt_8c_a543d7bdeb86df90a631321ab7c4775a7_cgraph" id="nodemgmt_8c_a543d7bdeb86df90a631321ab7c4775a7_cgraph">
<area shape="rect" id="node2" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="225,5,376,32"/>
<area shape="rect" id="node3" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="213,259,388,285"/>
<area shape="rect" id="node4" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1519,403,1646,445"/>
<area shape="rect" id="node18" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1517,563,1648,589"/>
<area shape="rect" id="node22" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1510,1065,1655,1092"/>
<area shape="rect" id="node32" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="227,411,375,437"/>
<area shape="rect" id="node33" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="839,1288,977,1315"/>
<area shape="rect" id="node42" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="213,1041,388,1068"/>
<area shape="rect" id="node6" href="summary_8c.html#a4f3ceb1b008b22953acabc4cb961ff2d" title="jffs2_sum_write_data" alt="" coords="438,208,585,235"/>
<area shape="rect" id="node5" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="1747,411,1882,437"/>
<area shape="rect" id="node7" href="summary_8c.html#a1ae8b6439603985143220ee61a455e12" title="jffs2_sum_disable_collecting" alt="" coords="1248,157,1437,184"/>
<area shape="rect" id="node9" href="summary_8c.html#a1b17c64496052faeedc5f0f9f50f55d6" title="jffs2_sum_reset_collected" alt="" coords="1025,107,1200,133"/>
<area shape="rect" id="node10" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="651,579,775,605"/>
<area shape="rect" id="node8" href="summary_8c.html#a0c3c0f0ff4c4ae614c89a35c3a0306e2" title="jffs2_sum_clean_collected" alt="" coords="1495,81,1671,108"/>
<area shape="rect" id="node11" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="1522,1273,1643,1314"/>
<area shape="rect" id="node12" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="1743,1541,1886,1568"/>
<area shape="rect" id="node13" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="843,579,973,605"/>
<area shape="rect" id="node15" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="1283,563,1403,589"/>
<area shape="rect" id="node29" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="881,629,935,656"/>
<area shape="rect" id="node30" href="wbuf_8c.html#a00e162aa145deb5ee72e3d61701b435f" title="jffs2_fill_wbuf" alt="" coords="857,477,959,504"/>
<area shape="rect" id="node31" href="wbuf_8c.html#ac4dc7d63264c0d63f4ffb343837278a4" title="jffs2_wbuf_dirties\l_inode" alt="" coords="846,411,970,453"/>
<area shape="rect" id="node14" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="1047,672,1179,699"/>
<area shape="rect" id="node27" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="1031,1033,1194,1060"/>
<area shape="rect" id="node28" href="wbuf_8c.html#a8b238a278724d3dd8e27a1f4f2718fb4" title="jffs2_clear_wbuf_ino_list" alt="" coords="1030,411,1195,437"/>
<area shape="rect" id="node16" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1510,1147,1655,1189"/>
<area shape="rect" id="node19" href="nodelist_8h.html#a2235e2eece61b1bd0e54ee9cf914825e" title="ref_next" alt="" coords="1308,731,1377,757"/>
<area shape="rect" id="node20" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="1263,309,1423,336"/>
<area shape="rect" id="node21" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="1277,665,1408,706"/>
<area shape="rect" id="node23" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1277,984,1409,1011"/>
<area shape="rect" id="node24" href="fs_8c.html#a235ffdcdadf6de64a4d731be29aa900e" title="jffs2_gc_fetch_inode" alt="" coords="1271,781,1414,808"/>
<area shape="rect" id="node25" href="wbuf_8c.html#a32711faa7943b0a25cf7128ca65c29d6" title="jffs2_incore_replace_raw" alt="" coords="1259,832,1426,859"/>
<area shape="rect" id="node26" href="fs_8c.html#aac28f239d557feaf73f8bb5495a41597" title="jffs2_gc_release_inode" alt="" coords="1265,883,1420,909"/>
<area shape="rect" id="node17" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="1728,1155,1901,1181"/>
<area shape="rect" id="node34" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="1043,1411,1182,1453"/>
<area shape="rect" id="node35" href="erase_8c.html#a1db399aadc969ebbe1c70110c3638d8e" title="jffs2_mark_erased_block" alt="" coords="1259,1389,1426,1416"/>
<area shape="rect" id="node39" href="erase_8c.html#af98513341cc0f6d3e614bd6f90b6a6c6" title="jffs2_free_jeb_node_refs" alt="" coords="1261,1491,1425,1517"/>
<area shape="rect" id="node41" href="erase_8c.html#a613b5f4d3ca2d5a5e7fc833d0213f7d4" title="jffs2_erase_block" alt="" coords="1281,1440,1405,1467"/>
<area shape="rect" id="node36" href="erase_8c.html#a39b56d64ae53cadab12abe42ff18045a" title="jffs2_block_check_erase" alt="" coords="1499,1389,1666,1416"/>
<area shape="rect" id="node37" href="wbuf_8c.html#a3b7d15e51926e8610ee383986d3ab814" title="jffs2_write_nand_cleanmarker" alt="" coords="1485,1339,1680,1365"/>
<area shape="rect" id="node38" href="erase_8c.html#a0d39b7165f8f3e8cd8ead4f8be2ebbcd" title="jffs2_erase_failed" alt="" coords="1521,1440,1645,1467"/>
<area shape="rect" id="node40" href="malloc_8c.html#a3ed501ddd6113cd1a26140e1e0d585ca" title="jffs2_free_refblock" alt="" coords="1518,1491,1647,1517"/>
<area shape="rect" id="node43" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="481,932,541,959"/>
<area shape="rect" id="node44" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="454,983,569,1009"/>
<area shape="rect" id="node45" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="453,1151,570,1177"/>
<area shape="rect" id="node47" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="447,1034,576,1075"/>
<area shape="rect" id="node48" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="436,1100,587,1127"/>
<area shape="rect" id="node49" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="443,1252,580,1279"/>
<area shape="rect" id="node46" href="os-linux_8h.html#ab7126efec4b6a0055f5a511cfab76875" title="jffs2_flash_direct\l_write" alt="" coords="652,1135,773,1177"/>
<area shape="rect" id="node50" href="malloc_8c.html#a3051762b89b1a402dc582639f7b6fd67" title="jffs2_free_inode_cache" alt="" coords="635,1252,791,1279"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_a543d7bdeb86df90a631321ab7c4775a7_icgraph.png" border="0" usemap="#nodemgmt_8c_a543d7bdeb86df90a631321ab7c4775a7_icgraph" alt=""/></div>
<map name="nodemgmt_8c_a543d7bdeb86df90a631321ab7c4775a7_icgraph" id="nodemgmt_8c_a543d7bdeb86df90a631321ab7c4775a7_icgraph">
<area shape="rect" id="node2" href="nodemgmt_8c.html#a93590050124d41bd4fa4bed78a795727" title="jffs2_rp_can_write" alt="" coords="213,1066,341,1092"/>
<area shape="rect" id="node3" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="400,834,539,860"/>
<area shape="rect" id="node45" href="nodemgmt_8c.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="389,1427,549,1454"/>
<area shape="rect" id="node4" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="611,415,729,442"/>
<area shape="rect" id="node8" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1285,175,1383,202"/>
<area shape="rect" id="node9" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1291,428,1377,455"/>
<area shape="rect" id="node10" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1287,732,1381,759"/>
<area shape="rect" id="node11" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1279,783,1389,810"/>
<area shape="rect" id="node25" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="819,834,939,860"/>
<area shape="rect" id="node26" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="608,1011,732,1038"/>
<area shape="rect" id="node27" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="799,884,958,911"/>
<area shape="rect" id="node33" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="823,327,935,354"/>
<area shape="rect" id="node36" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="609,682,731,708"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="824,530,933,556"/>
<area shape="rect" id="node41" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="831,580,926,607"/>
<area shape="rect" id="node5" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="823,378,934,404"/>
<area shape="rect" id="node13" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="817,1220,940,1247"/>
<area shape="rect" id="node20" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="827,428,931,455"/>
<area shape="rect" id="node22" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="803,124,954,151"/>
<area shape="rect" id="node23" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="806,175,951,202"/>
<area shape="rect" id="node24" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="813,74,944,100"/>
<area shape="rect" id="node6" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1059,327,1155,354"/>
<area shape="rect" id="node7" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1044,378,1171,404"/>
<area shape="rect" id="node12" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1513,783,1603,810"/>
<area shape="rect" id="node14" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1055,1138,1160,1164"/>
<area shape="rect" id="node15" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="1261,1244,1407,1285"/>
<area shape="rect" id="node19" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="1015,1188,1200,1215"/>
<area shape="rect" id="node16" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1468,1634,1648,1660"/>
<area shape="rect" id="node17" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="1696,1626,1841,1668"/>
<area shape="rect" id="node18" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="1699,1722,1838,1748"/>
<area shape="rect" id="node21" href="jffs2_2security_8c.html#a886dd8cfb3c01352a5f4e6411c5fb4eb" title="jffs2_init_security" alt="" coords="1045,428,1169,455"/>
<area shape="rect" id="node29" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="806,1546,951,1588"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="791,1612,967,1639"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="806,1416,951,1457"/>
<area shape="rect" id="node28" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1052,834,1163,860"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="1248,1583,1420,1610"/>
<area shape="rect" id="node34" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1062,276,1153,303"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1049,226,1166,252"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="806,1481,951,1522"/>
<area shape="rect" id="node38" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1063,530,1151,556"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1066,479,1149,506"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1059,580,1156,607"/>
<area shape="rect" id="node42" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1070,631,1145,658"/>
<area shape="rect" id="node44" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="1035,1466,1180,1508"/>
<area shape="rect" id="node46" href="jffs2_2xattr_8c.html#a272e1e9cdc538d765b111b254b242d3f" title="jffs2_garbage_collect\l_xattr_datum" alt="" coords="597,1310,743,1352"/>
<area shape="rect" id="node47" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="1035,1736,1180,1777"/>
<area shape="rect" id="node48" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="604,1795,736,1822"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="813,1802,944,1828"/>
<area shape="rect" id="node50" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1035,1852,1180,1879"/>
</map>
</div>

</div>
</div>
<a id="aa50551eba4b1d5df59d026a45a5c6442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa50551eba4b1d5df59d026a45a5c6442">&#9670;&nbsp;</a></span>jffs2_find_nextblock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jffs2_find_nextblock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_aa50551eba4b1d5df59d026a45a5c6442_cgraph.png" border="0" usemap="#nodemgmt_8c_aa50551eba4b1d5df59d026a45a5c6442_cgraph" alt=""/></div>
<map name="nodemgmt_8c_aa50551eba4b1d5df59d026a45a5c6442_cgraph" id="nodemgmt_8c_aa50551eba4b1d5df59d026a45a5c6442_cgraph">
<area shape="rect" id="node2" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1077,1047,1222,1088"/>
<area shape="rect" id="node4" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="207,637,352,663"/>
<area shape="rect" id="node32" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="415,359,553,400"/>
<area shape="rect" id="node50" href="summary_8c.html#a1b17c64496052faeedc5f0f9f50f55d6" title="jffs2_sum_reset_collected" alt="" coords="192,1354,367,1381"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="1296,1054,1469,1081"/>
<area shape="rect" id="node5" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="419,815,549,842"/>
<area shape="rect" id="node6" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1527,637,1653,679"/>
<area shape="rect" id="node8" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="618,935,750,962"/>
<area shape="rect" id="node10" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1317,695,1448,722"/>
<area shape="rect" id="node30" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="603,1113,765,1139"/>
<area shape="rect" id="node31" href="wbuf_8c.html#a8b238a278724d3dd8e27a1f4f2718fb4" title="jffs2_clear_wbuf_ino_list" alt="" coords="601,986,767,1013"/>
<area shape="rect" id="node7" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="1709,645,1844,671"/>
<area shape="rect" id="node9" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="849,898,969,925"/>
<area shape="rect" id="node11" href="nodelist_8h.html#a2235e2eece61b1bd0e54ee9cf914825e" title="ref_next" alt="" coords="875,1050,944,1077"/>
<area shape="rect" id="node12" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="829,746,989,773"/>
<area shape="rect" id="node17" href="summary_8c.html#a1ae8b6439603985143220ee61a455e12" title="jffs2_sum_disable_collecting" alt="" coords="815,1253,1004,1279"/>
<area shape="rect" id="node19" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="844,629,975,671"/>
<area shape="rect" id="node20" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="843,999,975,1026"/>
<area shape="rect" id="node21" href="fs_8c.html#a235ffdcdadf6de64a4d731be29aa900e" title="jffs2_gc_fetch_inode" alt="" coords="838,1405,981,1431"/>
<area shape="rect" id="node27" href="wbuf_8c.html#a32711faa7943b0a25cf7128ca65c29d6" title="jffs2_incore_replace_raw" alt="" coords="826,847,993,874"/>
<area shape="rect" id="node29" href="fs_8c.html#aac28f239d557feaf73f8bb5495a41597" title="jffs2_gc_release_inode" alt="" coords="832,1506,987,1533"/>
<area shape="rect" id="node13" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="1069,493,1229,519"/>
<area shape="rect" id="node14" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="1307,493,1458,519"/>
<area shape="rect" id="node15" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="1295,594,1470,621"/>
<area shape="rect" id="node16" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="1309,543,1457,570"/>
<area shape="rect" id="node18" href="summary_8c.html#a0c3c0f0ff4c4ae614c89a35c3a0306e2" title="jffs2_sum_clean_collected" alt="" coords="1061,1253,1237,1279"/>
<area shape="rect" id="node22" href="inode_8c.html#afeec9db8a05732a90bb418fb4f08112a" title="ilookup" alt="" coords="1118,1405,1181,1431"/>
<area shape="rect" id="node23" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1361,1405,1404,1431"/>
<area shape="rect" id="node24" href="nodelist_8c.html#a885b269cad17a1c5af0cd9e199526fb0" title="jffs2_get_ino_cache" alt="" coords="1080,1455,1219,1482"/>
<area shape="rect" id="node25" href="fs_8c.html#afa94c42873099722791acea5f100b4d5" title="jffs2_iget" alt="" coords="1112,1506,1187,1533"/>
<area shape="rect" id="node26" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1100,1354,1199,1381"/>
<area shape="rect" id="node28" href="nodelist_8c.html#ac66b85114c803740998555e26a7300cd" title="jffs2_lookup_node_frag" alt="" coords="1071,847,1227,874"/>
<area shape="rect" id="node33" href="erase_8c.html#a1db399aadc969ebbe1c70110c3638d8e" title="jffs2_mark_erased_block" alt="" coords="826,341,993,367"/>
<area shape="rect" id="node41" href="erase_8c.html#af98513341cc0f6d3e614bd6f90b6a6c6" title="jffs2_free_jeb_node_refs" alt="" coords="602,210,766,237"/>
<area shape="rect" id="node48" href="erase_8c.html#a613b5f4d3ca2d5a5e7fc833d0213f7d4" title="jffs2_erase_block" alt="" coords="622,391,746,418"/>
<area shape="rect" id="node34" href="erase_8c.html#a39b56d64ae53cadab12abe42ff18045a" title="jffs2_block_check_erase" alt="" coords="1066,239,1233,266"/>
<area shape="rect" id="node35" href="wbuf_8c.html#a3b7d15e51926e8610ee383986d3ab814" title="jffs2_write_nand_cleanmarker" alt="" coords="1052,290,1247,317"/>
<area shape="rect" id="node36" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="1089,173,1210,215"/>
<area shape="rect" id="node39" href="erase_8c.html#a0d39b7165f8f3e8cd8ead4f8be2ebbcd" title="jffs2_erase_failed" alt="" coords="1087,391,1211,418"/>
<area shape="rect" id="node37" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="1311,181,1454,207"/>
<area shape="rect" id="node38" href="summary_8c.html#ae41a0612cf700518ea4b0eeff354cce1" title="jffs2_sum_add_mem" alt="" coords="1519,181,1661,207"/>
<area shape="rect" id="node40" href="wbuf_8c.html#a3f12054a0d5d08b8b45e61eb8353c062" title="jffs2_write_nand_badblock" alt="" coords="1295,391,1471,418"/>
<area shape="rect" id="node42" href="malloc_8c.html#a3ed501ddd6113cd1a26140e1e0d585ca" title="jffs2_free_refblock" alt="" coords="845,210,974,237"/>
<area shape="rect" id="node43" href="erase_8c.html#aba2081764c7d46d257ff6b8ecaaac648" title="jffs2_remove_node_refs\l_from_ino_list" alt="" coords="829,89,990,131"/>
<area shape="rect" id="node44" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="1085,5,1214,47"/>
<area shape="rect" id="node45" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="1074,71,1225,98"/>
<area shape="rect" id="node46" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="1081,122,1218,149"/>
<area shape="rect" id="node47" href="malloc_8c.html#a3051762b89b1a402dc582639f7b6fd67" title="jffs2_free_inode_cache" alt="" coords="1305,122,1461,149"/>
<area shape="rect" id="node49" href="erase_8c.html#afd6713ef449136ad90348202817be799" title="jffs2_erase_succeeded" alt="" coords="831,949,987,975"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_aa50551eba4b1d5df59d026a45a5c6442_icgraph.png" border="0" usemap="#nodemgmt_8c_aa50551eba4b1d5df59d026a45a5c6442_icgraph" alt=""/></div>
<map name="nodemgmt_8c_aa50551eba4b1d5df59d026a45a5c6442_icgraph" id="nodemgmt_8c_aa50551eba4b1d5df59d026a45a5c6442_icgraph">
<area shape="rect" id="node2" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="192,798,352,824"/>
<area shape="rect" id="node3" href="nodemgmt_8c.html#a93590050124d41bd4fa4bed78a795727" title="jffs2_rp_can_write" alt="" coords="400,747,528,774"/>
<area shape="rect" id="node4" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="587,747,725,774"/>
<area shape="rect" id="node46" href="nodemgmt_8c.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="576,1471,736,1498"/>
<area shape="rect" id="node5" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="797,611,916,638"/>
<area shape="rect" id="node9" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1471,823,1570,850"/>
<area shape="rect" id="node10" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1477,975,1564,1002"/>
<area shape="rect" id="node11" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1474,114,1567,140"/>
<area shape="rect" id="node12" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1465,519,1576,546"/>
<area shape="rect" id="node26" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1005,1076,1125,1103"/>
<area shape="rect" id="node27" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="795,1000,919,1027"/>
<area shape="rect" id="node28" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="986,418,1145,444"/>
<area shape="rect" id="node34" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1009,722,1121,748"/>
<area shape="rect" id="node37" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="796,772,917,799"/>
<area shape="rect" id="node38" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1011,316,1120,343"/>
<area shape="rect" id="node42" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1018,367,1113,394"/>
<area shape="rect" id="node6" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="1010,620,1121,647"/>
<area shape="rect" id="node14" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="1004,1159,1127,1186"/>
<area shape="rect" id="node21" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="1013,468,1117,495"/>
<area shape="rect" id="node23" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="990,63,1141,90"/>
<area shape="rect" id="node24" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="993,114,1138,140"/>
<area shape="rect" id="node25" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="1000,164,1131,191"/>
<area shape="rect" id="node7" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1246,671,1342,698"/>
<area shape="rect" id="node8" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="1231,620,1357,647"/>
<area shape="rect" id="node13" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1699,519,1790,546"/>
<area shape="rect" id="node15" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="1241,1076,1347,1103"/>
<area shape="rect" id="node16" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="1448,1182,1593,1224"/>
<area shape="rect" id="node20" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="1201,1127,1387,1154"/>
<area shape="rect" id="node17" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1655,1446,1835,1472"/>
<area shape="rect" id="node18" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="1883,1438,2028,1480"/>
<area shape="rect" id="node19" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="1886,1586,2025,1612"/>
<area shape="rect" id="node22" href="jffs2_2security_8c.html#a886dd8cfb3c01352a5f4e6411c5fb4eb" title="jffs2_init_security" alt="" coords="1232,519,1356,546"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="993,1456,1138,1497"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="977,1587,1153,1614"/>
<area shape="rect" id="node33" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="993,1638,1138,1680"/>
<area shape="rect" id="node29" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1239,418,1349,444"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="1435,1564,1607,1591"/>
<area shape="rect" id="node35" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1249,772,1339,799"/>
<area shape="rect" id="node36" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1235,722,1353,748"/>
<area shape="rect" id="node44" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="993,1521,1138,1562"/>
<area shape="rect" id="node39" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1250,215,1338,242"/>
<area shape="rect" id="node40" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1253,266,1335,292"/>
<area shape="rect" id="node41" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1245,316,1343,343"/>
<area shape="rect" id="node43" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1257,367,1331,394"/>
<area shape="rect" id="node45" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="1221,1557,1367,1598"/>
<area shape="rect" id="node47" href="jffs2_2xattr_8c.html#a272e1e9cdc538d765b111b254b242d3f" title="jffs2_garbage_collect\l_xattr_datum" alt="" coords="784,1354,929,1396"/>
<area shape="rect" id="node48" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="1221,1725,1367,1766"/>
<area shape="rect" id="node49" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="791,1774,923,1800"/>
<area shape="rect" id="node50" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="1679,1750,1810,1776"/>
</map>
</div>

</div>
</div>
<a id="aab1dbc249468da59bf44c4be91f26d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab1dbc249468da59bf44c4be91f26d24">&#9670;&nbsp;</a></span>jffs2_mark_node_obsolete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jffs2_mark_node_obsolete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structjffs2__raw__node__ref.html">jffs2_raw_node_ref</a> *&#160;</td>
          <td class="paramname"><em>ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_aab1dbc249468da59bf44c4be91f26d24_cgraph.png" border="0" usemap="#nodemgmt_8c_aab1dbc249468da59bf44c4be91f26d24_cgraph" alt=""/></div>
<map name="nodemgmt_8c_aab1dbc249468da59bf44c4be91f26d24_cgraph" id="nodemgmt_8c_aab1dbc249468da59bf44c4be91f26d24_cgraph">
<area shape="rect" id="node2" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="273,5,333,32"/>
<area shape="rect" id="node3" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1275,70,1421,111"/>
<area shape="rect" id="node5" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="246,192,361,219"/>
<area shape="rect" id="node6" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="245,403,362,429"/>
<area shape="rect" id="node28" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1051,208,1183,235"/>
<area shape="rect" id="node47" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="239,454,368,495"/>
<area shape="rect" id="node48" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="228,520,379,547"/>
<area shape="rect" id="node49" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="235,1165,372,1192"/>
<area shape="rect" id="node4" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="1485,77,1658,104"/>
<area shape="rect" id="node7" href="os-linux_8h.html#ab7126efec4b6a0055f5a511cfab76875" title="jffs2_flash_direct\l_write" alt="" coords="444,770,565,811"/>
<area shape="rect" id="node10" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="443,512,567,539"/>
<area shape="rect" id="node8" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="821,1064,963,1091"/>
<area shape="rect" id="node9" href="summary_8c.html#ae41a0612cf700518ea4b0eeff354cce1" title="jffs2_sum_add_mem" alt="" coords="1046,1064,1189,1091"/>
<area shape="rect" id="node11" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="635,762,757,803"/>
<area shape="rect" id="node12" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="631,563,761,589"/>
<area shape="rect" id="node16" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="1057,309,1177,336"/>
<area shape="rect" id="node40" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="669,645,723,672"/>
<area shape="rect" id="node42" href="wbuf_8c.html#a00e162aa145deb5ee72e3d61701b435f" title="jffs2_fill_wbuf" alt="" coords="645,403,747,429"/>
<area shape="rect" id="node43" href="wbuf_8c.html#ac4dc7d63264c0d63f4ffb343837278a4" title="jffs2_wbuf_dirties\l_inode" alt="" coords="634,454,758,495"/>
<area shape="rect" id="node13" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1707,762,1833,803"/>
<area shape="rect" id="node15" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="826,563,958,589"/>
<area shape="rect" id="node17" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1506,744,1637,771"/>
<area shape="rect" id="node38" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="811,512,973,539"/>
<area shape="rect" id="node39" href="wbuf_8c.html#a8b238a278724d3dd8e27a1f4f2718fb4" title="jffs2_clear_wbuf_ino_list" alt="" coords="809,461,975,488"/>
<area shape="rect" id="node14" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="1881,769,2016,796"/>
<area shape="rect" id="node18" href="nodelist_8h.html#a2235e2eece61b1bd0e54ee9cf914825e" title="ref_next" alt="" coords="1083,360,1152,387"/>
<area shape="rect" id="node19" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="1037,693,1197,720"/>
<area shape="rect" id="node25" href="summary_8c.html#a1ae8b6439603985143220ee61a455e12" title="jffs2_sum_disable_collecting" alt="" coords="1023,512,1212,539"/>
<area shape="rect" id="node27" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="1283,795,1413,837"/>
<area shape="rect" id="node29" href="fs_8c.html#a235ffdcdadf6de64a4d731be29aa900e" title="jffs2_gc_fetch_inode" alt="" coords="1046,563,1189,589"/>
<area shape="rect" id="node35" href="wbuf_8c.html#a32711faa7943b0a25cf7128ca65c29d6" title="jffs2_incore_replace_raw" alt="" coords="1034,617,1201,644"/>
<area shape="rect" id="node37" href="fs_8c.html#aac28f239d557feaf73f8bb5495a41597" title="jffs2_gc_release_inode" alt="" coords="1271,237,1425,264"/>
<area shape="rect" id="node20" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="1268,963,1428,989"/>
<area shape="rect" id="node21" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="1496,896,1647,923"/>
<area shape="rect" id="node22" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="1484,947,1659,973"/>
<area shape="rect" id="node23" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="1497,997,1645,1024"/>
<area shape="rect" id="node24" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1499,795,1644,821"/>
<area shape="rect" id="node26" href="summary_8c.html#a0c3c0f0ff4c4ae614c89a35c3a0306e2" title="jffs2_sum_clean_collected" alt="" coords="1260,339,1436,365"/>
<area shape="rect" id="node30" href="inode_8c.html#afeec9db8a05732a90bb418fb4f08112a" title="ilookup" alt="" coords="1317,389,1379,416"/>
<area shape="rect" id="node31" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1550,389,1593,416"/>
<area shape="rect" id="node32" href="nodelist_8c.html#a885b269cad17a1c5af0cd9e199526fb0" title="jffs2_get_ino_cache" alt="" coords="1279,491,1417,517"/>
<area shape="rect" id="node33" href="fs_8c.html#afa94c42873099722791acea5f100b4d5" title="jffs2_iget" alt="" coords="1311,541,1385,568"/>
<area shape="rect" id="node34" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1299,592,1397,619"/>
<area shape="rect" id="node36" href="nodelist_8c.html#ac66b85114c803740998555e26a7300cd" title="jffs2_lookup_node_frag" alt="" coords="1270,643,1426,669"/>
<area shape="rect" id="node41" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="833,1013,951,1040"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a700969dba04526abe954249b6ef31b49" title="jffs2_dirty_trigger" alt="" coords="831,293,953,320"/>
<area shape="rect" id="node46" href="wbuf_8c.html#af483873e059b79c053c859accbdb0122" title="jffs2_wbuf_pending\l_for_ino" alt="" coords="825,395,959,437"/>
<area shape="rect" id="node45" href="xfs__linux_8h.html#ad8bf89cf792601420f318df5659db045" title="delay" alt="" coords="1091,107,1144,133"/>
<area shape="rect" id="node50" href="malloc_8c.html#a3051762b89b1a402dc582639f7b6fd67" title="jffs2_free_inode_cache" alt="" coords="427,1165,583,1192"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_aab1dbc249468da59bf44c4be91f26d24_icgraph.png" border="0" usemap="#nodemgmt_8c_aab1dbc249468da59bf44c4be91f26d24_icgraph" alt=""/></div>
<map name="nodemgmt_8c_aab1dbc249468da59bf44c4be91f26d24_icgraph" id="nodemgmt_8c_aab1dbc249468da59bf44c4be91f26d24_icgraph">
<area shape="rect" id="node2" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="665,135,851,162"/>
<area shape="rect" id="node4" href="jffs2_2xattr_8c.html#a272e1e9cdc538d765b111b254b242d3f" title="jffs2_garbage_collect\l_xattr_datum" alt="" coords="228,232,373,273"/>
<area shape="rect" id="node6" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="685,186,831,228"/>
<area shape="rect" id="node7" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1119,331,1299,358"/>
<area shape="rect" id="node13" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1559,1080,1679,1107"/>
<area shape="rect" id="node14" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="1540,722,1699,748"/>
<area shape="rect" id="node17" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1565,1143,1674,1170"/>
<area shape="rect" id="node22" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1563,1530,1675,1556"/>
<area shape="rect" id="node27" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="685,354,831,396"/>
<area shape="rect" id="node29" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="685,485,831,526"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="685,602,831,644"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="431,551,607,578"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="685,420,831,461"/>
<area shape="rect" id="node33" href="build_8c.html#a68ddb18b339df3c0aa72d3a2a5ff21c7" title="jffs2_build_inode_pass1" alt="" coords="677,84,839,111"/>
<area shape="rect" id="node34" href="build_8c.html#ab6107e7c69f543beacf8163f0310ef00" title="jffs2_build_remove\l_unlinked_inode" alt="" coords="693,18,823,60"/>
<area shape="rect" id="node35" href="nodelist_8h.html#a9ae6682ac15f6ea4e4660f757b4cca98" title="jffs2_add_fd_to_list" alt="" coords="233,998,368,1024"/>
<area shape="rect" id="node37" href="readinode_8c.html#a8c8ae422e256e59dd7a91f7a6856ae32" title="read_direntry" alt="" coords="471,1276,568,1303"/>
<area shape="rect" id="node38" href="readinode_8c.html#a24a383dbe77df2f030ebfc5107143aac" title="jffs2_get_inode_nodes" alt="" coords="682,1352,834,1379"/>
<area shape="rect" id="node41" href="nodelist_8c.html#a9a5b07b1c29cb1596417b65bac3e5135" title="jffs2_obsolete_node_frag" alt="" coords="901,1580,1068,1607"/>
<area shape="rect" id="node43" href="nodelist_8h.html#aa38c2c5f7e42b03b493360c211144a59" title="jffs2_kill_fragtree" alt="" coords="240,1631,361,1658"/>
<area shape="rect" id="node44" href="readinode_8c.html#ab05649abf8bb43a331824807b8183fe4" title="jffs2_do_clear_inode" alt="" coords="449,1656,590,1683"/>
<area shape="rect" id="node45" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="1129,770,1289,796"/>
<area shape="rect" id="node46" href="readinode_8c.html#aaf23764b8e85119911fed3ef9f149f47" title="check_tn_node" alt="" coords="245,1783,356,1810"/>
<area shape="rect" id="node47" href="readinode_8c.html#a84038f1cb6c901c17b9e2a4bd6df5f51" title="jffs2_build_inode_fragtree" alt="" coords="434,1783,605,1810"/>
<area shape="rect" id="node48" href="readinode_8c.html#a2de80000834bfed77c64232d52827932" title="jffs2_kill_tn" alt="" coords="257,1834,345,1860"/>
<area shape="rect" id="node49" href="readinode_8c.html#aa8734b4b0bb233aa0c00066d0dd6686d" title="read_dnode" alt="" coords="256,1327,345,1354"/>
<area shape="rect" id="node50" href="readinode_8c.html#a177005bb10b29112659107de6fe16529" title="read_unknown" alt="" coords="247,1378,354,1404"/>
<area shape="rect" id="node3" href="build_8c.html#a6a125309aed46b9b1e8a7ac2e0ea9fc4" title="jffs2_build_filesystem" alt="" coords="911,84,1059,111"/>
<area shape="rect" id="node5" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="458,194,581,220"/>
<area shape="rect" id="node8" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="1347,294,1492,336"/>
<area shape="rect" id="node9" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="1350,871,1489,898"/>
<area shape="rect" id="node26" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="1350,360,1489,387"/>
<area shape="rect" id="node10" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1570,775,1669,802"/>
<area shape="rect" id="node11" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1576,832,1663,859"/>
<area shape="rect" id="node12" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1573,895,1666,922"/>
<area shape="rect" id="node16" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1564,971,1675,998"/>
<area shape="rect" id="node21" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1572,1023,1667,1050"/>
<area shape="rect" id="node15" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1750,722,1861,748"/>
<area shape="rect" id="node18" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1761,1171,1849,1198"/>
<area shape="rect" id="node19" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1764,1120,1847,1147"/>
<area shape="rect" id="node20" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1757,1044,1854,1071"/>
<area shape="rect" id="node23" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1757,1530,1853,1556"/>
<area shape="rect" id="node24" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1760,1580,1851,1607"/>
<area shape="rect" id="node25" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1747,1479,1864,1506"/>
<area shape="rect" id="node28" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="899,492,1071,519"/>
<area shape="rect" id="node36" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="447,653,592,694"/>
<area shape="rect" id="node39" href="jffs2_2scan_8c.html#adaab2bca700a2dcb3e16ac66d14189c3" title="jffs2_scan_dirent_node" alt="" coords="441,1074,597,1100"/>
<area shape="rect" id="node40" href="summary_8c.html#a451f4c6e0978f4e3ba755ea1b69150e4" title="jffs2_sum_process_sum_data" alt="" coords="421,1124,617,1151"/>
<area shape="rect" id="node42" href="nodelist_8h.html#af50cc914cd3e7e95ec10f2e0e42c4f5d" title="jffs2_truncate_fragtree" alt="" coords="1133,1580,1285,1607"/>
</map>
</div>

</div>
</div>
<a id="a236a605141cf07e742deb629e594c231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a236a605141cf07e742deb629e594c231">&#9670;&nbsp;</a></span>jffs2_reserve_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int jffs2_reserve_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>minsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sumsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_a236a605141cf07e742deb629e594c231_cgraph.png" border="0" usemap="#nodemgmt_8c_a236a605141cf07e742deb629e594c231_cgraph" alt=""/></div>
<map name="nodemgmt_8c_a236a605141cf07e742deb629e594c231_cgraph" id="nodemgmt_8c_a236a605141cf07e742deb629e594c231_cgraph">
<area shape="rect" id="node2" href="nodemgmt_8c.html#a93590050124d41bd4fa4bed78a795727" title="jffs2_rp_can_write" alt="" coords="218,169,346,196"/>
<area shape="rect" id="node3" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="1465,220,1625,247"/>
<area shape="rect" id="node6" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="2327,187,2453,229"/>
<area shape="rect" id="node25" href="jffs2_2gc_8c.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="192,701,372,728"/>
<area shape="rect" id="node4" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="1685,93,1836,120"/>
<area shape="rect" id="node5" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="2095,195,2269,221"/>
<area shape="rect" id="node8" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="1687,43,1835,69"/>
<area shape="rect" id="node9" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1899,549,2044,576"/>
<area shape="rect" id="node10" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="2325,347,2455,373"/>
<area shape="rect" id="node11" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1691,397,1830,424"/>
<area shape="rect" id="node17" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="1673,1095,1848,1121"/>
<area shape="rect" id="node7" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="2511,195,2645,221"/>
<area shape="rect" id="node12" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="2317,643,2463,685"/>
<area shape="rect" id="node13" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="1902,390,2041,431"/>
<area shape="rect" id="node14" href="erase_8c.html#a1db399aadc969ebbe1c70110c3638d8e" title="jffs2_mark_erased_block" alt="" coords="2099,347,2265,373"/>
<area shape="rect" id="node15" href="erase_8c.html#af98513341cc0f6d3e614bd6f90b6a6c6" title="jffs2_free_jeb_node_refs" alt="" coords="2100,397,2264,424"/>
<area shape="rect" id="node16" href="erase_8c.html#a613b5f4d3ca2d5a5e7fc833d0213f7d4" title="jffs2_erase_block" alt="" coords="2120,448,2244,475"/>
<area shape="rect" id="node18" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="1941,1095,2001,1121"/>
<area shape="rect" id="node19" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="1914,943,2029,969"/>
<area shape="rect" id="node20" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="1913,872,2030,899"/>
<area shape="rect" id="node21" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1905,1313,2037,1340"/>
<area shape="rect" id="node22" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="1907,1146,2036,1187"/>
<area shape="rect" id="node23" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="1896,1044,2047,1071"/>
<area shape="rect" id="node24" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="1903,1263,2040,1289"/>
<area shape="rect" id="node26" href="jffs2_2xattr_8c.html#af7868cdb1dd184658db16456d9d6cfce" title="jffs2_verify_xattr" alt="" coords="1077,1107,1196,1133"/>
<area shape="rect" id="node28" href="jffs2_2xattr_8c.html#aabf6f8e6170d726e46a9335848bd6fe0" title="jffs2_xattr_delete\l_inode" alt="" coords="869,1529,991,1570"/>
<area shape="rect" id="node30" href="nodelist_8h.html#a4ba8f21c8334530785bd2f80411350a1" title="jffs2_do_crccheck_inode" alt="" coords="420,1419,587,1445"/>
<area shape="rect" id="node32" href="nodelist_8c.html#a45b7f5712095ed9610c3d96defb7698c" title="jffs2_set_inocache\l_state" alt="" coords="865,1361,995,1402"/>
<area shape="rect" id="node34" href="nodelist_8h.html#aa59be8dba14178ed5519bf8f5989e53d" title="jffs2_mark_node_obsolete" alt="" coords="1673,1208,1848,1235"/>
<area shape="rect" id="node36" href="jffs2_2gc_8c.html#add3ead015f12f363968893635fd3bf57" title="jffs2_find_gc_block" alt="" coords="1270,448,1405,475"/>
<area shape="rect" id="node37" href="nodelist_8h.html#a2235e2eece61b1bd0e54ee9cf914825e" title="ref_next" alt="" coords="469,321,538,348"/>
<area shape="rect" id="node38" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="1064,698,1209,739"/>
<area shape="rect" id="node41" href="jffs2_2xattr_8c.html#a272e1e9cdc538d765b111b254b242d3f" title="jffs2_garbage_collect\l_xattr_datum" alt="" coords="1064,906,1209,947"/>
<area shape="rect" id="node44" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="431,881,576,922"/>
<area shape="rect" id="node47" href="fs_8c.html#a235ffdcdadf6de64a4d731be29aa900e" title="jffs2_gc_fetch_inode" alt="" coords="432,271,575,297"/>
<area shape="rect" id="node49" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="844,549,1016,576"/>
<area shape="rect" id="node50" href="fs_8c.html#aac28f239d557feaf73f8bb5495a41597" title="jffs2_gc_release_inode" alt="" coords="426,651,581,677"/>
<area shape="rect" id="node27" href="jffs2_2xattr_8c.html#a8f09cd34049d7da8d2fb9f3dfc585fcc" title="do_verify_xattr_datum" alt="" coords="1470,955,1621,981"/>
<area shape="rect" id="node29" href="jffs2_2xattr_8c.html#a4c0a4b784946cfc241019a9430ca5a8d" title="delete_xattr_ref" alt="" coords="1081,1536,1193,1563"/>
<area shape="rect" id="node31" href="readinode_8c.html#ac20960874d4b13a6ae7563fb287ab713" title="jffs2_do_read_inode\l_internal" alt="" coords="646,1298,785,1339"/>
<area shape="rect" id="node33" href="readinode_8c.html#ab05649abf8bb43a331824807b8183fe4" title="jffs2_do_clear_inode" alt="" coords="645,1481,786,1508"/>
<area shape="rect" id="node35" href="jffs2_2xattr_8c.html#adc5e61db67d7c4af0ae1a82e5819140d" title="jffs2_xattr_do_crccheck\l_inode" alt="" coords="635,1415,796,1457"/>
<area shape="rect" id="node39" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="1257,549,1417,576"/>
<area shape="rect" id="node40" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="1480,601,1611,642"/>
<area shape="rect" id="node42" href="jffs2_2xattr_8c.html#a7aca3711ddc0d33c0017902208998bbc" title="load_xattr_datum" alt="" coords="1276,955,1399,981"/>
<area shape="rect" id="node43" href="jffs2_2xattr_8c.html#a29254b6ab7d132032d9d132d0a5db361" title="save_xattr_datum" alt="" coords="1274,904,1401,931"/>
<area shape="rect" id="node45" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="869,916,991,943"/>
<area shape="rect" id="node46" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="663,853,768,880"/>
<area shape="rect" id="node48" href="inode_8c.html#afeec9db8a05732a90bb418fb4f08112a" title="ilookup" alt="" coords="684,271,747,297"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_a236a605141cf07e742deb629e594c231_icgraph.png" border="0" usemap="#nodemgmt_8c_a236a605141cf07e742deb629e594c231_icgraph" alt=""/></div>
<map name="nodemgmt_8c_a236a605141cf07e742deb629e594c231_icgraph" id="nodemgmt_8c_a236a605141cf07e742deb629e594c231_icgraph">
<area shape="rect" id="node2" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="193,177,312,204"/>
<area shape="rect" id="node6" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="827,537,926,564"/>
<area shape="rect" id="node7" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="833,689,920,716"/>
<area shape="rect" id="node8" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="830,790,923,817"/>
<area shape="rect" id="node9" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="821,436,932,462"/>
<area shape="rect" id="node31" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="588,993,708,1020"/>
<area shape="rect" id="node32" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="375,1110,499,1137"/>
<area shape="rect" id="node33" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="569,1446,727,1473"/>
<area shape="rect" id="node39" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="592,1497,704,1524"/>
<area shape="rect" id="node42" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="192,942,313,969"/>
<area shape="rect" id="node43" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="382,1548,491,1574"/>
<area shape="rect" id="node47" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="389,1624,484,1650"/>
<area shape="rect" id="node3" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="381,588,492,614"/>
<area shape="rect" id="node11" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="375,228,498,254"/>
<area shape="rect" id="node26" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="385,329,489,356"/>
<area shape="rect" id="node28" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="361,76,512,102"/>
<area shape="rect" id="node29" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="364,126,509,153"/>
<area shape="rect" id="node30" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="371,177,502,204"/>
<area shape="rect" id="node4" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="829,1497,925,1524"/>
<area shape="rect" id="node5" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="585,588,711,614"/>
<area shape="rect" id="node10" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1062,436,1153,462"/>
<area shape="rect" id="node12" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="595,108,701,134"/>
<area shape="rect" id="node14" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="804,214,949,255"/>
<area shape="rect" id="node23" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="784,160,969,186"/>
<area shape="rect" id="node13" href="jffs2_2xattr_8c.html#a136b282d575490253eae1eb27b29cac3" title="create_xattr_ref" alt="" coords="820,108,933,134"/>
<area shape="rect" id="node15" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1017,857,1197,884"/>
<area shape="rect" id="node16" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="1245,631,1391,672"/>
<area shape="rect" id="node20" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="1249,857,1387,884"/>
<area shape="rect" id="node17" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="1441,587,1574,628"/>
<area shape="rect" id="node18" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="1624,565,1751,592"/>
<area shape="rect" id="node19" href="jffs2_2super_8c.html#ac626c42b039c451fa8759a92155a1773" title="jffs2_fill_super" alt="" coords="1799,565,1905,592"/>
<area shape="rect" id="node21" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="1464,882,1551,909"/>
<area shape="rect" id="node22" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="1439,832,1576,858"/>
<area shape="rect" id="node24" href="build_8c.html#a6a125309aed46b9b1e8a7ac2e0ea9fc4" title="jffs2_build_filesystem" alt="" coords="1033,272,1181,298"/>
<area shape="rect" id="node25" href="nodelist_8h.html#ace445086ae828460cfec2eafe668b0bc" title="jffs2_do_mount_fs" alt="" coords="1253,490,1383,517"/>
<area shape="rect" id="node27" href="jffs2_2security_8c.html#a886dd8cfb3c01352a5f4e6411c5fb4eb" title="jffs2_init_security" alt="" coords="586,486,710,513"/>
<area shape="rect" id="node35" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="575,1212,721,1254"/>
<area shape="rect" id="node37" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="560,1278,736,1305"/>
<area shape="rect" id="node38" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="575,1330,721,1371"/>
<area shape="rect" id="node34" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="821,1446,932,1473"/>
<area shape="rect" id="node36" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="791,1190,963,1217"/>
<area shape="rect" id="node40" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="831,1598,922,1625"/>
<area shape="rect" id="node41" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="818,1548,935,1574"/>
<area shape="rect" id="node49" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="364,1044,509,1086"/>
<area shape="rect" id="node44" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="604,1548,692,1574"/>
<area shape="rect" id="node45" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="607,1598,689,1625"/>
<area shape="rect" id="node46" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="599,1649,697,1676"/>
<area shape="rect" id="node48" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="611,1700,685,1726"/>
<area shape="rect" id="node50" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="575,1044,721,1086"/>
</map>
</div>

</div>
</div>
<a id="a1bf9f16ceefe74441ab32eb80620fc99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bf9f16ceefe74441ab32eb80620fc99">&#9670;&nbsp;</a></span>jffs2_reserve_space_gc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int jffs2_reserve_space_gc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>minsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sumsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_a1bf9f16ceefe74441ab32eb80620fc99_cgraph.png" border="0" usemap="#nodemgmt_8c_a1bf9f16ceefe74441ab32eb80620fc99_cgraph" alt=""/></div>
<map name="nodemgmt_8c_a1bf9f16ceefe74441ab32eb80620fc99_cgraph" id="nodemgmt_8c_a1bf9f16ceefe74441ab32eb80620fc99_cgraph">
<area shape="rect" id="node2" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="213,220,373,247"/>
<area shape="rect" id="node5" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1727,263,1854,305"/>
<area shape="rect" id="node3" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="433,93,584,120"/>
<area shape="rect" id="node4" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="421,195,596,221"/>
<area shape="rect" id="node19" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1725,499,1856,525"/>
<area shape="rect" id="node23" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1718,1009,1863,1036"/>
<area shape="rect" id="node33" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="435,296,583,323"/>
<area shape="rect" id="node34" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1047,1224,1185,1251"/>
<area shape="rect" id="node42" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="421,1216,596,1243"/>
<area shape="rect" id="node7" href="summary_8c.html#a4f3ceb1b008b22953acabc4cb961ff2d" title="jffs2_sum_write_data" alt="" coords="646,524,793,551"/>
<area shape="rect" id="node6" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="1955,271,2090,297"/>
<area shape="rect" id="node8" href="summary_8c.html#a1ae8b6439603985143220ee61a455e12" title="jffs2_sum_disable_collecting" alt="" coords="1456,600,1645,627"/>
<area shape="rect" id="node10" href="summary_8c.html#a1b17c64496052faeedc5f0f9f50f55d6" title="jffs2_sum_reset_collected" alt="" coords="1233,971,1408,997"/>
<area shape="rect" id="node11" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="859,1021,983,1048"/>
<area shape="rect" id="node9" href="summary_8c.html#a0c3c0f0ff4c4ae614c89a35c3a0306e2" title="jffs2_sum_clean_collected" alt="" coords="1703,933,1879,960"/>
<area shape="rect" id="node12" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="1730,1513,1851,1554"/>
<area shape="rect" id="node13" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="1951,1461,2094,1488"/>
<area shape="rect" id="node14" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="1051,711,1181,737"/>
<area shape="rect" id="node16" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="1491,448,1611,475"/>
<area shape="rect" id="node30" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1089,1021,1143,1048"/>
<area shape="rect" id="node31" href="wbuf_8c.html#a00e162aa145deb5ee72e3d61701b435f" title="jffs2_fill_wbuf" alt="" coords="1065,1072,1167,1099"/>
<area shape="rect" id="node32" href="wbuf_8c.html#ac4dc7d63264c0d63f4ffb343837278a4" title="jffs2_wbuf_dirties\l_inode" alt="" coords="1054,638,1178,679"/>
<area shape="rect" id="node15" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="1255,711,1387,737"/>
<area shape="rect" id="node28" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="1239,1173,1402,1200"/>
<area shape="rect" id="node29" href="wbuf_8c.html#a8b238a278724d3dd8e27a1f4f2718fb4" title="jffs2_clear_wbuf_ino_list" alt="" coords="1238,575,1403,601"/>
<area shape="rect" id="node17" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1718,1213,1863,1254"/>
<area shape="rect" id="node20" href="nodelist_8h.html#a2235e2eece61b1bd0e54ee9cf914825e" title="ref_next" alt="" coords="1516,717,1585,744"/>
<area shape="rect" id="node21" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="1471,195,1631,221"/>
<area shape="rect" id="node22" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="1485,651,1616,693"/>
<area shape="rect" id="node24" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1485,1072,1617,1099"/>
<area shape="rect" id="node25" href="fs_8c.html#a235ffdcdadf6de64a4d731be29aa900e" title="jffs2_gc_fetch_inode" alt="" coords="1479,819,1622,845"/>
<area shape="rect" id="node26" href="wbuf_8c.html#a32711faa7943b0a25cf7128ca65c29d6" title="jffs2_incore_replace_raw" alt="" coords="1467,869,1634,896"/>
<area shape="rect" id="node27" href="fs_8c.html#aac28f239d557feaf73f8bb5495a41597" title="jffs2_gc_release_inode" alt="" coords="1473,768,1628,795"/>
<area shape="rect" id="node18" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="1936,1220,2109,1247"/>
<area shape="rect" id="node35" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="1251,1550,1390,1591"/>
<area shape="rect" id="node36" href="erase_8c.html#a1db399aadc969ebbe1c70110c3638d8e" title="jffs2_mark_erased_block" alt="" coords="1467,1579,1634,1605"/>
<area shape="rect" id="node40" href="erase_8c.html#af98513341cc0f6d3e614bd6f90b6a6c6" title="jffs2_free_jeb_node_refs" alt="" coords="1469,1528,1633,1555"/>
<area shape="rect" id="node41" href="erase_8c.html#a613b5f4d3ca2d5a5e7fc833d0213f7d4" title="jffs2_erase_block" alt="" coords="1489,1655,1613,1681"/>
<area shape="rect" id="node37" href="erase_8c.html#a39b56d64ae53cadab12abe42ff18045a" title="jffs2_block_check_erase" alt="" coords="1707,1579,1874,1605"/>
<area shape="rect" id="node38" href="wbuf_8c.html#a3b7d15e51926e8610ee383986d3ab814" title="jffs2_write_nand_cleanmarker" alt="" coords="1693,1629,1888,1656"/>
<area shape="rect" id="node39" href="erase_8c.html#a0d39b7165f8f3e8cd8ead4f8be2ebbcd" title="jffs2_erase_failed" alt="" coords="1729,1680,1853,1707"/>
<area shape="rect" id="node43" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="689,1107,749,1133"/>
<area shape="rect" id="node44" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="662,1157,777,1184"/>
<area shape="rect" id="node45" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="661,1325,778,1352"/>
<area shape="rect" id="node47" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="655,1209,784,1250"/>
<area shape="rect" id="node48" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="644,1275,795,1301"/>
<area shape="rect" id="node49" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="651,1376,788,1403"/>
<area shape="rect" id="node46" href="os-linux_8h.html#ab7126efec4b6a0055f5a511cfab76875" title="jffs2_flash_direct\l_write" alt="" coords="860,1478,981,1519"/>
<area shape="rect" id="node50" href="malloc_8c.html#a3051762b89b1a402dc582639f7b6fd67" title="jffs2_free_inode_cache" alt="" coords="843,1376,999,1403"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_a1bf9f16ceefe74441ab32eb80620fc99_icgraph.png" border="0" usemap="#nodemgmt_8c_a1bf9f16ceefe74441ab32eb80620fc99_icgraph" alt=""/></div>
<map name="nodemgmt_8c_a1bf9f16ceefe74441ab32eb80620fc99_icgraph" id="nodemgmt_8c_a1bf9f16ceefe74441ab32eb80620fc99_icgraph">
<area shape="rect" id="node2" href="jffs2_2xattr_8c.html#a272e1e9cdc538d765b111b254b242d3f" title="jffs2_garbage_collect\l_xattr_datum" alt="" coords="213,637,359,679"/>
<area shape="rect" id="node7" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="820,636,965,677"/>
<area shape="rect" id="node16" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="1443,550,1567,577"/>
<area shape="rect" id="node21" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="1637,987,1782,1028"/>
<area shape="rect" id="node23" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="1621,870,1797,897"/>
<area shape="rect" id="node24" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="1637,921,1782,963"/>
<area shape="rect" id="node29" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="1444,246,1565,273"/>
<area shape="rect" id="node36" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="1637,108,1782,149"/>
<area shape="rect" id="node43" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="820,313,965,355"/>
<area shape="rect" id="node44" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="220,755,352,782"/>
<area shape="rect" id="node3" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="411,645,533,671"/>
<area shape="rect" id="node8" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1015,757,1195,783"/>
<area shape="rect" id="node4" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="625,531,731,558"/>
<area shape="rect" id="node41" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="585,430,771,457"/>
<area shape="rect" id="node5" href="jffs2_2xattr_8c.html#a136b282d575490253eae1eb27b29cac3" title="create_xattr_ref" alt="" coords="1048,531,1161,558"/>
<area shape="rect" id="node6" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="1445,702,1564,729"/>
<area shape="rect" id="node9" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="1243,753,1388,795"/>
<area shape="rect" id="node11" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="1246,398,1385,425"/>
<area shape="rect" id="node38" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="1246,913,1385,939"/>
<area shape="rect" id="node10" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="1438,753,1571,795"/>
<area shape="rect" id="node12" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1660,347,1759,374"/>
<area shape="rect" id="node13" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1666,398,1753,425"/>
<area shape="rect" id="node14" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1663,449,1756,475"/>
<area shape="rect" id="node15" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1649,499,1769,526"/>
<area shape="rect" id="node17" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="1630,550,1789,577"/>
<area shape="rect" id="node19" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1654,297,1765,323"/>
<area shape="rect" id="node25" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1653,651,1765,678"/>
<area shape="rect" id="node30" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1655,195,1764,222"/>
<area shape="rect" id="node34" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1662,246,1757,273"/>
<area shape="rect" id="node18" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1863,550,1973,577"/>
<area shape="rect" id="node20" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1873,383,1963,410"/>
<area shape="rect" id="node22" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="2039,819,2211,846"/>
<area shape="rect" id="node26" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1870,651,1966,678"/>
<area shape="rect" id="node27" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1873,702,1963,729"/>
<area shape="rect" id="node28" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1859,601,1977,627"/>
<area shape="rect" id="node31" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1874,181,1962,207"/>
<area shape="rect" id="node32" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1877,231,1959,258"/>
<area shape="rect" id="node33" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1869,282,1967,309"/>
<area shape="rect" id="node35" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="1881,333,1955,359"/>
<area shape="rect" id="node37" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="1845,64,1991,105"/>
<area shape="rect" id="node39" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="1461,938,1548,965"/>
<area shape="rect" id="node40" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="1436,887,1573,914"/>
<area shape="rect" id="node42" href="build_8c.html#a6a125309aed46b9b1e8a7ac2e0ea9fc4" title="jffs2_build_filesystem" alt="" coords="819,430,967,457"/>
<area shape="rect" id="node45" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="407,831,537,858"/>
<area shape="rect" id="node46" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="605,843,751,870"/>
<area shape="rect" id="node50" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="1253,347,1377,374"/>
<area shape="rect" id="node47" href="jffs2_2super_8c.html#ad8e987b8f99c2696088cff18e0f76449" title="jffs2_sync_fs" alt="" coords="843,854,943,881"/>
<area shape="rect" id="node48" href="jffs2_2super_8c.html#af7cc277df4ea63ebd75eb7c6bf7e50c0" title="jffs2_put_super" alt="" coords="837,905,948,931"/>
<area shape="rect" id="node49" href="jffs2_2gc_8c.html#add3ead015f12f363968893635fd3bf57" title="jffs2_find_gc_block" alt="" coords="825,803,960,830"/>
</map>
</div>

</div>
</div>
<a id="a93590050124d41bd4fa4bed78a795727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93590050124d41bd4fa4bed78a795727">&#9670;&nbsp;</a></span>jffs2_rp_can_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jffs2_rp_can_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_a93590050124d41bd4fa4bed78a795727_cgraph.png" border="0" usemap="#nodemgmt_8c_a93590050124d41bd4fa4bed78a795727_cgraph" alt=""/></div>
<map name="nodemgmt_8c_a93590050124d41bd4fa4bed78a795727_cgraph" id="nodemgmt_8c_a93590050124d41bd4fa4bed78a795727_cgraph">
<area shape="rect" id="node2" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="181,832,341,859"/>
<area shape="rect" id="node3" href="summary_8c.html#aa842957827c77c84e69e3173ba7ab398" title="jffs2_sum_is_disabled" alt="" coords="401,5,552,32"/>
<area shape="rect" id="node4" href="summary_8c.html#a7ed61f3be4a7da3c800617ec442ba1d9" title="jffs2_sum_write_sumnode" alt="" coords="389,335,564,361"/>
<area shape="rect" id="node5" href="malloc_8c.html#a16c30fccbd14cc9b0b1445024fac9d51" title="jffs2_prealloc_raw\l_node_refs" alt="" coords="1695,201,1822,242"/>
<area shape="rect" id="node19" href="nodelist_8c.html#ae2d47d02616e1d68fcc8aee61cd466b1" title="jffs2_link_node_ref" alt="" coords="1693,563,1824,589"/>
<area shape="rect" id="node23" href="wbuf_8c.html#a6463cbd755f2e7b817e90649b7ba4d09" title="jffs2_flush_wbuf_pad" alt="" coords="1686,1035,1831,1061"/>
<area shape="rect" id="node33" href="nodemgmt_8c.html#ae1ccb3cdd4d86eb390cdfbc628acfb01" title="jffs2_close_nextblock" alt="" coords="403,883,551,909"/>
<area shape="rect" id="node34" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1015,1288,1153,1315"/>
<area shape="rect" id="node42" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="389,1136,564,1163"/>
<area shape="rect" id="node7" href="summary_8c.html#a4f3ceb1b008b22953acabc4cb961ff2d" title="jffs2_sum_write_data" alt="" coords="614,335,761,361"/>
<area shape="rect" id="node6" href="malloc_8c.html#ac764b09bc6dad2f43ca72d589c3b0cfd" title="jffs2_alloc_refblock" alt="" coords="1923,208,2058,235"/>
<area shape="rect" id="node8" href="summary_8c.html#a1ae8b6439603985143220ee61a455e12" title="jffs2_sum_disable_collecting" alt="" coords="1424,309,1613,336"/>
<area shape="rect" id="node10" href="summary_8c.html#a1b17c64496052faeedc5f0f9f50f55d6" title="jffs2_sum_reset_collected" alt="" coords="1201,309,1376,336"/>
<area shape="rect" id="node11" href="wbuf_8c.html#aff980c110d02f5b0b37e5de0fcbd74d4" title="jffs2_flash_writev" alt="" coords="827,883,951,909"/>
<area shape="rect" id="node9" href="summary_8c.html#a0c3c0f0ff4c4ae614c89a35c3a0306e2" title="jffs2_sum_clean_collected" alt="" coords="1671,288,1847,315"/>
<area shape="rect" id="node12" href="os-linux_8h.html#af14dcc9aec166fee95204bd713581b8f" title="jffs2_flash_direct\l_writev" alt="" coords="1698,1323,1819,1365"/>
<area shape="rect" id="node13" href="summary_8c.html#a7ae66d1fbf3df60966747e254165a48e" title="jffs2_sum_add_kvec" alt="" coords="1919,1541,2062,1568"/>
<area shape="rect" id="node14" href="wbuf_8c.html#a8b25efad954f72c0be63b2bc7350e1e0" title="__jffs2_flush_wbuf" alt="" coords="1019,664,1149,691"/>
<area shape="rect" id="node16" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="1459,512,1579,539"/>
<area shape="rect" id="node30" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1057,883,1111,909"/>
<area shape="rect" id="node31" href="wbuf_8c.html#a00e162aa145deb5ee72e3d61701b435f" title="jffs2_fill_wbuf" alt="" coords="1033,933,1135,960"/>
<area shape="rect" id="node32" href="wbuf_8c.html#ac4dc7d63264c0d63f4ffb343837278a4" title="jffs2_wbuf_dirties\l_inode" alt="" coords="1022,581,1146,622"/>
<area shape="rect" id="node15" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="1223,664,1355,691"/>
<area shape="rect" id="node28" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="1207,933,1370,960"/>
<area shape="rect" id="node29" href="wbuf_8c.html#a8b238a278724d3dd8e27a1f4f2718fb4" title="jffs2_clear_wbuf_ino_list" alt="" coords="1206,563,1371,589"/>
<area shape="rect" id="node17" href="background_8c.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="1686,1205,1831,1246"/>
<area shape="rect" id="node20" href="nodelist_8h.html#a2235e2eece61b1bd0e54ee9cf914825e" title="ref_next" alt="" coords="1484,613,1553,640"/>
<area shape="rect" id="node21" href="nodelist_8h.html#a1bf9f16ceefe74441ab32eb80620fc99" title="jffs2_reserve_space_gc" alt="" coords="1439,208,1599,235"/>
<area shape="rect" id="node22" href="nodelist_8h.html#ac76aa8eadecb6eaf3198edf1d45c6f4e" title="jffs2_add_physical\l_node_ref" alt="" coords="1453,817,1584,858"/>
<area shape="rect" id="node24" href="nodelist_8h.html#a9373a9b8e34b8f49e6b190bb61e3e761" title="jffs2_raw_ref_to_ic" alt="" coords="1453,1035,1585,1061"/>
<area shape="rect" id="node25" href="fs_8c.html#a235ffdcdadf6de64a4d731be29aa900e" title="jffs2_gc_fetch_inode" alt="" coords="1447,664,1590,691"/>
<area shape="rect" id="node26" href="wbuf_8c.html#a32711faa7943b0a25cf7128ca65c29d6" title="jffs2_incore_replace_raw" alt="" coords="1435,715,1602,741"/>
<area shape="rect" id="node27" href="fs_8c.html#aac28f239d557feaf73f8bb5495a41597" title="jffs2_gc_release_inode" alt="" coords="1441,765,1596,792"/>
<area shape="rect" id="node18" href="nodelist_8h.html#a3ff0293c12b3db05d2f57539d3d17b2e" title="jffs2_thread_should_wake" alt="" coords="1904,1212,2077,1239"/>
<area shape="rect" id="node35" href="erase_8c.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="1219,1411,1358,1453"/>
<area shape="rect" id="node36" href="erase_8c.html#a1db399aadc969ebbe1c70110c3638d8e" title="jffs2_mark_erased_block" alt="" coords="1435,1389,1602,1416"/>
<area shape="rect" id="node40" href="erase_8c.html#af98513341cc0f6d3e614bd6f90b6a6c6" title="jffs2_free_jeb_node_refs" alt="" coords="1437,1491,1601,1517"/>
<area shape="rect" id="node41" href="erase_8c.html#a613b5f4d3ca2d5a5e7fc833d0213f7d4" title="jffs2_erase_block" alt="" coords="1457,1440,1581,1467"/>
<area shape="rect" id="node37" href="erase_8c.html#a39b56d64ae53cadab12abe42ff18045a" title="jffs2_block_check_erase" alt="" coords="1675,1389,1842,1416"/>
<area shape="rect" id="node38" href="wbuf_8c.html#a3b7d15e51926e8610ee383986d3ab814" title="jffs2_write_nand_cleanmarker" alt="" coords="1661,1440,1856,1467"/>
<area shape="rect" id="node39" href="erase_8c.html#a0d39b7165f8f3e8cd8ead4f8be2ebbcd" title="jffs2_erase_failed" alt="" coords="1697,1491,1821,1517"/>
<area shape="rect" id="node43" href="nodemgmt_8c.html#ac287e87c05deeebfa225e916d55b4108" title="on_list" alt="" coords="657,1035,717,1061"/>
<area shape="rect" id="node44" href="wbuf_8c.html#aeab128069ffeb72cb296580e988d8687" title="jffs2_flash_read" alt="" coords="630,1085,745,1112"/>
<area shape="rect" id="node45" href="wbuf_8c.html#a9566552651cd1f98f3a2cc7ec34c7dd8" title="jffs2_flash_write" alt="" coords="629,1136,746,1163"/>
<area shape="rect" id="node47" href="jffs2_2xattr_8c.html#a11aa0170617064eeda6a206aa4ea4690" title="jffs2_release_xattr\l_datum" alt="" coords="623,1187,752,1229"/>
<area shape="rect" id="node48" href="jffs2_2xattr_8c.html#a08d44196e655bc06001b18971dca4fe1" title="jffs2_release_xattr_ref" alt="" coords="612,1253,763,1280"/>
<area shape="rect" id="node49" href="nodelist_8c.html#aa0176cea494d87d3c51766a37140dc18" title="jffs2_del_ino_cache" alt="" coords="619,1355,756,1381"/>
<area shape="rect" id="node46" href="os-linux_8h.html#ab7126efec4b6a0055f5a511cfab76875" title="jffs2_flash_direct\l_write" alt="" coords="828,1166,949,1207"/>
<area shape="rect" id="node50" href="malloc_8c.html#a3051762b89b1a402dc582639f7b6fd67" title="jffs2_free_inode_cache" alt="" coords="811,1355,967,1381"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_a93590050124d41bd4fa4bed78a795727_icgraph.png" border="0" usemap="#nodemgmt_8c_a93590050124d41bd4fa4bed78a795727_icgraph" alt=""/></div>
<map name="nodemgmt_8c_a93590050124d41bd4fa4bed78a795727_icgraph" id="nodemgmt_8c_a93590050124d41bd4fa4bed78a795727_icgraph">
<area shape="rect" id="node2" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="181,942,320,969"/>
<area shape="rect" id="node3" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="369,177,488,204"/>
<area shape="rect" id="node7" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1003,537,1102,564"/>
<area shape="rect" id="node8" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1009,689,1096,716"/>
<area shape="rect" id="node9" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1006,790,1099,817"/>
<area shape="rect" id="node10" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="997,436,1108,462"/>
<area shape="rect" id="node31" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="764,993,884,1020"/>
<area shape="rect" id="node32" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="551,1110,675,1137"/>
<area shape="rect" id="node33" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="745,1446,903,1473"/>
<area shape="rect" id="node39" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="768,1497,880,1524"/>
<area shape="rect" id="node42" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="368,942,489,969"/>
<area shape="rect" id="node43" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="558,1548,667,1574"/>
<area shape="rect" id="node47" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="565,1624,660,1650"/>
<area shape="rect" id="node4" href="jffs2_2acl_8c.html#ae1dc538e94707296b4b47aa9ed7c6299" title="__jffs2_set_acl" alt="" coords="557,588,668,614"/>
<area shape="rect" id="node12" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="551,228,674,254"/>
<area shape="rect" id="node26" href="jffs2_2security_8c.html#a6c7a3386e5b3ef922f51d6106ce7afe5" title="jffs2_initxattrs" alt="" coords="561,329,665,356"/>
<area shape="rect" id="node28" href="jffs2_2security_8c.html#afb3c95b3816f1033ee8968de75a473a4" title="jffs2_security_setxattr" alt="" coords="537,76,688,102"/>
<area shape="rect" id="node29" href="jffs2_2xattr__trusted_8c.html#a706dff8cd066816b7e94ef46def7cc24" title="jffs2_trusted_setxattr" alt="" coords="540,126,685,153"/>
<area shape="rect" id="node30" href="jffs2_2xattr__user_8c.html#a6b4698df5e805ba02f964fa1611b5adb" title="jffs2_user_setxattr" alt="" coords="547,177,678,204"/>
<area shape="rect" id="node5" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1005,1497,1101,1524"/>
<area shape="rect" id="node6" href="jffs2_2acl_8c.html#a3d1084a343838e7b01379b7ea0a7eaaf" title="jffs2_init_acl_post" alt="" coords="761,588,887,614"/>
<area shape="rect" id="node11" href="jffs2_2dir_8c.html#aa6556ce09c5fd4b400010b6ed347d884" title="jffs2_create" alt="" coords="1238,436,1329,462"/>
<area shape="rect" id="node13" href="jffs2_2xattr_8c.html#a74db22551114115376a423e1d9450582" title="save_xattr_ref" alt="" coords="771,108,877,134"/>
<area shape="rect" id="node15" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="980,214,1125,255"/>
<area shape="rect" id="node23" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="960,160,1145,186"/>
<area shape="rect" id="node14" href="jffs2_2xattr_8c.html#a136b282d575490253eae1eb27b29cac3" title="create_xattr_ref" alt="" coords="996,108,1109,134"/>
<area shape="rect" id="node16" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1193,857,1373,884"/>
<area shape="rect" id="node17" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="1421,631,1567,672"/>
<area shape="rect" id="node20" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="1425,857,1563,884"/>
<area shape="rect" id="node18" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="1617,587,1750,628"/>
<area shape="rect" id="node19" href="os-linux_8h.html#a0e271945f00995017090113d6804a430" title="jffs2_do_fill_super" alt="" coords="1800,565,1927,592"/>
<area shape="rect" id="node21" href="os-linux_8h.html#a1ead07f232438f705b55bf8eca4447d1" title="jffs2_fsync" alt="" coords="1640,882,1727,909"/>
<area shape="rect" id="node22" href="wbuf_8c.html#ae2c75fab15e6288207774a6a5f959896" title="delayed_wbuf_sync" alt="" coords="1615,832,1752,858"/>
<area shape="rect" id="node24" href="build_8c.html#a6a125309aed46b9b1e8a7ac2e0ea9fc4" title="jffs2_build_filesystem" alt="" coords="1209,272,1357,298"/>
<area shape="rect" id="node25" href="nodelist_8h.html#ace445086ae828460cfec2eafe668b0bc" title="jffs2_do_mount_fs" alt="" coords="1429,490,1559,517"/>
<area shape="rect" id="node27" href="jffs2_2security_8c.html#a886dd8cfb3c01352a5f4e6411c5fb4eb" title="jffs2_init_security" alt="" coords="762,486,886,513"/>
<area shape="rect" id="node35" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="751,1212,897,1254"/>
<area shape="rect" id="node37" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="736,1278,912,1305"/>
<area shape="rect" id="node38" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="751,1330,897,1371"/>
<area shape="rect" id="node34" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="997,1446,1108,1473"/>
<area shape="rect" id="node36" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="967,1190,1139,1217"/>
<area shape="rect" id="node40" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1007,1598,1098,1625"/>
<area shape="rect" id="node41" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="994,1548,1111,1574"/>
<area shape="rect" id="node49" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="540,1044,685,1086"/>
<area shape="rect" id="node44" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="780,1548,868,1574"/>
<area shape="rect" id="node45" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="783,1598,865,1625"/>
<area shape="rect" id="node46" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="775,1649,873,1676"/>
<area shape="rect" id="node48" href="jffs2_2dir_8c.html#aa29930e41c9f12368183c622f9cadb5d" title="jffs2_link" alt="" coords="787,1700,861,1726"/>
<area shape="rect" id="node50" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="751,1044,897,1086"/>
</map>
</div>

</div>
</div>
<a id="a3ff0293c12b3db05d2f57539d3d17b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ff0293c12b3db05d2f57539d3d17b2e">&#9670;&nbsp;</a></span>jffs2_thread_should_wake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int jffs2_thread_should_wake </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structjffs2__sb__info.html">jffs2_sb_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_a3ff0293c12b3db05d2f57539d3d17b2e_icgraph.png" border="0" usemap="#nodemgmt_8c_a3ff0293c12b3db05d2f57539d3d17b2e_icgraph" alt=""/></div>
<map name="nodemgmt_8c_a3ff0293c12b3db05d2f57539d3d17b2e_icgraph" id="nodemgmt_8c_a3ff0293c12b3db05d2f57539d3d17b2e_icgraph">
<area shape="rect" id="node2" href="os-linux_8h.html#a80e9300edcaf3596b55458255e94fea3" title="jffs2_garbage_collect\l_trigger" alt="" coords="227,530,372,571"/>
<area shape="rect" id="node4" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="1546,285,1691,326"/>
<area shape="rect" id="node3" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1301,860,1481,887"/>
<area shape="rect" id="node23" href="erase_8c.html#afd6713ef449136ad90348202817be799" title="jffs2_erase_succeeded" alt="" coords="423,588,579,615"/>
<area shape="rect" id="node26" href="nodemgmt_8c.html#aa50551eba4b1d5df59d026a45a5c6442" title="jffs2_find_nextblock" alt="" coords="1091,487,1230,513"/>
<area shape="rect" id="node28" href="erase_8c.html#a1db399aadc969ebbe1c70110c3638d8e" title="jffs2_mark_erased_block" alt="" coords="631,537,797,564"/>
<area shape="rect" id="node29" href="nodemgmt_8c.html#aed5ba921167387d2affbb30ed386fe8c" title="jffs2_complete_reservation" alt="" coords="1529,503,1708,529"/>
<area shape="rect" id="node30" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="845,1336,1020,1363"/>
<area shape="rect" id="node47" href="jffs2_2scan_8c.html#a90e32d21fe1b8891d0c91c6f421ef1dd" title="jffs2_scan_medium" alt="" coords="434,385,569,412"/>
<area shape="rect" id="node48" href="wbuf_8c.html#afde9ff6c55fc249d3d59b78470dfec75" title="jffs2_refile_wbuf_blocks" alt="" coords="420,436,583,463"/>
<area shape="rect" id="node49" href="wbuf_8c.html#acd12489ea434ebc4eed21e3449f33ad5" title="jffs2_block_refile" alt="" coords="441,791,561,817"/>
<area shape="rect" id="node50" href="wbuf_8c.html#a24eedabec011a936c434f7f50c86b66f" title="jffs2_wbuf_recover" alt="" coords="648,765,780,792"/>
<area shape="rect" id="node6" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="1549,807,1688,833"/>
<area shape="rect" id="node22" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="1549,860,1688,887"/>
<area shape="rect" id="node5" href="os-linux_8h.html#a74da685e9bd65fae042e6e1674ee3955" title="jffs2_start_garbage\l_collect_thread" alt="" coords="1757,285,1890,326"/>
<area shape="rect" id="node7" href="jffs2_2xattr_8c.html#a331d394b41d891bf0c522e2faeff6734" title="do_jffs2_setxattr" alt="" coords="1764,705,1883,732"/>
<area shape="rect" id="node8" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1977,553,2076,580"/>
<area shape="rect" id="node9" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1983,401,2070,428"/>
<area shape="rect" id="node10" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1980,452,2073,479"/>
<area shape="rect" id="node11" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1967,971,2087,997"/>
<area shape="rect" id="node12" href="jffs2_2write_8c.html#ac7b4853fc6444ee0d8387fd294646f73" title="jffs2_write_dnode" alt="" coords="1761,959,1885,985"/>
<area shape="rect" id="node13" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="1947,1136,2106,1163"/>
<area shape="rect" id="node14" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1971,503,2082,529"/>
<area shape="rect" id="node18" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1971,1047,2083,1073"/>
<area shape="rect" id="node19" href="jffs2_2write_8c.html#a360d2c338442531898ebb6cdc5a0b269" title="jffs2_write_dirent" alt="" coords="1763,401,1884,428"/>
<area shape="rect" id="node20" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1972,132,2081,159"/>
<area shape="rect" id="node21" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1979,208,2074,235"/>
<area shape="rect" id="node15" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="1954,1359,2099,1401"/>
<area shape="rect" id="node16" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="1939,1512,2115,1539"/>
<area shape="rect" id="node17" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="1954,1738,2099,1779"/>
<area shape="rect" id="node24" href="erase_8c.html#a613b5f4d3ca2d5a5e7fc833d0213f7d4" title="jffs2_erase_block" alt="" coords="652,588,776,615"/>
<area shape="rect" id="node25" href="nodelist_8h.html#ae68d618de4963d54cc89fde65e36367d" title="jffs2_erase_pending\l_blocks" alt="" coords="863,538,1002,579"/>
<area shape="rect" id="node27" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="1311,807,1471,833"/>
<area shape="rect" id="node31" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="1068,1615,1253,1641"/>
<area shape="rect" id="node32" href="jffs2_2xattr_8c.html#a272e1e9cdc538d765b111b254b242d3f" title="jffs2_garbage_collect\l_xattr_datum" alt="" coords="1088,917,1233,958"/>
<area shape="rect" id="node33" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="1088,993,1233,1034"/>
<area shape="rect" id="node34" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="1088,1143,1233,1185"/>
<area shape="rect" id="node35" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="1088,1666,1233,1707"/>
<area shape="rect" id="node36" href="build_8c.html#a68ddb18b339df3c0aa72d3a2a5ff21c7" title="jffs2_build_inode_pass1" alt="" coords="1080,1732,1241,1759"/>
<area shape="rect" id="node37" href="build_8c.html#ab6107e7c69f543beacf8163f0310ef00" title="jffs2_build_remove\l_unlinked_inode" alt="" coords="1095,1078,1226,1119"/>
<area shape="rect" id="node38" href="nodelist_8h.html#a9ae6682ac15f6ea4e4660f757b4cca98" title="jffs2_add_fd_to_list" alt="" coords="1756,233,1891,260"/>
<area shape="rect" id="node39" href="readinode_8c.html#a8c8ae422e256e59dd7a91f7a6856ae32" title="read_direntry" alt="" coords="1978,5,2075,32"/>
<area shape="rect" id="node40" href="nodelist_8c.html#a9a5b07b1c29cb1596417b65bac3e5135" title="jffs2_obsolete_node_frag" alt="" coords="1077,1361,1244,1388"/>
<area shape="rect" id="node41" href="nodelist_8h.html#aa38c2c5f7e42b03b493360c211144a59" title="jffs2_kill_fragtree" alt="" coords="1100,1412,1221,1439"/>
<area shape="rect" id="node42" href="readinode_8c.html#aaf23764b8e85119911fed3ef9f149f47" title="check_tn_node" alt="" coords="1105,1985,1216,2012"/>
<area shape="rect" id="node43" href="readinode_8c.html#a84038f1cb6c901c17b9e2a4bd6df5f51" title="jffs2_build_inode_fragtree" alt="" coords="1306,1935,1477,1961"/>
<area shape="rect" id="node44" href="readinode_8c.html#a2de80000834bfed77c64232d52827932" title="jffs2_kill_tn" alt="" coords="1117,1884,1205,1911"/>
<area shape="rect" id="node45" href="readinode_8c.html#aa8734b4b0bb233aa0c00066d0dd6686d" title="read_dnode" alt="" coords="1116,1463,1205,1489"/>
<area shape="rect" id="node46" href="readinode_8c.html#a177005bb10b29112659107de6fe16529" title="read_unknown" alt="" coords="1107,1513,1214,1540"/>
</map>
</div>

</div>
</div>
<a id="ac287e87c05deeebfa225e916d55b4108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac287e87c05deeebfa225e916d55b4108">&#9670;&nbsp;</a></span>on_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int on_list </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nodemgmt_8c_ac287e87c05deeebfa225e916d55b4108_icgraph.png" border="0" usemap="#nodemgmt_8c_ac287e87c05deeebfa225e916d55b4108_icgraph" alt=""/></div>
<map name="nodemgmt_8c_ac287e87c05deeebfa225e916d55b4108_icgraph" id="nodemgmt_8c_ac287e87c05deeebfa225e916d55b4108_icgraph">
<area shape="rect" id="node2" href="nodemgmt_8c.html#aab1dbc249468da59bf44c4be91f26d24" title="jffs2_mark_node_obsolete" alt="" coords="113,1204,288,1230"/>
<area shape="rect" id="node3" href="jffs2_2xattr_8c.html#a06c6b5377aff610989f00e2f7640a1cf" title="jffs2_build_xattr_subsystem" alt="" coords="795,144,980,170"/>
<area shape="rect" id="node5" href="jffs2_2xattr_8c.html#a272e1e9cdc538d765b111b254b242d3f" title="jffs2_garbage_collect\l_xattr_datum" alt="" coords="347,280,492,322"/>
<area shape="rect" id="node7" href="jffs2_2xattr_8c.html#a388e51aca1f46d415c6f610f2eef69cd" title="jffs2_garbage_collect\l_xattr_ref" alt="" coords="815,307,960,348"/>
<area shape="rect" id="node8" href="nodelist_8h.html#a571184c33d4f609c570ebf02290e6a27" title="jffs2_garbage_collect_pass" alt="" coords="1248,364,1428,390"/>
<area shape="rect" id="node14" href="jffs2_2file_8c.html#ab804a8aeaa5bea2986a7c78870da564d" title="jffs2_write_begin" alt="" coords="1689,1209,1809,1236"/>
<area shape="rect" id="node15" href="jffs2_2write_8c.html#abd3b94d811b424a65b6da7a53f838508" title="jffs2_write_inode_range" alt="" coords="1669,1322,1828,1349"/>
<area shape="rect" id="node18" href="jffs2_2write_8c.html#a8d61d927929028f485ac1d856f37c482" title="jffs2_do_unlink" alt="" coords="1694,798,1803,825"/>
<area shape="rect" id="node23" href="os-linux_8h.html#ab3af2066f1537e59f0939774c0f5880c" title="jffs2_do_setattr" alt="" coords="1693,1550,1805,1577"/>
<area shape="rect" id="node28" href="jffs2_2gc_8c.html#a8cfc3183bc7320d8438033d0ca0fe98b" title="jffs2_garbage_collect\l_pristine" alt="" coords="815,390,960,431"/>
<area shape="rect" id="node30" href="jffs2_2gc_8c.html#a324d04060472b9d45217b46a183f3d06" title="jffs2_garbage_collect\l_metadata" alt="" coords="576,514,721,555"/>
<area shape="rect" id="node31" href="jffs2_2gc_8c.html#aac6dc13e531890e4523d80d9870fb3ff" title="jffs2_garbage_collect\l_deletion_dirent" alt="" coords="815,623,960,664"/>
<area shape="rect" id="node32" href="jffs2_2gc_8c.html#a0d0b94d7923a636341bd5652834065c0" title="jffs2_garbage_collect_hole" alt="" coords="799,572,975,598"/>
<area shape="rect" id="node33" href="jffs2_2gc_8c.html#a92b2a479e62d9405dd0e384df80b982a" title="jffs2_garbage_collect\l_dnode" alt="" coords="576,448,721,490"/>
<area shape="rect" id="node34" href="build_8c.html#a68ddb18b339df3c0aa72d3a2a5ff21c7" title="jffs2_build_inode_pass1" alt="" coords="807,26,968,53"/>
<area shape="rect" id="node35" href="build_8c.html#ab6107e7c69f543beacf8163f0310ef00" title="jffs2_build_remove\l_unlinked_inode" alt="" coords="822,78,953,119"/>
<area shape="rect" id="node36" href="nodelist_8h.html#a9ae6682ac15f6ea4e4660f757b4cca98" title="jffs2_add_fd_to_list" alt="" coords="352,1001,487,1028"/>
<area shape="rect" id="node38" href="readinode_8c.html#a8c8ae422e256e59dd7a91f7a6856ae32" title="read_direntry" alt="" coords="600,1254,697,1281"/>
<area shape="rect" id="node39" href="readinode_8c.html#a24a383dbe77df2f030ebfc5107143aac" title="jffs2_get_inode_nodes" alt="" coords="811,1330,963,1357"/>
<area shape="rect" id="node42" href="nodelist_8c.html#a9a5b07b1c29cb1596417b65bac3e5135" title="jffs2_obsolete_node_frag" alt="" coords="336,1609,503,1636"/>
<area shape="rect" id="node43" href="nodelist_8h.html#aa38c2c5f7e42b03b493360c211144a59" title="jffs2_kill_fragtree" alt="" coords="359,1660,480,1686"/>
<area shape="rect" id="node44" href="readinode_8c.html#ab05649abf8bb43a331824807b8183fe4" title="jffs2_do_clear_inode" alt="" coords="578,1685,719,1712"/>
<area shape="rect" id="node45" href="nodemgmt_8c.html#a543d7bdeb86df90a631321ab7c4775a7" title="jffs2_do_reserve_space" alt="" coords="1258,1204,1418,1230"/>
<area shape="rect" id="node46" href="readinode_8c.html#aaf23764b8e85119911fed3ef9f149f47" title="check_tn_node" alt="" coords="364,1812,475,1838"/>
<area shape="rect" id="node47" href="readinode_8c.html#a84038f1cb6c901c17b9e2a4bd6df5f51" title="jffs2_build_inode_fragtree" alt="" coords="563,1812,734,1838"/>
<area shape="rect" id="node48" href="readinode_8c.html#a2de80000834bfed77c64232d52827932" title="jffs2_kill_tn" alt="" coords="375,1862,463,1889"/>
<area shape="rect" id="node49" href="readinode_8c.html#aa8734b4b0bb233aa0c00066d0dd6686d" title="read_dnode" alt="" coords="375,1305,464,1332"/>
<area shape="rect" id="node50" href="readinode_8c.html#a177005bb10b29112659107de6fe16529" title="read_unknown" alt="" coords="366,1356,473,1382"/>
<area shape="rect" id="node4" href="build_8c.html#a6a125309aed46b9b1e8a7ac2e0ea9fc4" title="jffs2_build_filesystem" alt="" coords="1040,85,1188,112"/>
<area shape="rect" id="node6" href="jffs2_2xattr_8h.html#a936ee3ff55a7439f56fcb31f18b7f7ac" title="is_xattr_ref_dead" alt="" coords="587,296,710,322"/>
<area shape="rect" id="node9" href="background_8c.html#a1b52a525a6624dd6b068c324af194105" title="jffs2_garbage_collect\l_thread" alt="" coords="1476,386,1621,427"/>
<area shape="rect" id="node10" href="nodemgmt_8c.html#a236a605141cf07e742deb629e594c231" title="jffs2_reserve_space" alt="" coords="1479,1052,1618,1078"/>
<area shape="rect" id="node27" href="wbuf_8c.html#a54db5010faa61666e2916811d2fa3373" title="jffs2_flush_wbuf_gc" alt="" coords="1479,334,1618,361"/>
<area shape="rect" id="node11" href="jffs2_2dir_8c.html#a0764e3824316e917b06bcb92865a9d77" title="jffs2_symlink" alt="" coords="1699,1060,1798,1086"/>
<area shape="rect" id="node12" href="jffs2_2dir_8c.html#abbaf9d9887bf16fe0c25e642d479fe4a" title="jffs2_mkdir" alt="" coords="1705,1126,1792,1153"/>
<area shape="rect" id="node13" href="jffs2_2dir_8c.html#a5be5c49ebc9184c934a91adac0d7c7e7" title="jffs2_mknod" alt="" coords="1702,849,1795,876"/>
<area shape="rect" id="node17" href="jffs2_2write_8c.html#a92bf4ab98fff43da6a2a200a4be456c9" title="jffs2_do_create" alt="" coords="1693,900,1804,926"/>
<area shape="rect" id="node22" href="jffs2_2write_8c.html#aab0bb135b084ca743654b99a52388168" title="jffs2_do_link" alt="" coords="1701,950,1796,977"/>
<area shape="rect" id="node16" href="jffs2_2file_8c.html#aa28109994f558c11e408be2e1d284319" title="jffs2_write_end" alt="" coords="1879,1322,1990,1349"/>
<area shape="rect" id="node19" href="jffs2_2dir_8c.html#a80c71e7f1c3c671e0dadbaacdeb4377a" title="jffs2_unlink" alt="" coords="1891,773,1979,800"/>
<area shape="rect" id="node20" href="jffs2_2dir_8c.html#a2b66bbac84327d99e0c93e8f10d3e1b6" title="jffs2_rmdir" alt="" coords="1893,824,1976,850"/>
<area shape="rect" id="node21" href="jffs2_2dir_8c.html#a29454b517d3fd876acbb597dd0ea90c5" title="jffs2_rename" alt="" coords="1886,900,1983,926"/>
<area shape="rect" id="node24" href="jffs2_2acl_8c.html#a5f972b921b618c61725029641807723b" title="jffs2_set_acl" alt="" coords="1887,1500,1983,1526"/>
<area shape="rect" id="node25" href="os-linux_8h.html#a90143831fdf411db95ae1c2596f1b363" title="jffs2_setattr" alt="" coords="1889,1550,1980,1577"/>
<area shape="rect" id="node26" href="os-linux_8h.html#a3350a416064ee436e8ae20a520157ab9" title="jffs2_dirty_inode" alt="" coords="1876,1601,1993,1628"/>
<area shape="rect" id="node29" href="jffs2_2gc_8c.html#a4ad008021e4fd1e61b99b32f365fe1e2" title="jffs2_garbage_collect_live" alt="" coords="1028,521,1200,548"/>
<area shape="rect" id="node37" href="jffs2_2gc_8c.html#a5c3f975741908e8a5ad56151a8b3b338" title="jffs2_garbage_collect\l_dirent" alt="" coords="576,682,721,723"/>
<area shape="rect" id="node40" href="jffs2_2scan_8c.html#adaab2bca700a2dcb3e16ac66d14189c3" title="jffs2_scan_dirent_node" alt="" coords="571,1001,727,1028"/>
<area shape="rect" id="node41" href="summary_8c.html#a451f4c6e0978f4e3ba755ea1b69150e4" title="jffs2_sum_process_sum_data" alt="" coords="551,1052,747,1078"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8c13adb3d8ad063360c142f463a67ca3.html">jffs2</a></li><li class="navelem"><a class="el" href="nodemgmt_8c.html">nodemgmt.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
